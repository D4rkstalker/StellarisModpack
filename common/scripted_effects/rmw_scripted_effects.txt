set_starting_machine_planet_entities = {
	IF = {
		limit = { any_galaxy_planet = { is_planet_class = pc_machine } }
		every_galaxy_planet = {
			limit = { is_planet_class = pc_machine }
			IF = {
				limit = { possible_cybernetic_planet = yes }
				planet_event = { id = rmw_events.2 }
			}
			IF = {
				limit = { has_cybernetic_planet_flag = no }
				planet_event = { id = rmw_events.3 }
			}
			ELSE_IF = {
				limit = { has_cybernetic_planet_flag = yes }
				planet_event = { id = rmw_events.4 }
			}
			IF = {
				limit = { has_ring = yes }
				planet_event = { id = rmw_events.5 }
			}
		}
	}
}

create_machine_planet_rings = {
	IF = {
		limit = { has_ring = yes }
		set_ring = no
	}
	IF = {
		limit = { NOT = { has_planet_flag = had_rings } }
		set_planet_flag = had_rings
	}
	
	IF = {
		limit = { planet_size < 8 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 2.8
		}
	}
	ELSE_IF = {
		limit = { planet_size = 8 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 3.2
		}
	}
	ELSE_IF = {
		limit = { planet_size = 9 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 3.6
		}
	}
	ELSE_IF = {
		limit = { planet_size = 10 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 4.0
		}
	}
	ELSE_IF = {
		limit = { planet_size = 11 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 4.4
		}
	}
	ELSE_IF = {
		limit = { planet_size = 12 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 4.8
		}
	}
	ELSE_IF = {
		limit = { planet_size = 13 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 5.2
		}
	}
	ELSE_IF = {
		limit = { planet_size = 14 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 5.6
		}
	}
	ELSE_IF = {
		limit = { planet_size = 15 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 6.0
		}
	}
	ELSE_IF = {
		limit = { planet_size = 16 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 6.4
		}
	}
	ELSE_IF = {
		limit = { planet_size = 17 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 6.8
		}
	}
	ELSE_IF = {
		limit = { planet_size = 18 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 7.2
		}
	}
	ELSE_IF = {
		limit = { planet_size = 19 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 7.6
		}
	}
	ELSE_IF = {
		limit = { planet_size = 20 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 8.0
		}
	}
	ELSE_IF = {
		limit = { planet_size = 21 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 8.4
		}
	}
	ELSE_IF = {
		limit = { planet_size = 22 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 8.8
		}
	}
	ELSE_IF = {
		limit = { planet_size = 23 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 9.2
		}
	}
	ELSE_IF = {
		limit = { planet_size = 24 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 9.6
		}
	}	
	ELSE_IF = {
		limit = { planet_size = 25 }
		create_ambient_object = {
			type = machine_rings_01
			use_3d_location = yes
			base_angle_towards = star
			entity_face_object = star
			location = this
			scale = 10.0
		}
	}
	last_created_ambient_object = { set_ambient_object_flag = machine_world_rings }
}
