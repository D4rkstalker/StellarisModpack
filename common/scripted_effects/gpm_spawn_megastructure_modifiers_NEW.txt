# Construction tier rarities:
# Tier 1 = the worst
# Tier 2 = average
# Tier 3 = the best

# Abundancy Settings and factors used for tweaking
@rare = 0.25
@uncommon = 0.5
@default = 1
@plenty = 1.5
@everywhere = 2


gpm_spawn_ringworld_tier_modifier = {
	random_list = {
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_engineering_mastery" }
			modifier = { factor = @default }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_engineering_mastery" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_engineering_voidborn" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_engineering_voidborn" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_engineering_voidborn_mastery" }
			modifier = { factor = @rare }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_engineering_voidborn_mastery" }
		}
	}
}
gpm_spawn_constructed_ringworld_modifier = {
	random_list = {
		100 = {
			add_modifier = { days = -1 modifier = "gpm_warm_water_lakes" }
			modifier = { factor = @default }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_warm_water_lakes" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_hyper_complex_biome" }
			modifier = { factor = @default }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_hyper_complex_biome" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_beautiful_lakes" }
			modifier = { factor = @default }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_beautiful_lakes" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_perfect_seasons" }
			modifier = { factor = @default }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_perfect_seasons" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_clear_skies" }
			modifier = { factor = @default }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_clear_skies" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_pleasant_weather" }
			modifier = { factor = @default }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_pleasant_weather" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_gorgeous_sky" }
			modifier = { factor = @default }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_gorgeous_sky" }
		}
		# 100 = {
			# add_modifier = { days = -1 modifier = "gpm_dense_forests" }
			# modifier = { factor = @default }
			# # TWeaks #
			# # Not with these modifiers #
			# modifier = { factor = 0 has_modifier = "gpm_dense_forests" }
		# }
		# 100 = {
			# add_modifier = { days = -1 modifier = "gpm_planetwide_forest" }
			# modifier = { factor = @default }
			# # TWeaks #
			# # Not with these modifiers #
			# modifier = { factor = 0 has_modifier = "gpm_planetwide_forest" }
		# }
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_breath_taking_view" }
			modifier = { factor = @default }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_breath_taking_view" }
			}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_neural_nexus" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_neural_nexus" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_idyllic_gardens" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_idyllic_gardens" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_xeno_zoo" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_xeno_zoo" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_badlands" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_badlands" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_battle_simularors" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_battle_simularors" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_endless_ocean" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_endless_ocean" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_ringworld_mass_transit_systems" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_ringworld_mass_transit_systems" }
		}
		# 100 = {
			# add_modifier = { days = -1 modifier = "gpm_extensive_cavern_system" }
			# modifier = { factor = @uncommon }
			# # TWeaks #
			# # Not with these modifiers #
			# modifier = { factor = 0 has_modifier = "gpm_extensive_cavern_system" }
		# }
		100 = {
			add_modifier = { days = -1 modifier = "gpm_friendly_wildlife" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_friendly_wildlife" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_empathic_life" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_empathic_life" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_exotic_spices" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_exotic_spices" }
		}
		# 100 = {
			# add_modifier = { days = -1 modifier = "gpm_rich_soil" }
			# modifier = { factor = @uncommon }
			# # TWeaks #
			# # Not with these modifiers #
			# modifier = { factor = 0 has_modifier = "gpm_rich_soil" }
		# }
		100 = {
			add_modifier = { days = -1 modifier = "gpm_otherworldly_colours" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_otherworldly_colours" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_musical_creatures" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_musical_creatures" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_subterranean_eco_system" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_subterranean_eco_system" }
		}
		# 100 = {
			# add_modifier = { days = -1 modifier = "gpm_colossal_cliffs" }
			# modifier = { factor = @uncommon }
			# # TWeaks #
			# # Not with these modifiers #
			# modifier = { factor = 0 has_modifier = "gpm_colossal_cliffs" }
		# }
		100 = {
			add_modifier = { days = -1 modifier = "gpm_massive_waterfalls" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_massive_waterfalls" }
		}
	}
}
gpm_spawn_ringworld_modifier = {

}

gpm_spawn_habitat_tier_modifier = {
	random_list = {
		100 = {
			add_modifier = { days = -1 modifier = "gpm_habitat_engineering" }
			modifier = { factor = @default }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_habitat_engineering" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_habitat_engineering_mastery" }
			modifier = { factor = @uncommon }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_habitat_engineering_mastery" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_habitat_engineering_void_mastery" }
			modifier = { factor = @rare }
			# TWeaks #
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_habitat_engineering_void_mastery" }
		}
	}
}
gpm_spawn_constructed_habitat_modifier = {
	random_list = {
		100 = {
			add_modifier = { days = -1 modifier = "gpm_habitat_trade_docks" }
			modifier = { factor = @uncommon }
			# TWeaks #
			modifier = { factor = 0 space_owner = { is_gestalt = yes } }
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_habitat_trade_docks" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_habitat_stadium" }
			modifier = { factor = @uncommon }
			# TWeaks #
			modifier = { factor = 0 space_owner = { is_gestalt = yes } }
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_habitat_stadium" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_habitat_holonet_entertainment_systems" }
			modifier = { factor = @uncommon }
			# TWeaks #
			modifier = { factor = 0 space_owner = { is_machine_empire = yes } }
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_habitat_holonet_entertainment_systems" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_habitat_replicator_systems" }
			modifier = { factor = @uncommon }
			# TWeaks #
			modifier = { factor = 0 space_owner = { is_gestalt = yes } }
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_habitat_replicator_systems" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_habitat_spaceroute_hub" }
			modifier = { factor = @uncommon }
			# TWeaks #
			modifier = { factor = 0 space_owner = { is_gestalt = yes } }
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_habitat_spaceroute_hub" }
		}
		100 = {
			add_modifier = { days = -1 modifier = "gpm_habitat_experimental_food_recycling" }
			modifier = { factor = @uncommon }
			# TWeaks #
			modifier = { factor = 0 space_owner = { is_machine_empire = yes } }
			# Not with these modifiers #
			modifier = { factor = 0 has_modifier = "gpm_habitat_experimental_food_recycling" }
		}
	}
}

gpm_spawn_habitat_modifier = {

}

gpm_spawn_habitat_infrastructure = {
	if = {
		limit = { has_modifier = extensive_moon_system }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_moon_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_periodic_meteor_showers }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_asteroid_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_periodic_meteor_showers_nb }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_asteroid_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_frequent_thunderstorms }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_orbital_research_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_global_thunderstorms }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_orbital_research_infrastructure"
		}
	}
	if = {
		limit = { gpm_has_precursor_modifiers = yes has_ancrel = yes }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_precursor_infrastructure"
		}
	}
	
	if = {
		limit = { has_modifier = gpm_global_thunderstorms_gas_giant }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_orbital_research_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_crystal_moon_palace }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_temple_of_the_ancient_one }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_ancient_temple }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_time_displaced_planet }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_time_research_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_ruined_battlefield }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_spaceship_graveyard }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_old_world }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_old_world_nb }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_hiveworld }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_hiveworld_nb }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_surface_of_bones }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_floating_islands }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_orbital_research_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_sunken_cities }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_archeology_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_radioactive_mantle }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_alloy_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_radioactive_mantle_nb }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_alloy_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_heavy_elements }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_alloy_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_rare_metals }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_alloy_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_ultra_rich_2 }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_mineral_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_mineral_rich_2 }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_mineral_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = ultra_rich }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_mineral_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_ultra_rich_nb }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_mineral_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = mineral_rich }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_mineral_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_mineral_rich_nb }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_mineral_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_extensive_cavern_system }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_mineral_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_iron_planet }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_mineral_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_mercury_atmosphere }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_mineral_mining_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_hydrogen_mist }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_particle_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_hydrogen_ice }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_particle_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_nitrogen_ice }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_particle_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_chlorine_planet }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_particle_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_phosphorus_planet }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_particle_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_sulfur_planet }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_particle_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_delicious_ingredients }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_spice_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_exotic_spices }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_spice_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_strange_alien_eggs }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_alien_egg_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_subterranean_eco_system }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_orbital_research_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_floating_forest }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_orbital_research_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_charged_atmosphere }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_particle_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_aeroplankton_clouds }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_orbital_research_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_radiation_storms }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_particle_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_abandoned_refineries }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_particle_collecting_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_floating_kelp }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_orbital_research_infrastructure"
		}
	}
	if = {
		limit = { has_modifier = gpm_floatig_behemothaurs }
		event_target:gpm_new_constructed_habitat = {
			add_deposit = "gpm_d_orbital_research_infrastructure"
		}
	}
}

gpm_roll_constructed_habitat_modifiers = {
	switch = {
		trigger = has_global_flag
		gpm_modifier_amount_max_one = {
			if = {
				limit = { num_modifiers = 0 }
				random_list = {
					50 = { }
					50 = { gpm_spawn_constructed_habitat_modifier = yes }
				}
			}
		}
		gpm_modifier_amount_low = {
			while = {
				count = 2
				if = {
					limit = { num_modifiers < 2 }
					random_list = {
						50 = { }
						50 = { 
							gpm_spawn_constructed_habitat_modifier = yes
							modifier = { factor = 0.5 num_modifiers > 1 }
						}
					}
				}
			}
		}
		gpm_modifier_amount_normal = {
			while = {
				count = 3
				if = {
					limit = { num_modifiers < 3 }
					random_list = {
						50 = { }
						50 = { 
							gpm_spawn_constructed_habitat_modifier = yes
							modifier = { factor = 0.5 num_modifiers > 1 }
							modifier = { factor = 0.25 num_modifiers > 2 }
						}
					}
				}
			}
		}
		gpm_modifier_amount_high = {
			if = {
				limit = { num_modifiers = 0 }
				gpm_spawn_constructed_habitat_modifier = yes
			}
			while = {
				count = 3
				if = {
					limit = { num_modifiers < 3 }
					random_list = {
						50 = { }
						50 = { 
							gpm_spawn_constructed_habitat_modifier = yes
							modifier = { factor = 0.5 num_modifiers > 1 }
							modifier = { factor = 0.25 num_modifiers > 2 }
						}
					}
				}
			}
		}
		default = { }
	}
}

gpm_roll_habitat_modifiers = {
	if = {
		limit = { 
			has_planet_flag = gpm_is_galaxy_generated_habitat
		}
		switch = {
			trigger = has_global_flag
			gpm_modifier_amount_max_one = {
				gpm_spawn_constructed_habitat_modifier = yes
			}
			gpm_modifier_amount_low = {
				gpm_spawn_constructed_habitat_modifier = yes
				while = {
					count = 1
					if = {
						limit = { num_modifiers < 2 }
						random_list = {
							25 = { }
							75 = { 
								gpm_spawn_constructed_habitat_modifier = yes
								modifier = { factor = 0.5 num_modifiers > 1 }
							}
						}
					}
				}
			}
			gpm_modifier_amount_normal = {
				gpm_spawn_constructed_habitat_modifier = yes
				while = {
					count = 2
					if = {
						limit = { num_modifiers < 3 }
						random_list = {
							25 = { }
							75 = { 
								gpm_spawn_constructed_habitat_modifier = yes
								modifier = { factor = 0.5 num_modifiers > 1 }
								modifier = { factor = 0.25 num_modifiers > 2 }
							}
						}
					}
				}
			}
			gpm_modifier_amount_high = {
				gpm_spawn_constructed_habitat_modifier = yes
				if = {
					limit = { num_modifiers = 0 }
					gpm_spawn_constructed_habitat_modifier = yes
				}
				while = {
					count = 2
					if = {
						limit = { num_modifiers < 3 }
						random_list = {
							25 = { }
							75 = { 
								gpm_spawn_constructed_habitat_modifier = yes
								modifier = { factor = 0.5 num_modifiers > 1 }
								modifier = { factor = 0.25 num_modifiers > 2 }
							}
						}
					}
				}
			}
			default = { }
		}
	}
}

gpm_roll_constructed_ringworld_modifiers = {
	switch = {
		trigger = has_global_flag
		gpm_modifier_amount_max_one = {
			if = {
				limit = { num_modifiers = 0 }
				random_list = {
					50 = { }
					50 = { gpm_spawn_constructed_ringworld_modifier = yes }
				}
			}
		}
		gpm_modifier_amount_low = {
			while = {
				count = 2
				if = {
					limit = { num_modifiers < 2 }
					random_list = {
						50 = { }
						50 = { 
							gpm_spawn_constructed_ringworld_modifier = yes
							modifier = { factor = 0.5 num_modifiers > 1 }
						}
					}
				}
			}
		}
		gpm_modifier_amount_normal = {
			while = {
				count = 3
				if = {
					limit = { num_modifiers < 3 }
					random_list = {
						50 = { }
						50 = { 
							gpm_spawn_constructed_ringworld_modifier = yes
							modifier = { factor = 0.5 num_modifiers > 1 }
							modifier = { factor = 0.25 num_modifiers > 2 }
						}
					}
				}
			}
		}
		gpm_modifier_amount_high = {
			if = {
				limit = { num_modifiers = 0 }
				gpm_spawn_constructed_ringworld_modifier = yes
			}
			while = {
				count = 3
				if = {
					limit = { num_modifiers < 3 }
					random_list = {
						50 = { }
						50 = { 
							gpm_spawn_constructed_ringworld_modifier = yes
							modifier = { factor = 0.5 num_modifiers > 1 }
							modifier = { factor = 0.25 num_modifiers > 2 }
						}
					}
				}
			}
		}
		default = { }
	}
}

gpm_roll_ringworld_modifiers = {

}



