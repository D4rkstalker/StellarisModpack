bugged_recalculate_consecrated_stars_modifier = {
	if = {
     	limit = {
			OR = {
    	  	  check_variable = {
          	    	which = bugged_consecrated_stars_variable
    	  	    	value > 0
      	    	}
				check_variable = {
       	     		which = bugged_consecrated_stars_variable
        	   		value < 0
       	  		}
			}
      	}
		remove_modifier = bugged_consecrated_star_modifier
      	add_modifier = {
      	    modifier = bugged_consecrated_star_modifier
      	    days = -1
      	    multiplier = bugged_consecrated_stars_variable
      	}
 	}
	else = {
		#Do Nothing
	}
}

recalculate_militarist_governmental_modifier = {
	if = {
		limit = {
			check_variable = {
				which = bugged_militarist_governmental_variable
				value > 0
			}
		}
		remove_modifier = bugged_militarist_governmental
  		add_modifier = {
  	  		modifier = bugged_militarist_governmental
			multiplier = bugged_militarist_governmental_variable
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = bugged_militarist_governmental_variable
				value = 0
			}
		}
		remove_modifier = bugged_militarist_governmental	
	}
}

set_merchant_government_effect_lib = {
	if = {
		limit = { has_technology = tech_galactic_administration }
		change_government = {
			authority = auth_democratic
			cooldown = no
			remove_invalid_civics = yes
			civics = { civic = civic_merchant_guilds civic = random civic = random civic = random}
		}
	}
	else = {
		change_government = {
			authority = auth_democratic
			cooldown = no
			remove_invalid_civics = yes
			civics = { civic = civic_merchant_guilds civic = random civic = random}
		}
	}
}

set_merchant_government_effect_auth = {
	if = {
		limit = { has_technology = tech_galactic_administration }
		change_government = {
			authority = auth_imperial
			cooldown = no
			remove_invalid_civics = yes
			civics = { civic = civic_merchant_guilds civic = random civic = random civic = random}
		}
	}
	else = {
		change_government = {
			authority = auth_imperial
			cooldown = no
			remove_invalid_civics = yes
			civics = { civic = civic_merchant_guilds civic = random civic = random}
		}
	}
}

recalculate_terraforming_fervor_modifier = {
	if = {
		limit = {
			check_variable = {
				which = bugged_terraforming_fervor_variable
				value > 0
			}
		}
		remove_modifier = bugged_terraforming_fervor
  		add_modifier = {
  	  		modifier = bugged_terraforming_fervor
			multiplier = bugged_terraforming_fervor_variable
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = bugged_terraforming_fervor_variable
				value = 0
			}
		}
		remove_modifier = bugged_terraforming_fervor	
	}
}

bugged_set_merchant_government_effect_democratic = {
	if = {
		limit = { has_technology = tech_galactic_administration }
		change_government = {
			authority = auth_democratic
			cooldown = no
			remove_invalid_civics = yes
			civics = { civic = random civic = random civic = random civic = random }
		}
	}
	else = {
		change_government = {
			authority = auth_democratic
			cooldown = no
			remove_invalid_civics = yes
			civics = { civic = random civic = random civic = random }
		}
	}
}

bugged_set_merchant_government_effect_imperial = {
	if = {
		limit = { has_technology = tech_galactic_administration }
		change_government = {
			authority = auth_dictatorial
			cooldown = no
			remove_invalid_civics = yes
			civics = { civic = random civic = random civic = random civic = random }
		}
	}
	else = {
		change_government = {
			authority = auth_dictatorial
			cooldown = no
			remove_invalid_civics = yes
			civics = { civic = random civic = random civic = random }
		}
	}
}

recalculate_machine_spy_network_modifier = {
	if = {
		limit = {
			check_variable = {
				which = bugged_machine_spy_network_variable
				value > 0
			}
		}
		remove_modifier = bugged_spy_machine
  		add_modifier = {
  	  		modifier = bugged_spy_machine
			multiplier = bugged_machine_spy_network_variable
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = bugged_machine_spy_network_variable
				value = 0
			}
		}
		remove_modifier = bugged_spy_machine	
	}
}

recalculate_evangelism_modifier = {
	if = {
		limit = {
			check_variable = {
				which = bugged_evangelism_modifier_var
				value > 0
			}
			is_bugged_advanced_cult = no
		}
		capital_scope = {
			remove_modifier = bugged_evangelism_modifier_normal
			add_modifier = {
				modifier = bugged_evangelism_modifier_normal
				multiplier = prev.bugged_evangelism_modifier_var
			}
		}
	}
	if = {
		limit = {
			check_variable = {
				which = bugged_evangelism_modifier_var
				value > 0
			}
			is_bugged_luminosity_cult = yes
		}
		capital_scope = {
			remove_modifier = bugged_evangelism_modifier_luminosity
			add_modifier = {
				modifier = bugged_evangelism_modifier_luminosity
				multiplier = prev.bugged_evangelism_modifier_var
			}
		}
	}
	if = {
		limit = {
			check_variable = {
				which = bugged_evangelism_modifier_var
				value > 0
			}
			is_death_cult_empire = yes
		}
		capital_scope = {
			remove_modifier = bugged_evangelism_modifier_death
			add_modifier = {
				modifier = bugged_evangelism_modifier_death
				multiplier = prev.bugged_evangelism_modifier_var
			}
		}
	}
	if = {
		limit = {
			check_variable = {
				which = bugged_evangelism_modifier_var
				value > 0
			}
			is_bugged_war_cult = yes
		}
		capital_scope = {
			remove_modifier = bugged_evangelism_modifier_war
			add_modifier = {
				modifier = bugged_evangelism_modifier_war
				multiplier = prev.bugged_evangelism_modifier_var
			}
		}
	}
	else_if = {
		limit = {
			check_variable = {
				which = bugged_evangelism_modifier_var
				value = 0
			}
		}
		capital_scope = {
			remove_modifier = bugged_evangelism_modifier_normal
			remove_modifier = bugged_evangelism_modifier_luminosity
			remove_modifier = bugged_evangelism_modifier_death
			remove_modifier = bugged_evangelism_modifier_war
		}
	}
}