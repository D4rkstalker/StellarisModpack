###STOLEN FROM 00_SCRIPTED_EFFECTS###

create_fe_servant_robots = {
	create_species = {
		name = "NAME_Synthetic"
		plural = "NAME_Synthetics"
		class = EXTSYNTH_BOT3
		namelist = AI
		portrait = "2dsynth_01"
		traits = {
			trait = "trait_mechanical"
			trait = "trait_robot_luxurious"
			trait = "trait_robot_domestic_protocols"
		}
		
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_2dsynth_01 = yes }
				}
				random_list = {
					1 = { change_species_portrait = 2dsynth_01 }
					1 = { change_species_portrait = humansynth_machine }
				}
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_mammaliansynth = yes }
				}			
				
				random_list = {
					1 = { change_species_portrait = mammaliansynth }
					1 = { change_species_portrait = mammaliansynth_machine }
				}
			}
		}		
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_reptiliansynth = yes }
				}
				random_list = {
					1 = { change_species_portrait = reptiliansynth }
					1 = { change_species_portrait = reptiliansynth_machine }
				}
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_aviansynth = yes }
				}
				random_list = {
					1 = { change_species_portrait = aviansynth }
					1 = { change_species_portrait = aviansynth_machine }
				}
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_arthropoidsynth = yes }
				}
				random_list = {
					1 = { change_species_portrait = arthropoidsynth }
					1 = { change_species_portrait = arthropoidsynth_machine }
				}
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_synthetic_robot_01 = yes }
				}
				random_list = {
					1 = { change_species_portrait = synthetic_robot_01 }
					1 = { change_species_portrait = molluscoidsynth }
				}
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_mammaliansynth = yes }
				}
				random_list = {
					1 = { change_species_portrait = mammaliansynth }
					1 = { change_species_portrait = fungoidsynth }
				}
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_sd_pla_robot = yes }
				}
				random_list = {
					1 = { change_species_portrait = sd_pla_robot }
					1 = { change_species_portrait = plantoidsynth }
				}
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_sd_lit_robot = yes }
				}			
				change_species_portrait = dragon_robot
			}
		}
	}
	
	set_built_species = last_created_species
}

create_built_robot_species = {
	
	create_species = {
		name = "NAME_Robot"
		plural = "NAME_Robots"
		class = EXTSYNTH_BOT3
		namelist = AI
		portrait = "2dsynth_01"
		traits = {
			trait = "trait_mechanical"
		}
		
		
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_2dsynth_01 = yes }
				}			
				change_species_portrait = 2dsynth_01
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_mammaliansynth = yes }
				}			
				change_species_portrait = mammaliansynth
			}
		}		
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_reptiliansynth = yes }
				}			
				change_species_portrait = reptiliansynth
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_aviansynth = yes }
				}			
				change_species_portrait = aviansynth
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_arthropoidsynth = yes }
				}			
				change_species_portrait = arthropoidsynth
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_synthetic_robot_01 = yes }
				}			
				change_species_portrait = synthetic_robot_01
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_mammaliansynth = yes }
				}			
				change_species_portrait = mammaliansynth
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_sd_pla_robot = yes }
				}			
				change_species_portrait = sd_pla_robot
			}
		}
		effect = {
			if = {
				limit = {
					prev = { use_robot_portrait_sd_lit_robot = yes }
				}			
				change_species_portrait = dragon_robot
			}
		}
	}
	if = {
		limit = {
			NOT = {
				has_country_flag = synthetic_empire
			}
		}
		set_built_species = last_created_species
	}
	
}

# Given a species, create a mod with trait_cybernetic and apply to all pops, leaders
# and armies that have the original species and the same owner as the scope object.
# Scope: Something that has a species and an owner
create_cybernetic_species_mod_extsynth = {
	species = {
		save_event_target_as = changing_species
		switch = {
			trigger = has_trait

			trait_pc_desert_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_desert
				}
			}
			trait_pc_arid_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_arid
				}
			}
			trait_pc_savannah_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_savannah
				}
			}
			trait_pc_tropical_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_tropical
				}
			}
			trait_pc_continental_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_continental
				}
			}
			trait_pc_ocean_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_ocean
				}
			}
			trait_pc_arctic_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_arctic
				}
			}
			trait_pc_tundra_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_tundra
				}
			}
			trait_pc_alpine_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_alpine
				}
			}
			trait_pc_ai_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_ai
				}
			}
			trait_pc_nuked_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_nuked
				}
			}
			trait_pc_gaia_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_gaia
				}
			}
			trait_pc_ringworld_habitable_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_ringworld_habitable
				}
			}
			trait_pc_habitat_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_habitat
				}
			}
			trait_pc_machine_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_machine
				}
			}
			trait_pc_hive_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_hive
				}
			}
			trait_pc_relic_preference = {
				create_cybernetic_species_mod_with_pc_effect_extsynth = {
					planet_class = pc_relic
				}
			}
			default = {
				create_species = {
					is_mod = yes
					name = this
					namelist = this
					plural = this
					class = this
					portrait = this
					traits = this
					traits = {
						trait = trait_cybernetic
					}
					homeworld = this
				}
			}
		}
	}

	owner = {
		every_owned_pop = {
			limit = { is_same_species = event_target:changing_species }
			change_species = last_created
		}
		every_owned_leader = {
			limit = { is_same_species = event_target:changing_species }
			change_species = last_created
		}
		every_pool_leader = {
			limit = { is_same_species = event_target:changing_species }
			change_species = last_created
		}
		every_owned_army = {
			limit = {
				exists = species
				is_same_species = event_target:changing_species
			}
			change_species = last_created
		}
		every_owned_ship = {
			limit = {
				is_ship_class = shipclass_colonizer
				is_same_species = event_target:changing_species
			}
			change_species = last_created
		}
	}
}

create_cybernetic_species_mod_with_pc_effect_extsynth = {
	create_species = {
		is_mod = yes
		name = this
		namelist = this
		plural = this
		class = this
		portrait = this
		traits = this
		traits = {
			trait = trait_cybernetic
		}
		homeworld = this
	}
	prev = {
		modify_species = {
			species = last_created_species
			ideal_planet_class = $planet_class$
		}
	}
}

effect_extsynth_leader_trait_tweaks = {
	switch = {
		trigger = leader_class
		ruler = {
		
		}
		admiral = {
			random_list = {
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_cautious
					}
					add_trait = leader_trait_cautious
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_scout
					}
					add_trait = leader_trait_scout
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_unyielding
					}
					add_trait = leader_trait_unyielding
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_gale_speed
					}
					add_trait = leader_trait_gale_speed
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_aggressive
					}
					add_trait = leader_trait_aggressive
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_fleet_logistician
					}
					add_trait = leader_trait_fleet_logistician
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_trickster
					}
					add_trait = leader_trait_trickster
				}
			}
		}
		governor = {
			random_list = {
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_army_veteran
					}
					add_trait = leader_trait_army_veteran
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_retired_fleet_officer
					}
					add_trait = leader_trait_retired_fleet_officer
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_architectural_interest
					}
					add_trait = leader_trait_architectural_interest
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_agrarian_upbringing
					}
					add_trait = leader_trait_agrarian_upbringing
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_intellectual
					}
					add_trait = leader_trait_intellectual
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_environmental_engineer
					}
					add_trait = leader_trait_environmental_engineer
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_bureaucrat
					}
					add_trait = leader_trait_bureaucrat
				}
			}
		}
		scientist = {
			random_list = {
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_meticulous
					}
					add_trait = leader_trait_meticulous
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_spark_of_genius
					}
					add_trait = leader_trait_spark_of_genius
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_carefree
					}
					add_trait = leader_trait_carefree
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_roamer
					}
					add_trait = leader_trait_roamer
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_maniacal
					}
					add_trait = leader_trait_maniacal
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_sapient_AI_assistant
					}
					add_trait = leader_trait_sapient_AI_assistant
				}
			}
		}
		general = {
			random_list = {
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_restrained
					}
					add_trait = leader_trait_restrained
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_butcher
					}
					add_trait = leader_trait_butcher
				}
				1 = {
					modifier = {
						factor = 0
						has_trait = leader_trait_army_logistician
					}
					add_trait = leader_trait_army_logistician
				}
			}
		}
	}
}
effect_extsynth_leader_trait_tweaks_scientist = {
	random_list = {
		1 = {
			modifier = {
				factor = 0
				has_trait = leader_trait_meticulous
			}
			add_trait = leader_trait_meticulous
		}
		1 = {
			modifier = {
				factor = 0
				has_trait = leader_trait_spark_of_genius
			}
			add_trait = leader_trait_spark_of_genius
		}
		1 = {
			modifier = {
				factor = 0
				has_trait = leader_trait_carefree
			}
			add_trait = leader_trait_carefree
		}
		1 = {
			modifier = {
				factor = 0
				has_trait = leader_trait_roamer
			}
			add_trait = leader_trait_roamer
		}
		1 = {
			modifier = {
				factor = 0
				has_trait = leader_trait_maniacal
			}
			add_trait = leader_trait_maniacal
		}
		1 = {
			modifier = {
				factor = 0
				has_trait = leader_trait_sapient_AI_assistant
			}
			add_trait = leader_trait_sapient_AI_assistant
		}
	}
}