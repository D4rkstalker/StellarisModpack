### "Capital Battle" mode


# if player have comp. origin
spawn_random_apsr_resource_on_capital_planet = {
	if = {
		limit = {
			OR = {
				NOT = { has_global_flag = apsr1_spawned }
				NOT = { has_global_flag = apsr2_spawned }
				NOT = { has_global_flag = apsr3_spawned }
				NOT = { has_global_flag = apsr4_spawned }
				NOT = { has_global_flag = apsr5_spawned }
				NOT = { has_global_flag = apsr6_spawned }
				NOT = { has_global_flag = apsr8_spawned }
				NOT = { has_global_flag = apsr11_spawned }
				NOT = { has_global_flag = apsr12_spawned }
				NOT = { has_global_flag = apsr13_spawned }
				NOT = { has_global_flag = apsr14_spawned }
				NOT = { has_global_flag = apsr15_spawned }
			}		
		}
		random_list = {
			
			# 1 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr1_spawned
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr1_planet_modifier days = -1 }
				add_deposit = apsr1_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr1_spawned
				save_global_event_target_as = apsr1_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr1_beacon_found }
						}
						set_country_flag = apsr1_beacon_found
						set_country_flag = apsr1_founded
					}
				}
			}
			
			# 2 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr2_spawned
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr2_planet_modifier days = -1 }
				add_deposit = apsr2_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr2_spawned
				save_global_event_target_as = apsr2_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr2_beacon_found }
						}
						set_country_flag = apsr2_beacon_found
						set_country_flag = apsr2_founded
					}
				}
			}
			
			# 3 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr3_spawned
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr3_planet_modifier days = -1 }
				add_deposit = apsr3_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr3_spawned
				save_global_event_target_as = apsr3_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr3_beacon_found }
						}
						set_country_flag = apsr3_beacon_found
						set_country_flag = apsr3_founded
					}
				}
			}
			
			# 4 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr4_spawned
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr4_planet_modifier days = -1 }
				add_deposit = apsr4_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr4_spawned
				save_global_event_target_as = apsr4_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr4_beacon_found }
						}
						set_country_flag = apsr4_beacon_found
						set_country_flag = apsr4_founded
					}
				}
			}
			
			# 5 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr5_spawned
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr5_planet_modifier days = -1 }
				add_deposit = apsr5_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr5_spawned
				save_global_event_target_as = apsr5_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr5_beacon_found }
						}
						set_country_flag = apsr5_beacon_found
						set_country_flag = apsr5_founded
					}
				}
			}
			
			# 6 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr6_spawned
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr6_planet_modifier days = -1 }
				add_deposit = apsr6_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr6_spawned
				save_global_event_target_as = apsr6_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr6_beacon_found }
						}
						set_country_flag = apsr6_beacon_found
						set_country_flag = apsr6_founded
					}
				}
			}
			
			# 8 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr8_spawned
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr8_planet_modifier days = -1 }
				add_deposit = apsr8_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr8_spawned
				save_global_event_target_as = apsr8_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr8_beacon_found }
						}
						set_country_flag = apsr8_beacon_found
						set_country_flag = apsr8_founded
					}
				}
			}
			
			# 11 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr11_spawned
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr11_planet_modifier days = -1 }
				add_deposit = apsr11_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr11_spawned
				save_global_event_target_as = apsr11_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr11_beacon_found }
						}
						set_country_flag = apsr11_beacon_found
						set_country_flag = apsr11_founded
					}
				}
			}
			
			# 12 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr12_spawned
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr12_planet_modifier days = -1 }
				add_deposit = apsr12_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr12_spawned
				save_global_event_target_as = apsr12_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr12_beacon_found }
						}
						set_country_flag = apsr12_beacon_found
						set_country_flag = apsr12_founded
					}
				}
			}
			
			# 13 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr13_spawned
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr13_planet_modifier days = -1 }
				add_deposit = apsr13_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr13_spawned
				save_global_event_target_as = apsr13_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr13_beacon_found }
						}
						set_country_flag = apsr13_beacon_found
						set_country_flag = apsr13_founded
					}
				}
			}
			
			# 14 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr14_spawned
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr14_planet_modifier days = -1 }
				add_deposit = apsr14_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr14_spawned
				save_global_event_target_as = apsr14_planet_target
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr14_beacon_found }
						}
						set_country_flag = apsr14_beacon_found
						set_country_flag = apsr14_founded
					}
				}
			}
			
			# 15 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr15_spawned
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr15_planet_modifier days = -1 }
				add_deposit = apsr15_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr15_spawned
				save_global_event_target_as = apsr15_planet_target
				solar_system = {
					if = {
						limit = {
							any_system_planet = {
								is_planet_class = pc_gas_giant
							}
						}
						random_system_planet = {
							limit = {
								is_planet_class = pc_gas_giant
							}
							set_planet_size = 50
							save_global_event_target_as = apsr15_S_401_3008
							set_planet_flag = "apsr_planet"	
						}
					}
					if = {
						limit = {
							NOT = {
								any_system_planet = {
									is_planet_class = pc_gas_giant
								}
							}
						}
						spawn_planet = {
							class = pc_gas_giant
							location = this
							orbit_location = no
							orbit_angle_offset = 153
							orbit_distance_offset = 119
							size = 50
							has_ring = no
							init_effect = {
								save_global_event_target_as = apsr15_S_401_3008
								set_planet_flag = "apsr_planet"	
								set_name = NAME_Red_One
							}
						}
					}
					if = {
						limit = {
							any_system_planet = {
								OR = {
									is_planet_class = pc_barren
									is_planet_class = pc_barren_cold
								}
							}
						}
						random_system_planet = {
							limit = {
								OR = {
									is_planet_class = pc_barren
									is_planet_class = pc_barren_cold
								}
							}
							set_planet_size = 20
							save_global_event_target_as = apsr15_C_401_3007
							set_planet_flag = "apsr_planet"	
						}
					}
					if = {
						limit = {
							NOT = {
								any_system_planet = {
									OR = {
										is_planet_class = pc_barren
										is_planet_class = pc_barren_cold
									}
								}
							}
						}
						spawn_planet = {
							class = pc_barren
							location = this
							orbit_location = no
							orbit_angle_offset = 273
							orbit_distance_offset = 99
							size = 20
							has_ring = no
							init_effect = {
								save_global_event_target_as = apsr15_C_401_3007
								set_planet_flag = "apsr_planet"	
								set_name = NAME_Red_Two
							}
						}
					}
					spawn_planet = {
						class = pc_barren_cold
						location = this
						orbit_location = no
						orbit_angle_offset = 127
						orbit_distance_offset = 59
						size = 9
						has_ring = no
						init_effect = {
							save_global_event_target_as = apsr15_B_401_3002
							set_planet_flag = "apsr_planet"	
							set_name = NAME_Epsilon
						}
					}
					spawn_planet = {
						class = pc_barren_cold
						location = this
						orbit_location = no
						orbit_distance_offset = 132
						orbit_angle_offset = 191
						size = 9
						has_ring = no
						init_effect = {
							save_global_event_target_as = apsr15_B_401_3005
							set_planet_flag = "apsr_planet"	
							set_name = NAME_Cortus
						}
					}
				}
				owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr15_beacon_found }
						}
						set_country_flag = apsr15_beacon_found
						set_country_flag = apsr15_founded
					}
				}
			}		
		}
	}
}



# if player NOT have comp. origin
spawn_random_apsr_resource_on_capital_system = {
	if = {
		limit = {
			OR = {
				NOT = { has_global_flag = apsr1_spawned }
				NOT = { has_global_flag = apsr2_spawned }
				NOT = { has_global_flag = apsr3_spawned }
				NOT = { has_global_flag = apsr4_spawned }
				NOT = { has_global_flag = apsr5_spawned }
				NOT = { has_global_flag = apsr6_spawned }
				NOT = { has_global_flag = apsr7_spawned }
				NOT = { has_global_flag = apsr8_spawned }
				NOT = { has_global_flag = apsr9_spawned }
				NOT = { has_global_flag = apsr10_spawned }
				NOT = { has_global_flag = apsr11_spawned }
				NOT = { has_global_flag = apsr12_spawned }
				NOT = { has_global_flag = apsr13_spawned }
				NOT = { has_global_flag = apsr14_spawned }
				NOT = { has_global_flag = apsr15_spawned }
				NOT = { has_global_flag = apsr16_spawned }
				NOT = { has_global_flag = apsr17_spawned }
				NOT = { has_global_flag = apsr18_spawned }
				NOT = { has_global_flag = apsr19_spawned }
				NOT = { has_global_flag = apsr20_spawned }
				NOT = { has_global_flag = apsr21_spawned }
				NOT = { has_global_flag = apsr22_spawned }
				NOT = { has_global_flag = apsr23_spawned }
				NOT = { has_global_flag = apsr24_spawned }
			}		
		}
		random_list = {
			
			# 1 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr1_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr1_planet_modifier days = -1 }
				add_deposit = apsr1_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr1_spawned
				save_global_event_target_as = apsr1_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr1_beacon_found }
						}
						set_country_flag = apsr1_beacon_found
						set_country_flag = apsr1_founded
					}
				}
			}
			
			# 2 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr2_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr2_planet_modifier days = -1 }
				add_deposit = apsr2_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr2_spawned
				save_global_event_target_as = apsr2_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr2_beacon_found }
						}
						set_country_flag = apsr2_beacon_found
						set_country_flag = apsr2_founded
					}
				}
			}
			
			# 3 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr3_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr3_planet_modifier days = -1 }
				add_deposit = apsr3_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr3_spawned
				save_global_event_target_as = apsr3_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr3_beacon_found }
						}
						set_country_flag = apsr3_beacon_found
						set_country_flag = apsr3_founded
					}
				}
			}
			
			# 4 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr4_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr4_planet_modifier days = -1 }
				add_deposit = apsr4_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr4_spawned
				save_global_event_target_as = apsr4_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr4_beacon_found }
						}
						set_country_flag = apsr4_beacon_found
						set_country_flag = apsr4_founded
					}
				}
			}
			
			# 5 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr5_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr5_planet_modifier days = -1 }
				add_deposit = apsr5_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr5_spawned
				save_global_event_target_as = apsr5_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr5_beacon_found }
						}
						set_country_flag = apsr5_beacon_found
						set_country_flag = apsr5_founded
					}
				}
			}
			
			# 6 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr6_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr6_planet_modifier days = -1 }
				add_deposit = apsr6_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr6_spawned
				save_global_event_target_as = apsr6_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr6_beacon_found }
						}
						set_country_flag = apsr6_beacon_found
						set_country_flag = apsr6_founded
					}
				}
			}
			
			# 7 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr7_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr7_planet_modifier days = -1 }
				add_deposit = apsr7_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr7_spawned
				save_global_event_target_as = apsr7_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr7_beacon_found }
						}
						set_country_flag = apsr7_beacon_found
						set_country_flag = apsr7_founded
					}
				}
			}
			
			# 8 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr8_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr8_planet_modifier days = -1 }
				add_deposit = apsr8_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr8_spawned
				save_global_event_target_as = apsr8_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr8_beacon_found }
						}
						set_country_flag = apsr8_beacon_found
						set_country_flag = apsr8_founded
					}
				}
			}
			
			# 9 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr9_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 9
					}
					10 = { 
						set_planet_size = 10
					}
					10 = { 
						set_planet_size = 11
					}
					10 = { 
						set_planet_size = 12
					}
					10 = { 
						set_planet_size = 13
					}
					10 = { 
						set_planet_size = 14
					}
					10 = { 
						set_planet_size = 15
					}
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr9_planet_modifier days = -1 }
				add_deposit = apsr9_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr9_spawned
				save_global_event_target_as = apsr9_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr9_beacon_found }
						}
						set_country_flag = apsr9_beacon_found
						set_country_flag = apsr9_founded
					}
				}
			}
			
			# 10 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr10_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr10_planet_modifier days = -1 }
				add_deposit = apsr10_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr10_spawned
				save_global_event_target_as = apsr10_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr10_beacon_found }
						}
						set_country_flag = apsr10_beacon_found
						set_country_flag = apsr10_founded
					}
				}
			}
			
			# 11 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr11_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr11_planet_modifier days = -1 }
				add_deposit = apsr11_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr11_spawned
				save_global_event_target_as = apsr11_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr11_beacon_found }
						}
						set_country_flag = apsr11_beacon_found
						set_country_flag = apsr11_founded
					}
				}
			}
			
			# 12 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr12_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr12_planet_modifier days = -1 }
				add_deposit = apsr12_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr12_spawned
				save_global_event_target_as = apsr12_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr12_beacon_found }
						}
						set_country_flag = apsr12_beacon_found
						set_country_flag = apsr12_founded
					}
				}
			}
			
			# 13 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr13_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_not_complex_type = yes
				add_modifier = { modifier = apsr13_planet_modifier days = -1 }
				add_deposit = apsr13_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr13_spawned
				save_global_event_target_as = apsr13_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr13_beacon_found }
						}
						set_country_flag = apsr13_beacon_found
						set_country_flag = apsr13_founded
					}
				}
			}
			
			# 14 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr14_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr14_planet_modifier days = -1 }
				add_deposit = apsr14_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr14_spawned
				save_global_event_target_as = apsr14_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr14_beacon_found }
						}
						set_country_flag = apsr14_beacon_found
						set_country_flag = apsr14_founded
					}
				}
			}
			
			# 15 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr15_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr15_planet_modifier days = -1 }
				add_deposit = apsr15_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr15_spawned
				save_global_event_target_as = apsr15_planet_target
				solar_system = {
					if = {
						limit = {
							any_system_planet = {
								is_planet_class = pc_gas_giant
							}
						}
						random_system_planet = {
							limit = {
								is_planet_class = pc_gas_giant
							}
							set_planet_size = 50
							save_global_event_target_as = apsr15_S_401_3008
							set_planet_flag = "apsr_planet"	
						}
					}
					if = {
						limit = {
							NOT = {
								any_system_planet = {
									is_planet_class = pc_gas_giant
								}
							}
						}
						spawn_planet = {
							class = pc_gas_giant
							location = this
							orbit_location = no
							orbit_angle_offset = 153
							orbit_distance_offset = 119
							size = 50
							has_ring = no
							init_effect = {
								save_global_event_target_as = apsr15_S_401_3008
								set_planet_flag = "apsr_planet"	
								set_name = NAME_Red_One
							}
						}
					}
					if = {
						limit = {
							any_system_planet = {
								OR = {
									is_planet_class = pc_barren
									is_planet_class = pc_barren_cold
								}
							}
						}
						random_system_planet = {
							limit = {
								OR = {
									is_planet_class = pc_barren
									is_planet_class = pc_barren_cold
								}
							}
							set_planet_size = 20
							save_global_event_target_as = apsr15_C_401_3007
							set_planet_flag = "apsr_planet"	
						}
					}
					if = {
						limit = {
							NOT = {
								any_system_planet = {
									OR = {
										is_planet_class = pc_barren
										is_planet_class = pc_barren_cold
									}
								}
							}
						}
						spawn_planet = {
							class = pc_barren
							location = this
							orbit_location = no
							orbit_angle_offset = 273
							orbit_distance_offset = 99
							size = 20
							has_ring = no
							init_effect = {
								save_global_event_target_as = apsr15_C_401_3007
								set_planet_flag = "apsr_planet"	
								set_name = NAME_Red_Two
							}
						}
					}
					spawn_planet = {
						class = pc_barren_cold
						location = this
						orbit_location = no
						orbit_angle_offset = 127
						orbit_distance_offset = 59
						size = 9
						has_ring = no
						init_effect = {
							save_global_event_target_as = apsr15_B_401_3002
							set_planet_flag = "apsr_planet"	
							set_name = NAME_Epsilon
						}
					}
					spawn_planet = {
						class = pc_barren_cold
						location = this
						orbit_location = no
						orbit_distance_offset = 132
						orbit_angle_offset = 191
						size = 9
						has_ring = no
						init_effect = {
							save_global_event_target_as = apsr15_B_401_3005
							set_planet_flag = "apsr_planet"	
							set_name = NAME_Cortus
						}
					}
				}
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr15_beacon_found }
						}
						set_country_flag = apsr15_beacon_found
						set_country_flag = apsr15_founded
					}
				}
			}
			
			# 16 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr16_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_complex_type = yes
				add_modifier = { modifier = apsr16_planet_modifier days = -1 }
				add_deposit = apsr16_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr16_spawned
				save_global_event_target_as = apsr16_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr16_beacon_found }
						}
						set_country_flag = apsr16_beacon_found
						set_country_flag = apsr16_founded
					}
				}
			}
			
			# 17 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr17_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_complex_type = yes
				add_modifier = { modifier = apsr17_planet_modifier days = -1 }
				add_deposit = apsr17_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr17_spawned
				save_global_event_target_as = apsr17_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr17_beacon_found }
						}
						set_country_flag = apsr17_beacon_found
						set_country_flag = apsr17_founded
					}
				}
			}
			
			# 18 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr18_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_complex_type = yes
				add_modifier = { modifier = apsr18_planet_modifier days = -1 }
				add_deposit = apsr18_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr18_spawned
				save_global_event_target_as = apsr18_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr18_beacon_found }
						}
						set_country_flag = apsr18_beacon_found
						set_country_flag = apsr18_founded
					}
				}
			}
			
			# 19 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr19_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_complex_type = yes
				add_modifier = { modifier = apsr19_planet_modifier days = -1 }
				add_deposit = apsr19_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr19_spawned
				save_global_event_target_as = apsr19_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr19_beacon_found }
						}
						set_country_flag = apsr19_beacon_found
						set_country_flag = apsr19_founded
					}
				}
			}
			
			# 20 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr20_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_complex_type = yes
				add_modifier = { modifier = apsr20_planet_modifier days = -1 }
				add_deposit = apsr20_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr20_spawned
				save_global_event_target_as = apsr20_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr20_beacon_found }
						}
						set_country_flag = apsr20_beacon_found
						set_country_flag = apsr20_founded
					}
				}
			}
			
			# 21 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr21_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_complex_type = yes
				add_modifier = { modifier = apsr21_planet_modifier days = -1 }
				add_deposit = apsr21_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr21_spawned
				save_global_event_target_as = apsr21_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr21_beacon_found }
						}
						set_country_flag = apsr21_beacon_found
						set_country_flag = apsr21_founded
					}
				}
			}	
			
			# 22 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr22_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_complex_type = yes
				add_modifier = { modifier = apsr22_planet_modifier days = -1 }
				add_deposit = apsr22_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr22_spawned
				save_global_event_target_as = apsr22_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr22_beacon_found }
						}
						set_country_flag = apsr22_beacon_found
						set_country_flag = apsr22_founded
					}
				}
			}	
			
			# 23 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr23_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_ancient_complex_type = yes
				add_modifier = { modifier = apsr23_planet_modifier days = -1 }
				add_deposit = apsr23_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr23_spawned
				save_global_event_target_as = apsr23_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr23_beacon_found }
						}
						set_country_flag = apsr23_beacon_found
						set_country_flag = apsr23_founded
					}
				}
			}	
			
			# 24 #
			
			10 = {
				modifier = {
					factor = 0
					has_global_flag = apsr24_spawned
				}
				random_list = {
					10 = { 
						set_planet_size = 16
					}
					10 = { 
						set_planet_size = 17
					}
					10 = { 
						set_planet_size = 18
					}
					10 = { 
						set_planet_size = 19
					}
					10 = { 
						set_planet_size = 20
					}
					10 = { 
						set_planet_size = 21
					}
					10 = { 
						set_planet_size = 22
					}
					10 = { 
						set_planet_size = 23
					}
					10 = { 
						set_planet_size = 24
					}
					10 = { 
						set_planet_size = 25
					}
				}
				apsr_change_capital_unique_type = yes
				add_modifier = { modifier = apsr24_planet_modifier days = -1 }
				add_deposit = apsr24_deposit 
				apsr_set_planet_picture_by_resource = yes
				set_planet_flag = "apsr_planet"	
				set_global_flag = apsr24_spawned
				save_global_event_target_as = apsr24_planet_target
				root.solar_system.owner = {
					if = {
						limit = {
							NOT = { has_country_flag = apsr24_beacon_found }
						}
						set_country_flag = apsr24_beacon_found
						set_country_flag = apsr24_founded
					}
				}
			}		
		}
	}
	else_if = {
		limit = {
			AND = {
				has_global_flag = apsr1_spawned
				has_global_flag = apsr2_spawned
				has_global_flag = apsr3_spawned
				has_global_flag = apsr4_spawned
				has_global_flag = apsr5_spawned
				has_global_flag = apsr6_spawned
				has_global_flag = apsr7_spawned
				has_global_flag = apsr8_spawned
				has_global_flag = apsr9_spawned
				has_global_flag = apsr10_spawned
				has_global_flag = apsr11_spawned
				has_global_flag = apsr12_spawned
				has_global_flag = apsr13_spawned
				has_global_flag = apsr14_spawned
				has_global_flag = apsr15_spawned
				has_global_flag = apsr16_spawned
				has_global_flag = apsr17_spawned
				has_global_flag = apsr18_spawned
				has_global_flag = apsr19_spawned
				has_global_flag = apsr20_spawned
				has_global_flag = apsr21_spawned
				has_global_flag = apsr22_spawned
				has_global_flag = apsr23_spawned
				has_global_flag = apsr24_spawned
			}
		}
		every_country = {
			limit = {
				has_country_flag = apsr_server_country
			}
			country_event = { id = apsr.991 }
		}
	}
}




apsr_change_capital_unique_type = {
	change_pc = pc_apsr_unique
	reset_planet = yes
	clear_deposits = yes
	prevent_anomaly = yes
	while = {
		count = 4
		random_list = {
			10 = { 
				add_deposit = apsr_unique_deposit_energy_1
			}
			10 = { 
				add_deposit = apsr_unique_deposit_energy_2
			}
			10 = { 
				add_deposit = apsr_unique_deposit_energy_3
			}
		}
	}
	while = {
		count = 4
		random_list = {
			10 = { 
				add_deposit = apsr_unique_deposit_minerals_1
			}
			10 = { 
				add_deposit = apsr_unique_deposit_minerals_2
			}
			10 = { 
				add_deposit = apsr_unique_deposit_minerals_3
			}
		}
	}
	while = {
		count = 4
		random_list = {
			10 = { 
				add_deposit = apsr_unique_deposit_food_1
			}
			10 = { 
				add_deposit = apsr_unique_deposit_food_2
			}
			10 = { 
				add_deposit = apsr_unique_deposit_food_3
			}
		}
	}
}

apsr_change_capital_ancient_not_complex_type = {
	change_pc = pc_apsr_ancient
	reset_planet = yes
	clear_deposits = yes
	prevent_anomaly = yes
	while = {
		count = 5
		random_list = {
			10 = { 
				add_deposit = apsr_ancient_deposit_energy_1
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_energy_2
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_energy_3
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_energy_4
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_energy_5
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_energy_6
			}
		}
	}
	while = {
		count = 5
		random_list = {
			10 = { 
				add_deposit = apsr_ancient_deposit_minerals_1
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_minerals_2
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_minerals_3
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_minerals_4
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_minerals_5
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_minerals_6
			}
		}
	}
	while = {
		count = 5
		random_list = {
			10 = { 
				add_deposit = apsr_ancient_deposit_food_1
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_food_2
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_food_3
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_food_4
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_food_5
			}
			10 = { 
				add_deposit = apsr_ancient_deposit_food_6
			}
		}
	}
}

apsr_change_capital_ancient_complex_type = {
	change_pc = pc_apsr_ancient
	reset_planet = yes
	clear_deposits = yes
	prevent_anomaly = yes
	while = {
		count = 5
		random_list = {
			10 = { 
				add_deposit = apsr_ancient_c_deposit_energy_1
			}
			10 = { 
				add_deposit = apsr_ancient_c_deposit_energy_2
			}
			10 = { 
				add_deposit = apsr_ancient_c_deposit_energy_3
			}
			10 = { 
				add_deposit = apsr_ancient_c_deposit_energy_4
			}
			10 = { 
				add_deposit = apsr_ancient_c_deposit_energy_5
			}
			10 = { 
				add_deposit = apsr_ancient_c_deposit_energy_6
			}
		}
	}
	while = {
		count = 5
		random_list = {
			10 = { 
				add_deposit = apsr_ancient_c_deposit_minerals_1
			}
			10 = { 
				add_deposit = apsr_ancient_c_deposit_minerals_2
			}
			10 = { 
				add_deposit = apsr_ancient_c_deposit_minerals_3
			}
			10 = { 
				add_deposit = apsr_ancient_c_deposit_minerals_4
			}
		}
	}
	while = {
		count = 5
		random_list = {
			10 = { 
				add_deposit = apsr_ancient_c_deposit_food_1
			}
			10 = { 
				add_deposit = apsr_ancient_c_deposit_food_2
			}
			10 = { 
				add_deposit = apsr_ancient_c_deposit_food_3
			}
		}
	}
}