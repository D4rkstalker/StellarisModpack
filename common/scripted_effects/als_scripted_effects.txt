
effect_als_add_strategic_traits_and_locked_tactic = {
	random_list = {
		1 = {
			add_trait_no_notify = als_trait_strategic_energy
		}
		1 = {
			add_trait_no_notify = als_trait_strategic_explosive
		}
		1 = {
			add_trait_no_notify = als_trait_strategic_kinetic
		}
		1 = {
			add_trait_no_notify = als_trait_strategic_point_defense
		}
		1 = {
			modifier = {
				factor = 0
				root.owner = {
					NOR = {
						has_technology = tech_strike_craft_1
						has_technology = tech_strike_craft_2
						has_technology = tech_strike_craft_3
					}
				}
			}
			add_trait_no_notify = als_trait_strategic_strike_craft
		}
		1 = {
			add_trait_no_notify = als_trait_strategic_artillery
		}
		1 = {
			modifier = {
				factor = 0
				has_skill < 3
			}
			add_trait_no_notify = als_trait_strategic_anti_hull
		}
		1 = {
			modifier = {
				factor = 0
				has_skill < 3
			}
			add_trait_no_notify = als_trait_strategic_anti_armor
		}
		1 = {
			modifier = {
				factor = 0
				has_skill < 3
			}
			add_trait_no_notify = als_trait_strategic_anti_shield
		}
		1 = {
			modifier = {
				factor = 0.25
				root.owner = {
					NOT = {
						is_pacifist = yes
					}
				}
			}
			add_trait_no_notify = als_trait_strategic_border
		}
		1 = {
			modifier = {
				factor = 0
				root.owner = {
					NOT = {
						has_technology = tech_doctrine_fleet_size_3
					}
				}
			}
			modifier = {
				factor = 0
				has_skill < 5
			}
			add_trait_no_notify = als_trait_strategic_engineer
		}
		1 = {
			add_trait_no_notify = als_trait_strategic_hyperliner
		}
		1 = {
			modifier = {
				factor = 0.25
				root.owner = {
					is_pacifist = yes
				}
			}
			modifier = {
				factor = 1.5
				root.owner = {
					is_militarist = yes
				}
			}

			add_trait_no_notify = als_trait_strategic_invader
		}
		1 = {
			modifier = {
				factor = 0
				root.owner = {
					NOR = {
						has_technology = tech_jump_drive_1
						has_technology = tech_psi_jump_drive_1
					}
				}
			}
			add_trait_no_notify = als_trait_strategic_jumpdriver
		}
		1 = {
			add_trait_no_notify = als_trait_strategic_logistician
		}
		1 = {
			modifier = {
				factor = 0
				has_skill < 4
			}
			add_trait_no_notify = als_trait_strategic_preaim
		}
		1 = {
			modifier = {
				factor = 0
				has_skill < 5
			}
			add_trait_no_notify = als_trait_strategic_Resonator
		}
		1 = {
			modifier = {
				factor = 0
				has_skill < 5
			}
			add_trait_no_notify = als_trait_strategic_sharpshooter
		}
		1 = {
			modifier = {
				factor = 0
				has_skill < 3
			}
			add_trait_no_notify = als_trait_strategic_skyrocket
		}
		1 = {
			add_trait_no_notify = als_trait_strategic_triggerfinger
		}
		1 = {
			modifier = {
				factor = 1.25
				root.owner = {
					is_pacifist = yes
				}
			}
			modifier = {
				factor = 0
				has_skill < 3
			}
			add_trait_no_notify = als_trait_strategic_fortify
		}
	}
	if = {
		limit = {
			has_skill >= 5
		}
		add_trait_no_notify = als_trait_tactic_locked_unlockable
	}
	else = {
		add_trait_no_notify = als_trait_tactic_locked
	}
	set_leader_flag = als_admiral_has_strategy_and_tactic_traits
}

#For effect_als_refresh_admiral_traits
effect_als_refresh_admiral_traits_gateway = {
	if = {
		limit = {
			has_trait = als_trait_$category$_$trait$
		}
		remove_trait = als_trait_$category$_$trait$
		add_trait_no_notify = als_trait_$category$_$trait$
	}
	if = {
		limit = {
			has_trait = als_trait_$category$_$trait$_expert
		}
		remove_trait = als_trait_$category$_$trait$_expert
		add_trait_no_notify = als_trait_$category$_$trait$_expert
	}
}

effect_als_refresh_admiral_traits = {
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = energy
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = explosive
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = kinetic
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = point_defense
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = strike_craft
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = artillery
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = anti_hull
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = anti_armor
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = anti_shield
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = border
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = engineer
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = hyperliner
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = invader
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = jumpdriver
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = logistician
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = preaim
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = Resonator
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = sharpshooter
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = skyrocket
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = triggerfinger
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = strategic
		trait = fortify
	}


###TACTIC

	if = {
		limit = {
			has_trait = als_trait_tactic_locked
		}
		remove_trait = als_trait_tactic_locked
		add_trait_no_notify = als_trait_tactic_locked
		
	}

	if = {
		limit = {
			has_trait = als_trait_tactic_locked_unlockable
		}
		remove_trait = als_trait_tactic_locked_unlockable
		add_trait_no_notify = als_trait_tactic_locked_unlockable
		
	}

	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = ambush
	}


	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_inactive1
		}
		remove_trait = als_trait_tactic_bottled_up_inactive1
		add_trait_no_notify = als_trait_tactic_bottled_up_inactive1
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_inactive2
		}
		remove_trait = als_trait_tactic_bottled_up_inactive2
		add_trait_no_notify = als_trait_tactic_bottled_up_inactive2
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_inactive3
		}
		remove_trait = als_trait_tactic_bottled_up_inactive3
		add_trait_no_notify = als_trait_tactic_bottled_up_inactive3
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_inactive4
		}
		remove_trait = als_trait_tactic_bottled_up_inactive4
		add_trait_no_notify = als_trait_tactic_bottled_up_inactive4
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_inactive5
		}
		remove_trait = als_trait_tactic_bottled_up_inactive5
		add_trait_no_notify = als_trait_tactic_bottled_up_inactive5
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_inactive6
		}
		remove_trait = als_trait_tactic_bottled_up_inactive6
		add_trait_no_notify = als_trait_tactic_bottled_up_inactive6
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_inactive7
		}
		remove_trait = als_trait_tactic_bottled_up_inactive7
		add_trait_no_notify = als_trait_tactic_bottled_up_inactive7
		
	}
	

	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_expert_inactive1
		}
		remove_trait = als_trait_tactic_bottled_up_expert_inactive1
		add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive1
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_expert_inactive2
		}
		remove_trait = als_trait_tactic_bottled_up_expert_inactive2
		add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive2
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_expert_inactive3
		}
		remove_trait = als_trait_tactic_bottled_up_expert_inactive3
		add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive3
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_expert_inactive4
		}
		remove_trait = als_trait_tactic_bottled_up_expert_inactive4
		add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive4
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_expert_inactive5
		}
		remove_trait = als_trait_tactic_bottled_up_expert_inactive5
		add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive5
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_expert_inactive6
		}
		remove_trait = als_trait_tactic_bottled_up_expert_inactive6
		add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive6
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_bottled_up_expert_inactive7
		}
		remove_trait = als_trait_tactic_bottled_up_expert_inactive7
		add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive7
		
	}

	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = camper
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = first_strike
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = foresight
	}


	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_inactive1
		}
		remove_trait = als_trait_tactic_fox_tiger_inactive1
		add_trait_no_notify = als_trait_tactic_fox_tiger_inactive1
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_inactive2
		}
		remove_trait = als_trait_tactic_fox_tiger_inactive2
		add_trait_no_notify = als_trait_tactic_fox_tiger_inactive2
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_inactive3
		}
		remove_trait = als_trait_tactic_fox_tiger_inactive3
		add_trait_no_notify = als_trait_tactic_fox_tiger_inactive3
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_inactive4
		}
		remove_trait = als_trait_tactic_fox_tiger_inactive4
		add_trait_no_notify = als_trait_tactic_fox_tiger_inactive4
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_inactive5
		}
		remove_trait = als_trait_tactic_fox_tiger_inactive5
		add_trait_no_notify = als_trait_tactic_fox_tiger_inactive5
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_inactive6
		}
		remove_trait = als_trait_tactic_fox_tiger_inactive6
		add_trait_no_notify = als_trait_tactic_fox_tiger_inactive6
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_inactive7
		}
		remove_trait = als_trait_tactic_fox_tiger_inactive7
		add_trait_no_notify = als_trait_tactic_fox_tiger_inactive7
		
	}


	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_expert_inactive1
		}
		remove_trait = als_trait_tactic_fox_tiger_expert_inactive1
		add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive1
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_expert_inactive2
		}
		remove_trait = als_trait_tactic_fox_tiger_expert_inactive2
		add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive2
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_expert_inactive3
		}
		remove_trait = als_trait_tactic_fox_tiger_expert_inactive3
		add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive3
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_expert_inactive4
		}
		remove_trait = als_trait_tactic_fox_tiger_expert_inactive4
		add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive4
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_expert_inactive5
		}
		remove_trait = als_trait_tactic_fox_tiger_expert_inactive5
		add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive5
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_expert_inactive6
		}
		remove_trait = als_trait_tactic_fox_tiger_expert_inactive6
		add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive6
		
	}
	if = {
		limit = {
			has_trait = als_trait_tactic_fox_tiger_expert_inactive7
		}
		remove_trait = als_trait_tactic_fox_tiger_expert_inactive7
		add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive7
		
	}

	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = immune
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = jammer
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = long_range
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = lurker
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = self_sacrifice
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = snowball
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = surprise_attack
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = unpredictable
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = untoachable
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = bomber
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = bloodthirst
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = reactarmor
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = cybershield
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = morale
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = scavenger
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = spreadshot
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = abruptstop
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = surrounded
	}
	effect_als_refresh_admiral_traits_gateway = {
		category = tactic
		trait = breakthrough
	}

###		
}

#1 requirement only
#use for regular traits except bottled up and fox tiger
effect_als_expertise_admiral_traits_1_requirement = {
	if = {
		limit = {
			has_trait = als_trait_$category$_$trait$
			has_skill >= $skill_level$
			check_variable = {
				which = als_$base_4_status$_exp
				value >= $base_4_status_value$
			}
		}
		remove_trait = als_trait_$category$_$trait$
		add_trait_no_notify = als_trait_$category$_$trait$_expert
	}
}

#2 requirement only
#use for regular traits except bottled up and fox tiger
effect_als_expertise_admiral_traits_2_requirement = {
	if = {
		limit = {
			has_trait = als_trait_$category$_$trait$
			has_skill >= $skill_level$
			check_variable = {
				which = als_$base_4_status$_exp
				value >= $base_4_status_value$
			}
			check_variable = {
				which = als_$second_base_4_status$_exp
				value >= $second_base_4_status_value$
			}
		}
		remove_trait = als_trait_$category$_$trait$
		add_trait_no_notify = als_trait_$category$_$trait$_expert
	}
}

effect_als_expertise_admiral_traits_2_requirement_for_bottled_up_and_fox_tiger = {
	if = {
		limit = {
			OR = {
				has_trait = als_trait_$category$_$trait$_inactive1
				has_trait = als_trait_$category$_$trait$_inactive2
				has_trait = als_trait_$category$_$trait$_inactive3
				has_trait = als_trait_$category$_$trait$_inactive4
				has_trait = als_trait_$category$_$trait$_inactive5
				has_trait = als_trait_$category$_$trait$_inactive6
				has_trait = als_trait_$category$_$trait$_inactive7
			}
			
			has_skill >= $skill_level$
			check_variable = {
				which = als_$base_4_status$_exp
				value >= $base_4_status_value$
			}
			check_variable = {
				which = als_$second_base_4_status$_exp
				value >= $second_base_4_status_value$
			}
		}
		remove_trait = als_trait_$category$_$trait$_actived
		remove_trait = als_trait_$category$_$trait$_inactive1
		remove_trait = als_trait_$category$_$trait$_inactive2
		remove_trait = als_trait_$category$_$trait$_inactive3
		remove_trait = als_trait_$category$_$trait$_inactive4
		remove_trait = als_trait_$category$_$trait$_inactive5
		remove_trait = als_trait_$category$_$trait$_inactive6
		remove_trait = als_trait_$category$_$trait$_inactive7
		random_list = {
			1 = { add_trait_no_notify = als_trait_$category$_$trait$_expert_inactive1 }
			1 = { add_trait_no_notify = als_trait_$category$_$trait$_expert_inactive2 }
			1 = { add_trait_no_notify = als_trait_$category$_$trait$_expert_inactive3 }
			1 = { add_trait_no_notify = als_trait_$category$_$trait$_expert_inactive4 }
			1 = { add_trait_no_notify = als_trait_$category$_$trait$_expert_inactive5 }
			1 = { add_trait_no_notify = als_trait_$category$_$trait$_expert_inactive6 }
			1 = { add_trait_no_notify = als_trait_$category$_$trait$_expert_inactive7 }
		}
	}
}

effect_als_crisis_admiral_remove_wrong_traits = {
	remove_trait = als_trait_strategic_energy
	remove_trait = als_trait_strategic_energy_expert
	remove_trait = als_trait_strategic_explosive
	remove_trait = als_trait_strategic_explosive_expert
	remove_trait = als_trait_strategic_kinetic
	remove_trait = als_trait_strategic_kinetic_expert
	remove_trait = als_trait_strategic_point_defense
	remove_trait = als_trait_strategic_point_defense_expert
	remove_trait = als_trait_strategic_strike_craft
	remove_trait = als_trait_strategic_strike_craft_expert
	remove_trait = als_trait_strategic_artillery
	remove_trait = als_trait_strategic_artillery_expert
	remove_trait = als_trait_strategic_anti_hull
	remove_trait = als_trait_strategic_anti_hull_expert
	remove_trait = als_trait_strategic_anti_armor
	remove_trait = als_trait_strategic_anti_armor_expert
	remove_trait = als_trait_strategic_anti_shield
	remove_trait = als_trait_strategic_anti_shield_expert
}

als_effect_set_admiral_base_4_traits = { #score: leader root: fleet

	set_variable = {
		which = als_accuracy_exp
		value = 1
	}
	set_variable = {
		which = als_movement_exp
		value = 1
	}
	set_variable = {
		which = als_siege_exp
		value = 1
	}
	set_variable = {
		which = als_shock_exp
		value = 1
	}

	if = {
		limit = {
			NOT = {
				is_variable_set = als_random_exp
			}
		}
		set_variable = {
			which = als_random_exp
			value = 3
		}
	}

	while = {
		count = als_random_exp
		random_list = {
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 100
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 100
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 100
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 100
				}
			}
		}
	}

	#accuracy
	random_list = { #random base, affect 0~1 level
		1 = { #do nothing
		}
		1 = {
			change_variable = {
				which = als_accuracy_exp
				value = 25
			}
		}
		1 = {
			change_variable = {
				which = als_accuracy_exp
				value = 50
			}
		}
		1 = {
			change_variable = {
				which = als_accuracy_exp
				value = 75
			}
		}
		1 = {
			change_variable = {
				which = als_accuracy_exp
				value = 100
			}
		}
	}

	if = { #leader trait
		limit = {
			has_trait = leader_trait_cautious 
		}
		change_variable = {
			which = als_accuracy_exp
			value = 200
		}
	}


	if = { #species traits
		limit = {
			species = {
				OR = {
					has_trait = trait_mechanical
					has_trait = trait_machine_unit
					has_trait = trait_psionic
					has_trait = trait_cybernetic
					has_trait = trait_erudite
				}	
			}
		}
		change_variable = {
			which = als_accuracy_exp
			value = 100
		}
		if = {
			limit = {
				species = {
					has_trait = trait_cybernetic
					has_trait = trait_erudite
				}
			}
			change_variable = {
				which = als_accuracy_exp
				value = 100
			}
		}
		if = {
			limit = {
				species = {
					has_trait = trait_mechanical
				}
			}
			change_variable = {
				which = als_accuracy_exp
				value = 250
			}
		}
	}
	if = { #species traits
		limit = {
			species = {
				OR = {
					has_trait = trait_intelligent
					has_trait = trait_talented
					has_trait = trait_robot_logic_engines
					has_trait = trait_robot_enhanced_memory
				}
			}
		}
		random_list = {
			1 = {
				multiply_variable = {
					which = als_accuracy_exp
					value = 1.05
				}
			}
			1 = {
				multiply_variable = {
					which = als_accuracy_exp
					value = 1.1
				}
			}
			1 = {
				multiply_variable = {
					which = als_accuracy_exp
					value = 1.15
				}
			}
		}
		
	}
	if = { #country technology
		limit = {
			root.owner = {
				OR = {
					has_technology = tech_collective_self 
					has_technology = tech_embodied_dynamism  
				}
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 100
				}
			}
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 150
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_interstellar_fleet_traditions
			}
		}
		change_variable = {
			which = als_accuracy_exp
			value = 100
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_doctrine_navy_size_1
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_doctrine_navy_size_2
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_doctrine_navy_size_3
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_doctrine_navy_size_4
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_accuracy_exp
					value = 100
				}
			}
		}
	}
	if = { #country tradition
		limit = {
			root.owner = {
				has_tradition = tr_supremacy_war_games
			}
		}
		multiply_variable = {
			which = als_accuracy_exp
			value = 1.2
		}
	}
	if = { #country tradition
		limit = {
			root.owner = {
				has_tradition = tr_discovery_polytechnic_education
			}
		}
		random_list = {
			1 = {
				multiply_variable = {
					which = als_accuracy_exp
					value = 1.05
				}
			}
			1 = {
				multiply_variable = {
					which = als_accuracy_exp
					value = 1.1
				}
			}
			1 = {
				multiply_variable = {
					which = als_accuracy_exp
					value = 1.15
				}
			}
		}
	}

	random_list = { #randomize a bit
		1 = {
			multiply_variable = {
				which = als_accuracy_exp
				value = 0.95
			}
		}
		1 = {
		}
		1 = {
			multiply_variable = {
				which = als_accuracy_exp
				value = 1.05
			}
		}
	}
	
#####movement#####
	random_list = { #random base, affect 0~1 level
		1 = { #do nothing
		}
		1 = {
			change_variable = {
				which = als_movement_exp
				value = 25
			}
		}
		1 = {
			change_variable = {
				which = als_movement_exp
				value = 50
			}
		}
		1 = {
			change_variable = {
				which = als_movement_exp
				value = 75
			}
		}
		1 = {
			change_variable = {
				which = als_movement_exp
				value = 100
			}
		}
	}

	if = { #leader trait
		limit = {
			OR = {
				has_trait = leader_trait_gale_speed 
				has_trait = leader_trait_scout  
				has_trait = leader_trait_trickster
				has_trait = leader_trait_trickster_fircon
			}	
		}
		change_variable = {
			which = als_movement_exp
			value = 200
		}
	}


	if = { #species traits
		limit = {
			species = {
				OR = {
					has_trait = trait_mechanical
					has_trait = trait_psionic
					has_trait = trait_machine_unit
					has_trait = trait_cybernetic
					has_trait = trait_erudite
				}
			}
		}
		change_variable = {
			which = als_movement_exp
			value = 100
		}
		if = {
			limit = {
				species = {
					has_trait = trait_erudite
				}
			}
			change_variable = {
				which = als_movement_exp
				value = 100
			}
		}
		if = {
			limit = {
				species = {
					has_trait = trait_psionic
				}
			}
			change_variable = {
				which = als_movement_exp
				value = 250
			}
		}
	}
	if = { #species traits
		limit = {
			species = {
				OR = {
					has_trait = trait_intelligent
					has_trait = trait_talented
					has_trait = trait_robot_logic_engines
					has_trait = trait_robot_enhanced_memory
				}
			}
		}
		random_list = {
			1 = {
				multiply_variable = {
					which = als_movement_exp
					value = 1.05
				}
			}
			1 = {
				multiply_variable = {
					which = als_movement_exp
					value = 1.1
				}
			}
			1 = {
				multiply_variable = {
					which = als_movement_exp
					value = 1.15
				}
			}
		}
		
	}
	if = { #country technology
		limit = {
			root.owner = {
				OR = {
					has_technology = tech_collective_self 
					has_technology = tech_embodied_dynamism  
				}
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 100
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 150
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_interstellar_fleet_traditions
			}
		}
		change_variable = {
			which = als_movement_exp
			value = 100
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_doctrine_fleet_size_1
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_doctrine_fleet_size_2
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_doctrine_fleet_size_3
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_doctrine_fleet_size_4
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_movement_exp
					value = 100
				}
			}
		}
	}
	if = { #country tradition
		limit = {
			root.owner = {
				has_tradition = tr_supremacy_war_games
			}
		}
		multiply_variable = {
			which = als_movement_exp
			value = 1.2
		}
	}
	if = { #country tradition
		limit = {
			root.owner = {
				has_tradition = tr_discovery_polytechnic_education
			}
		}
		random_list = {
			1 = {
				multiply_variable = {
					which = als_movement_exp
					value = 1.05
				}
			}
			1 = {
				multiply_variable = {
					which = als_movement_exp
					value = 1.1
				}
			}
			1 = {
				multiply_variable = {
					which = als_movement_exp
					value = 1.15
				}
			}
		}
	}

	random_list = { #randomize a bit
		1 = {
			multiply_variable = {
				which = als_movement_exp
				value = 0.95
			}
		}
		1 = {
		}
		1 = {
			multiply_variable = {
				which = als_movement_exp
				value = 1.05
			}
		}
	}

###siege
	random_list = { #random base, affect 0~1 level
		1 = { #do nothing
		}
		1 = {
			change_variable = {
				which = als_siege_exp
				value = 25
			}
		}
		1 = {
			change_variable = {
				which = als_siege_exp
				value = 50
			}
		}
		1 = {
			change_variable = {
				which = als_siege_exp
				value = 75
			}
		}
		1 = {
			change_variable = {
				which = als_siege_exp
				value = 100
			}
		}
	}

	if = { #leader trait
		limit = {
			has_trait = leader_trait_unyielding
		}
		change_variable = {
			which = als_siege_exp
			value = 200
		}
	}


	if = { #species traits
		limit = {
			species = {
				OR = {
					has_trait = trait_mechanical
					has_trait = trait_psionic
					has_trait = trait_machine_unit
					has_trait = trait_cybernetic
					has_trait = trait_erudite
				}
			}
		}
		change_variable = {
			which = als_siege_exp
			value = 100
		}
		if = {
			limit = {
				species = {
					OR = {
						has_trait = trait_cybernetic
						has_trait = trait_erudite
					}
				}
			}
			change_variable = {
				which = als_siege_exp
				value = 100
			}
		}
		if = {
			limit = {
				species = {
					has_trait = trait_mechanical
				}
			}
			change_variable = {
				which = als_siege_exp
				value = 250
			}
		}
	}
	if = { #species traits
		limit = {
			species = {
				OR = {
					has_trait = trait_intelligent
					has_trait = trait_talented
					has_trait = trait_robot_logic_engines
					has_trait = trait_robot_enhanced_memory
				}
			}
		}
		random_list = {
			1 = {
				multiply_variable = {
					which = als_siege_exp
					value = 1.05
				}
			}
			1 = {
				multiply_variable = {
					which = als_siege_exp
					value = 1.1
				}
			}
			1 = {
				multiply_variable = {
					which = als_siege_exp
					value = 1.15
				}
			}
		}
		
	}
	if = { #country technology
		limit = {
			root.owner = {
				OR = {
					has_technology = tech_collective_self 
					has_technology = tech_embodied_dynamism  
				}
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 100
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 150
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_interstellar_fleet_traditions
			}
		}
		change_variable = {
			which = als_siege_exp
			value = 100
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_tradition = tr_supremacy_overwhelming_force
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_command_matrix
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_tradition = tr_supremacy_finish
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				OR = {
					has_ethic = ethic_fanatic_militarist
					has_ethic = ethic_militarist
				}
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_siege_exp
					value = 100
				}
			}
		}
	}
	if = { #country tradition
		limit = {
			root.owner = {
				has_tradition = tr_supremacy_war_games
			}
		}
		multiply_variable = {
			which = als_siege_exp
			value = 1.2
		}
	}
	if = { #country tradition
		limit = {
			root.owner = {
				has_tradition = tr_discovery_polytechnic_education
			}
		}
		random_list = {
			1 = {
				multiply_variable = {
					which = als_siege_exp
					value = 1.05
				}
			}
			1 = {
				multiply_variable = {
					which = als_siege_exp
					value = 1.1
				}
			}
			1 = {
				multiply_variable = {
					which = als_siege_exp
					value = 1.15
				}
			}
		}
	}

	random_list = { #randomize a bit
		1 = {
			multiply_variable = {
				which = als_siege_exp
				value = 0.95
			}
		}
		1 = {
		}
		1 = {
			multiply_variable = {
				which = als_siege_exp
				value = 1.05
			}
		}
	}

###shock###

	random_list = { #random base, affect 0~1 level
		1 = { #do nothing
		}
		1 = {
			change_variable = {
				which = als_shock_exp
				value = 25
			}
		}
		1 = {
			change_variable = {
				which = als_shock_exp
				value = 50
			}
		}
		1 = {
			change_variable = {
				which = als_shock_exp
				value = 75
			}
		}
		1 = {
			change_variable = {
				which = als_shock_exp
				value = 100
			}
		}
	}

	if = { #leader trait
		limit = {
			OR = {
				has_trait = leader_trait_great_khan
				has_trait = leader_trait_mercenary_warrior
				has_trait = leader_trait_aggressive
			}	
		}
		change_variable = {
			which = als_shock_exp
			value = 200
		}
	}

	if = { #species traits
		limit = {
			species = {
				OR = {
					has_trait = trait_mechanical
					has_trait = trait_psionic
					has_trait = trait_machine_unit
					has_trait = trait_cybernetic
					has_trait = trait_erudite
				}
			}
		}
		change_variable = {
			which = als_shock_exp
			value = 100
		}
		if = {
			limit = {
				species = {
					has_trait = trait_erudite
				}
			}
			change_variable = {
				which = als_shock_exp
				value = 100
			}
		}
		if = {
			limit = {
				species = {
					has_trait = trait_psionic
				}
			}
			change_variable = {
				which = als_shock_exp
				value = 250
			}
		}
	}
	if = { #species traits
		limit = {
			species = {
				OR = {
					has_trait = trait_intelligent
					has_trait = trait_talented
					has_trait = trait_robot_logic_engines
					has_trait = trait_robot_enhanced_memory
				}
			}
		}
		random_list = {
			1 = {
				multiply_variable = {
					which = als_shock_exp
					value = 1.05
				}
			}
			1 = {
				multiply_variable = {
					which = als_shock_exp
					value = 1.1
				}
			}
			1 = {
				multiply_variable = {
					which = als_shock_exp
					value = 1.15
				}
			}
		}
		
	}
	if = { #country technology
		limit = {
			root.owner = {
				OR = {
					has_technology = tech_collective_self 
					has_technology = tech_embodied_dynamism  
				}
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 100
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 150
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_interstellar_fleet_traditions
			}
		}
		change_variable = {
			which = als_shock_exp
			value = 100
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_tradition = tr_supremacy_overwhelming_force
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_technology = tech_command_matrix
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				has_tradition = tr_supremacy_finish
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 100
				}
			}
		}
	}
	if = { #country technology
		limit = {
			root.owner = {
				OR = {
					has_ethic = ethic_fanatic_militarist
					has_ethic = ethic_militarist
				}
			}
		}
		random_list = {
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 50
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 75
				}
			}
			1 = {
				change_variable = {
					which = als_shock_exp
					value = 100
				}
			}
		}
	}
	if = { #country tradition
		limit = {
			root.owner = {
				has_tradition = tr_supremacy_war_games
			}
		}
		multiply_variable = {
			which = als_shock_exp
			value = 1.2
		}
	}
	if = { #country tradition
		limit = {
			root.owner = {
				has_tradition = tr_discovery_polytechnic_education
			}
		}
		random_list = {
			1 = {
				multiply_variable = {
					which = als_shock_exp
					value = 1.05
				}
			}
			1 = {
				multiply_variable = {
					which = als_shock_exp
					value = 1.1
				}
			}
			1 = {
				multiply_variable = {
					which = als_shock_exp
					value = 1.15
				}
			}
		}
	}

	random_list = { #randomize a bit
		1 = {
			multiply_variable = {
				which = als_shock_exp
				value = 0.95
			}
		}
		1 = {
		}
		1 = {
			multiply_variable = {
				which = als_shock_exp
				value = 1.05
			}
		}
	}

	
}

als_remove_admirals_base_4_traits = {
	remove_trait = als_trait_accuracy_0
	remove_trait = als_trait_accuracy_1
	remove_trait = als_trait_accuracy_2
	remove_trait = als_trait_accuracy_3
	remove_trait = als_trait_accuracy_4
	remove_trait = als_trait_accuracy_5
	remove_trait = als_trait_accuracy_6
	remove_trait = als_trait_accuracy_7
	remove_trait = als_trait_accuracy_8
	remove_trait = als_trait_accuracy_9
	remove_trait = als_trait_accuracy_10
	remove_trait = als_trait_accuracy_11
	remove_trait = als_trait_accuracy_12
	remove_trait = als_trait_accuracy_13
	remove_trait = als_trait_accuracy_14
	remove_trait = als_trait_accuracy_15

	remove_trait = als_trait_movement_0
	remove_trait = als_trait_movement_1
	remove_trait = als_trait_movement_2
	remove_trait = als_trait_movement_3
	remove_trait = als_trait_movement_4
	remove_trait = als_trait_movement_5
	remove_trait = als_trait_movement_6
	remove_trait = als_trait_movement_7
	remove_trait = als_trait_movement_8
	remove_trait = als_trait_movement_9
	remove_trait = als_trait_movement_10
	remove_trait = als_trait_movement_11
	remove_trait = als_trait_movement_12
	remove_trait = als_trait_movement_13
	remove_trait = als_trait_movement_14
	remove_trait = als_trait_movement_15

	remove_trait = als_trait_siege_0
	remove_trait = als_trait_siege_1
	remove_trait = als_trait_siege_2
	remove_trait = als_trait_siege_3
	remove_trait = als_trait_siege_4
	remove_trait = als_trait_siege_5
	remove_trait = als_trait_siege_6
	remove_trait = als_trait_siege_7
	remove_trait = als_trait_siege_8
	remove_trait = als_trait_siege_9
	remove_trait = als_trait_siege_10
	remove_trait = als_trait_siege_11
	remove_trait = als_trait_siege_12
	remove_trait = als_trait_siege_13
	remove_trait = als_trait_siege_14
	remove_trait = als_trait_siege_15

	remove_trait = als_trait_shock_0
	remove_trait = als_trait_shock_1
	remove_trait = als_trait_shock_2
	remove_trait = als_trait_shock_3
	remove_trait = als_trait_shock_4
	remove_trait = als_trait_shock_5
	remove_trait = als_trait_shock_6
	remove_trait = als_trait_shock_7
	remove_trait = als_trait_shock_8
	remove_trait = als_trait_shock_9
	remove_trait = als_trait_shock_10
	remove_trait = als_trait_shock_11
	remove_trait = als_trait_shock_12
	remove_trait = als_trait_shock_13
	remove_trait = als_trait_shock_14
	remove_trait = als_trait_shock_15
}

als_refresh_admirals_base_4_traits = {
	if = {
		limit = {
			is_variable_set = als_accuracy_exp
			is_variable_set = als_movement_exp
			is_variable_set = als_siege_exp
			is_variable_set = als_shock_exp
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value < 100
				}
			}
			add_trait_no_notify = als_trait_accuracy_0
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 100
				}
				check_variable = {
					which = als_accuracy_exp
					value < 200
				}
			}
			add_trait_no_notify = als_trait_accuracy_1
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 200
				}
				check_variable = {
					which = als_accuracy_exp
					value < 300
				}
			}
			add_trait_no_notify = als_trait_accuracy_2
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 300
				}
				check_variable = {
					which = als_accuracy_exp
					value < 400
				}
			}
			add_trait_no_notify = als_trait_accuracy_3
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 400
				}
				check_variable = {
					which = als_accuracy_exp
					value < 500
				}
			}
			add_trait_no_notify = als_trait_accuracy_4
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 500
				}
				check_variable = {
					which = als_accuracy_exp
					value < 600
				}
			}
			add_trait_no_notify = als_trait_accuracy_5
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 600
				}
				check_variable = {
					which = als_accuracy_exp
					value < 700
				}
			}
			add_trait_no_notify = als_trait_accuracy_6
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 700
				}
				check_variable = {
					which = als_accuracy_exp
					value < 800
				}
			}
			add_trait_no_notify = als_trait_accuracy_7
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 800
				}
				check_variable = {
					which = als_accuracy_exp
					value < 1000
				}
			}
			add_trait_no_notify = als_trait_accuracy_8
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 1000
				}
				check_variable = {
					which = als_accuracy_exp
					value < 1200
				}
			}
			add_trait_no_notify = als_trait_accuracy_9
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 1200
				}
				check_variable = {
					which = als_accuracy_exp
					value < 1400
				}
			}
			add_trait_no_notify = als_trait_accuracy_10
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 1400
				}
				check_variable = {
					which = als_accuracy_exp
					value < 1650
				}
			}
			add_trait_no_notify = als_trait_accuracy_11
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 1650
				}
				check_variable = {
					which = als_accuracy_exp
					value < 1900
				}
			}
			add_trait_no_notify = als_trait_accuracy_12
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 1900
				}
				check_variable = {
					which = als_accuracy_exp
					value < 2200
				}
			}
			add_trait_no_notify = als_trait_accuracy_13
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 2200
				}
				check_variable = {
					which = als_accuracy_exp
					value < 2500
				}
			}
			add_trait_no_notify = als_trait_accuracy_14
		}
		if = {
			limit = {
				check_variable = {
					which = als_accuracy_exp
					value >= 2500
				}
			}
			add_trait_no_notify = als_trait_accuracy_15
		}
	
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value < 100
				}
			}
			add_trait_no_notify = als_trait_movement_0
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 100
				}
				check_variable = {
					which = als_movement_exp
					value < 200
				}
			}
			add_trait_no_notify = als_trait_movement_1
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 200
				}
				check_variable = {
					which = als_movement_exp
					value < 300
				}
			}
			add_trait_no_notify = als_trait_movement_2
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 300
				}
				check_variable = {
					which = als_movement_exp
					value < 400
				}
			}
			add_trait_no_notify = als_trait_movement_3
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 400
				}
				check_variable = {
					which = als_movement_exp
					value < 500
				}
			}
			add_trait_no_notify = als_trait_movement_4
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 500
				}
				check_variable = {
					which = als_movement_exp
					value < 600
				}
			}
			add_trait_no_notify = als_trait_movement_5
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 600
				}
				check_variable = {
					which = als_movement_exp
					value < 700
				}
			}
			add_trait_no_notify = als_trait_movement_6
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 700
				}
				check_variable = {
					which = als_movement_exp
					value < 800
				}
			}
			add_trait_no_notify = als_trait_movement_7
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 800
				}
				check_variable = {
					which = als_movement_exp
					value < 1000
				}
			}
			add_trait_no_notify = als_trait_movement_8
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 1000
				}
				check_variable = {
					which = als_movement_exp
					value < 1200
				}
			}
			add_trait_no_notify = als_trait_movement_9
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 1200
				}
				check_variable = {
					which = als_movement_exp
					value < 1400
				}
			}
			add_trait_no_notify = als_trait_movement_10
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 1400
				}
				check_variable = {
					which = als_movement_exp
					value < 1650
				}
			}
			add_trait_no_notify = als_trait_movement_11
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 1650
				}
				check_variable = {
					which = als_movement_exp
					value < 1900
				}
			}
			add_trait_no_notify = als_trait_movement_12
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 1900
				}
				check_variable = {
					which = als_movement_exp
					value < 2200
				}
			}
			add_trait_no_notify = als_trait_movement_13
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 2200
				}
				check_variable = {
					which = als_movement_exp
					value < 2500
				}
			}
			add_trait_no_notify = als_trait_movement_14
		}
		if = {
			limit = {
				check_variable = {
					which = als_movement_exp
					value >= 2500
				}
			}
			add_trait_no_notify = als_trait_movement_15
		}
	
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value < 100
				}
			}
			add_trait_no_notify = als_trait_siege_0
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 100
				}
				check_variable = {
					which = als_siege_exp
					value < 200
				}
			}
			add_trait_no_notify = als_trait_siege_1
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 200
				}
				check_variable = {
					which = als_siege_exp
					value < 300
				}
			}
			add_trait_no_notify = als_trait_siege_2
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 300
				}
				check_variable = {
					which = als_siege_exp
					value < 400
				}
			}
			add_trait_no_notify = als_trait_siege_3
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 400
				}
				check_variable = {
					which = als_siege_exp
					value < 500
				}
			}
			add_trait_no_notify = als_trait_siege_4
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 500
				}
				check_variable = {
					which = als_siege_exp
					value < 600
				}
			}
			add_trait_no_notify = als_trait_siege_5
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 600
				}
				check_variable = {
					which = als_siege_exp
					value < 700
				}
			}
			add_trait_no_notify = als_trait_siege_6
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 700
				}
				check_variable = {
					which = als_siege_exp
					value < 800
				}
			}
			add_trait_no_notify = als_trait_siege_7
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 800
				}
				check_variable = {
					which = als_siege_exp
					value < 1000
				}
			}
			add_trait_no_notify = als_trait_siege_8
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 1000
				}
				check_variable = {
					which = als_siege_exp
					value < 1200
				}
			}
			add_trait_no_notify = als_trait_siege_9
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 1200
				}
				check_variable = {
					which = als_siege_exp
					value < 1400
				}
			}
			add_trait_no_notify = als_trait_siege_10
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 1400
				}
				check_variable = {
					which = als_siege_exp
					value < 1650
				}
			}
			add_trait_no_notify = als_trait_siege_11
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 1650
				}
				check_variable = {
					which = als_siege_exp
					value < 1900
				}
			}
			add_trait_no_notify = als_trait_siege_12
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 1900
				}
				check_variable = {
					which = als_siege_exp
					value < 2200
				}
			}
			add_trait_no_notify = als_trait_siege_13
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 2200
				}
				check_variable = {
					which = als_siege_exp
					value < 2500
				}
			}
			add_trait_no_notify = als_trait_siege_14
		}
		if = {
			limit = {
				check_variable = {
					which = als_siege_exp
					value >= 2500
				}
			}
			add_trait_no_notify = als_trait_siege_15
		}
	
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value < 100
				}
			}
			add_trait_no_notify = als_trait_shock_0
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 100
				}
				check_variable = {
					which = als_shock_exp
					value < 200
				}
			}
			add_trait_no_notify = als_trait_shock_1
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 200
				}
				check_variable = {
					which = als_shock_exp
					value < 300
				}
			}
			add_trait_no_notify = als_trait_shock_2
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 300
				}
				check_variable = {
					which = als_shock_exp
					value < 400
				}
			}
			add_trait_no_notify = als_trait_shock_3
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 400
				}
				check_variable = {
					which = als_shock_exp
					value < 500
				}
			}
			add_trait_no_notify = als_trait_shock_4
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 500
				}
				check_variable = {
					which = als_shock_exp
					value < 600
				}
			}
			add_trait_no_notify = als_trait_shock_5
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 600
				}
				check_variable = {
					which = als_shock_exp
					value < 700
				}
			}
			add_trait_no_notify = als_trait_shock_6
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 700
				}
				check_variable = {
					which = als_shock_exp
					value < 800
				}
			}
			add_trait_no_notify = als_trait_shock_7
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 800
				}
				check_variable = {
					which = als_shock_exp
					value < 1000
				}
			}
			add_trait_no_notify = als_trait_shock_8
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 1000
				}
				check_variable = {
					which = als_shock_exp
					value < 1200
				}
			}
			add_trait_no_notify = als_trait_shock_9
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 1200
				}
				check_variable = {
					which = als_shock_exp
					value < 1400
				}
			}
			add_trait_no_notify = als_trait_shock_10
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 1400
				}
				check_variable = {
					which = als_shock_exp
					value < 1650
				}
			}
			add_trait_no_notify = als_trait_shock_11
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 1650
				}
				check_variable = {
					which = als_shock_exp
					value < 1900
				}
			}
			add_trait_no_notify = als_trait_shock_12
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 1900
				}
				check_variable = {
					which = als_shock_exp
					value < 2200
				}
			}
			add_trait_no_notify = als_trait_shock_13
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 2200
				}
				check_variable = {
					which = als_shock_exp
					value < 2500
				}
			}
			add_trait_no_notify = als_trait_shock_14
		}
		if = {
			limit = {
				check_variable = {
					which = als_shock_exp
					value >= 2500
				}
			}
			add_trait_no_notify = als_trait_shock_15
		}
	}
}

#$strategic_name$
als_set_strategic_ally_modifier = {
	if = {
		limit = {
			event_target:als_fleet_with_leader = {
				leader = {
					OR = {
						has_trait = als_trait_strategic_$strategic_name$
						has_trait = als_trait_strategic_$strategic_name$_expert
					}
				}
				NOT = {
					has_fleet_flag = als_fleet_has_$strategic_name$_strategic
				}
			}
		}
		set_timed_fleet_flag = {
			flag = als_strategic_$strategic_name$_modifier
			days = 90
		}
		add_modifier = {
			modifier = als_strategic_$strategic_name$_modifier
			days = 90
		}
	}
	
}

#$strategic_name$
als_set_country_strategic_flag_from_admiral_for_swaping_menu = {
	if = {
		limit = {
			event_target:als_admiral = {
				OR = {
					has_trait = als_trait_strategic_$strategic_name$
					has_trait = als_trait_strategic_$strategic_name$_expert
				}
			}
		}
		set_country_flag = als_admiral_currect_has_strategic_$strategic_name$
	}
}
#$tactic_name$
als_set_country_tactic_flag_from_admiral_for_swaping_menu = {
	if = {
		limit = {
			event_target:als_admiral = {
				OR = {
					has_trait = als_trait_tactic_$tactic_name$
					has_trait = als_trait_tactic_$tactic_name$_expert
				}
			}
		}
		set_country_flag = als_admiral_currect_has_tactic_$tactic_name$
	}
}
als_set_country_tactic_flag_from_admiral_for_swaping_menu_for_bottled_up_and_fox_tiger = {
	if = {
		limit = {
			event_target:als_admiral = {
				OR = {
					has_trait = als_trait_tactic_$tactic_name$_actived
					has_trait = als_trait_tactic_$tactic_name$_expert_actived
					has_trait = als_trait_tactic_$tactic_name$_inactive1
					has_trait = als_trait_tactic_$tactic_name$_expert_inactive1
					has_trait = als_trait_tactic_$tactic_name$_inactive2
					has_trait = als_trait_tactic_$tactic_name$_expert_inactive2
					has_trait = als_trait_tactic_$tactic_name$_inactive3
					has_trait = als_trait_tactic_$tactic_name$_expert_inactive3
					has_trait = als_trait_tactic_$tactic_name$_inactive4
					has_trait = als_trait_tactic_$tactic_name$_expert_inactive4
					has_trait = als_trait_tactic_$tactic_name$_inactive5
					has_trait = als_trait_tactic_$tactic_name$_expert_inactive5
					has_trait = als_trait_tactic_$tactic_name$_inactive6
					has_trait = als_trait_tactic_$tactic_name$_expert_inactive6
					has_trait = als_trait_tactic_$tactic_name$_inactive7
					has_trait = als_trait_tactic_$tactic_name$_expert_inactive7
				}
			}
		}
		set_country_flag = als_admiral_currect_has_tactic_$tactic_name$
	}
}
##########
als_clean_country_currect_trait_flags = {
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = energy
		tactic_name = ambush
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = explosive
		tactic_name = camper
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = kinetic
		tactic_name = first_strike
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = point_defense
		tactic_name = foresight
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = strike_craft
		tactic_name = immune
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = artillery
		tactic_name = jammer
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = anti_hull
		tactic_name = long_range
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = anti_armor
		tactic_name = lurker
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = anti_shield
		tactic_name = self_sacrifice
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = border
		tactic_name = snowball
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = engineer
		tactic_name = surprise_attack
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = hyperliner
		tactic_name = unpredictable
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = invader
		tactic_name = untoachable
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = jumpdriver
		tactic_name = bomber
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = logistician
		tactic_name = bloodthirst
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = preaim
		tactic_name = cybershield
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = Resonator
		tactic_name = morale
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = sharpshooter
		tactic_name = scavenger
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = skyrocket
		tactic_name = spreadshot
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = triggerfinger
		tactic_name = abruptstop
	}
	als_clean_country_currect_trait_flags_gateway = {
		strategic_name = fortify
		tactic_name = surrounded
	}
	als_clean_country_currect_trait_flags_gateway = {
		tactic_name = breakthrough
	}
	als_clean_country_currect_trait_flags_gateway = {
		tactic_name = bottled_up
	}
	als_clean_country_currect_trait_flags_gateway = {
		tactic_name = fox_tiger
	}
	als_clean_country_currect_trait_flags_gateway = {
		tactic_name = reactarmor
	}
}

als_clean_country_currect_trait_flags_gateway = {
	remove_country_flag = als_admiral_currect_has_strategic_$strategic_name$
	remove_country_flag = als_admiral_currect_has_tactic_$tactic_name$
}

##########
#$strategic_name$
als_clean_admiral_currect_strategic_flags_of_country = {
	if = {
		limit = {
			has_country_flag = als_admiral_currect_has_strategic_$strategic_name$
		}
		remove_country_flag = als_admiral_currect_has_strategic_$strategic_name$
	}
}
#$tactic_name$
als_clean_admiral_currect_tactic_flags_of_country = {
	if = {
		limit = {
			has_country_flag = als_admiral_currect_has_tactic_$tactic_name$
		}
		remove_country_flag = als_admiral_currect_has_tactic_$tactic_name$
	}
	
}

#menu

#
als_menu_strategic_selected_effect = {
	set_country_flag = als_admiral_will_swap_strategic_trait
	set_country_flag = als_admiral_selected_$strategic_name$_strategic
}

als_menu_clean_other_strategic_selected_flag_effect = {
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = energy
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = explosive
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = kinetic
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = point_defense
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = strike_craft
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = artillery
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = anti_hull
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = anti_armor
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = anti_shield
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = border
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = engineer
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = hyperliner
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = invader
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = jumpdriver
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = logistician
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = preaim
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = Resonator
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = sharpshooter
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = skyrocket
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = triggerfinger
	}
	als_menu_clean_other_strategic_selected_flag_gateway_effect = {
		strategic_name = fortify
	}
	remove_country_flag = als_admiral_can_expertise_strategic_trait
}

als_menu_clean_other_strategic_selected_flag_gateway_effect = {
	remove_country_flag = als_admiral_selected_$strategic_name$_strategic
}

als_menu_tactic_selected_effect = {
	set_country_flag = als_admiral_will_swap_tactic_trait
	set_country_flag = als_admiral_selected_$tactic_name$_tactic
}

als_menu_clean_other_tactic_selected_flag_effect = {
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = ambush
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = camper
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = first_strike
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = foresight
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = immune
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = jammer
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = long_range
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = lurker
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = self_sacrifice
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = snowball
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = surprise_attack
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = unpredictable
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = untoachable
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = bomber
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = bloodthirst
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = reactarmor
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = cybershield
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = morale
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = scavenger
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = spreadshot
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = abruptstop
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = surrounded
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = breakthrough
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = bottled_up
	}
	als_menu_clean_other_tactic_selected_flag_gateway_effect = {
		tactic_name = fox_tiger
	}
	remove_country_flag = als_admiral_can_expertise_tactic_trait
}

als_menu_clean_other_tactic_selected_flag_gateway_effect = {
	remove_country_flag = als_admiral_selected_$tactic_name$_tactic
}

als_menu_confirm_the_changes_for_admiral_effect = {
	event_target:als_admiral = {
		als_admiral_remove_all_strategic_traits = yes
		als_admiral_remove_all_tactic_traits = yes
	}
}

#
als_admiral_remove_all_strategic_traits = {
	als_admiral_remove_strategic_trait_set = {
		strategic_name = energy
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = explosive
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = kinetic
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = point_defense
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = strike_craft
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = artillery
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = anti_hull
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = anti_armor
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = anti_shield
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = border
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = engineer
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = hyperliner
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = invader
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = jumpdriver
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = logistician
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = preaim
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = Resonator
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = sharpshooter
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = skyrocket
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = triggerfinger
	}
	als_admiral_remove_strategic_trait_set = {
		strategic_name = fortify
	}
}
#for als_admiral_remove_all_strategic_traits
als_admiral_remove_strategic_trait_set = {
	remove_trait = als_trait_strategic_$strategic_name$
	remove_trait = als_trait_strategic_$strategic_name$_expert
}



als_admiral_swap_strategic_traits_effect = {
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = energy
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = explosive
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = kinetic
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = point_defense
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = strike_craft
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = artillery
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = anti_hull
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = anti_armor
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = anti_shield
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = border
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = engineer
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = hyperliner
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = invader
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = jumpdriver
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = logistician
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = preaim
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = Resonator
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = sharpshooter
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = skyrocket
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = triggerfinger
	}
	als_admiral_remove_and_add_new_strategic_trait = {
		strategic_name = fortify
	}
}

#For als_admiral_swap_strategic_traits_effect
als_admiral_remove_and_add_new_strategic_trait = {
	if = {
		limit = {
			has_country_flag = als_admiral_will_swap_strategic_trait
			has_country_flag = als_admiral_selected_$strategic_name$_strategic
		}
		event_target:als_admiral = {
			als_admiral_remove_all_strategic_traits = yes
			if = {
				limit = {
					root = {
						has_country_flag = als_admiral_can_expertise_strategic_trait
					}
				}
				add_trait_no_notify = als_trait_strategic_$strategic_name$_expert
			}
			else = {
				add_trait_no_notify = als_trait_strategic_$strategic_name$
			}
		}
	}
}

#tactic

als_admiral_remove_all_tactic_traits = {
	als_admiral_remove_tactic_trait_set = {
		tactic_name = ambush
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = camper
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = first_strike
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = foresight
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = immune
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = jammer
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = long_range
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = lurker
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = self_sacrifice
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = snowball
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = surprise_attack
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = unpredictable
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = untoachable
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = bomber
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = bloodthirst
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = reactarmor
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = cybershield
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = morale
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = scavenger
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = spreadshot
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = abruptstop
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = surrounded
	}
	als_admiral_remove_tactic_trait_set = {
		tactic_name = breakthrough
	}
	remove_trait = als_trait_tactic_bottled_up_actived
	remove_trait = als_trait_tactic_bottled_up_inactive1
	remove_trait = als_trait_tactic_bottled_up_inactive2
	remove_trait = als_trait_tactic_bottled_up_inactive3
	remove_trait = als_trait_tactic_bottled_up_inactive4
	remove_trait = als_trait_tactic_bottled_up_inactive5
	remove_trait = als_trait_tactic_bottled_up_inactive6
	remove_trait = als_trait_tactic_bottled_up_inactive7
	remove_trait = als_trait_tactic_bottled_up_expert_actived
	remove_trait = als_trait_tactic_bottled_up_expert_inactive1
	remove_trait = als_trait_tactic_bottled_up_expert_inactive2
	remove_trait = als_trait_tactic_bottled_up_expert_inactive3
	remove_trait = als_trait_tactic_bottled_up_expert_inactive4
	remove_trait = als_trait_tactic_bottled_up_expert_inactive5
	remove_trait = als_trait_tactic_bottled_up_expert_inactive6
	remove_trait = als_trait_tactic_bottled_up_expert_inactive7
	remove_trait = als_trait_tactic_fox_tiger_actived
	remove_trait = als_trait_tactic_fox_tiger_inactive1
	remove_trait = als_trait_tactic_fox_tiger_inactive2
	remove_trait = als_trait_tactic_fox_tiger_inactive3
	remove_trait = als_trait_tactic_fox_tiger_inactive4
	remove_trait = als_trait_tactic_fox_tiger_inactive5
	remove_trait = als_trait_tactic_fox_tiger_inactive6
	remove_trait = als_trait_tactic_fox_tiger_inactive7
	remove_trait = als_trait_tactic_fox_tiger_expert_actived
	remove_trait = als_trait_tactic_fox_tiger_expert_inactive1
	remove_trait = als_trait_tactic_fox_tiger_expert_inactive2
	remove_trait = als_trait_tactic_fox_tiger_expert_inactive3
	remove_trait = als_trait_tactic_fox_tiger_expert_inactive4
	remove_trait = als_trait_tactic_fox_tiger_expert_inactive5
	remove_trait = als_trait_tactic_fox_tiger_expert_inactive6
	remove_trait = als_trait_tactic_fox_tiger_expert_inactive7
}

#for als_admiral_remove_all_tactic_traits
als_admiral_remove_tactic_trait_set = {
	remove_trait = als_trait_tactic_$tactic_name$
	remove_trait = als_trait_tactic_$tactic_name$_expert
}

#except bottled up and fox tiger
als_admiral_swap_tactic_traits_effect = {
	event_target:als_admiral = {
		set_leader_flag = als_admiral_has_unlocked_a_tactic
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = ambush
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = camper
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = first_strike
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = foresight
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = immune
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = jammer
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = long_range
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = lurker
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = self_sacrifice
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = snowball
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = surprise_attack
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = unpredictable
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = untoachable
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = bomber
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = bloodthirst
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = reactarmor
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = cybershield
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = morale
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = scavenger
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = spreadshot
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = abruptstop
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = surrounded
	}
	als_admiral_remove_and_add_new_tactic_trait = {
		tactic_name = breakthrough
	}
	if = { #bottled up
		limit = {
			has_country_flag = als_admiral_will_swap_tactic_trait
			has_country_flag = als_admiral_selected_bottled_up_tactic
		}
		event_target:als_admiral = {
			als_admiral_remove_all_tactic_traits = yes
			if = {
				limit = {
					root = {
						has_country_flag = als_admiral_can_expertise_tactic_trait
					}
				}
				random_list = {
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive1 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive2 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive3 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive4 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive5 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive6 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_expert_inactive7 }
				}
				
			}
			else = {
				random_list = {
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_inactive1 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_inactive2 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_inactive3 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_inactive4 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_inactive5 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_inactive6 }
					1 = { add_trait_no_notify = als_trait_tactic_bottled_up_inactive7 }
				}
			}
		}
	}
	if = { #fox tiger
		limit = {
			has_country_flag = als_admiral_will_swap_tactic_trait
			has_country_flag = als_admiral_selected_fox_tiger_tactic
		}
		event_target:als_admiral = {
			als_admiral_remove_all_tactic_traits = yes
			if = {
				limit = {
					root = {
						has_country_flag = als_admiral_can_expertise_tactic_trait
					}
				}
				random_list = {
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive1 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive2 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive3 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive4 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive5 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive6 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_expert_inactive7 }
				}
				
			}
			else = {
				random_list = {
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_inactive1 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_inactive2 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_inactive3 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_inactive4 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_inactive5 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_inactive6 }
					1 = { add_trait_no_notify = als_trait_tactic_fox_tiger_inactive7 }
				}
			}
		}
	}
}

#For als_admiral_swap_tactic_traits_effect
#for general tactic traits only
als_admiral_remove_and_add_new_tactic_trait = {
	if = {
		limit = {
			has_country_flag = als_admiral_will_swap_tactic_trait
			has_country_flag = als_admiral_selected_$tactic_name$_tactic
		}
		event_target:als_admiral = {
			als_admiral_remove_all_tactic_traits = yes
			if = {
				limit = {
					root = {
						has_country_flag = als_admiral_can_expertise_tactic_trait
					}
				}
				add_trait_no_notify = als_trait_tactic_$tactic_name$_expert
			}
			else = {
				add_trait_no_notify = als_trait_tactic_$tactic_name$
			}
		}
	}
}