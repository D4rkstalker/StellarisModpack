upkeep_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3031 }}
			30 = { country_event = { id = endim.3045 }}
		}
	}
}
upkeep_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			60 = { country_event = { id = endim.3031 }}
			40 = { country_event = { id = endim.3045 }}
		}
	}
}
upkeep_shroud_low_2 = {
	hidden_effect = {
		random_list = {
			40 = { country_event = { id = endim.3031 }}
			60 = { country_event = { id = endim.3045 }}
		}
	}
}
research_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3032 }}
			20 = { country_event = { id = endim.3045 }}
			10 = { country_event = { id = endim.3052 }}
		}
	}
}
research_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			50 = { country_event = { id = endim.3032 }}
			30 = { country_event = { id = endim.3045 }}
			20 = { country_event = { id = endim.3052 }}
		}
	}
}
research_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			30 = { country_event = { id = endim.3032 }}
			40 = { country_event = { id = endim.3045 }}
			30 = { country_event = { id = endim.3052 }}
		}
	}
}
shields_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3033 }}
			20 = { country_event = { id = endim.3045 }}
			10 = { country_event = { id = endim.3053 }}
		}
	}
}
shields_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			50 = { country_event = { id = endim.3033 }}
			30 = { country_event = { id = endim.3045 }}
			20 = { country_event = { id = endim.3053 }}
		}
	}
}
shields_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			30 = { country_event = { id = endim.3033 }}
			40 = { country_event = { id = endim.3045 }}
			30 = { country_event = { id = endim.3053 }}
		}
	}
}
weapons_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3034 }}
			20 = { country_event = { id = endim.3045 }}
			10 = { country_event = { id = endim.3054 }}
		}
	}
}
weapons_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			50 = { country_event = { id = endim.3034 }}
			30 = { country_event = { id = endim.3045 }}
			20 = { country_event = { id = endim.3054 }}
		}
	}
}
weapons_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			30 = { country_event = { id = endim.3034 }}
			40 = { country_event = { id = endim.3045 }}
			30 = { country_event = { id = endim.3054 }}
		}
	}
}
firingrate_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3035 }}
			20 = { country_event = { id = endim.3045 }}
			10 = { country_event = { id = endim.3055 }}
		}
	}
}
firingrate_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			50 = { country_event = { id = endim.3035 }}
			30 = { country_event = { id = endim.3045 }}
			20 = { country_event = { id = endim.3055 }}
		}
	}
}
firingrate_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			30 = { country_event = { id = endim.3035 }}
			40 = { country_event = { id = endim.3045 }}
			30 = { country_event = { id = endim.3055 }}
		}
	}
}
influence_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3037 }}
			20 = { country_event = { id = endim.3045 }}
			10 = { country_event = { id = endim.3057 }}
		}
	}
}
influence_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			50 = { country_event = { id = endim.3037 }}
			30 = { country_event = { id = endim.3045 }}
			20 = { country_event = { id = endim.3057 }}
		}
	}
}
influence_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			30 = { country_event = { id = endim.3037 }}
			40 = { country_event = { id = endim.3045 }}
			30 = { country_event = { id = endim.3057 }}
		}
	}
}
unity_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3038 }}
			20 = { country_event = { id = endim.3045 }}
			10 = { country_event = { id = endim.3058 }}
		}
	}
}
unity_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			50 = { country_event = { id = endim.3038 }}
			30 = { country_event = { id = endim.3045 }}
			20 = { country_event = { id = endim.3058 }}
		}
	}
}
unity_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			30 = { country_event = { id = endim.3038 }}
			40 = { country_event = { id = endim.3045 }}
			30 = { country_event = { id = endim.3058 }}
		}
	}
}
evasion_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3039 }}
			20 = { country_event = { id = endim.3045 }}
			10 = { country_event = { id = endim.3059 }}
		}
	}
}
evasion_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			50 = { country_event = { id = endim.3039 }}
			30 = { country_event = { id = endim.3045 }}
			20 = { country_event = { id = endim.3059 }}
		}
	}
}
evasion_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			30 = { country_event = { id = endim.3039 }}
			40 = { country_event = { id = endim.3045 }}
			30 = { country_event = { id = endim.3059 }}
		}
	}
}
repair_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3040 }}
			30 = { country_event = { id = endim.3045 }}
		}
	}
}
repair_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			60 = { country_event = { id = endim.3040 }}
			40 = { country_event = { id = endim.3045 }}
		}
	}
}	
repair_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			30 = { country_event = { id = endim.3040 }}
			40 = { country_event = { id = endim.3045 }}
			30 = { country_event = { id = endim.3052 }}
		}
	}
}
speed_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3042 }}
			20 = { country_event = { id = endim.3045 }}
			10 = { country_event = { id = endim.3056 }}
		}
	}
}
speed_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			50 = { country_event = { id = endim.3042 }}
			30 = { country_event = { id = endim.3045 }}
			20 = { country_event = { id = endim.3057 }}
		}
	}
}
speed_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			30 = { country_event = { id = endim.3042 }}
			40 = { country_event = { id = endim.3045 }}
			30 = { country_event = { id = endim.3058 }}
		}
	}
}
sensor_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			70 = { country_event = { id = endim.3044 }}
			20 = { country_event = { id = endim.3045 }}
			10 = { country_event = { id = endim.3052 }}
		}
	}
}
sensor_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			50 = { country_event = { id = endim.3044 }}
			30 = { country_event = { id = endim.3045 }}
			20 = { country_event = { id = endim.3053 }}
		}
	}
}
sensor_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			30 = { country_event = { id = endim.3044 }}
			40 = { country_event = { id = endim.3045 }}
			30 = { country_event = { id = endim.3054 }}
		}
	}
}
avatar_shroud_high_2 = { 
	hidden_effect = {
		random_list = {
			38 = { country_event = { id = endim.3020 }}
			38 = { country_event = { id = endim.3021 }}
			20 = { country_event = { id = endim.3022 }}
			10 = { country_event = { id = endim.3023 }}
		}
	}
}
avatar_shroud_medium_2 = { 
	hidden_effect = {
		random_list = {
			25 = { country_event = { id = endim.3020 }}
			25 = { country_event = { id = endim.3021 }}
			30 = { country_event = { id = endim.3022 }}
			20 = { country_event = { id = endim.3023 }}
		}
	}
}
avatar_shroud_low_2 = { 
	hidden_effect = {
		random_list = {
			15 = { country_event = { id = endim.3020 }}
			15 = { country_event = { id = endim.3021 }}
			40 = { country_event = { id = endim.3022 }}
			30 = { country_event = { id = endim.3023 }}
		}
	}
}
calculate_servitor_morale = {
	if = { # >50%
	limit = {
		pop_percentage = {
			percentage >= 0.5
			limit = { has_living_standard = { type = living_standard_organic_trophy } }
		}
	}
	add_modifier = { modifier = servitor_morale_max days = -1 }
		switch = {
			trigger = has_modifier

			servitor_morale_very_high = { remove_modifier = servitor_morale_very_high }
			servitor_morale_high = { remove_modifier = servitor_morale_high }
			servitor_morale_normal = { remove_modifier = servitor_morale_normal }
			servitor_morale_low = { remove_modifier = servitor_morale_low }
			servitor_morale_very_low = { remove_modifier = servitor_morale_very_low }
		}
	}	
	if = { # >40%
	limit = {
		pop_percentage = {
			percentage >= 0.4
			limit = { has_living_standard = { type = living_standard_organic_trophy } }
		}
	}
	add_modifier = { modifier = servitor_morale_very_high days = -1 }
		switch = {
			trigger = has_modifier
			servitor_morale_max = { remove_modifier = servitor_morale_max }

			servitor_morale_high = { remove_modifier = servitor_morale_high }
			servitor_morale_normal = { remove_modifier = servitor_morale_normal }
			servitor_morale_low = { remove_modifier = servitor_morale_low }
			servitor_morale_very_low = { remove_modifier = servitor_morale_very_low }
		}
	}
	if = { # >30%
		limit = {
			pop_percentage = {
				percentage >= 0.3
				limit = { has_living_standard = { type = living_standard_organic_trophy } }
			}
		}
		add_modifier = { modifier = servitor_morale_high days = -1 }
		switch = {
			trigger = has_modifier
			servitor_morale_max = { remove_modifier = servitor_morale_max }
			servitor_morale_very_high = { remove_modifier = servitor_morale_very_high }

			servitor_morale_normal = { remove_modifier = servitor_morale_normal }
			servitor_morale_low = { remove_modifier = servitor_morale_low }
			servitor_morale_very_low = { remove_modifier = servitor_morale_very_low }
		}
	}
	if = { # >20%
		limit = {
			pop_percentage = {
				percentage >= 0.2
				limit = { has_living_standard = { type = living_standard_organic_trophy } }
			}
		}
		add_modifier = { modifier = servitor_morale_normal days = -1 }
		switch = {
			trigger = has_modifier
			servitor_morale_max = { remove_modifier = servitor_morale_max }
			servitor_morale_very_high = { remove_modifier = servitor_morale_very_high }
			servitor_morale_high = { remove_modifier = servitor_morale_high }

			servitor_morale_low = { remove_modifier = servitor_morale_low }
			servitor_morale_very_low = { remove_modifier = servitor_morale_very_low }
		}
	}
	if = { # >10%
	limit = {
		pop_percentage = {
			percentage >= 0.1
			limit = { has_living_standard = { type = living_standard_organic_trophy } }
		}
	}
	add_modifier = { modifier = servitor_morale_low days = -1 }
		switch = {
			trigger = has_modifier
			servitor_morale_max = { remove_modifier = servitor_morale_max }
			servitor_morale_very_high = { remove_modifier = servitor_morale_very_high }
			servitor_morale_high = { remove_modifier = servitor_morale_high }
			servitor_morale_normal = { remove_modifier = servitor_morale_normal }

			servitor_morale_very_low = { remove_modifier = servitor_morale_very_low }
		}
	}
	if = { # >0%
	limit = {
		pop_percentage = {
			percentage >= 0
			limit = { has_living_standard = { type = living_standard_organic_trophy } }
		}
	}
	add_modifier = { modifier = servitor_morale_very_low days = -1 }
		switch = {
			trigger = has_modifier
			servitor_morale_max = { remove_modifier = servitor_morale_max }
			servitor_morale_very_high = { remove_modifier = servitor_morale_very_high }
			servitor_morale_high = { remove_modifier = servitor_morale_high }
			servitor_morale_normal = { remove_modifier = servitor_morale_normal }
			servitor_morale_low = { remove_modifier = servitor_morale_low }

		}
	}
}
clear_mod_servitor_morale = {
	switch = {
		trigger = has_modifier
		servitor_morale_max = { remove_modifier = servitor_morale_max }
		servitor_morale_very_high = { remove_modifier = servitor_morale_very_high }
		servitor_morale_high = { remove_modifier = servitor_morale_high }
		servitor_morale_normal = { remove_modifier = servitor_morale_normal }
		servitor_morale_low = { remove_modifier = servitor_morale_low }
		servitor_morale_very_low = { remove_modifier = servitor_morale_very_low }
	}
}
calculate_mod_emotion_shock = {
	if = {
		limit = {
			NOR = {
				has_modifier = mod_emotion_shock_9
				has_modifier = mod_emotion_shock_8
				has_modifier = mod_emotion_shock_7
				has_modifier = mod_emotion_shock_6
				has_modifier = mod_emotion_shock_5
				has_modifier = mod_emotion_shock_4
				has_modifier = mod_emotion_shock_3
				has_modifier = mod_emotion_shock_2
				has_modifier = mod_emotion_shock_1
			}
		}
		add_modifier = { modifier = "mod_emotion_shock_9" days = -1 }
		country_event = { id = machinedlc.26 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_emotion_shock_9 }
		remove_modifier = mod_emotion_shock_9
		add_modifier = { modifier = "mod_emotion_shock_8" days = -1 }      
		country_event = { id = machinedlc.26 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_emotion_shock_8 }
		remove_modifier = mod_emotion_shock_8
		add_modifier = { modifier = "mod_emotion_shock_7" days = -1 }      
		country_event = { id = machinedlc.26 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_emotion_shock_7 }
		remove_modifier = mod_emotion_shock_7
		add_modifier = { modifier = "mod_emotion_shock_6" days = -1 }      
		country_event = { id = machinedlc.26 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_emotion_shock_6 }
		remove_modifier = mod_emotion_shock_6
		add_modifier = { modifier = "mod_emotion_shock_5" days = -1 }      
		country_event = { id = machinedlc.26 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_emotion_shock_5 }
		remove_modifier = mod_emotion_shock_5
		add_modifier = { modifier = "mod_emotion_shock_4" days = -1 }      
		country_event = { id = machinedlc.26 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_emotion_shock_4 }
		remove_modifier = mod_emotion_shock_4
		add_modifier = { modifier = "mod_emotion_shock_3" days = -1 }      
		country_event = { id = machinedlc.26 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_emotion_shock_3 }
		remove_modifier = mod_emotion_shock_3
		add_modifier = { modifier = "mod_emotion_shock_2" days = -1 }      
		country_event = { id = machinedlc.26 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_emotion_shock_2 }
		remove_modifier = mod_emotion_shock_2
		add_modifier = { modifier = "mod_emotion_shock_1" days = -1 }      
		country_event = { id = machinedlc.26 days = 545 }
	}

	else_if = {
		limit = { has_modifier = mod_emotion_shock_1 }
		remove_modifier = mod_emotion_shock_1
	}
}
calculate_mod_identity_conflict = {
	if = {
		limit = { 
			NOR = {
				has_modifier = mod_identity_conflict_9
				has_modifier = mod_identity_conflict_8
				has_modifier = mod_identity_conflict_7
				has_modifier = mod_identity_conflict_6
				has_modifier = mod_identity_conflict_5
				has_modifier = mod_identity_conflict_4
				has_modifier = mod_identity_conflict_3
				has_modifier = mod_identity_conflict_2
				has_modifier = mod_identity_conflict_1
			}
		}
		add_modifier = { modifier = "mod_identity_conflict_9" days = -1 }
		country_event = { id = machinedlc.36 days = 545 }
	}	
	else_if = {
		limit = { has_modifier = mod_identity_conflict_9 }
		remove_modifier = mod_identity_conflict_9
		add_modifier = { modifier = "mod_identity_conflict_8" days = -1 }      
		country_event = { id = machinedlc.36 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_identity_conflict_8 }
		remove_modifier = mod_identity_conflict_8
		add_modifier = { modifier = "mod_identity_conflict_7" days = -1 }      
		country_event = { id = machinedlc.36 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_identity_conflict_7 }
		remove_modifier = mod_identity_conflict_7
		add_modifier = { modifier = "mod_identity_conflict_6" days = -1 }      
		country_event = { id = machinedlc.36 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_identity_conflict_6 }
		remove_modifier = mod_identity_conflict_6
		add_modifier = { modifier = "mod_identity_conflict_5" days = -1 }      
		country_event = { id = machinedlc.36 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_identity_conflict_5 }
		remove_modifier = mod_identity_conflict_5
		add_modifier = { modifier = "mod_identity_conflict_4" days = -1 }      
		country_event = { id = machinedlc.36 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_identity_conflict_4 }
		remove_modifier = mod_identity_conflict_4
		add_modifier = { modifier = "mod_identity_conflict_3" days = -1 }      
		country_event = { id = machinedlc.36 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_identity_conflict_3 }
		remove_modifier = mod_identity_conflict_3
		add_modifier = { modifier = "mod_identity_conflict_2" days = -1 }      
		country_event = { id = machinedlc.36 days = 545 }
	}
	else_if = {
		limit = { has_modifier = mod_identity_conflict_2 }
		remove_modifier = mod_identity_conflict_2
		add_modifier = { modifier = "mod_identity_conflict_1" days = -1 }      
		country_event = { id = machinedlc.36 days = 545 }
	}

	else_if = {
		limit = { has_modifier = mod_identity_conflict_1 }
		remove_modifier = mod_identity_conflict_1
	}
}
clear_trait_pc_preference = {
	if = {
		limit = { has_trait = trait_pc_desert_preference }
		modify_species = {
			base = none
			remove_trait = trait_pc_desert_preference
		}
	}
	else_if = {
		limit = { has_trait = trait_pc_arid_preference }
		modify_species = {
			base = none
			remove_trait = trait_pc_arid_preference
		}
	}
	else_if = {
		limit = { has_trait = trait_pc_savannah_preference }
		modify_species = {
			base = none
			remove_trait = trait_pc_savannah_preference
		}
	}

	else_if = {
		limit = { has_trait = trait_pc_tropical_preference }
		modify_species = {
			base = none
			remove_trait = trait_pc_tropical_preference
		}
	}
	else_if = {
		limit = { has_trait = trait_pc_continental_preference }
		modify_species = {
			base = none
			remove_trait = trait_pc_continental_preference
		}
	}
	else_if = {
		limit = { has_trait = trait_pc_ocean_preference }
		modify_species = {
			base = none
			remove_trait = trait_pc_ocean_preference
		}
	}

	else_if = {
		limit = { has_trait = trait_pc_arctic_preference }
		modify_species = {
			base = none
			remove_trait = trait_pc_arctic_preference
		}
	}
	else_if = {
		limit = { has_trait = trait_pc_tundra_preference }
		modify_species = {
			base = none
			remove_trait = trait_pc_tundra_preference
		}
	}
	else_if = {
		limit = { has_trait = trait_pc_alpine_preference }
		modify_species = {
			base = none
			remove_trait = trait_pc_alpine_preference
		}
	}
}
clear_central_core_trait = {
	while = {
		switch = {
			trigger = has_trait
			leader_trait_flexible_programming_machinedlc = { remove_ruler_trait = leader_trait_flexible_programming_machinedlc }
			leader_trait_analytical_machinedlc = { remove_ruler_trait = leader_trait_analytical_machinedlc }
			leader_trait_fleet_organizer_machinedlc = { remove_ruler_trait = leader_trait_fleet_organizer_machinedlc }
			leader_trait_reformer_machinedlc = { remove_ruler_trait = leader_trait_reformer_machinedlc }
			trait_ruler_expansionist_machinedlc = { remove_ruler_trait = trait_ruler_expansionist_machinedlc }
		
			trait_ruler_industrialist_machinedlc = { remove_ruler_trait = trait_ruler_industrialist_machinedlc }
			trait_ruler_warlike_machinedlc = { remove_ruler_trait = trait_ruler_warlike_machinedlc }
			trait_ruler_investor_machinedlc = { remove_ruler_trait = trait_ruler_investor_machinedlc }
			trait_ruler_deep_connections_machinedlc = { remove_ruler_trait = trait_ruler_deep_connections_machinedlc }
			trait_ruler_logistic_understanding_machinedlc = { remove_ruler_trait = trait_ruler_logistic_understanding_machinedlc }
		
			trait_ruler_world_shaper_machinedlc = { remove_ruler_trait = trait_ruler_world_shaper_machinedlc }
			leader_trait_agrarian_upbringing_machinedlc = { remove_ruler_trait = leader_trait_agrarian_upbringing_machinedlc }
			ruler_trait_ingenious_machinedlc = { remove_ruler_trait = ruler_trait_ingenious_machinedlc }
			leader_trait_ai_aided_design_machinedlc = { remove_ruler_trait = leader_trait_ai_aided_design_machinedlc }
			leader_trait_warbot_tinkerer_machinedlc = { remove_ruler_trait = leader_trait_warbot_tinkerer_machinedlc }
		
			ruler_trait_righteous_machinedlc = { remove_ruler_trait = ruler_trait_righteous_machinedlc }
			ruler_trait_architectural_interest_machinedlc = { remove_ruler_trait = ruler_trait_architectural_interest_machinedlc }
			trait_ruler_home_in_the_sky_machinedlc = { remove_ruler_trait = trait_ruler_home_in_the_sky_machinedlc }
			trait_ruler_corvette_focus_machinedlc = { remove_ruler_trait = trait_ruler_corvette_focus_machinedlc }
			trait_ruler_destroyer_focus_machinedlc = { remove_ruler_trait = trait_ruler_destroyer_focus_machinedlc }

			trait_ruler_cruiser_focus_machinedlc = { remove_ruler_trait = trait_ruler_cruiser_focus_machinedlc }
			trait_ruler_battleship_focus_machinedlc = { remove_ruler_trait = trait_ruler_battleship_focus_machinedlc }			

		}
	}
}
clear_machine_leader_making_values = {
	if = {
		limit = {
			OR = {
				has_country_flag = machine_leader_skill_level_set_1
				has_country_flag = machine_leader_skill_level_set_2
				has_country_flag = machine_leader_skill_level_set_3
				has_country_flag = machine_leader_skill_level_set_4
				has_country_flag = machine_leader_skill_level_set_5
				has_country_flag = machine_leader_skill_level_set_6
			}
		}
		clear_machine_leader_making_skill_levels = yes
	}
	if = {
		limit = { has_country_flag = leader_class_set_to_governor }
		clear_machine_leader_making_governor_traits = yes
		remove_country_flag = leader_class_set_to_governor
	}
	if = {
		limit = { has_country_flag = leader_class_set_to_scientist }
		clear_machine_leader_making_scientist_traits = yes
		remove_country_flag = leader_class_set_to_scientist
	}
	if = {
		limit = { has_country_flag = leader_class_set_to_admiral }
		clear_machine_leader_making_admiral_traits = yes
		remove_country_flag = leader_class_set_to_admiral
	}
	if = {
		limit = { has_country_flag = leader_class_set_to_general }
		clear_machine_leader_making_general_traits = yes
		remove_country_flag = leader_class_set_to_general
	}
}
clear_machine_leader_making_skill_levels = {
	switch = {
		trigger = has_country_flag
		machine_leader_skill_level_set_1 = { remove_country_flag = machine_leader_skill_level_set_1 }
		machine_leader_skill_level_set_2 = { remove_country_flag = machine_leader_skill_level_set_2 }
		machine_leader_skill_level_set_3 = { remove_country_flag = machine_leader_skill_level_set_3 }
		machine_leader_skill_level_set_4 = { remove_country_flag = machine_leader_skill_level_set_4 }
		machine_leader_skill_level_set_5 = { remove_country_flag = machine_leader_skill_level_set_5 }
		machine_leader_skill_level_set_6 = { remove_country_flag = machine_leader_skill_level_set_6 }
	}
}
clear_machine_leader_making_governor_traits = {
	set_variable = {
		which = machine_leader_trait_points_set
		value = 4 #max traits number
	}
	while = {
		switch = {
			trigger = has_country_flag
			leader_trait_governor_1 = { remove_country_flag = leader_trait_governor_1 }
			leader_trait_governor_2 = { remove_country_flag = leader_trait_governor_2 }
			leader_trait_governor_3 = { remove_country_flag = leader_trait_governor_3 }
			leader_trait_governor_4 = { remove_country_flag = leader_trait_governor_4 }
			leader_trait_governor_5 = { remove_country_flag = leader_trait_governor_5 }
			leader_trait_governor_6 = { remove_country_flag = leader_trait_governor_6 }
			leader_trait_governor_7 = { remove_country_flag = leader_trait_governor_7 }
			leader_trait_governor_8 = { remove_country_flag = leader_trait_governor_8 }
		}
	}
}
clear_machine_leader_making_scientist_traits = {
	set_variable = {
		which = machine_leader_trait_points_set
		value = 4 #max traits number
	}
	while = {
		switch = {
			trigger = has_country_flag
			leader_trait_scientist_1 = { remove_country_flag = leader_trait_scientist_1 }
			leader_trait_scientist_2 = { remove_country_flag = leader_trait_scientist_2 }
			leader_trait_scientist_3 = { remove_country_flag = leader_trait_scientist_3 }
			leader_trait_scientist_4 = { remove_country_flag = leader_trait_scientist_4 }
			leader_trait_scientist_5 = { remove_country_flag = leader_trait_scientist_5 }

			leader_trait_scientist_6 = { remove_country_flag = leader_trait_scientist_6 }
			leader_trait_scientist_7 = { remove_country_flag = leader_trait_scientist_7 }
			leader_trait_scientist_8 = { remove_country_flag = leader_trait_scientist_8 }
			leader_trait_scientist_9 = { remove_country_flag = leader_trait_scientist_9 }
			leader_trait_scientist_10 = { remove_country_flag = leader_trait_scientist_10 }

			leader_trait_scientist_11 = { remove_country_flag = leader_trait_scientist_11 }
			leader_trait_scientist_12 = { remove_country_flag = leader_trait_scientist_12 }
			leader_trait_scientist_13 = { remove_country_flag = leader_trait_scientist_13 }
			leader_trait_scientist_14 = { remove_country_flag = leader_trait_scientist_14 }
			leader_trait_scientist_15 = { remove_country_flag = leader_trait_scientist_15 }

			leader_trait_scientist_16 = { remove_country_flag = leader_trait_scientist_16 }
			leader_trait_scientist_17 = { remove_country_flag = leader_trait_scientist_17 }
			leader_trait_scientist_18 = { remove_country_flag = leader_trait_scientist_18 }
		}
	}
}
clear_machine_leader_making_admiral_traits = {
	set_variable = {
		which = machine_leader_trait_points_set
		value = 4 #max traits number
	}
	while = {
		switch = {
			trigger = has_country_flag
			leader_trait_admiral_1 = { remove_country_flag = leader_trait_admiral_1 }
			leader_trait_admiral_2 = { remove_country_flag = leader_trait_admiral_2 }
			leader_trait_admiral_3 = { remove_country_flag = leader_trait_admiral_3 }
			leader_trait_admiral_4 = { remove_country_flag = leader_trait_admiral_4 }
			leader_trait_admiral_5 = { remove_country_flag = leader_trait_admiral_5 }

			leader_trait_admiral_6 = { remove_country_flag = leader_trait_admiral_6 }
			leader_trait_admiral_7 = { remove_country_flag = leader_trait_admiral_7 }
			leader_trait_admiral_8 = { remove_country_flag = leader_trait_admiral_8 }
			leader_trait_admiral_9 = { remove_country_flag = leader_trait_admiral_9 }
			leader_trait_admiral_10 = { remove_country_flag = leader_trait_admiral_10 }			
		}	
	}
}
clear_machine_leader_making_general_traits = {
	set_variable = {
		which = machine_leader_trait_points_set
		value = 4 #max traits number
	}
	while = {
		switch = {
			trigger = has_country_flag
			leader_trait_general_1 = { remove_country_flag = leader_trait_general_1 }
			leader_trait_general_2 = { remove_country_flag = leader_trait_general_2 }
			leader_trait_general_3 = { remove_country_flag = leader_trait_general_3 }
			leader_trait_general_4 = { remove_country_flag = leader_trait_general_4 }
			leader_trait_general_5 = { remove_country_flag = leader_trait_general_5 }
		}
	}
}
machine_leader_making_process = {
    #set leader class phase
    if = {
        limit = { has_country_flag = leader_class_set_to_governor }
        create_leader = {
            class = governor
            species = owner_main_species
            effect = {
                save_event_target_as = machine_leader_making_target
            }
        }
        event_target:machine_leader_making_target = {
            switch = {
                trigger = has_trait
                leader_trait_newboot_machinedlc = { remove_trait = leader_trait_newboot_machinedlc }
                leader_trait_flexible_programming = { remove_trait = leader_trait_flexible_programming }
                leader_trait_architectural_interest = { remove_trait = leader_trait_architectural_interest }
                leader_trait_bulldozer = { remove_trait = leader_trait_bulldozer }
                leader_trait_analytical = { remove_trait = leader_trait_analytical }

                leader_trait_ai_aided_design = { remove_trait = leader_trait_ai_aided_design }
				leader_trait_warbot_tinkerer = { remove_trait = leader_trait_warbot_tinkerer }
				leader_trait_righteous_machinedlc = { remove_trait = leader_trait_righteous_machinedlc }
            }
        }
        owner = {
            if = {
                limit = { has_country_flag = leader_trait_governor_1 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_newboot_machinedlc
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_governor_2 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_flexible_programming
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_governor_3 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_architectural_interest
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_governor_4 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_bulldozer
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_governor_5 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_analytical
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_governor_6 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_ai_aided_design
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_governor_7 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_warbot_tinkerer
                }
			}
			if = {
                limit = { has_country_flag = leader_trait_governor_8 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_righteous_machinedlc
                }
            }
        }
    }
    else_if = {
        limit = { has_country_flag = leader_class_set_to_scientist }
        create_leader = {
            class = scientist
            species = owner_main_species
            effect = {
                save_event_target_as = machine_leader_making_target
            }
        }
        event_target:machine_leader_making_target = {
            switch = {
                trigger = has_trait
                leader_trait_newboot_machinedlc = { remove_trait = leader_trait_newboot_machinedlc }
                leader_trait_flexible_programming = { remove_trait = leader_trait_flexible_programming }
                leader_trait_spark_of_genius = { remove_trait = leader_trait_spark_of_genius }
                leader_trait_archaeologist_ancrel = { remove_trait = leader_trait_archaeologist_ancrel }
                leader_trait_archaeologist = { remove_trait = leader_trait_archaeologist }

                leader_trait_roamer = { remove_trait = leader_trait_roamer }
                leader_trait_meticulous = { remove_trait = leader_trait_meticulous }
                leader_trait_carefree = { remove_trait = leader_trait_carefree }
                leader_trait_expertise_computing = { remove_trait = leader_trait_expertise_computing }
                leader_trait_expertise_field_manipulation = { remove_trait = leader_trait_expertise_field_manipulation }

                leader_trait_expertise_particles = { remove_trait = leader_trait_expertise_particles }
                leader_trait_expertise_industry = { remove_trait = leader_trait_expertise_industry }
                leader_trait_expertise_materials = { remove_trait = leader_trait_expertise_materials }
                leader_trait_expertise_propulsion = { remove_trait = leader_trait_expertise_propulsion }
                leader_trait_expertise_voidcraft = { remove_trait = leader_trait_expertise_voidcraft }

                leader_trait_expertise_biology = { remove_trait = leader_trait_expertise_biology }
                leader_trait_expertise_military_theory = { remove_trait = leader_trait_expertise_military_theory }
                leader_trait_expertise_new_worlds = { remove_trait = leader_trait_expertise_new_worlds }
                leader_trait_expertise_statecraft = { remove_trait = leader_trait_expertise_statecraft }
            }
        }
        owner = {
            if = {
                limit = { has_country_flag = leader_trait_scientist_1 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_newboot_machinedlc
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_2 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_flexible_programming
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_3 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_spark_of_genius
                }
            }
            if = {
                limit = {
                    has_country_flag = leader_trait_scientist_4 
                    host_has_dlc = "Ancient Relics Story Pack"
                }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_archaeologist_ancrel
                }
            }
            if = {
                limit = {
                    has_country_flag = leader_trait_scientist_4 
                    NOT = { host_has_dlc = "Ancient Relics Story Pack" }
                }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_archaeologist
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_5 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_roamer
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_6 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_meticulous
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_7 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_carefree
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_8 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_computing
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_9 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_field_manipulation
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_10 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_particles
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_11 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_industry
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_12 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_materials
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_13 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_propulsion
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_14 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_voidcraft
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_15 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_biology
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_16 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_military_theory
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_17 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_new_worlds
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_scientist_18 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_expertise_statecraft
                }
            }
        }
    }
    else_if = {
        limit = { has_country_flag = leader_class_set_to_admiral }
        create_leader = {
            class = admiral
            species = owner_main_species
            effect = {
                save_event_target_as = machine_leader_making_target
            }
        }
        event_target:machine_leader_making_target = {
            switch = {
                trigger = has_trait
                leader_trait_newboot_machinedlc = { remove_trait = leader_trait_newboot_machinedlc }
                leader_trait_flexible_programming = { remove_trait = leader_trait_flexible_programming }
                leader_trait_aggressive = { remove_trait = leader_trait_aggressive }
                leader_trait_trickster = { remove_trait = leader_trait_trickster }
                leader_trait_scout = { remove_trait = leader_trait_scout }
                
                leader_trait_cautious = { remove_trait = leader_trait_cautious }
                leader_trait_engineer = { remove_trait = leader_trait_engineer }
                leader_trait_unyielding = { remove_trait = leader_trait_unyielding }
                leader_trait_maintenance_loop = { remove_trait = leader_trait_maintenance_loop }
                leader_trait_gale_speed = { remove_trait = leader_trait_gale_speed }
            }
        }
        owner = {
            if = {
                limit = { has_country_flag = leader_trait_admiral_1 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_newboot_machinedlc
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_admiral_2 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_flexible_programming
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_admiral_3 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_aggressive
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_admiral_4 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_trickster
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_admiral_5 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_scout
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_admiral_6 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_cautious
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_admiral_7 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_engineer
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_admiral_8 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_unyielding
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_admiral_9 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_maintenance_loop
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_admiral_10 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_gale_speed
                }
            }
        }
    }
    else_if = {
        limit = { has_country_flag = leader_class_set_to_general }
        create_leader = {
            class = general
            species = owner_main_species
            effect = {
                save_event_target_as = machine_leader_making_target
            }
        }
        event_target:machine_leader_making_target = {
            switch = {
                trigger = has_trait
                leader_trait_newboot_machinedlc = { remove_trait = leader_trait_newboot_machinedlc }
                leader_trait_flexible_programming = { remove_trait = leader_trait_flexible_programming }
                leader_trait_demoralizer = { remove_trait = leader_trait_demoralizer }
                leader_trait_parts_cannibalizer = { remove_trait = leader_trait_parts_cannibalizer }
                leader_trait_butcher = { remove_trait = leader_trait_butcher }
            }
        }
        #set leader trait phase
        owner = {
            if = {
                limit = { has_country_flag = leader_trait_general_1 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_newboot_machinedlc
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_general_2 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_flexible_programming
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_general_3 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_demoralizer
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_general_4 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_parts_cannibalizer
                }
            }
            if = {
                limit = { has_country_flag = leader_trait_general_5 }
                add_resource = { energy = -500 minerals = -500 }
                event_target:machine_leader_making_target = {
                    add_trait = leader_trait_butcher
                }
            }
        }
    }
    #set leader skill level phase
    if = {
        limit = { has_country_flag = machine_leader_skill_level_set_1 }
        add_resource = { energy = -300 minerals = -300 }
        event_target:machine_leader_making_target = {
            set_skill = 1
        }
    }
    else_if = {
        limit = { has_country_flag = machine_leader_skill_level_set_2 }
        add_resource = { energy = -600 minerals = -600 }
        event_target:machine_leader_making_target = {
            set_skill = 2
        }
    }
    else_if = {
        limit = { has_country_flag = machine_leader_skill_level_set_3 }
        add_resource = { energy = -900 minerals = -900 }
        event_target:machine_leader_making_target = {
            set_skill = 3
        }
    }
    else_if = {
        limit = { has_country_flag = machine_leader_skill_level_set_4 }
        add_resource = { energy = -1200 minerals = -1200 }
        event_target:machine_leader_making_target = {
            set_skill = 4
        }
    }
    else_if = {
        limit = { has_country_flag = machine_leader_skill_level_set_5 }
        add_resource = { energy = -1500 minerals = -1500 }
        event_target:machine_leader_making_target = {
            set_skill = 5
        }
    }
    else_if = {
        limit = { has_country_flag = machine_leader_skill_level_set_6 }
        add_resource = { energy = -1800 minerals = -1800 }
        event_target:machine_leader_making_target = {
            set_skill = 6
        }
    }
}
decision_remove_drone_unemployed_effect = {
	if = {
		limit = { count_pops = { limit = { is_unemployed = yes } count >= 0 } }
		every_owned_pop = {
			limit = { is_unemployed = yes }
			kill_pop = yes
		}
		owner = { add_resource = { minerals = 50 } }
	}
	else_if = {
		limit = { count_pops = { limit = { is_unemployed = yes } count >= 5 } }
		every_owned_pop = {
			limit = { is_unemployed = yes }
			kill_pop = yes
		}
		owner = { add_resource = { minerals = 250 }	}
	}
	else_if = {
		limit = { count_pops = { limit = { is_unemployed = yes } count >= 10 } }
		every_owned_pop = {
			limit = { is_unemployed = yes }
			kill_pop = yes
		}
		owner = { add_resource = { minerals = 500 }	}
	}
	else_if = {
		limit = { count_pops = { limit = { is_unemployed = yes } count >= 20 } }
		every_owned_pop = {
			limit = { is_unemployed = yes }
			kill_pop = yes
		}
		owner = { add_resource = { minerals = 1000 } }
	}
	else_if = {
		limit = { count_pops = { limit = { is_unemployed = yes } count >= 30 } }
		every_owned_pop = {
			limit = { is_unemployed = yes }
			kill_pop = yes
		}
		owner = { add_resource = { minerals = 1500 } }
	}
	else_if = {
		limit = { count_pops = { limit = { is_unemployed = yes } count >= 40 } }
		every_owned_pop = {
			limit = { is_unemployed = yes }
			kill_pop = yes
		}
		owner = { add_resource = { minerals = 2000 } }
	}
}
#machine empire to synth empire
ap_single_mind_building_transform = {
	every_owned_planet = {
		if = {
			limit = { has_building = building_deployment_post }
			remove_building = building_deployment_post
			add_building = building_colony_shelter
		}
		if = {
			limit = { has_building = building_machine_capital }
			remove_building = building_machine_capital
			add_building = building_capital
		}
		if = {
			limit = { has_building = building_machine_major_capital }
			remove_building = building_machine_major_capital
			add_building = building_major_capital
		}
		if = {
			limit = { has_building = building_machine_system_capital }
			remove_building = building_machine_system_capital
			add_building = building_system_capital
		}

		if = {
			limit = { has_building = building_machine_assembly_plant }
			remove_building = building_machine_assembly_plant
			add_building = building_robot_assembly_plant
		}
		if = {
			limit = { has_building = building_production_center }
			remove_building = building_production_center
			add_building = building_ministry_production
		}
		if = {
			limit = { has_building = building_supercomputer }
			remove_building = building_supercomputer
			add_building = building_institute
		}

		if = {
			limit = { has_building = building_uplink_node }
			remove_building = building_uplink_node
			add_building = building_autochthon_monument
		}
		if = {
			limit = { has_building = building_network_junction }
			remove_building = building_network_junction
			add_building = building_heritage_site
		}
		if = {
			limit = { has_building = building_system_conflux }
			remove_building = building_system_conflux
			add_building = building_hypercomms_forum
		}
		if = {
			limit = { has_building = building_alpha_hub }
			remove_building = building_alpha_hub
			add_building = building_autocurating_vault
		}

		while = {
			limit = { has_building = building_planet_processor_1 }
			remove_building = building_planet_processor_1
			add_building = building_factory_1
		}
		while = {
			limit = { has_building = building_planet_processor_2 }
			remove_building = building_planet_processor_2
			add_building = building_factory_2
		}
		while = {
			limit = { has_building = building_planet_processor_3 }
			remove_building = building_planet_processor_3
			add_building = building_factory_3
		}

		while = {
			limit = { has_building = building_sentinel_posts }
			remove_building = building_sentinel_posts
			add_building = building_precinct_house
		}

		while = {
			limit = { has_building = building_machine_commercial_zone }
			remove_building = building_machine_commercial_zone
			add_building = building_commercial_zone
		}
		while = {
			limit = { has_building = building_machine_commercial_megaplex }
			remove_building = building_machine_commercial_megaplex
			add_building = building_commercial_megaplex
		}

		while = {
			limit = {
				has_building = building_maintenance_depot
				owner = { NOT = { has_swapped_tradition = tr_synchronicity_integrated_preservation } }
			}
			remove_building = building_maintenance_depot
			add_building = building_synth_cyber_leisure_store
		}
		while = {
			limit = {
				has_building = building_maintenance_depot
				owner = { has_swapped_tradition = tr_synchronicity_integrated_preservation }
			}
			remove_building = building_maintenance_depot
			add_building = building_synth_cyber_leisure_megastore
		}

		while = {
			limit = { has_building = building_organic_sanctuary }
			remove_building = building_organic_sanctuary
		}
		while = {
			limit = { has_building = building_organic_paradise }
			remove_building = building_organic_paradise
		}
	}
}
#synth empire to machine empire
ap_united_mind_building_transform = {
	every_owned_planet = {
		if = {
			limit = { has_modifier = slave_colony }
			remove_modifier = slave_colony
		}
		if = {
			limit = { has_modifier = resort_colony }
			remove_modifier = resort_colony
		}
		if = {
			limit = { has_modifier = penal_colony }
			remove_modifier = penal_colony
		}

		if = {
			limit = { has_building = building_colony_shelter }
			remove_building = building_colony_shelter
			add_building = building_deployment_post
		}
		if = {
			limit = { has_building = building_capital }
			remove_building = building_capital
			add_building = building_machine_capital
		}			
		if = {
			limit = { has_building = building_major_capital }
			remove_building = building_major_capital
			add_building = building_machine_major_capital
		}
		if = {
			limit = { has_building = building_system_capital }
			remove_building = building_system_capital
			add_building = building_machine_system_capital
		}

		if = {
			limit = { has_building = building_resort_capital }
			remove_building = building_resort_capital
			add_building = building_machine_capital
		}
		if = {
			limit = { has_building = building_resort_major_capital }
			remove_building = building_resort_major_capital
			add_building = building_machine_system_capital
		}
		if = {
			limit = { has_building = building_slave_capital }
			remove_building = building_slave_capital
			add_building = building_machine_capital
		}
		if = {
			limit = { has_building = building_slave_major_capital }
			remove_building = building_slave_major_capital
			add_building = building_machine_system_capital
		}

		if = {
			limit = { has_building = building_robot_assembly_plant }
			remove_building = building_robot_assembly_plant
			add_building = building_machine_assembly_plant
		}
		if = {
			limit = { has_building = building_ministry_production }
			remove_building = building_ministry_production
			add_building = building_production_center
		}
		if = {
			limit = { has_building = building_institute }
			remove_building = building_institute
			add_building = building_supercomputer
		}

		if = {
			limit = { has_building = building_autochthon_monument }
			remove_building = building_autochthon_monument
			add_building = building_uplink_node
		}
		if = {
			limit = { has_building = building_heritage_site }
			remove_building = building_heritage_site
			add_building = building_network_junction
		}
		if = {
			limit = { has_building = building_hypercomms_forum }
			remove_building = building_hypercomms_forum
			add_building = building_system_conflux
		}
		if = {
			limit = { has_building = building_autocurating_vault }
			remove_building = building_autocurating_vault
			add_building = building_alpha_hub
		}
		if = {
			limit = { has_building = building_temple }
			remove_building = building_temple
			add_building = building_uplink_node
		}
		if = {
			limit = { has_building = building_holotemple }
			remove_building = building_holotemple
			add_building = building_network_junction
		}
		if = {
			limit = { has_building = building_sacred_nexus }
			remove_building = building_sacred_nexus
			add_building = building_system_conflux
		}
		if = {
			limit = { has_building = building_citadel_of_faith }
			remove_building = building_citadel_of_faith
			add_building = building_alpha_hub
		}
		if = {
			limit = { has_building = building_corporate_monument }
			remove_building = building_corporate_monument
			add_building = building_uplink_node
		}
		if = {
			limit = { has_building = building_corporate_site }
			remove_building = building_corporate_site
			add_building = building_network_junction
		}
		if = {
			limit = { has_building = building_corporate_forum }
			remove_building = building_corporate_forum
			add_building = building_system_conflux
		}
		if = {
			limit = { has_building = building_corporate_vault }
			remove_building = building_corporate_vault
			add_building = building_alpha_hub
		}

		while = {
			limit = { has_building = building_factory_1 }
			remove_building = building_factory_1
			add_building = building_planet_processor_1
		}
		while = {
			limit = { has_building = building_factory_2 }
			remove_building = building_factory_2
			add_building = building_planet_processor_2
		}
		while = {
			limit = { has_building = building_factory_3 }
			remove_building = building_factory_3
			add_building = building_planet_processor_3
		}

		if = {
			limit = { has_building = building_hybrid_maintenance_station }
			remove_building = building_hybrid_maintenance_station
			add_building = building_maintenance_depot
		}

		if = {
			limit = { has_building = building_bureaucratic_complex }
			remove_building = building_bureaucratic_complex
			add_building = building_machinedlcmod_maintenance_depot
		}
		if = {
			limit = { has_building = building_galactic_stock_exchange }
			remove_building = building_galactic_stock_exchange
			add_building = building_machinedlcmod_maintenance_depot
		}

		if = {
			limit = { has_building = building_psi_corps }
			remove_building = building_psi_corps
			add_building = building_sentinel_posts
		}
		while = {
			limit = { has_building = building_precinct_house }
			remove_building = building_precinct_house
			add_building = building_sentinel_posts
		}
		while = {
			limit = { has_building = building_overseer_homes }
			remove_building = building_overseer_homes
			add_building = building_sentinel_posts
		}

		while = {
			limit = { has_building = building_holo_theatres }
			remove_building = building_holo_theatres
			add_building = building_machinedlcmod_maintenance_depot
		}
		while = {
			limit = { has_building = building_hyper_entertainment_forum }
			remove_building = building_hyper_entertainment_forum
			add_building = building_machinedlcmod_maintenance_depot_2
		}
		while = {
			limit = { has_building = building_commercial_zone }
			remove_building = building_commercial_zone
			add_building = building_machinedlcmod_maintenance_depot_3
		}
		while = {
			limit = { has_building = building_commercial_megaplex }
			remove_building = building_commercial_megaplex
			add_building = building_machinedlcmod_maintenance_depot_4
		}

		while = {
			limit = { has_building = building_luxury_residence }
			remove_building = building_luxury_residence
			add_building = building_drone_storage
		}
		while = {
			limit = { has_building = building_paradise_dome }
			remove_building = building_paradise_dome
			add_building = building_drone_megastorage
		}
		while = {
			limit = { has_building = building_communal_housing }
			remove_building = building_communal_housing
			add_building = building_drone_storage
		}
		while = {
			limit = { has_building = building_communal_housing_large }
			remove_building = building_communal_housing_large
			add_building = building_drone_megastorage
		}
		while = {
			limit = { has_building = building_slave_huts }
			remove_building = building_slave_huts
			add_building = building_drone_megastorage
		}

		if = {
			limit = { has_building = building_clone_vats }
			remove_building = building_clone_vats
		}
		if = {
			limit = { has_building = building_xeno_zoo }
			remove_building = building_xeno_zoo
		}
	}
}