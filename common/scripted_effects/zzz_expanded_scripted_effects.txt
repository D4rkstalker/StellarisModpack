### MODDED ###
# gain_possitive_media_coverage
# gain_negative_media_coverage
# add_observer_clue
# finish_observer_event
# create_human_infiltrated_spiritual_primitives
# create_human_infiltrated_materialist_primitives
# create_human_infiltrated_pacifist_primitives
# dportal_empire_victory_increase
# dportal_empire_crisis_increase

gain_possitive_media_coverage = {
	if = {
		limit = { is_gestalt = no }
		if = {
			limit = {
				owner = {
					OR = {
						has_modifier = media_coverage_positive_high
					}
				}
			}
			owner = {
				remove_modifier = media_coverage_positive_high
				add_modifier = {
					modifier = media_coverage_positive_high
					days = 7200
				}
			}
		}
		if = {
			limit = {
				owner = {
					OR = {
						has_modifier = media_coverage_positive_medium
					}
				}
			}
			owner = {
				remove_modifier = media_coverage_positive_medium
				add_modifier = {
					modifier = media_coverage_positive_high
					days = 7200
				}
			}
		}
		if = {
			limit = {
				owner = {
					has_modifier = media_coverage_positive_low
				}
			}
			owner = {
				remove_modifier = media_coverage_positive_low
				add_modifier = {
					modifier = media_coverage_positive_medium
					days = 7200
				}
			}
		}
		if = {
			limit = {
				owner = {
					NOR = {
						has_modifier = media_coverage_negative_high
						has_modifier = media_coverage_negative_medium
						has_modifier = media_coverage_negative_low
						has_modifier = media_coverage_positive_low
						has_modifier = media_coverage_positive_medium
						has_modifier = media_coverage_positive_high
					}
				}
			}
			owner = {
				add_modifier = {
					modifier = media_coverage_positive_low
					days = 7200
				}
			}
		}
		if = {
			limit = {
				owner = {
					has_modifier = media_coverage_negative_low
				}
			}
			owner = {
				remove_modifier = media_coverage_negative_low
			}
		}
		if = {
			limit = {
				owner = {
					has_modifier = media_coverage_negative_medium
				}
			}
			owner = {
				remove_modifier = media_coverage_negative_medium
				add_modifier = {
					modifier = media_coverage_negative_low
					days = 7200
				}
			}
		}
		if = {
			limit = {
				owner = {
					has_modifier = media_coverage_negative_high
				}
			}
			owner = {
				remove_modifier = media_coverage_negative_high
				add_modifier = {
					modifier = media_coverage_negative_medium
					days = 7200
				}
			}
		}
	}
}

gain_negative_media_coverage = {
	if = {
		limit = { is_gestalt = no }
		if = {
			limit = {
				has_modifier = media_coverage_negative_high
			}
			remove_modifier = "media_coverage_negative_high"
			add_modifier = {
				modifier = media_coverage_negative_high
				days = 7200
			}
		}
		if = {
			limit = {
				has_modifier = media_coverage_negative_medium
			}
			remove_modifier = "media_coverage_negative_medium"
			add_modifier = {
				modifier = media_coverage_negative_high
				days = 7200
			}
		}
		if = {
			limit = {
				has_modifier = media_coverage_negative_low
			}
			remove_modifier = "media_coverage_negative_low"
			add_modifier = {
				modifier = media_coverage_negative_medium
				days = 7200
			}
		}
		if = {
			limit = {
				NOR = {
					has_modifier = media_coverage_positive_high
					has_modifier = media_coverage_positive_medium
					has_modifier = media_coverage_positive_low
					has_modifier = media_coverage_negative_low
					has_modifier = media_coverage_negative_medium
					has_modifier = media_coverage_negative_high
				}
			}
			add_modifier = {
				modifier = media_coverage_negative_low
				days = 7200
			}
		}
		if = {
			limit = {
				has_modifier = media_coverage_positive_low
			}
			remove_modifier = media_coverage_positive_low
		}
		if = {
			limit = {
				has_modifier = media_coverage_positive_medium
			}
			remove_modifier = media_coverage_positive_medium
			add_modifier = {
				modifier = media_coverage_positive_low
				days = 7200
			}
		}
		if = {
			limit = {
				has_modifier = media_coverage_positive_high
			}
			remove_modifier = media_coverage_positive_high
			add_modifier = {
				modifier = media_coverage_positive_medium
				days = 7200
			}
		}
	}
}

add_observer_clue = {
	if = {
		limit = { is_observation_chain_active = yes }
		add_event_chain_counter = { 
			event_chain = "ancient_observer_chain" 
			counter = "observer_clues_found" 
			amount = 1 
		}
		hidden_effect = {
			country_event = { id = countryexpanded.321 days = 1 }
		}
	}
}

finish_observer_event = {
	end_event_chain = "ancient_observer_chain"
	add_monthly_resource_mult = {
		resource = unity
		value = @tier5unityreward
	}
	# give technology depending on source
	switch = {
		trigger = has_country_flag
		watchers_fe_xenophiles = {
			if = {
				limit = { NOT = { has_technology = tech_space_science_1 } }
				give_technology = { tech = tech_space_science_1 }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_2 } }
				give_technology = { tech = tech_space_science_2 }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_3 } }
				give_technology = { tech = tech_space_science_3 }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_4 } }
				add_research_option = tech_space_science_4
				add_tech_progress = {
					tech = tech_space_science_4
					progress = 0.75
				}
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_5 } }
				add_research_option = tech_space_science_5
				add_tech_progress = {
					tech = tech_space_science_5
					progress = 0.5
				}
			}
			else = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier4researchreward
					min = @tier4researchmin
					max = @tier4researchmax
				}
			}
		}
		watchers_fe_xenophobes = {
			if = {
				limit = {
					NOT = { has_technology = tech_neural_implants }
					allows_slavery = yes
					is_gestalt = no
				}
				give_technology = { tech = tech_neural_implants }
			}
			else_if = {
				limit = {
					NOT = { has_technology = tech_alloys_1 }
				}
				give_technology = { tech = tech_alloys_1 }
			}
			else_if = {
				limit = {
					NOT = { has_technology = tech_alloys_2 }
				}
				add_research_option = tech_alloys_2
				add_tech_progress = {
					tech = tech_alloys_2
					progress = 0.75
				}
			}
			else = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier3researchreward
					min = @tier3researchmin
					max = @tier3researchmax
				}
				add_monthly_resource_mult = {
					resource = engineering_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
		watchers_fe_materialists = {
			if = {
				limit = {
					NOT = { has_technology = tech_artificial_moral_codes }
					is_gestalt = no
				}
				add_research_option = tech_artificial_moral_codes
				add_tech_progress = {
					tech = tech_artificial_moral_codes
					progress = 0.5
				}
			}
			else_if = {
				limit = {
					NOT = { has_technology = tech_unity_of_purpose }
					is_gestalt = yes
				}
				add_research_option = tech_unity_of_purpose
				add_tech_progress = {
					tech = tech_unity_of_purpose
					progress = 0.5
				}
			}
			else_if = {
				limit = {
					NOT = { has_technology = tech_synthetic_thought_patterns }
					is_gestalt = no
				}
				add_research_option = tech_synthetic_thought_patterns
				add_tech_progress = {
					tech = tech_synthetic_thought_patterns
					progress = 0.5
				}
			}
			else_if = {
				limit = {
					NOT = { has_technology = tech_collective_production_methods }
					is_gestalt = yes
				}
				add_research_option = tech_collective_production_methods
				add_tech_progress = {
					tech = tech_collective_production_methods
					progress = 0.5
				}
			}
			else = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier4researchreward
					min = @tier4researchmin
					max = @tier4researchmax
				}
			}
		}
		watchers_fe_spiritualists = {
			if = {
				limit = {
					NOT = { has_technology = tech_genome_mapping }
					OR = {
						NOT = { has_authority = auth_machine_intelligence }
						has_civic = civic_machine_assimilator
						has_civic = civic_machine_servitor	
					}
				}
				give_technology = { tech = tech_genome_mapping }
			}
			else_if = {
				limit = {
					NOT = { has_technology = tech_gene_tailoring }
					OR = {
						NOT = { has_authority = auth_machine_intelligence }
						has_civic = civic_machine_assimilator
						has_civic = civic_machine_servitor	
					}
				}
				add_research_option = tech_gene_tailoring
				add_tech_progress = {
					tech = tech_gene_tailoring
					progress = 0.5
				}
			}
			else = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier4researchreward
					min = @tier4researchmin
					max = @tier4researchmax
				}
			}
		}
		watchers_curators = {
			if = {
				limit = { NOT = { has_technology = tech_space_science_1 } }
				give_technology = { tech = tech_space_science_1 }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_2 } }
				give_technology = { tech = tech_space_science_2 }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_3 } }
				add_research_option = tech_space_science_3
				add_tech_progress = {
					tech = tech_space_science_3
					progress = 0.75
				}
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_4 } }
				add_research_option = tech_space_science_4
				add_tech_progress = {
					tech = tech_space_science_4
					progress = 0.5
				}
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_5 } }
				add_research_option = tech_space_science_5
				add_tech_progress = {
					tech = tech_space_science_5
					progress = 0.25
				}
			}
			else = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier4researchreward
					min = @tier4researchmin
					max = @tier4researchmax
				}
			}
		}
		watchers_dead_slavers = {
		}
		watchers_dead_experimentors = {
			if = {
				limit = {
					NOT = { has_technology = tech_artificial_moral_codes }
					is_gestalt = no
				}
				add_research_option = tech_artificial_moral_codes
				add_tech_progress = {
					tech = tech_artificial_moral_codes
					progress = 0.5
				}
			}
			else_if = {
				limit = {
					NOT = { has_technology = tech_unity_of_purpose }
					is_gestalt = yes
				}
				add_research_option = tech_unity_of_purpose
				add_tech_progress = {
					tech = tech_unity_of_purpose
					progress = 0.5
				}
			}
			else_if = {
				limit = {
					NOT = { has_technology = tech_synthetic_thought_patterns }
					is_gestalt = no
				}
				add_research_option = tech_synthetic_thought_patterns
				add_tech_progress = {
					tech = tech_synthetic_thought_patterns
					progress = 0.5
				}
			}
			else_if = {
				limit = {
					NOT = { has_technology = tech_collective_production_methods }
					is_gestalt = yes
				}
				add_research_option = tech_collective_production_methods
				add_tech_progress = {
					tech = tech_collective_production_methods
					progress = 0.5
				}
			}
			else = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier4researchreward
					min = @tier4researchmin
					max = @tier4researchmax
				}
			}
		}
		watchers_dead_watchers = {
			if = {
				limit = { NOT = { has_technology = tech_space_science_1 } }
				give_technology = { tech = tech_space_science_1 }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_2 } }
				give_technology = { tech = tech_space_science_2 }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_3 } }
				add_research_option = tech_space_science_3
				add_tech_progress = {
					tech = tech_space_science_3
					progress = 0.75
				}
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_4 } }
				add_research_option = tech_space_science_4
				add_tech_progress = {
					tech = tech_space_science_4
					progress = 0.5
				}
			}
			else_if = {
				limit = { NOT = { has_technology = tech_space_science_5 } }
				add_research_option = tech_space_science_5
				add_tech_progress = {
					tech = tech_space_science_5
					progress = 0.375
				}
			}
			else = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier4researchreward
					min = @tier4researchmin
					max = @tier4researchmax
				}
			}
		}
		watchers_dead_indoctrination = {
			if = {
				limit = { NOT = { has_technology = tech_genome_mapping } }
				give_technology = { tech = tech_genome_mapping }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_gene_tailoring } }
				add_research_option = tech_gene_tailoring
				add_tech_progress = {
					tech = tech_gene_tailoring
					progress = 0.5
				}
			}
			else = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier4researchreward
					min = @tier4researchmin
					max = @tier4researchmax
				}
			}
		}
	}
}

create_human_infiltrated_spiritual_primitives = {
	random_country = {
		limit = {
			has_country_flag = human_1
		}
		owner_species = {
			save_event_target_as = human_species
		}
	}
	solar_system = { set_star_flag = primitive_system }
	create_species = {
		name = random
		class = random_non_machine
		portrait = random
		homeworld = THIS
		traits = {
			trait = trait_charismatic
			trait = random_traits
		}
	}
	last_created_species = {
		save_event_target_as = primitive_species
	}
	create_country = {
		name = random
		authority = random
		civics = {
			civic = civic_increasing_urbanization
			civic = civic_atmospheric_pollution
		}
		species = last_created
		ethos = {
			ethic = "ethic_egalitarian"
			ethic = "ethic_xenophile"
			ethic = "ethic_spiritualist"
		}
		flag = {
			icon = {
				category = "spherical"
				file = "flag_spherical_22.dds"
			}
			background= {
				category = "backgrounds"
				file = "new_dawn.dds"
			}
			colors={
				"turquoise"
				"green"
				"null"
				"null"
			}
		}
		type = primitive
	}
	last_created_country = {
		set_graphical_culture = industrial_01
		set_country_flag = acquired_tech
		set_country_flag = human_primitive
		save_event_target_as = primitive_civ
		random_list = {
			33 = { 
				set_country_flag = machine_age
				set_primitive_age = machine_age
				change_country_flag = {
					icon = {
						category = "special"
						file = "primitive.dds"
					}
					background= {
						category = "backgrounds"
						file = "new_dawn.dds"
					}
					colors={
						"yellow"
						"orange"
						"null"
						"null"
					}
				}
			}
			33 = { 
				set_country_flag = atomic_age 
				set_primitive_age = atomic_age
				change_country_flag = {
					icon = {
						category = "special"
						file = "primitive.dds"
					}
					background= {
						category = "backgrounds"
						file = "new_dawn.dds"
					}
					colors={
						"beige"
						"brown"
						"null"
						"null"
					}
				}
			}
			34 = { 
				set_country_flag = early_space_age 
				set_primitive_age = early_space_age
				change_country_flag = {
					icon = {
						category = "special"
						file = "primitive.dds"
					}
					background= {
						category = "backgrounds"
						file = "new_dawn.dds"
					}
					colors={
						"grey"
						"dark_grey"
						"null"
						"null"
					}
				}
			}
		}
	}
	create_colony = {
		owner = last_created_country
		species = last_created
		ethos = owner
	}
	last_created_country = {
		if = {
			limit = { has_country_flag = machine_age }
			prev = {
				while = {
					count = 18
					create_pop = {
						species = last_created
					}					
				}
				add_building = building_primitive_farm
				add_building = building_primitive_factory
				add_building = building_primitive_mine
				add_building = building_primitive_power_plant
				add_building = building_primitive_capital
				add_building = building_urban_dwellings
				remove_building = building_colony_shelter
			}
		}
		if = {
			limit = { has_country_flag = atomic_age }
			prev = {
				while = {
					count = 20
					create_pop = {
						species = last_created
					}					
				}
				add_building = building_primitive_farm
				add_building = building_primitive_factory
				add_building = building_primitive_mine

				add_building = building_primitive_power_plant
				add_building = building_primitive_capital
				add_building = building_urban_dwellings
				remove_building = building_colony_shelter
			}
		}
		if = {
			limit = { has_country_flag = early_space_age }
			prev = {
				while = {
					count = 22
					create_pop = {
						species = last_created
					}					
				}
				add_building = building_primitive_farm
				add_building = building_primitive_factory
				add_building = building_primitive_mine

				add_building = building_primitive_power_plant
				add_building = building_primitive_capital
				add_building = building_urban_dwellings
				remove_building = building_colony_shelter
				create_fleet = {
					name = "NAME_Space_Station"
					effect = {
						set_owner = PREV.owner
						create_ship = {
							name = "NAME_Space_Station"
							design = "NAME_Space_Station"
						}
						set_location = PREV
					}
				}
			}
		}
	}
	while = {
		count = 6
		create_pop = {
			species = event_target:human_species
		}					
	}
	create_primitive_blockers = yes
}

create_human_infiltrated_materialist_primitives = {
	random_country = {
		limit = {
			has_country_flag = human_1
		}
		owner_species = {
			save_event_target_as = human_species
		}
	}
	solar_system = { set_star_flag = primitive_system }
	create_species = {
		name = random
		class = random_non_machine
		portrait = random
		homeworld = THIS
		traits = {
			trait = trait_charismatic
			trait = random_traits
		}
	}
	last_created_species = {
		save_event_target_as = primitive_species
	}
	create_country = {
		name = random
		authority = random
		civics = {
			civic = civic_increasing_urbanization
			civic = civic_atmospheric_pollution
		}
		species = last_created
		ethos = {
			ethic = "ethic_egalitarian"
			ethic = "ethic_xenophile"
			ethic = "ethic_materialist"
		}
		flag = {
			icon = {
				category = "spherical"
				file = "flag_spherical_22.dds"
			}
			background= {
				category = "backgrounds"
				file = "new_dawn.dds"
			}
			colors={
				"turquoise"
				"green"
				"null"
				"null"
			}
		}
		type = primitive
	}
	last_created_country = {
		set_graphical_culture = industrial_01
		set_country_flag = acquired_tech
		set_country_flag = human_primitive
		save_event_target_as = primitive_civ
		random_list = {
			33 = { 
				set_country_flag = machine_age
				set_primitive_age = machine_age
				change_country_flag = {
					icon = {
						category = "special"
						file = "primitive.dds"
					}
					background= {
						category = "backgrounds"
						file = "new_dawn.dds"
					}
					colors={
						"yellow"
						"orange"
						"null"
						"null"
					}
				}
			}
			33 = { 
				set_country_flag = atomic_age 
				set_primitive_age = atomic_age
				change_country_flag = {
					icon = {
						category = "special"
						file = "primitive.dds"
					}
					background= {
						category = "backgrounds"
						file = "new_dawn.dds"
					}
					colors={
						"beige"
						"brown"
						"null"
						"null"
					}
				}
			}
			34 = { 
				set_country_flag = early_space_age 
				set_primitive_age = early_space_age
				change_country_flag = {
					icon = {
						category = "special"
						file = "primitive.dds"
					}
					background= {
						category = "backgrounds"
						file = "new_dawn.dds"
					}
					colors={
						"grey"
						"dark_grey"
						"null"
						"null"
					}
				}
			}
		}
	}
	create_colony = {
		owner = last_created_country
		species = last_created
		ethos = owner
	}
	last_created_country = {
		if = {
			limit = { has_country_flag = machine_age }
			prev = {
				while = {
					count = 18
					create_pop = {
						species = last_created
					}					
				}
				add_building = building_primitive_farm
				add_building = building_primitive_factory
				add_building = building_primitive_mine

				add_building = building_primitive_power_plant
				add_building = building_primitive_capital
				add_building = building_urban_dwellings
				remove_building = building_colony_shelter
			}
		}
		if = {
			limit = { has_country_flag = atomic_age }
			prev = {
				while = {
					count = 20
					create_pop = {
						species = last_created
					}					
				}
				add_building = building_primitive_farm
				add_building = building_primitive_factory
				add_building = building_primitive_mine

				add_building = building_primitive_power_plant
				add_building = building_primitive_capital
				add_building = building_urban_dwellings
				remove_building = building_colony_shelter
			}
		}
		if = {
			limit = { has_country_flag = early_space_age }
			prev = {
				while = {
					count = 22
					create_pop = {
						species = last_created
					}					
				}
				add_building = building_primitive_farm
				add_building = building_primitive_factory
				add_building = building_primitive_mine

				add_building = building_primitive_power_plant
				add_building = building_primitive_capital
				add_building = building_urban_dwellings
				remove_building = building_colony_shelter
				create_fleet = {
					name = "NAME_Space_Station"
					effect = {
						set_owner = PREV.owner
						create_ship = {
							name = "NAME_Space_Station"
							design = "NAME_Space_Station"
						}
						set_location = PREV
					}
				}
			}
		}
	}
	while = {
		count = 6
		create_pop = {
			species = event_target:human_species
		}					
	}
	create_primitive_blockers = yes
}

create_human_infiltrated_pacifist_primitives = {
	random_country = {
		limit = {
			has_country_flag = human_1
		}
		owner_species = {
			save_event_target_as = human_species
		}
	}
	solar_system = { set_star_flag = primitive_system }
	create_species = {
		name = random
		class = random_non_machine
		portrait = random
		homeworld = THIS
		traits = {
			trait = trait_charismatic
			trait = random_traits
		}
	}
	last_created_species = {
		save_event_target_as = primitive_species
	}
	create_country = {
		name = random
		authority = random
		civics = {
			civic = civic_increasing_urbanization
			civic = civic_atmospheric_pollution
		}
		species = last_created
		ethos = {
			ethic = "ethic_egalitarian"
			ethic = "ethic_xenophile"
			ethic = "ethic_pacifist"
		}
		flag = {
			icon = {
				category = "spherical"
				file = "flag_spherical_22.dds"
			}
			background= {
				category = "backgrounds"
				file = "new_dawn.dds"
			}
			colors={
				"turquoise"
				"green"
				"null"
				"null"
			}
		}
		type = primitive
	}
	last_created_country = {
		set_graphical_culture = industrial_01
		set_country_flag = acquired_tech
		set_country_flag = human_primitive
		save_event_target_as = primitive_civ
		random_list = {
			33 = { 
				set_country_flag = machine_age
				set_primitive_age = machine_age
				change_country_flag = {
					icon = {
						category = "special"
						file = "primitive.dds"
					}
					background= {
						category = "backgrounds"
						file = "new_dawn.dds"
					}
					colors={
						"yellow"
						"orange"
						"null"
						"null"
					}
				}
			}
			33 = { 
				set_country_flag = atomic_age 
				set_primitive_age = atomic_age
				change_country_flag = {
					icon = {
						category = "special"
						file = "primitive.dds"
					}
					background= {
						category = "backgrounds"
						file = "new_dawn.dds"
					}
					colors={
						"beige"
						"brown"
						"null"
						"null"
					}
				}
			}
			34 = { 
				set_country_flag = early_space_age 
				set_primitive_age = early_space_age
				change_country_flag = {
					icon = {
						category = "special"
						file = "primitive.dds"
					}
					background= {
						category = "backgrounds"
						file = "new_dawn.dds"
					}
					colors={
						"grey"
						"dark_grey"
						"null"
						"null"
					}
				}
			}
		}
	}
	create_colony = {
		owner = last_created_country
		species = last_created
		ethos = owner
	}
	last_created_country = {
		if = {
			limit = { has_country_flag = machine_age }
			prev = {
				while = {
					count = 18
					create_pop = {
						species = last_created
					}					
				}
				add_building = building_primitive_farm
				add_building = building_primitive_factory
				add_building = building_primitive_mine

				add_building = building_primitive_power_plant
				add_building = building_primitive_capital
				add_building = building_urban_dwellings
				remove_building = building_colony_shelter
			}
		}
		if = {
			limit = { has_country_flag = atomic_age }
			prev = {
				while = {
					count = 20
					create_pop = {
						species = last_created
					}					
				}
				add_building = building_primitive_farm
				add_building = building_primitive_factory
				add_building = building_primitive_mine

				add_building = building_primitive_power_plant
				add_building = building_primitive_capital
				add_building = building_urban_dwellings
				remove_building = building_colony_shelter
			}
		}
		if = {
			limit = { has_country_flag = early_space_age }
			prev = {
				while = {
					count = 22
					create_pop = {
						species = last_created
					}					
				}
				add_building = building_primitive_farm
				add_building = building_primitive_factory
				add_building = building_primitive_mine

				add_building = building_primitive_power_plant
				add_building = building_primitive_capital
				add_building = building_urban_dwellings
				remove_building = building_colony_shelter
				create_fleet = {
					name = "NAME_Space_Station"
					effect = {
						set_owner = PREV.owner
						create_ship = {
							name = "NAME_Space_Station"
							design = "NAME_Space_Station"
						}
						set_location = PREV
					}
				}
			}
		}
	}
	while = {
		count = 6
		create_pop = {
			species = event_target:human_species
		}					
	}
	create_primitive_blockers = yes
}

# dportal, root is planet
dportal_empire_victory_increase = {
	planet_event = { id = colony.3031 days = 60 random = 360 } # trade up
}
dportal_empire_crisis_increase = {
	planet_event = { id = colony.3032 days = 60 random = 360 } # trade down
}