#find respective countries
find_natives_again = {
	save_event_target_as = greedy_corp
	random_country = {
		limit = { has_country_flag = dyson_primitives_belonging_to_corp_@event_target:greedy_corp }
		save_event_target_as = the_natives
		capital_scope = {
			solar_system = {
				random_planet = {
					limit = { has_planet_flag = dyson_corperate_hq@event_target:greedy_corp }
					save_event_target_as = corp_dyson_swarm
				}
			}
		}
	}
}
find_corp_again = {
	save_event_target_as = the_natives
	random_country = {
		limit = { has_country_flag = dyson_corp_belonging_to_primitives_@event_target:the_natives }
		save_event_target_as = greedy_corp
	}
	capital_scope = {
		solar_system = {
			random_planet = {
				limit = { dyson_corperate_hq@event_target:greedy_corp }
				save_event_target_as = corp_dyson_swarm
			}
		}
	}
}

dyson_remove_all_trade_deposits = {
	while = {
		limit = { has_deposit = d_dyson_corp_value_trade_1 }
		remove_deposit = d_dyson_corp_value_trade_1
	}
	while = {
		limit = { has_deposit = d_dyson_corp_value_trade_2 }
		remove_deposit = d_dyson_corp_value_trade_2
	}
	while = {
		limit = { has_deposit = d_dyson_corp_food_trade_tech }
		remove_deposit = d_dyson_corp_food_trade_tech
	}
	while = {
		limit = { has_deposit = d_dyson_corp_food_trade }
		remove_deposit = d_dyson_corp_food_trade
	}
	while = {
		limit = { has_deposit = d_dyson_corp_arrested_development_steady_income }
		remove_deposit = d_dyson_corp_arrested_development_steady_income
	}
}

dyson_remove_all_modular_districts_flags = {
	remove_planet_flag = no_dyson_mining_bays
	remove_planet_flag = no_dyson_swarm_zero_g_labs
	remove_planet_flag = no_dyson_swarm_market_stations_or_housing
	remove_planet_flag = alloy_module
	remove_planet_flag = industry_module
	remove_planet_flag = leisure_or_sanctuary_module
	remove_planet_flag = spawning_chamber_module
	remove_planet_flag = computer_hub_module
}