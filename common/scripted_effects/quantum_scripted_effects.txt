create_quantum_wormhole_link = {
	fromfrom = {
		random_megastructure = {
			limit = {
				is_quantum_catapult = yes
			}
			save_event_target_as = catapult
		}
		spawn_megastructure = {
			type = quantum_wormhole_node
			owner = root
			coords_from = event_target:catapult
			init_effect = {
				set_megastructure_flag = quantum_wormhole_node
			}
		}
		spawn_megastructure = {
			type = quantum_catapult_4
			owner = root
			coords_from = event_target:catapult
		}
		remove_megastructure = event_target:catapult
	}
	this = {
		solar_system = {
			save_event_target_as = quantum_gateway_target
			spawn_megastructure = {
				type = quantum_wormhole_node
				owner = root
				coords_from = prev
				init_effect = {
					set_megastructure_flag = quantum_wormhole_nexus
				}
			}
		}
	}
}

remove_quantum_wormhole_link = {
	every_owned_megastructure = {
		limit = {
			is_megastructure_type = quantum_wormhole_node
		}
		remove_megastructure = this
	}
}
