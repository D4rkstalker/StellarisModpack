#################################
### Planet Effects ##############
#################################
# Setup Katzenland
setup_katzenland_planet = {
	add_deposit = d_arid_highlands
	add_deposit = d_searing_desert
	add_deposit = d_searing_desert
	add_deposit = d_searing_desert
	add_deposit = d_tempestous_mountain
	add_deposit = d_geothermal_vent
	add_deposit = d_mineral_fields
	add_deposit = d_mineral_fields
	add_deposit = d_ore_rich_caverns
	add_deposit = d_mineral_fields
	add_deposit = d_ore_rich_caverns
	add_deposit = d_rich_mountain
	add_deposit = d_dust_desert
	add_deposit = d_bubbling_swamp
	add_deposit = d_city_ruins
	add_deposit = d_radioactive_wasteland
	add_deposit = d_radioactive_wasteland
	add_deposit = d_bomb_crater
	add_deposit = d_bomb_crater
	add_deposit = d_bomb_crater
}

create_katzenland_deposits = {
	random_list = {
		30 = {
			add_deposit = d_radioactive_wasteland
			add_deposit = d_bomb_crater
		}
		20 = {
			add_deposit = d_searing_desert
			add_deposit = d_bomb_crater
		}
		20 = {
			add_deposit = d_city_ruins
			add_deposit = d_radioactive_wasteland
		}
		20 = {
			add_deposit = d_ore_rich_caverns
			add_deposit = d_tempestous_mountain
		}
		20 = {
			add_deposit = d_arid_highlands
			add_deposit = d_tempestous_mountain
		}
		20 = {
			add_deposit = d_betharian_deposit
			add_deposit = d_ore_rich_caverns
		}
		20 = {
			add_deposit = d_bubbling_swamp
			add_deposit = d_ore_rich_caverns
		}
		20 = {
			add_deposit = d_dust_caverns
			add_deposit = d_radioactive_wasteland
		}
		20 = {
			add_deposit = d_crystalline_caverns
		}
		15 = {
			add_deposit = d_arid_highlands
			add_deposit = d_rich_mountain
		}
		10 = {
			add_deposit = d_dust_desert
		}
	}
}

katzenland_clear_districts = {
	while = {
		count = 30
		remove_district = district_generator
	}
	while = {
		count = 30
		remove_district = district_mining
	}
	while = {
		count = 30
		remove_district = district_city
	}
	while = {
		count = 30
		remove_district = district_farming
	}
}

#################################
### Create Ship Effects #########
#################################
giga_moon_cold_barren = {	create_fleet = { name = "Attack Moon" settings = { spawn_debris = no } effect = { set_owner = prev create_ship = { name = "Cold Barren Attack Moon" design = "Cold Barren Planetoid"	effect = { set_ship_flag = giga_moon_cold_barren } } } } }
giga_moon_frozen = {		create_fleet = { name = "Attack Moon" settings = { spawn_debris = no } effect = { set_owner = prev create_ship = { name = "Frozen Attack Moon"		design = "Frozen Planetoid"			effect = { set_ship_flag = giga_moon_frozen } } } } }
giga_moon_barren = {		create_fleet = { name = "Attack Moon" settings = { spawn_debris = no } effect = { set_owner = prev create_ship = { name = "Barren Attack Moon"		design = "Barren Planetoid"			effect = { set_ship_flag = giga_moon_barren } } } } }
giga_moon_molten = {		create_fleet = { name = "Attack Moon" settings = { spawn_debris = no } effect = { set_owner = prev create_ship = { name = "Molten Attack Moon"		design = "Molten Planetoid"			effect = { set_ship_flag = giga_moon_molten } } } } }
giga_moon_disco = {			create_fleet = { name = "Attack Moon" settings = { spawn_debris = no } effect = { set_owner = prev create_ship = { name = "Party Attack Moon"		design = "Disco Planetoid"			effect = { set_ship_flag = giga_moon_disco } } } } }
giga_moon_luna = {			create_fleet = { name = "Attack Moon" settings = { spawn_debris = no } effect = { set_owner = prev create_ship = { name = "Luna"					design = "Luna"						effect = { set_ship_flag = giga_moon_luna } } } } }
giga_moon_fe = {			create_fleet = { name = "Attack Moon" settings = { spawn_debris = no } effect = { set_owner = prev create_ship = { name = "Celestial Defender"		design = "Ancient AI Planetoid"		effect = { set_ship_flag = giga_moon_fe } } } } }

giga_move_to_capital = {
	random_list = {
		1 = { capital_scope = { save_event_target_as = giga_fe_fleet_spawn } }
		2 = { capital_scope.solar_system = { random_system_planet = { save_event_target_as = giga_fe_fleet_spawn } } }
	}
	last_created_fleet = { set_location = event_target:giga_fe_fleet_spawn }
}

giga_planet_fe = {
	create_fleet = {
		name = "The Grand Defender"
		settings = { spawn_debris = no }
		effect = {
			set_owner = prev
			create_ship = {
				name = "The Grand Defender"
				design = "Ancient Planetcraft"
				effect = { set_ship_flag = giga_planet_fe }
			}
		}
	}
}

giga_planet_fe_holy = {
	create_fleet = {
		name = "The Protector of Faith"
		settings = { spawn_debris = no }
		effect = {
			set_owner = prev
			create_ship = {
				name = "Protector of Faith"
				design = "Ancient Holy Planetcraft"
				effect = { set_ship_flag = giga_planet_fe }
			}
		}
	}
}

giga_planet_craft = {
	create_fleet = {
		name = "Behemoth Planetcraft"
		settings = {
			spawn_debris = no
			can_change_composition = no
			is_boss = yes
		}
		effect = {
			set_owner = prev
			create_ship = {
				name = "Behemoth Planetcraft"
				graphical_culture = root.from
				random_existing_design = giga_planet_behemoth
				effect = { set_ship_flag = giga_planet }
			}
		}
	}
}

giga_system_craft = {
	create_fleet = {
		name = "The Stellar Systemcraft"
		settings = {
			spawn_debris = no
			can_change_composition = no
			is_boss = yes
		}
		effect = {
			set_owner = prev
			create_ship = {
				name = "The Stellar Systemcraft"
				graphical_culture = root.from
				random_existing_design = giga_systemcraft
			}
		}
	}
}

giga_war_moon_debris_mega = {
	random_system = {
		limit = {
			NOR = {
				has_star_flag = empire_cluster
				has_star_flag = war_moon_planet_here
			}
		}
		set_star_flag = war_moon_planet_here
		spawn_megastructure = {
			type = war_moon_debris
			random_pos = yes
			orbit_angle = 360
			orbit_distance = 200
			location = star
		}
	}
}

giga_war_planet_debris_mega = {
	random_system = {
		limit = {
			NOR = {
				has_star_flag = empire_cluster
				has_star_flag = war_moon_planet_here
			}
		}
		set_star_flag = war_moon_planet_here
		spawn_megastructure = {
			type = war_planet_debris
			random_pos = yes
			orbit_angle = 360
			orbit_distance = 200
			location = star
		}
}
}

giga_remove_system_debris = {
	every_system_ambient_object = {
		limit = {
			OR = {
				is_ambient_object_type = large_debris_object
				is_ambient_object_type = medium_debris_01_object
				is_ambient_object_type = medium_debris_02_object
				is_ambient_object_type = small_debris_object
			}
		}
		destroy_ambient_object = this
	}
}