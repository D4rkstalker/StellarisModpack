xvcv_mdlc_abyss_destroy_building_abyss_gateway_and_kill_pop_effect = {
	random_owned_planet = {
		limit = {
			has_building = xvcv_mdlc_building_abyss_gateway
			count_owned_pop = { count > 3 }
		}
		save_event_target_as = xvcv_mdlc_abyss_kill_pop_effect_planet
	}
	if = { #if the player destroy the building to avoid penalty #hey, don't do that :(
		limit = { NOT = { exists = event_target:xvcv_mdlc_abyss_kill_pop_effect_planet } }
		random_owned_planet = {
			limit = { count_owned_pop = { count > 3 } }
			save_event_target_as = xvcv_mdlc_abyss_kill_pop_effect_planet
		}
	}
	event_target:xvcv_mdlc_abyss_kill_pop_effect_planet = {
		while = { random_owned_pop = { kill_pop = yes } count = 3 }
		add_deposit = xvcv_mdlc_d_devastated_area
	}
}
xvcv_mdlc_abyss_exit_effect = {
	random_list = {
		30 = {}
		40 = {
			modifier = {
				factor = 0
				OR = {
					has_special_project = XVCV_MDLC_ABYSS_DEEP_SPACE_PROJECT
					has_country_flag = xvcv_mdlc_abyss_deep_space_access_possible
				}
			}
			random_owned_planet = {
				limit = { has_building = xvcv_mdlc_building_abyss_gateway }
				enable_special_project = { name = XVCV_MDLC_ABYSS_DEEP_SPACE_PROJECT }
			}
		}
		30 = {
			modifier = { factor = 0 has_country_flag = xvcv_mdlc_trait_abyss_psi_emulator_possible }
			country_event = { id = xvcv_mdlc_abyss.4 }
		}
	}
	#clear all country flags before reuse
	switch = {
		trigger = has_country_flag
		xvcv_mdlc_abyss_chose_shallow = { remove_country_flag = xvcv_mdlc_abyss_chose_shallow }
		xvcv_mdlc_abyss_chose_deep = { remove_country_flag = xvcv_mdlc_abyss_chose_deep }
	}
	remove_country_flag = xvcv_mdlc_abyss_diplo_window_opened
}
xvcv_mdlc_abyss_random_modifier_shallow_effect = {
	random_list = {
		50 = { #Good Effects (SUCCESS)
			random_list = {
				1 = { country_event = { id = xvcv_mdlc_abyss.210 } } #Happiness / Planet Stability (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.211 } } #Ship Upkeep (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.212 } } #Research Speed (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.213 } } #Shield Boost (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.214 } } #Weapon Boost (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.215 } } #Firing Rate (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.216 } } #Ethic Boost (SUCCESS)
			}
		}
		50 = { country_event = { id = xvcv_mdlc_abyss.224 } } #No Effect (FAILURE)
	}
}
xvcv_mdlc_abyss_random_modifier_deep_effect = {
	random_list = {
		50 = { #Good Effects (SUCCESS)
			random_list = {
				1 = { country_event = { id = xvcv_mdlc_abyss.210 } } #Happiness / Planet Stability (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.211 } } #Ship Upkeep (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.212 } } #Research Speed (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.213 } } #Shield Boost (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.214 } } #Weapon Boost (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.215 } } #Firing Rate (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.216 } } #Ethic Boost (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.217 } } #Influence Boost (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.218 } } #Unity Boost (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.219 } } #Evasion (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.220 } } #Ship Repair (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.221 } } #Ship Speed (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.222 } } #Army Morale (SUCCESS)
				1 = { country_event = { id = xvcv_mdlc_abyss.223 } } #Sensor Range (SUCCESS)
			}
		}
		20 = { country_event = { id = xvcv_mdlc_abyss.224 } } #No Effect (FAILURE)
		30 = { #Bad Effects (CRITICAL FAILURE)
			random_list = {
				1 = { country_event = { id = xvcv_mdlc_abyss.225 } } #Negative Happiness / Planet Stability (CRITICAL FAILURE)
				1 = { country_event = { id = xvcv_mdlc_abyss.226 } } #Negative Ethics Attraction (CRITICAL FAILURE)
				1 = { country_event = { id = xvcv_mdlc_abyss.227 } } #Negative Ship Armor (CRITICAL FAILURE)
				1 = { country_event = { id = xvcv_mdlc_abyss.228 } } #Negative Population Growth (CRITICAL FAILURE)
				1 = { country_event = { id = xvcv_mdlc_abyss.229 } } #Negative Research (CRITICAL FAILURE)
				1 = { country_event = { id = xvcv_mdlc_abyss.230 } } #Negative Influence (CRITICAL FAILURE)
				1 = { country_event = { id = xvcv_mdlc_abyss.231 } } #Negative Unity (CRITICAL FAILURE)
				1 = { country_event = { id = xvcv_mdlc_abyss.232 } } #Negative Ship Speed (CRITICAL FAILURE)
				1 = { country_event = { id = xvcv_mdlc_abyss.233 } } #Negative Army Morale (CRITICAL FAILURE)
				1 = { country_event = { id = xvcv_mdlc_abyss.234 } } #Negative Sensor Range (CRITICAL FAILURE)
			}
		}
	}
}
xvcv_mdlc_abyss_random_avatar_spawn_effect = {
	random_list = {
		25 = { country_event = { id = xvcv_mdlc_abyss.21 } } #Summon Avatar (SUCCESS SHIP)
		25 = { country_event = { id = xvcv_mdlc_abyss.22 } } #Summon Avatar (SUCCESS ARMY)
		30 = { country_event = { id = xvcv_mdlc_abyss.23 } } #Summon Avatar (FAILURE)
		20 = { country_event = { id = xvcv_mdlc_abyss.24 } } #Summon Avatar (CRITICAL FAILURE)
	}
}
xvcv_mdlc_abyss_patron_random_penalties_effect = {
	if = {
		limit = { has_modifier = xvcv_mdlc_abyss_patron_whisperers }
		random_list = {
			40 = { country_event = { id = xvcv_mdlc_abyss.121 } } #Leader gains bad traits
			30 = { country_event = { id = xvcv_mdlc_abyss.122 } } #Suicide of a leader
			20 = { country_event = { id = xvcv_mdlc_abyss.123 } } #Planet succumbs to madness
			10 = { country_event = { id = xvcv_mdlc_abyss.124 } } #Planet collapses into anarchy
		}
	}
	else_if = {
		limit = { has_modifier = xvcv_mdlc_abyss_patron_composer }
		country_event = { id = xvcv_mdlc_abyss.125 } #Composer turns few pops into unbidden pops
	}
	else_if = {
		limit = { has_modifier = xvcv_mdlc_abyss_patron_instrument }
		random_list = {
			40 = { country_event = { id = xvcv_mdlc_abyss.126 } } #Planet gets deviant ethics / increased crime rates
			20 = { country_event = { id = xvcv_mdlc_abyss.127 } } #Empire gets deviant ethics / increased crime rates
			40 = { country_event = { id = xvcv_mdlc_abyss.128 } } #Planet gets increased upkeeps
		}
	}
	else_if = {
		limit = { has_modifier = xvcv_mdlc_abyss_patron_eater }
		random_list = {
			55 = { country_event = { id = xvcv_mdlc_abyss.129 } } #Pop devoured
			40 = { country_event = { id = xvcv_mdlc_abyss.130 } } #Pops devoured
			5 = {
				modifier = {
					factor = 0
					num_owned_planets = 1
				}
				country_event = { id = xvcv_mdlc_abyss.131 } #Planet devoured
			}
		}
	}
}
xvcv_mdlc_abyss_patron_rank_increase_effect = {
	if = { #Whisperers modifiers
		limit = { check_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value > 0 } }
		change_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value = 0.03 }
		if = { #Civics liked
			limit = {
				OR = {
					has_civic = civic_cutthroat_politics
					has_civic = civic_technocracy
					is_scavenger = yes
					has_civic = civic_criminal_heritage
					has_toxic_baths = yes
					has_civic = civic_shadow_council
				}
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value = 0.04 }
		}
		if = { #Civics disliked
			limit = {
				has_civic = civic_inwards_perfection
				check_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value = -0.02 }
		}
		if = { #Ethics liked
			limit = { has_ethic = ethic_materialist }
			change_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value = 0.03 }
		}
		else_if = {
			limit = { has_ethic = ethic_fanatic_materialist }
			change_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value = 0.07 }
		}
		if = { #Ethics disliked
			limit = {
				has_ethic = ethic_spiritualist
				check_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value = -0.02 }
		}
		else_if = {
			limit = {
				has_ethic = ethic_fanatic_spiritualist
				check_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value = -0.05 }
		}
		if = { #Tradition liked
			limit = {
				OR = {
					has_tradition = tr_subterfuge_finish
					has_tradition = tr_discovery_finish
				}
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value = 0.06 }
		}
		if = { #Acension Perks liked
			limit = {
				OR = {
					has_ascension_perk = ap_enigmatic_engineering
					has_ascension_perk = ap_technological_ascendancy
				}
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value = 0.04 }
		}
		if = { #Other things liked
			limit = { any_envoy = { has_envoy_task = { task = spy_network } } }
			change_variable = { which = xvcv_mdlc_abyss_patron_whisperers_rank value = 0.11 }
		}
	}
	else_if = { #Composer modifiers
		limit = { check_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value > 0 } }
		change_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value = 0.03 }
		if = { #Civics liked
			limit = {
				OR = {
					has_civic = civic_environmentalist
					is_catalytic_empire = yes
					has_civic = civic_idyllic_bloom
					has_toxic_baths = yes
				}
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value = 0.04 }
		}
		if = { #Civics disliked
			limit = {
				is_relentless_industrialist_empire = yes
				check_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value = -0.02 }
		}
		if = { #Ethics liked
			limit = { has_ethic = ethic_xenophile }
			change_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value = 0.03 }
		}
		else_if = {
			limit = { has_ethic = ethic_fanatic_xenophile }
			change_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value = 0.07 }
		}
		if = { #Ethics disliked
			limit = {
				has_ethic = ethic_xenophobe
				check_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value = -0.02 }
		}
		else_if = {
			limit = {
				has_ethic = ethic_fanatic_xenophobe
				check_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value = -0.05 }
		}
		if = { #Tradition liked
			limit = { has_tradition = tr_adaptability_finish }
			change_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value = 0.06 }
		}
		if = { #Acension Perks liked
			limit = { has_ascension_perk = ap_consecrated_worlds }
			change_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value = 0.04 }
		}
		if = { #Other things liked
			limit = {
				OR = {
					AND = {
						num_buildings = { type = building_machine_assembly_plant value = 0 }
						num_buildings = { type = building_machine_assembly_complex value = 0 }
					}
					AND = {
						num_buildings = { type = building_robot_assembly_plant value = 0 }
						num_buildings = { type = building_robot_assembly_complex value = 0 }
					}
				}
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_composer_rank value = 0.11 }
		}
	}
	else_if = { #Instrument modifiers
		limit = { check_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value > 0 } }
		change_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value = 0.03 }
		if = { #Civics liked
			limit = {
				OR = {
					has_civic = civic_aristocratic_elite
					has_civic = civic_feudal_realm
					has_civic = civic_slaver_guilds
					has_civic = civic_pleasure_seekers
					has_toxic_baths = yes
					has_civic = civic_indentured_assets
					has_civic = civic_corporate_hedonism
				}
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value = 0.04 }
		}
		if = { #Civics disliked
			limit = {
				has_civic = civic_shared_burden
				check_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value = -0.02 }
		}
		if = { #Ethics liked
			limit = { has_ethic = ethic_authoritarian }
			change_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value = 0.03 }
		}
		else_if = {
			limit = { has_ethic = ethic_fanatic_authoritarian }
			change_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value = 0.07 }
		}
		if = { #Ethics disliked
			limit = {
				has_ethic = ethic_egalitarian
				check_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value = -0.02 }
		}
		else_if = {
			limit = {
				has_ethic = ethic_fanatic_egalitarian
				check_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value = -0.05 }
		}
		if = { #Tradition liked
			limit = { has_tradition = tr_domination_finish }
			change_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value = 0.06 }
		}
		if = { #Acension Perks liked
			limit = {
				OR = {
					has_ascension_perk = ap_shared_destiny
					has_ascension_perk = ap_imperial_prerogative
				}
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value = 0.04 }
		}
		if = { #Other things liked
			limit = {
				OR = {
					is_at_war = no
					ruler = { has_trait = leader_trait_substance_abuser }
					any_owned_planet = {
						is_colony = yes
						has_designation = col_resort
					}
				}
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_instrument_rank value = 0.11 }
		}
	}
	else_if = { #Eater modifiers
		limit = { check_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value > 0 } }
		change_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value = 0.03 }
		if = { #Civics liked
			limit = {
				OR = {
					has_civic = civic_citizen_service
					has_civic = civic_fanatic_purifiers
					has_civic = civic_distinguished_admiralty
					has_civic = civic_naval_contractors
					has_civic = civic_barbaric_despoilers
					has_civic = civic_private_military_companies
				}
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value = 0.04 }
		}
		if = { #Civics disliked
			limit = {
				OR = {
					has_civic = civic_inwards_perfection
					has_civic = civic_agrarian_idyll
				}
				check_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value = -0.02 }
		}
		if = { #Ethics liked
			limit = { has_ethic = ethic_militarist }
			change_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value = 0.03 }
		}
		else_if = {
			limit = { has_ethic = ethic_fanatic_militarist }
			change_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value = 0.07 }
		}
		if = { #Ethics disliked
			limit = {
				has_ethic = ethic_pacifist
				check_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value = -0.02 }
		}
		else_if = {
			limit = {
				has_ethic = ethic_fanatic_pacifist
				check_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value < 2 }
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value = -0.05 }
		}
		if = { #Tradition liked
			limit = { has_tradition = tr_supremacy_finish }
			change_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value = 0.06 }
		}
		if = { #Acension Perks liked
			limit = {
				OR = {
					has_ascension_perk = ap_galactic_force_projection
					has_ascension_perk = ap_interstellar_dominion
				}
			}
			change_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value = 0.04 }
		}
		if = { #Other things liked
			limit = { is_at_war = yes }
			change_variable = { which = xvcv_mdlc_abyss_patron_eater_rank value = 0.11 }
		}
	}
}
xvcv_mdlc_abyss_patron_temporally_selected_leader_selection_effect = {
	random_owned_leader = {
		limit = { is_ruler = yes }
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_1
	}
	random_owned_leader = {
		limit = {
			NOT = { is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1 }
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_whisperers_rank_3 }
			OR = {
				leader_class = general
				leader_class = scientist
				leader_class = admiral
			}
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_2
	}
	random_owned_leader = {
		limit = {
			NOT = { is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1 }
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_composer_rank_3 }
			OR = {
				leader_class = governor
				leader_class = scientist
				leader_class = general
			}
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_2
	}
	random_owned_leader = {
		limit = {
			NOT = { is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1 }
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_instrument_rank_3 }
			OR = {
				leader_class = governor
				leader_class = scientist
				leader_class = admiral
			}
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_2
	}
	random_owned_leader = {
		limit = {
			NOT = { is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1 }
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_eater_rank_3 }
		}
		if = {
			limit = { leader_class = admiral }
			save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_2
		}
		else_if = {
			limit = { leader_class = general }
			save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_2
		}
		else_if = {
			limit = { leader_class = governor }
			save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_2
		}
	}
	random_owned_leader = {
		limit = {
			NOR = {
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_2
			}
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_whisperers_rank_3 }
			OR = {
				leader_class = admiral
				leader_class = scientist
				leader_class = general
			}
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_3
	}
	random_owned_leader = {
		limit = {
			NOR = {
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_2
			}
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_composer_rank_3 }
			OR = {
				leader_class = governor
				leader_class = scientist
				leader_class = general
			}
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_3
	}
	random_owned_leader = {
		limit = {
			NOR = {
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_2
			}
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_instrument_rank_3 }
			OR = {
				leader_class = governor
				leader_class = scientist
				leader_class = admiral
			}
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_3
	}
	random_owned_leader = {
		limit = {
			NOR = {
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_2
			}
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_eater_rank_3 }
			OR = {
				leader_class = governor
				leader_class = admiral
				leader_class = general
				is_ruler = yes
			}
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_3
	}
	random_owned_leader = {
		limit = {
			NOR = {
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_2
			}
			has_trait = leader_trait_chosen
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_3
	}
	random_owned_leader = {
		limit = {
			NOR = {
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_2
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_3
			}
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_whisperers_rank_3 }
			leader_class = scientist
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_4
	}
	random_owned_leader = {
		limit = {
			NOR = {
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_2
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_3
			}
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_composer_rank_3 }
			leader_class = scientist
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_4
	}
	random_owned_leader = {
		limit = {
			NOR = {
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_2
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_3
			}
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_instrument_rank_3 }
			leader_class = governor
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_4
	}
	random_owned_leader = {
		limit = {
			NOR = {
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_1
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_2
				is_same_value = event_target:xvcv_mdlc_abyss_patron_temporally_selected_leader_3
			}
			owner = { has_country_flag = xvcv_mdlc_abyss_patron_eater_rank_3 }
			leader_class = admiral
		}
		save_event_target_as = xvcv_mdlc_abyss_patron_temporally_selected_leader_4
	}
}
xvcv_mdlc_abyss_fallen_empire_tech_steal_effect = {
	random_list = {
		1 = {
			modifier = { factor = 0 has_technology = tech_mine_living_metal }
			give_technology = { tech = tech_mine_living_metal message = yes }
		}
		1 = {
			modifier = {
				factor = 0
				OR = {
					has_technology = tech_mega_assembly
					NOT = { can_research_technology = tech_mega_assembly }
				}
			}
			give_technology = { tech = tech_mega_assembly message = yes }
		}
		1 = {
			modifier = {
				factor = 0
				OR = {
					has_technology = tech_robot_assembly_complex
					NOT = { can_research_technology = tech_robot_assembly_complex }
				}
			}
			give_technology = { tech = tech_robot_assembly_complex message = yes }
		}
		1 = {
			modifier = { factor = 0 has_technology = tech_ascension_theory }
			give_technology = { tech = tech_ascension_theory message = yes }
		}
		1 = {
			modifier = { factor = 0 has_technology = tech_ship_armor_5 }
			give_technology = { tech = tech_ship_armor_5 message = yes }
		}
		1 = {
			modifier = { factor = 0 has_technology = tech_dark_matter_deflector }
			give_technology = { tech = tech_dark_matter_deflector message = yes }
			add_resource = { sr_dark_matter = 50 }
		}
		1 = {
			modifier = { factor = 0 has_technology = tech_dark_matter_power_core }
			give_technology = { tech = tech_dark_matter_power_core message = yes }
			add_resource = { sr_dark_matter = 50 }
		}
		1 = {
			modifier = { factor = 0 has_technology = tech_dark_matter_propulsion }
			give_technology = { tech = tech_dark_matter_propulsion message = yes }
			add_resource = { sr_dark_matter = 50 }
		}
		1 = {
			modifier = { factor = 0 OR = { has_technology = tech_jump_drive_1 has_technology = tech_psi_jump_drive_1 has_technology = xvcv_mdlc_tech_psi_jump_drive_1 } }
			give_technology = { tech = tech_jump_drive_1 message = yes }
		}
		1 = { give_technology = { tech = tech_repeatable_improved_tile_energy_output message = yes } }
	}
}