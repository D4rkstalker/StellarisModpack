
###############################
### Civil Wars by MrFunEGUY ###
###############################

# Set Installed Heir Setup
set_installed_heir_gov = {
	if = {
		limit = {
			NOR = {
				has_authority = auth_imperial
				has_authority = auth_corporate_imperial
				has_authority = auth_corporate_fiefdom
			}
		}
		change_government = {
			authority = auth_imperial
			cooldown = no
			remove_invalid_civics = yes
		}
	}
	if = {
		limit = { exists = heir }
		heir = { kill_leader = { show_notification = no } }
	}
	set_leader = event_target:traitor_leader
	ruler = { set_leader_flag = grateful_restored_leader_@this }
	add_opinion_modifier = {
		who = prev
		modifier = opinion_restored_to_leadership
	}
}

# Set Installed Leader Setup
set_installed_traitor_gov = {
	if = {
		limit = { is_imp_or_dict = no }
		if = {
			limit = { is_megacorp = yes }
			get_remove_civics = yes
		}
		random_list = {
			85 = {
				change_government = {
					authority = auth_dictatorial
					cooldown = no
					remove_invalid_civics = yes
				}
			}
			15 = {
				change_government = {
					authority = auth_imperial
					cooldown = no
					remove_invalid_civics = yes
				}
			}
		}
	}
	else_if = {
		limit = { exists = heir }
		heir = { kill_leader = { show_notification = no } }
	}
	set_leader = event_target:traitor_leader
	ruler = {
		set_leader_flag = grateful_restored_leader_@this
	}
	add_opinion_modifier = {
		who = prev
		modifier = opinion_restored_to_leadership
	}
}

after_comms_cleanup_effect = { # root is event_target:civwar_originator

	if = {
		limit = { exists = event_target:civwar_rebels }
		event_target:civwar_rebels = {
			# Unlock Fleets, needs to be here for some reason
			every_owned_fleet = { set_event_locked = no }

			if = {
				limit = { prev = { any_situation = { is_situation_type = situation_civstrife_succession } } }
				if = {
					limit = { has_country_flag = crisis_successor_@root }
					declare_war = {
						target = root
						name = "Succession Conflict"
						attacker_war_goal = "wg_coup_successor"
						effect = {
							set_name = {
								key = NAME_succession_conflict
								variable_string = "\\[This.MainAttacker.GetAdj]"
							}
							every_war_participant = {
								limit = {
									has_overlord = root
									is_war_leader = no
								}
								prev = { remove_war_participant = prev }
							}
						}
					}
					root = {
						every_system_within_border = {
							limit = { NOT = { prevprev = { has_claim = prev } } }
							add_claims = { who = prevprev }
						}
					}
					if = {
						limit = {
							any_country = {
								NOT = { is_same_value = prev }
								NOT = { is_at_war_with = prev }
								has_country_flag = crisis_successor_@root
							}
						}
						every_country = {
							limit = {
								NOT = { is_same_value = prev }
								NOT = { is_at_war_with = prev }
								has_country_flag = crisis_successor_@root
							}
							declare_war = {
								target = prev
								name = "Succession Conflict"
								attacker_war_goal = "wg_coup_successor"
								effect = {
									set_name = {
										key = NAME_succession_conflict
										variable_string = "\\[This.MainAttacker.GetAdj]"
									}
									every_war_participant = {
										limit = {
											has_overlord = root
											is_war_leader = no
										}
										prev = { remove_war_participant = prev }
									}
								}
							}
							every_system_within_border = {
								limit = { NOT = { prevprev = { has_claim = prev } } }
								add_claims = { who = prevprev }
							}
							prev = {
								every_system_within_border = {
									limit = { NOT = { prevprev = { has_claim = prev } } }
									add_claims = { who = prevprev }
								}
							}
						}
					}
					if = {
						limit = {
							any_country = {
								NOT = { is_same_value = prev }
								NOT = { is_at_war_with = prev }
								has_country_flag = crisis_independent_@root
							}
						}
						every_country = {
							limit = {
								NOT = { is_same_value = prev }
								NOT = { is_at_war_with = prev }
								has_country_flag = crisis_independent_@root
							}
							every_system_within_border = {
								limit = { NOT = { prevprev = { has_claim = prev } } }
								add_claims = { who = prevprev }
							}
							prev = {
								declare_war = {
									target = prev
									name = "Fealty War"
									attacker_war_goal = "wg_coup_independent"
									effect = {
										set_name = {
											key = NAME_fealty_war
											variable_string = "\\[This.MainDefender.Ruler.GetName]"
										}
										every_war_participant = {
											limit = {
												has_overlord = root
												is_war_leader = no
											}
											prev = { remove_war_participant = prev }
										}
									}
								}
							}
							
						}
					}
				}
				else_if = {
					limit = { has_country_flag = crisis_independent_@root }
					root = {
						if = {
							limit = { NOT = { has_country_flag = crisis_subject } }
							declare_war = {
								target = prev
								name = "Fealty War"
								attacker_war_goal = "wg_coup_independent"
								effect = {
									set_name = {
										key = NAME_fealty_war
										variable_string = "\\[This.MainDefender.Ruler.GetName]"
									}
									every_war_participant = {
										limit = {
											has_overlord = root
											is_war_leader = no
										}
										prev = { remove_war_participant = prev }
									}
								}
							}
						}
					}
					if = {
						limit = {
							any_country = {
								NOT = { is_at_war_with = prev }
								has_country_flag = crisis_successor_@root
							}
						}
						every_country = {
							limit = {
								NOT = { is_at_war_with = prev }
								has_country_flag = crisis_successor_@root
							}
							declare_war = {
								target = prev
								name = "Fealty War"
								attacker_war_goal = "wg_coup_independent"
								effect = {
									set_name = {
										key = NAME_succession_conflict
										variable_string = "\\[This.MainAttacker.GetAdj]"
									}
									every_war_participant = {
										limit = {
											has_overlord = root
											is_war_leader = no
										}
										prev = { remove_war_participant = prev }
									}
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					prev = { NOT = { any_situation = { is_situation_type = situation_civstrife_succession } } }
					any_country = { has_country_flag = crisis_successor_@root }
				}
				every_country = {
					limit = { has_country_flag = crisis_successor_@root }
					remove_country_flag = crisis_successor_@root
				}
			}
			if = {
				limit = { has_country_flag = ethic_sec_rebels }
				remove_country_flag = ethic_sec_rebels
			}
			else_if = {
				limit = { has_country_flag = sep_sec_rebels }
				remove_country_flag = sep_sec_rebels
			}
			else_if = {
				limit = { has_country_flag = nat_plan_rebels }
				remove_country_flag = nat_plan_rebels
			}
			else_if = {
				limit = { has_country_flag = nat_sec_rebels }
				remove_country_flag = nat_sec_rebels
			}

			if = {
				limit = {
					is_at_war = yes
					is_overlord = yes
				}
				every_subject = { join_war = event_target:civwar_rebels }
			}
		}
	}
	

	if = { # Request assistance from neighbors
		limit = {
			exists = event_target:civwar_rebels
			event_target:civwar_rebels = { is_at_war_with = event_target:civwar_originator }
			any_country = {
				is_unfriendly = no
				is_country_type_with_subjects = yes
				NOT = { has_truce = event_target:civwar_originator }
				NOT = { is_same_value = event_target:civwar_rebels }
				NOT = { has_overlord = event_target:civwar_originator }
				NOT = { is_same_value = event_target:civwar_originator }
				NOT = { has_defensive_pact = event_target:civwar_originator }
				NOT = { is_in_federation_with = event_target:civwar_originator }
				NOT = { has_non_aggression_pact = event_target:civwar_originator }
				any_system_within_border = {
					closest_system = {
						limit = {
							exists = space_owner
							space_owner = { is_same_value = event_target:civwar_rebels }
						}
						use_bypasses = yes
						max_steps = 1
					}
				}
			}
		}
		every_country = {
			limit = {
				is_unfriendly = no
				is_country_type_with_subjects = yes
				NOT = { has_truce = event_target:civwar_originator }
				NOT = { is_same_value = event_target:civwar_rebels }
				NOT = { has_overlord = event_target:civwar_originator }
				NOT = { is_same_value = event_target:civwar_originator }
				NOT = { has_defensive_pact = event_target:civwar_originator }
				NOT = { is_in_federation_with = event_target:civwar_originator }
				NOT = { has_non_aggression_pact = event_target:civwar_originator }
				any_system_within_border = {
					closest_system = {
						limit = {
							exists = space_owner
							space_owner = { is_same_value = event_target:civwar_rebels }
						}
						use_bypasses = yes
						max_steps = 1
					}
				}
			}
			if = {
				limit = {
					has_federation = no
					OR = {
						is_subject = no
						any_agreement = {
							OR = {
								has_term_value = {
									term = joins_subject_wars
									value = joins_subject_wars_none
								}
								has_term_value = {
									term = joins_subject_wars
									value = joins_subject_wars_defensive
								}
							}
						}
					}
				}
				country_event = { id = civwar.2100 }
			}
			else_if = {
				limit = {
					has_federation = no
					exists = overlord
					overlord = {
						is_unfriendly = no
						NOT = { is_same_value = event_target:civwar_originator }
					}
				}
				overlord = {
					if = {
						limit = {
							has_federation = yes
							NOT = { is_in_federation_with = event_target:civwar_originator }
						}
						random_federation_ally = {
							limit = { is_federation_leader = yes }
							country_event = { id = civwar.2100 }
						}
					}
					else_if = {
						limit = {
							has_federation = yes
							is_in_federation_with = event_target:civwar_originator
						}
						# DO NOTHING
					}
					else = {
						country_event = { id = civwar.2100 }
					}
				}			
			}
			else_if = {
				limit = {
					has_federation = yes
					NOT = { is_in_federation_with = event_target:civwar_originator }
				}
				random_federation_ally = {
					limit = { is_federation_leader = yes }
					country_event = { id = civwar.2100 }
				}
			}
		}
	}
	if = {
		limit = {
			exists = event_target:civwar_rebels
			exists = event_target:nat_motherland_model
			event_target:nat_motherland_model = { has_country_flag = motherland_will_join_@event_target:civwar_rebels }
		}
		event_target:nat_motherland_model = {
			remove_country_flag = motherland_will_join_@event_target:civwar_rebels
			if = {
				limit = { event_target:civwar_rebels = { is_at_war = yes } }
				join_war = event_target:civwar_rebels
			}
			else = {
				event_target:civwar_rebels = {
					set_truce = {
						target = event_target:civwar_originator
						type = liberation
					}
				}
			}
		}
	}

	if = {
		limit = {
			exists = event_target:civwar_rebels
			any_country = { has_country_flag = motherland_wont_join_@event_target:civwar_rebels }
		}
		random_country = {
			limit = { has_country_flag = motherland_wont_join_@event_target:civwar_rebels }
			remove_country_flag = motherland_wont_join_@event_target:civwar_rebels
		}
	}
	if = {
		limit = { any_country = { has_country_flag = ally_reb_@event_target:civwar_originator } }
		every_country = {
			limit = {
				has_country_flag = ally_reb_@event_target:civwar_originator
				NOT = {
					exists = event_target:civwar_rebels
					is_same_value = event_target:civwar_rebels
				}
			}
			if = {
				limit = {
					exists = event_target:civwar_rebels
					event_target:civwar_rebels = { is_at_war = yes }
				}
				join_war = event_target:civwar_rebels
			}
			else = {
				set_truce = {
					target = event_target:civwar_originator
					type = liberation
				}
			}
		}
		if = {
			limit = {  exists = event_target:civwar_rebels }
			event_target:civwar_rebels = {
				if = {
					limit = {
						is_at_war = no
						NOT = { has_truce = event_target:civwar_originator }
					}
					set_truce = {
						target = event_target:civwar_originator
						type = liberation
					}
				}
			}
		}
		
	}

	if = {
		limit = { has_country_flag = nat_civwar }
		remove_country_flag = nat_civwar
	}
	else_if = {
		limit = { has_country_flag = ethic_civwar }
		remove_country_flag = ethic_civwar
	}
	else_if = {
		limit = { has_country_flag = succession_mother_country }
		remove_country_flag = succession_mother_country
	}

	if = {
		limit = { any_owned_leader = { has_leader_flag = dummy_sector_leader } }
		random_owned_leader = {
			limit = { has_leader_flag = dummy_sector_leader }
			kill_leader = { show_notification = no }
		}
	}
	if = {
		limit = {
			exists = event_target:civwar_party_name_leader
			any_owned_leader = { is_same_value = event_target:civwar_party_name_leader }
		}
		random_owned_leader = {
			limit = { is_same_value = event_target:civwar_party_name_leader }
			kill_leader = { show_notification = no }
		}
	}

	if = {
		limit = {
			exists = event_target:civwar_rebels
			event_target:civwar_rebels.ruler = { has_leader_flag = civil_war_ruler_heir_isolated }
		}
		ruler = { save_event_target_as = crisis_dynasty_name }
		
		create_leader = {
			class = ruler
			species = event_target:civwar_originator.ruler.species
			name = random
			skill = 5
			leader_age_min = 13
			leader_age_max = 30
			effect = {
				save_event_target_as = new_heir
				set_name = {
					key = append_dynasty_name
					variable_string = "\\[This.GetFirstName]"
					variable_string = "\\[event_target:crisis_dynasty_name.GetName]"
				}
			}
		}
		# Need to change heirs
		set_heir = event_target:new_heir
	}

	if = {
		limit = { is_variable_set = num_subjects }
		clear_variable = num_subjects
	}

	if = {
		limit = {
			exists = event_target:civwar_rebels
			is_at_war_with = event_target:civwar_rebels
			any_subject = {
				OR = {
					has_country_flag = subject_helps_rebels_@root
					has_country_flag = subject_helps_overlord_@root
					has_country_flag = subject_joins_overlord_@root
				}
			}
		}
		event_target:civwar_rebels = {
			random_war = { save_event_target_as = civwar_for_subs }
		}
		get_subject_decisions_effect = yes
		# if = {
		# 	limit = { NOT = { has_country_flag = subject_after_effects_timer } }
		# 	set_timed_country_flag = { flag = subject_after_effects_timer years = 1 }
		# 	get_subject_decisions_effect = yes
		# }
	}
}

get_subject_decisions_effect = {
	log = "IS THIS HAPP"
	if = { # Succession Conflict stuff
		limit = {
			any_country = {
				exists = overlord
				overlord = {
					is_at_war = yes
					is_succession_country = yes
				}
				NOT = { is_at_war = yes }
				# has_country_flag = subject_joins_rebels_@root
			}
		}
		log = "EFFECT HAPPENING RIGHT"
		every_country = {
			limit = {
				exists = overlord
				overlord = {
					is_at_war = yes
					is_succession_country = yes
				}
				NOT = { is_at_war = yes }
				# has_country_flag = subject_joins_rebels_@root
			}
			overlord = { save_event_target_as = sub_overlord }
			join_war = event_target:sub_overlord
		}
	}
	
	if = {
		limit = { any_subject = { has_country_flag = subject_helps_rebels_@root } }
		every_subject = {
			limit = { has_country_flag = subject_helps_rebels_@root }
			if = {
				limit = {
					any_country = {
						is_at_war_with = overlord
						is_succession_country = yes
					}
				}
				random_country = {
					limit = { has_country_flag = borders_the_subject_@prev }
					save_event_target_as = event_target:civwar_rebels
					random_war = { save_event_target_as = civwar_for_subs }
				}
				set_subject_of = {
					who = event_target:civwar_rebels
					preset = preset_tributary
				}
				join_war_on_side = {
					war = event_target:civwar_for_subs
					side = event_target:civwar_rebels
				}
			}
			else = {
				set_subject_of = {
					who = event_target:civwar_rebels
					preset = preset_tributary
				}
				join_war_on_side = {
					war = event_target:civwar_for_subs
					side = event_target:civwar_rebels
				}
			}
		}
	}
	if = {
		limit = { any_subject = { has_country_flag = subject_joins_overlord_@root } }
		every_subject = {
			limit = { has_country_flag = subject_joins_overlord_@root }
			if = {
				limit = {
					any_country = {
						is_at_war_with = prev.overlord
						is_succession_country = yes
					}
				}
				random_country = {
					limit = {
						is_at_war_with = prev.overlord
						is_succession_country = yes
					}
					random_war = { save_event_target_as = civwar_for_subs }
				}
			}
			join_war_on_side = {
				war = event_target:civwar_for_subs
				side = attackers
			}
		}
	}
	country_event = { id = civcom.5000 days = 1 random = 5 }
}

get_motherland_effect = {
	if = {
		limit = {
			any_country = {
				OR = {
					has_country_flag = motherland_will_join_@event_target:civwar_rebels
					has_country_flag = motherland_wont_join_@event_target:civwar_rebels
				}	
			}
		}
		random_country = {
			limit = {
				OR = {
					has_country_flag = motherland_will_join_@event_target:civwar_rebels
					has_country_flag = motherland_wont_join_@event_target:civwar_rebels
				}
			}
			save_event_target_as = nat_motherland
		}
	}
}

#####################
# Make countries

make_civil_war_faction_country = {

	if = {
		limit = { root.target = { is_authoritarian_faction = yes } }
		owner = { country_event = { id = civwarcountry.1000 } }
	}
	else_if = {
		limit = { root.target = { is_egalitarian_faction = yes } }
		owner = { country_event = { id = civwarcountry.1005 } }
	}
	else_if = {
		limit = { root.target = { is_militarist_faction = yes } }
		owner = { country_event = { id = civwarcountry.1010 } }
	}
	else_if = {
		limit = { root.target = { is_pacifist_faction = yes } }
		owner = { country_event = { id = civwarcountry.1015 } }
	}
	else_if = {
		limit = { root.target = { is_materialist_faction = yes } }
		owner = { country_event = { id = civwarcountry.1020 } }
	}
	else_if = {
		limit = { root.target = { is_spiritualist_faction = yes } }
		owner = { country_event = { id = civwarcountry.1025 } }
	}
	else_if = {
		limit = { root.target = { is_xenophile_faction = yes } }
		owner = { country_event = { id = civwarcountry.1030 } }
	}
	else_if = {
		limit = { root.target = { is_xenophobe_faction = yes } }
		owner = { country_event = { id = civwarcountry.1035 } }
	}
	else_if = {
		limit = { root.target = { is_socialist_faction = yes } }
		owner = { country_event = { id = civwarcountry.1040 } }
	}
	else_if = {
		limit = { root.target = { is_capitalism_faction = yes } }
		owner = { country_event = { id = civwarcountry.1045 } }
	}
	else_if = {
		limit = { root.target = { is_industrial_faction = yes } }
		owner = { country_event = { id = civwarcountry.1050 } }
	}
	else_if = {
		limit = { root.target = { is_ecologist_faction = yes } }
		owner = { country_event = { id = civwarcountry.1055 } }
	}
	else_if = {
		limit = { root.target = { is_elitist_faction = yes } }
		owner = { country_event = { id = civwarcountry.1060 } }
	}
	else_if = {
		limit = { root.target = { is_pluralist_faction = yes } }
		owner = { country_event = { id = civwarcountry.1065 } }
	}
}

make_nat_war_country = {
	random_country = {
		limit = {
			has_country_flag = nat_motherland_sit_@root
			has_country_flag = nat_motherland_sit_@root.owner
		}
		save_event_target_as = nat_motherland_model
		if = {
			limit = { is_exile_country = yes }
			prev.owner = { set_country_flag = motherland_is_exile }
		}
	}
	if = { # New country has the same flag if it is a restoration
		limit = {
			event_target:nat_motherland_model = { is_exile_country = yes }
			NOT = { any_country = { has_country_flag = exile_link_@event_target:nat_motherland_model } }
		}
		create_country = {
			name = event_target:nat_motherland_model
			type = default
			species = event_target:nat_motherland_model
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = event_target:nat_motherland_model
			ethos = event_target:nat_motherland_model
			origin = origin_nationalist_rebellion
			civics = event_target:nat_motherland_model
			flag = event_target:nat_motherland_model
			effect = {
				set_country_flag = exile_restored_country
				set_country_flag = exile_link_@event_target:nat_motherland_model
				if = {
					limit = { event_target:nat_motherland_model = { has_country_flag = was_purifier } }
					force_add_civic = civic_fanatic_purifiers
				}
				created_civwar_country_effect = yes
			}
		}
		event_target:nat_motherland_model = { set_country_flag = exile_link_@last_created_country }
	}
	else = {
		create_country = {
			name = random
			type = default
			species = event_target:nat_motherland_model
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = event_target:nat_motherland_model
			ethos = event_target:nat_motherland_model
			origin = origin_nationalist_rebellion
			civics = event_target:nat_motherland_model
			flag = random
			effect = {
				if = {
					limit = { event_target:nat_motherland_model = { has_country_flag = was_purifier } }
					force_add_civic = civic_fanatic_purifiers
				}
				created_civwar_country_effect = yes
			}
		}
	}

	last_created_country = { set_country_flag = nat_civwar }
}

make_isolated_sector_country = {

	if = { # Heirs always model their governments after the motherland
		limit = {
			exists = root.target.leader
			root.target.leader = { has_leader_flag = civil_war_leader_heir_isolated }
		}
		create_country = {
			name = random
			type = default
			species = event_target:civwar_species
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = event_target:civwar_originator
			ethos = event_target:civwar_originator
			origin = origin_isolated_rebellion
			civics = event_target:civwar_originator
			flag = random
			effect = {
				created_civwar_country_effect = yes
			}
		}
	}
	else = {
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				if = { # Imperial governments usually make imperial govenrments
					limit = { is_imperial = yes }
					random_list = {
						65 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Democratic Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						2 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						2 = { # Strict Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_strict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						1 = { # Direct Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_direct_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_dictatorial = yes }
					random_list = {
						50 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						20 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						15 = { # Democratic Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						2 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						2 = { # Strict Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_strict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						1 = { # Direct Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_direct_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_democracy = yes }
					random_list = {
						45 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						40 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						6 = { # Democratic Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						5 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						4 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_oligarchy = yes }
					random_list = {
						25 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						40 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						20 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Democratic Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						2 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						2 = { # Strict Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_strict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						1 = { # Direct Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_direct_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
			}
			else = {
				if = { # Imperial governments usually make imperial govenrments
					limit = { is_imperial = yes }
					random_list = {
						65 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = auth_dictatorial
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Democratic Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						3 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						2 = { # Strict Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_strict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_dictatorial = yes }
					random_list = {
						50 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						20 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						15 = { # Democratic Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						3 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						2 = { # Strict Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_strict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_democracy = yes }
					random_list = {
						45 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						40 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						6 = { # Democratic Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						5 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						4 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_oligarchy = yes }
					random_list = {
						25 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						40 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						20 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Democratic Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						3 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						2 = { # Strict Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_strict_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
			}
		}
		else = {
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				if = { # Imperial governments usually make imperial govenrments
					limit = { is_imperial = yes }
					random_list = {
						65 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						20 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						4 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						1 = { # Direct Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_direct_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_dictatorial = yes }
					random_list = {
						50 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						35 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = auth_imperial
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						4 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						1 = { # Direct Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_direct_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_democracy = yes }
					random_list = {
						45 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						40 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						5 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_oligarchy = yes }
					random_list = {
						25 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						40 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						30 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						4 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						1 = { # Direct Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_direct_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
			}
			else = {
				if = { # Imperial governments usually make imperial govenrments
					limit = { is_imperial = yes }
					random_list = {
						65 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						20 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						5 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_dictatorial = yes }
					random_list = {
						50 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						35 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						5 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_democracy = yes }
					random_list = {
						45 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						40 = { # Oligarchic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_oligarchic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						10 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						5 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = { is_oligarchy = yes }
					random_list = {
						25 = { # Same as Motherland
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								authority = event_target:civwar_originator
								ethos = event_target:civwar_originator
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						40 = { # Imperial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_imperial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						30 = { # Dictatorial
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_dictatorial
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
						5 = { # Democratic
							create_country = {
								name = random
								type = default
								species = event_target:civwar_species
								ignore_initial_colony_error = yes
								day_zero_contact = no
								ethos = random
								origin = origin_isolated_rebellion
								civics = random
								flag = random
								authority = auth_democratic
								effect = {
									created_civwar_country_effect = yes
								}
							}
						}
					}
				}
			}
		}
	}

	last_created_country = { set_country_flag = sec_rebel_country }
}

make_succession_crisis_gov_country = {

	event_target:crisis_sector = {
		set_sector_flag = leader_sector
	}

	# It gets lost along the way, poor thing
	save_global_event_target_as = civwar_originator

	set_country_flag = succession_mother_country

	create_country = {
		name = random
		type = default
		species = event_target:crisis_sector_leader
		ignore_initial_colony_error = yes
		day_zero_contact = no
		authority = auth_imperial
		ethos = { 
			ethic = ethic_fanatic_authoritarian
			ethic = random
		}
		origin = origin_coup_independent
		civics = random
		flag = random
		effect = {
			set_country_flag = crisis_independent_@event_target:civwar_originator
			created_civwar_country_effect = yes
		}
	}

	set_country_flag = succession_crisis_mom_@last_created_country
}

make_succession_crisis_dynast_country = {

	event_target:crisis_sector = {
		set_sector_flag = leader_sector
	}

	save_event_target_as = civwar_originator

	# It gets lost along the way, poor thing
	save_global_event_target_as = civwar_originator

	set_country_flag = succession_mother_country

	create_country = {
		name = event_target:civwar_originator
		type = default
		species = event_target:crisis_sector_leader
		ignore_initial_colony_error = yes
		day_zero_contact = no
		authority = auth_imperial
		ethos = event_target:civwar_originator
		origin = origin_coup_successor
		civics = event_target:civwar_originator
		flag = event_target:civwar_originator
		effect = {
			set_country_flag = crisis_successor_@event_target:civwar_originator
			created_civwar_country_effect = yes
		}
	}

	set_country_flag = succession_crisis_mom_@last_created_country
}

make_ruler_secession_country = {

	save_event_target_as = civwar_originator

	if = {
		limit = {
			OR = {
				NOT = { has_global_flag = cultural_overhaul_active }
				has_global_flag = bug_branch_active # Bug Branch changes EC ethic names, makes it not easily compatible
			}
		}
		random_list = {
			# Authoritarian
			10 = { country_event = { id = civwarsecession.1000 } }
			# Egalitarian
			20 = { country_event = { id = civwarsecession.1005 } }
			# Militarist
			20 = { country_event = { id = civwarsecession.1010 } }
			# Pacifist
			10 = { country_event = { id = civwarsecession.1015 } }
			# Materialist
			10 = { country_event = { id = civwarsecession.1020 } }
			# Spiritualist
			10 = { country_event = { id = civwarsecession.1025 } }
			# Xenophile
			10 = { country_event = { id = civwarsecession.1030 } }
			# Xenophobe
			10 = { country_event = { id = civwarsecession.1035 } }
		}
	}
	else_if = {
		limit = {
			has_global_flag = cultural_overhaul_active
			has_global_flag = cultural_overhaul_redux_active
		}
		random_list = {
			# Authoritarian
			10 = { country_event = { id = civwarsecession.1000 } }
			# Egalitarian
			10 = { country_event = { id = civwarsecession.1005 } }
			# Militarist
			10 = { country_event = { id = civwarsecession.1010 } }
			# Pacifist
			10 = { country_event = { id = civwarsecession.1015 } }
			# Materialist
			10 = { country_event = { id = civwarsecession.1020 } }
			# Spiritualist
			10 = { country_event = { id = civwarsecession.1025 } }
			# Xenophile
			10 = { country_event = { id = civwarsecession.1030 } }
			# Xenophobe
			10 = { country_event = { id = civwarsecession.1035 } }
			# Socialist
			10 = { country_event = { id = civwarsecession.1040 } }
			# Capitalist
			10 = { country_event = { id = civwarsecession.1045 } }
		}
	}
	else = {
		random_list = {
			# Authoritarian
			5 = { country_event = { id = civwarsecession.1000 } }
			# Egalitarian
			10 = { country_event = { id = civwarsecession.1005 } }
			# Militarist
			10 = { country_event = { id = civwarsecession.1010 } }
			# Pacifist
			5 = { country_event = { id = civwarsecession.1015 } }
			# Materialist
			5 = { country_event = { id = civwarsecession.1020 } }
			# Spiritualist
			5 = { country_event = { id = civwarsecession.1025 } }
			# Xenophile
			5 = { country_event = { id = civwarsecession.1030 } }
			# Xenophobe
			10 = { country_event = { id = civwarsecession.1035 } }
			# Socialist
			10 = { country_event = { id = civwarsecession.1040 } }
			# Capitalist
			5 = { country_event = { id = civwarsecession.1045 } }
			# Industrialist
			10 = { country_event = { id = civwarsecession.1050 } }
			# Ecologist
			5 = { country_event = { id = civwarsecession.1055 } }
			# Elitist
			5 = { country_event = { id = civwarsecession.1060 } }
			# Pluralist
			10 = { country_event = { id = civwarsecession.1065 } }
		}
	}
}

##########

created_civwar_country_effect = {
	establish_communications_no_message = root # If this isnt done here, a message will still pop up as of 3.5
	set_timed_country_flag = { flag = civwar_rebel_timer months = 3 }
	save_event_target_as = civwar_rebels
	country_event = { id = civwar.1000 }
}

created_civwar_rebel_country_effect = {
	set_timed_country_flag = { flag = civwar_rebel_timer months = 3 }
	save_event_target_as = civwar_rebels
	if = {
		limit = {
			exists = root.target
			root.target = { is_scope_type = pop_faction }
		}
		if = {
			limit = { exists = root.target.leader }
			root.target.leader = {
				set_owner = event_target:civwar_rebels
				save_event_target_as = civl_war_leader
			}
			set_leader = event_target:civl_war_leader
		}
		else = {
			if = {
				limit = { root.target = { is_regular_faction = yes } }
				root.target = {
					random_owned_pop = {
						limit = { has_pop_flag = sep_pop_ethic }
						species = { save_event_target_as = civwar_species }
					}
				}
			}
			else_if = {
				limit = { root.target = { is_separatist_faction = yes } }
				root.target = {
					random_owned_pop = {
						limit = { has_pop_flag = sep_pop }
						species = { save_event_target_as = civwar_species }
					}
				}
			}
			create_leader = {
				class = ruler
				species = event_target:civwar_species
				name = random
				skill = 5
				traits = { trait = trait_ruler_deep_connections }
				effect = {
					save_event_target_as = new_rebel_leader
					set_leader_flag = new_faction_ruler
				}
			}
			set_leader = event_target:new_rebel_leader
		}
	}
	ruler = {
		add_random_leader_trait = yes
		add_random_leader_trait = yes
		if = {
			limit = { has_leader_flag = corrupt_governor }
			add_trait = leader_trait_corrupt
		}
	}
	event_target:civil_war_planet = {
		planet_event = { id = civplan.2000 }
	}
}

created_slave_rebel_country_effect = {
	set_country_flag = slave_rebels
	save_event_target_as = rebelling_slaves
	establish_communications_no_message = root.owner
	set_relation_flag = {
		flag = rebelling_slaves_former_owner
		who = root.owner
	}
	get_slave_war_leader = yes
	created_civwar_rebel_country_effect = yes
}

#####################

#####################
# Civil War Type Effects

get_multi_sector_effect = {

	export_trigger_value_to_variable = {
		trigger = num_sectors
		variable = all_potential_sectors
	}

	set_variable = { which = maybe_rebel_sectors value = 0 }

	every_owned_sector = { # Calculate the rebel percentage of each sector
		limit = {
			NOT = {
				any_owned_planet = {
					num_pops >= 1
					OR = {
						is_capital = yes
						has_ground_combat = yes
						is_occupied_flag = yes
					}
				}
			}
			pop_percentage = {
				percentage >= 0.25
				# percentage > 0
				limit = {
					exists = pop_faction
					pop_faction = { is_same_value = root.target }
					OR = {
						root = { is_ethic_situation = no }
						has_pop_flag = sep_pop_ethic
					}
				}
				exclude = { can_think = no }
			}
		}
		set_sector_flag = potential_rebel
		export_trigger_value_to_variable = {
			trigger = num_pops
			variable = total_sector_pops
		}
		set_variable = { which = fac_sep_percentage value = 0 }
		every_owned_planet = {
			every_owned_pop = {
				limit = {
					exists = pop_faction
					pop_faction = { is_same_value = root.target }
					has_pop_flag = sep_pop
				}
				prevprev = { change_variable = { which = fac_sep_percentage value = 1 } }
			}
		}
		divide_variable = {
			which = fac_sep_percentage
			value = total_sector_pops
		}
		multiply_variable = { # Needs to be done to ensure accurate ordering
			which = fac_sep_percentage
			value = 100
		}
		prev = { change_variable = { which = maybe_rebel_sectors value = 1 } }
	}

	random_list = {
		21 = { multiply_variable = { which = all_potential_sectors value = 0.3 } }
		31 = { multiply_variable = { which = all_potential_sectors value = 0.4 } }
		46 = { multiply_variable = { which = all_potential_sectors value = 0.5 } }
		2 = { multiply_variable = { which = all_potential_sectors value = 0.67 } }
	}
	ceiling_variable = all_potential_sectors

	while = { # Pick the most separatist sectors to rebel
		count = all_potential_sectors
		ordered_owned_sector = {
			limit = {
				has_sector_flag = potential_rebel
				NOT = { has_sector_flag = rebel_sector }
			}
			position = 0
			order_by = fac_sep_percentage
			set_sector_flag = rebel_sector
		}
	}

	while = { # Associate bordering sectors with each other
		count = all_potential_sectors
		if = {
			limit = {
				any_owned_sector = {
					has_sector_flag = rebel_sector
					NOT = { has_sector_flag = counted_sector }
				}
			}
			ordered_owned_sector = {
				limit = {
					has_sector_flag = rebel_sector
					NOT = { has_sector_flag = counted_sector }
				}
				position = 0
				order_by = fac_sep_percentage
				save_event_target_as = rebel_sector_leader
				set_sector_flag = rebel_sector_@this
				set_sector_flag = leader_sector
				set_sector_flag = counted_sector
			}
			while = {
				count = all_potential_sectors
				if = { # Any Sector that borders a more rebellious sector will rebel under them
					limit = {
						any_owned_sector = {
							NOT = { has_sector_flag = counted_sector }
							has_sector_flag = rebel_sector
							any_system_within_border = {
								closest_system = {
									limit = {
										exists = sector
										sector = { has_sector_flag = rebel_sector_@event_target:rebel_sector_leader }
									}
									use_bypasses = yes
									max_steps = 1
								}
							}
						}
					}
					random_owned_sector = {
						limit = {
							NOT = { has_sector_flag = counted_sector }
							has_sector_flag = rebel_sector
							any_system_within_border = {
								closest_system = {
									limit = {
										exists = sector
										sector = { has_sector_flag = rebel_sector_@event_target:rebel_sector_leader }
									}
									use_bypasses = yes
									max_steps = 1
								}
							}
						}
						set_sector_flag = counted_sector
						set_sector_flag = rebel_sector_@event_target:rebel_sector_leader
						set_sector_flag = rebel_sector_follower_@event_target:rebel_sector_leader
					}
				}
			}
		}
	}

	if = {
		limit = { root.target = { is_regular_faction = yes } }
		get_civil_war_leader = yes
		set_recent_civwar_flag = yes
	}
	else = {
		get_nationalist_war_leader = yes
		event_target:global_event_country = {
			change_variable = { which = total_gal_nat_events value = 1 }	
		}
	}

	random_owned_leader = {
		limit = {
			has_leader_flag = leader_civil_war_faction
			exists = pop_faction
			pop_faction = { is_same_value = root.target } # Just in case there are any other rebellions going on
		}
		pop_faction = { save_event_target_as = civwar_party } # I Imagine this should stay past the first loop
		save_event_target_as = rebel_leader
	}

	create_party_name_leader = yes
	last_created_leader = { leader_event = { id = civleader.1000 days = 720 } }

	set_variable = { which = total_reb_countries value = 0 }
	every_owned_sector = {
		limit = { has_sector_flag = leader_sector }
		prev = { change_variable = { which = total_reb_countries value = 1 } }
	}

	if = {
		limit = { check_variable = { which = total_reb_countries value > 1 } }
		set_timed_country_flag = { flag = rebs_help_eachother months = 6 }
	}

	every_owned_sector = {
		limit = { has_sector_flag = leader_sector }
		set_variable = { which = fac_sep_percentage value = 0 }
		export_trigger_value_to_variable = {
			trigger = num_pops
			variable = total_new_country_pops
		}
		every_owned_planet = {
			every_owned_pop = {
				limit = {
					exists = pop_faction
					pop_faction = { is_same_value = root.target }
					has_pop_flag = sep_pop
				}
				prevprev = { change_variable = { which = fac_sep_percentage value = 1 } }
			}
		}
		owner = {
			every_owned_sector = {
				limit = { has_sector_flag = rebel_sector_follower_@event_target:rebel_sector_leader }
				prevprev = { change_variable = { which = total_new_country_pops value = trigger:num_pops } }
				every_owned_planet = {
					every_owned_pop = {
						limit = {
							exists = pop_faction
							pop_faction = { is_same_value = root.target }
							has_pop_flag = sep_pop
						}
						prevprevprevprev = { change_variable = { which = fac_sep_percentage value = 1 } }
					}
				}
			}
		}
		divide_variable = {
			which = fac_sep_percentage
			value = total_new_country_pops
		}
		multiply_variable = { # Needs to be done to ensure accurate ordering
			which = fac_sep_percentage
			value = 100
		}
	}

	while = {
		count = total_reb_countries
		ordered_owned_sector = {
			limit = { has_sector_flag = leader_sector }
			position = 0
			order_by = fac_sep_percentage
			if = {
				limit = { root.target = { is_regular_faction = yes } }
				make_civil_war_faction_country = yes
			}
			else = {
				make_nat_war_country = yes
			}
		}
	}
	
	every_owned_sector = {
		limit = { has_sector_flag = potential_rebel }
		remove_sector_flag = potential_rebel
	}

	if = {
		limit = { root.target = { is_nationalist_faction = yes } }
		root.target = {
			every_owned_pop = {
				limit = { has_pop_flag = sep_pop_nat }
				random = {
					chance = 80
					remove_pop_flag = sep_pop_nat
				}
			}
		}
	}
}

get_two_sector_effect = {
	if = {
		limit = { root.target = { is_regular_faction = yes } }
		get_civil_war_leader = yes
		set_recent_civwar_flag = yes
	}
	else = {
		get_nationalist_war_leader = yes
		event_target:global_event_country = {
			change_variable = { which = total_gal_nat_events value = 1 }	
		}
	}

	random_owned_leader = {
		limit = {
			has_leader_flag = leader_civil_war_faction
			exists = pop_faction
			pop_faction = { is_same_value = root.target } # Just in case
		}
		pop_faction = { save_event_target_as = civwar_party } # I Imagine this should stay past the first loop
		save_event_target_as = rebel_leader
	}

	create_party_name_leader = yes
	last_created_leader = { leader_event = { id = civleader.1000 days = 720 } }

	random_owned_sector = {
		limit = {
			NOT = {
				any_owned_planet = {
					OR = {
						has_ground_combat = yes
						solar_system = { is_capital_system = yes }
					}
				}
			}
		}
		set_sector_flag = leader_sector
		if = {
			limit = { root.target = { is_regular_faction = yes } }
			make_civil_war_faction_country = yes
		}
		else = {
			make_nat_war_country = yes
			root.target = {
				every_owned_pop = {
					limit = { has_pop_flag = sep_pop_nat }
					random = {
						chance = 80
						remove_pop_flag = sep_pop_nat
					}
				}
			}
		}
	}
}

get_small_civwar_effect = {
	root.target = {
		set_variable = { which = fac_mil_support value = 0 }
		save_event_target_as = civwar_party
	}
	if = { # If only 2 planets, get the other planet
		limit = { num_owned_planets = 2 }
		random_owned_planet = {
			limit = {
				is_under_colonization = no
				NOR = {
					is_capital = yes
					has_ground_combat = yes
					is_occupied_flag = yes
				}
			}
			save_event_target_as = civil_war_planet
			solar_system = { set_timed_star_flag = { flag = civwar_planet months = 3 } }
			every_owned_pop = {
				limit = {
					exists = pop_faction
					pop_faction = { is_same_value = root.target }
					has_pop_flag = sep_pop
				}
				root.target = { change_variable = { which = fac_mil_support value = 1 } }
			}
			set_planet_flag = small_civil_war
			if = {
				limit = { root.target = { is_regular_faction = yes } }
				get_ethic_plan_rebels = yes
				get_civil_war_leader = yes
			}
			else = {
				set_planet_flag = nat_planet_rebellion_@this # Such that Balkanization doesnt result in a bunch of wars numbered different civil wars at the same time
				get_nat_plan_rebels = yes
				get_nationalist_war_leader = yes
				event_target:global_event_country = {
					change_variable = { which = total_gal_nat_events value = 1 }	
				}
			}
		}
	}
	else = { # If more than 2, potentially Balkanize
		set_variable = { which = total_faction_pops value = 0 }
		set_variable = { which = maybe_rebel_planets value = 0 }
		every_owned_planet = {
			limit = {
				is_under_colonization = no
				NOR = {
					is_capital = yes
					has_ground_combat = yes
					is_occupied_flag = yes
				}
			}
			set_variable = { which = fac_sep_percentage value = 0 }
			every_owned_pop = {
				limit = {
					exists = pop_faction
					pop_faction = { is_same_value = root.target }
					has_pop_flag = sep_pop
				}
				prev = { change_variable = { which = fac_sep_percentage value = 1 } }
			}
			every_owned_pop = {
				limit = { pop_has_happiness = yes }
				prevprev = { change_variable = { which = total_faction_pops value = 1 } }
			}
			prev = { change_variable = { which = maybe_rebel_planets value = 1 } }
		}
		divide_variable = {
			which = fac_sep_percentage
			value = total_faction_pops
		}
		while = {
			count = maybe_rebel_planets
			ordered_owned_planet = {
				limit = {
					solar_system = { is_capital_system = no }
					has_ground_combat = no
					pop_percentage = {
						percentage >= 0.25
						limit = {
							exists = pop_faction
							pop_faction = { is_same_value = root.target }
							has_pop_flag = sep_pop
						}
						exclude = { can_think = no }
					}
				}
				position = 0
				order_by = fac_sep_percentage
				save_event_target_as = civil_war_planet
				solar_system = { set_timed_star_flag = { flag = civwar_planet months = 3 } }
				every_owned_pop = {
					limit = {
						exists = pop_faction
						pop_faction = { is_same_value = root.target }
						has_pop_flag = sep_pop
					}
					root.target = { change_variable = { which = fac_mil_support value = 1 } }
				}							
				set_planet_flag = balkan_war
				
				if = {
					limit = { root.target = { is_regular_faction = yes } }
					set_planet_flag = ethic_planet_rebellion_@this # Such that Balkanization doesnt result in a bunch of wars numbered different civil wars at the same time
					get_ethic_plan_rebels = yes
					get_civil_war_leader = yes
					set_recent_civwar_flag = yes
				}
				else = {
					set_planet_flag = nat_planet_rebellion_@this # Such that Balkanization doesnt result in a bunch of wars numbered different civil wars at the same time
					get_nat_plan_rebels = yes
					get_nationalist_war_leader = yes
				}
			}
		}
	}
	root = {
		if = {
			limit = { target = { is_regular_faction = yes } }
			situation_event = { id = civethic.9000 }
		}
		else = {
			situation_event = { id = civnat.9010 }
			target = {
				every_owned_pop = {
					limit = { has_pop_flag = sep_pop_nat }
					random = {
						chance = 80
						remove_pop_flag = sep_pop_nat
					}
				}
			}
		}
	}
}

get_sectoral_revolt_effect = {
	root.target = { save_event_target_as = civwar_party }
	create_party_name_leader = yes
	last_created_leader = { leader_event = { id = civleader.1000 days = 720 } }
	random_owned_sector = {
		limit = {
			NOT = {
				any_owned_planet = {
					is_under_colonization = no
					OR = {
						is_capital = yes
						has_ground_combat = yes
						is_occupied_flag = yes
					}
				}
			}
			pop_percentage = {
				percentage >= 0.25
				# percentage > 0
				limit = {
					exists = pop_faction
					pop_faction = { is_same_value = root.target }
					has_pop_flag = sep_pop
				}
				exclude = { can_think = no }
			}
		}
		save_event_target_as = saved_sector
		root.target = {
			set_variable = { which = fac_mil_support value = 0 }
			save_event_target_as = civwar_party
		}
		every_owned_planet = {
			every_owned_pop = {
				limit = {
					exists = pop_faction
					pop_faction = { is_same_value = root.target }
					has_pop_flag = sep_pop
				}
				root.target = { change_variable = { which = fac_mil_support value = 1 } }
			}
		}
		sector_capital = {
			save_event_target_as = civil_war_planet
			if = {
				limit = { root.target = { is_regular_faction = yes } }
				set_planet_flag = ethic_sector_rebellion
				get_civil_war_leader = yes
				get_ethic_plan_rebels = yes
				set_recent_civwar_flag = yes
				sector = { set_sector_flag = ethic_sector_rebellion_@event_target:civil_war_planet }
			}
			else = {
				set_planet_flag = nat_sector_rebellion
				get_nationalist_war_leader = yes
				get_nat_plan_rebels = yes
				sector = { set_sector_flag = nat_sector_rebellion_@event_target:civil_war_planet }
				event_target:global_event_country = {
					change_variable = { which = total_gal_nat_events value = 1 }	
				}
			}
		}
		
		save_event_target_as = sector_name_local
		
		create_sector_name_leader = yes # Create a dummy leader to save the sector name for localisation
		
		root = {
			if = {
				limit = { target = { is_regular_faction = yes } }
				situation_event = { id = civethic.9010 }
			}
			else = {
				situation_event = { id = civnat.9010 }
				target = {
					every_owned_pop = {
						limit = { has_pop_flag = sep_pop_nat }
						random = {
							chance = 80
							remove_pop_flag = sep_pop_nat
						}
					}
				}
			}
		}
	}
	event_target:global_event_country = {
		change_variable = { which = total_gal_sector_rebs value = 1 }
		subtract_variable = { which = total_gal_civil_wars value = 1 } # Count Sector Rebs Separately
	}
}

get_planetary_revolt_effect = {
	random_owned_planet = {
		limit = {
			is_under_colonization = no
			is_capital = no
			has_ground_combat = no
			is_occupied_flag = no
			sector = {
				NOR = {
					has_sector_flag = nat_sector_rebellion_@sector_capital
					has_sector_flag = ethic_sector_rebellion_@sector_capital
				}
			}
			pop_percentage = {
				percentage >= 0.25
				# percentage > 0
				limit = {
					exists = pop_faction
					pop_faction = { is_same_value = root.target }
					has_pop_flag = sep_pop
				}
				exclude = { can_think = no }
			}
		}
		get_planetary_reb_number = yes
		root.target = {
			set_variable = { which = fac_mil_support value = 0 }
			save_event_target_as = civwar_party
		}
		every_owned_pop = {
			limit = {
				exists = pop_faction
				pop_faction = { is_same_value = root.target }
				has_pop_flag = sep_pop
			}
			root.target = { change_variable = { which = fac_mil_support value = 1 } }
		}
		save_event_target_as = civil_war_planet
		solar_system = { set_timed_star_flag = { flag = civwar_planet months = 3 } }
		if = {
			limit = { root.target = { is_regular_faction = yes } }
			set_planet_flag = ethic_planet_rebellion_@this
			get_civil_war_leader = yes
			owner = { create_party_name_leader = yes }
			get_ethic_plan_rebels = yes
			set_recent_civwar_flag = yes
			root = { situation_event = { id = civethic.9000 } }
		}
		else = {
			set_planet_flag = nat_planet_rebellion_@this
			get_nationalist_war_leader = yes
			owner = { create_party_name_leader = yes }
			get_nat_plan_rebels = yes
			root = {
				situation_event = { id = civnat.9010 }
				target = {
					every_owned_pop = {
						limit = { has_pop_flag = sep_pop_nat }
						random = {
							chance = 80
							remove_pop_flag = sep_pop_nat
						}
					}
				}
			}
			event_target:global_event_country = {
				change_variable = { which = total_gal_nat_events value = 1 }	
			}
		}
	}
}

get_heir_multi_sector_effect = {
	save_event_target_as = civwar_originator

	export_trigger_value_to_variable = {
		trigger = num_sectors
		variable = all_potential_sectors
	}

	export_trigger_value_to_variable = {
		trigger = num_sectors
		variable = all_potential_sectors
	}

	random_list = {
		# 45 = { multiply_variable = { which = all_potential_sectors value = 0.3 } }
		# 35 = { multiply_variable = { which = all_potential_sectors value = 0.4 } }
		15 = { multiply_variable = { which = all_potential_sectors value = 0.5 } }
		5 = { multiply_variable = { which = all_potential_sectors value = 0.6 } }
	}

	ceiling_variable = all_potential_sectors

	random_owned_sector = {
		limit = { NOT = { any_system_within_border = { is_capital_system = yes } } }
		save_event_target_as = rebel_sector_leader
		set_sector_flag = rebel_sector_@this
		set_sector_flag = counted_sector
		set_sector_flag = leader_sector
	}

	while = {
		count = all_potential_sectors
		random_owned_sector = {
			limit = {
				NOR = {
					any_system_within_border = { is_capital_system = yes }
					has_sector_flag = counted_sector
				}
				any_system_within_border = {
					closest_system = {
						limit = {
							exists = sector
							sector = { has_sector_flag = rebel_sector_@event_target:rebel_sector_leader }
						}
						use_bypasses = yes
						max_steps = 1
					}
				}
			}
			sector = { set_sector_flag = rebel_sector_follower_@event_target:rebel_sector_leader }
			set_sector_flag = counted_sector
		}
	}

	set_country_flag = heir_mother_country

	if = {
		limit = { event_target:heir_civil_war_dummy_country = { is_imperial = yes } }
		create_country = {
			name = random
			type = default
			species = event_target:heir_civil_war_dummy_country.ruler.species
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = event_target:heir_civil_war_dummy_country
			ethos = random
			origin = origin_heir_rebellion
			civics = random
			flag = random
			effect = {
				set_country_flag = heir_rebel_country
				created_civwar_country_effect = yes
			}
		}
	}
	else = {
		create_country = {
			name = random
			type = default
			species = event_target:heir_civil_war_dummy_country.ruler.species
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = auth_imperial
			ethos = random
			origin = origin_heir_rebellion
			civics = random
			flag = random
			effect = {
				set_country_flag = heir_rebel_country
				created_civwar_country_effect = yes
			}
		}
	}
}

get_heir_one_sector_effect = {
	save_event_target_as = civwar_originator

	# find and flag systems
	random_owned_sector = {
		limit = { NOT = { any_system_within_border = { is_capital_system = yes } } }
	    set_sector_flag = leader_sector 
	}

	set_country_flag = heir_mother_country

	if = {
		limit = { event_target:heir_civil_war_dummy_country = { is_imperial = yes } }
		create_country = {
			name = random
			type = default
			species = event_target:heir_civil_war_dummy_country.ruler.species
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = event_target:heir_civil_war_dummy_country
			ethos = random
			origin = origin_heir_rebellion
			civics = random
			flag = random
			effect = {
				set_country_flag = heir_rebel_country
				created_civwar_country_effect = yes
			}
		}
	}
	else = {
		create_country = {
			name = random
			type = default
			species = event_target:heir_civil_war_dummy_country.ruler.species
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = auth_imperial
			ethos = random
			origin = origin_heir_rebellion
			civics = random
			flag = random
			effect = {
				set_country_flag = heir_rebel_country
				created_civwar_country_effect = yes
			}
		}
	}	
}

get_heir_one_planet_effect = {
	save_event_target_as = civwar_originator

	# find planet
	random_owned_planet = {
		limit = {
			is_capital = no
			any_owned_pop = { can_think = yes }
		}
		
		save_event_target_as = civil_war_planet
		set_planet_flag = heir_planetary_rebellion

		if = { # Idk why, but noticed this being an issue.
			   # Will investigate eventually.
			   # Dont know if it effects sector and civil, but added just to be safe.
			limit = { event_target:heir_civil_war_dummy_country = { is_imperial = yes } }
			create_rebels = {
				name = random
				species = event_target:heir_civil_war_dummy_country.ruler.species
				authority = event_target:heir_civil_war_dummy_country
				ethos = random
				origin = origin_heir_rebellion
				civics = random
				flag = random
				effect = {
					set_country_flag = heir_rebel_country
					set_leader = event_target:heir_civil_war_dummy_country.ruler
					event_target:heir_civil_war_dummy_country = { destroy_country = yes }
					created_civwar_rebel_country_effect = yes
				}
			}
		}
		else = {
			create_rebels = {
				name = random
				species = event_target:heir_civil_war_dummy_country.ruler.species
				authority = auth_imperial
				ethos = random
				origin = origin_heir_rebellion
				civics = random
				flag = random
				effect = {
					set_country_flag = heir_rebel_country
					set_leader = event_target:heir_civil_war_dummy_country.ruler
					event_target:heir_civil_war_dummy_country = { destroy_country = yes }
					created_civwar_rebel_country_effect = yes
				}
			}
		}

		planet_event = { id = civplan.9000 }
	}
}

set_recent_civwar_flag = {
	root.target = {
		if = {
			limit = { is_pacifist_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_PAC years = 15 } }
		}
		else_if = {
			limit = { is_militarist_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_MIL years = 15 } }
		}
		else_if = {
			limit = { is_materialist_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_MAT years = 15 } }
		}
		else_if = {
			limit = { is_spiritualist_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_SPI years = 15 } }
		}
		else_if = {
			limit = { is_egalitarian_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_EGAL years = 15 } }
		}
		else_if = {
			limit = { is_authoritarian_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_AUTH years = 15 } }
		}
		else_if = {
			limit = { is_xenophile_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_XENO years = 15 } }
		}
		else_if = {
			limit = { is_xenophobe_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_PHOBE years = 15 } }
		}
		else_if = {
			limit = { is_ecologist_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_ECO years = 15 } }
		}
		else_if = {
			limit = { is_industrial_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_INDUS years = 15 } }
		}
		else_if = {
			limit = { is_socialist_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_SOC years = 15 } }
		}
		else_if = {
			limit = { is_capitalism_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_CAP years = 15 } }
		}
		else_if = {
			limit = { is_pluralist_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_PLUR years = 15 } }
		}
		else_if = {
			limit = { is_elitist_faction = yes }
			owner = { set_timed_country_flag = { flag = civ_war_recent_ELITE years = 15 } }
		}
	}
}

#####################
# Get Rebels

get_ethic_plan_rebels = {

	if = {
		limit = { has_planet_flag = ethic_planet_rebellion_@this }
		get_planetary_reb_number = yes
	}
	else = {
		owner = { get_civil_war_number = yes }
	}

	if = { # Authoritarian
		limit = { root.target = { is_authoritarian_faction = yes } }
		random_list = {
			50 = {
				create_rebels = {
					name = random
					species = event_target:civwar_species
					origin = origin_civwar
					civics = random
					flag = random
					authority = auth_imperial
					ethos = { 
						ethic = ethic_fanatic_authoritarian
						ethic = random
					}
					effect = {
						created_civwar_rebel_country_effect = yes
					}
				}
			}
			50 = {
				create_rebels = {
					name = random
					species = event_target:civwar_species
					origin = origin_civwar
					civics = random
					flag = random
					authority = auth_dictatorial
					ethos = { 
						ethic = ethic_fanatic_authoritarian
						ethic = random
					}
					effect = {
						created_civwar_rebel_country_effect = yes
					}
				}
			}
		}
	}
	else_if = { # Egalitarians
		limit = { root.target = { is_egalitarian_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					33 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					33 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					33 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					50 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					50 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
		else = {
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					50 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					50 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				create_rebels = {
					name = random
					species = event_target:civwar_species
					origin = origin_civwar
					civics = random
					flag = random
					authority = auth_democratic
					ethos = { 
						ethic = ethic_fanatic_egalitarian
						ethic = random
					}
					effect = {
						created_civwar_rebel_country_effect = yes
					}
				}
			}
		}
	}
	else_if = { # Militarists
		limit = { root.target = { is_militarist_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
		else = {
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					2 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					3 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					45 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					40 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					45 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					40 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_militarist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
	}
	else_if = { # Pacifists
		limit = { root.target = { is_pacifist_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
		else = {
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					7 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					8 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					20 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					50 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					15 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					15 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					20 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					50 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					15 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_pacifist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
	}
	else_if = { # Materialists
		limit = { root.target = { is_materialist_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
		else = {
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					20 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					20 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					20 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_materialist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
	}
	else_if = { # Spiritualists
		limit = { root.target = { is_spiritualist_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
		else = {
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					2 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					3 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					45 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					35 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					15 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					45 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					35 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					15 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_spiritualist
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
	}
	else_if = { # Xenophiles
		limit = { root.target = { is_xenophile_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
		else = {
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					15 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					15 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					15 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_xenophile
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
	}
	else_if = { # Xenophobes
		limit = { root.target = { is_xenophobe_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_direct_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_strict_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = ethic_egalitarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dict_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					25 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					30 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = ethic_authoritarian
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					10 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
		else = {
			if = {
				limit = { has_global_flag = cultural_overhaul_active }
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					45 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					35 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					15 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
			else = {
				random_list = {
					5 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_democratic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					45 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_imperial
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					35 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_dictatorial
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
					15 = {
						create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
							authority = auth_oligarchic
							ethos = { 
								ethic = ethic_fanatic_xenophobe
								ethic = random
							}
							effect = {
								created_civwar_rebel_country_effect = yes
							}
						}
					}
				}
			}
		}
	}
	else_if = { # Socialists
		limit = { root.target = { is_socialist_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			random_list = {
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dict_democratic
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_socialism
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
	}
	else_if = { # Capitalists
		limit = { root.target = { is_capitalism_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			random_list = {
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dict_democratic
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_capitalism
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
	}
	else_if = { # Industrialists
		limit = { root.target = { is_industrial_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			random_list = {
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dict_democratic
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_industrial
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
	}
	else_if = { # Ecologists
		limit = { root.target = { is_ecologist_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			random_list = {
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dict_democratic
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_green
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
	}
	else_if = { # Elitists
		limit = { root.target = { is_elitist_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			random_list = {
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dict_democratic
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_elitist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
	}
	else_if = { # Pluralists
		limit = { root.target = { is_pluralist_faction = yes } }
		if = {
			limit = { has_global_flag = cultural_overhaul_funefork_active }
			random_list = {
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dict_democratic
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				25 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				5 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = ethic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				35 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = ethic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civwar
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_pluralist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
	}
}

get_gen_plan_rebels = {

	get_planetary_reb_number = yes

	if = {
		limit = { has_global_flag = cultural_overhaul_funefork_active }
		if = {
			limit = { has_global_flag = cultural_overhaul_active }
			random_list = {
				20 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}

						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}

						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}

						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				16 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_dict_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				13 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				8 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				20 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}

						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}

						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}

						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				16 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_dict_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				13 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				8 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
	}
	else = {
		if = {
			limit = { has_global_flag = cultural_overhaul_active }
			random_list = {
				40 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}

						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				20 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = random
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}

						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				20 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = random
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_plan_rebellion
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}	
	}
}

get_gen_sec_rebels = {

	if = {
		limit = { has_global_flag = cultural_overhaul_funefork_active }
		if = {
			limit = { has_global_flag = cultural_overhaul_active }
			random_list = {
				20 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				16 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_dict_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				13 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				8 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				20 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				16 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_dict_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				13 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				8 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
	}
	else = {
		if = {
			limit = { has_global_flag = cultural_overhaul_active }
			random_list = {
				40 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				20 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = random
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				20 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_oligarchic
						ethos = random
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_sec_rebellion
						civics = random
						flag = random
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						effect = {
							created_civwar_rebel_country_effect = yes
						}
					}
				}
			}
		}	
	}

	last_created_country = {
		set_country_flag = sec_rebel_country
		set_leader = root.target.leader
	}
}

get_nat_plan_rebels = {

	get_planetary_reb_number = yes

	random_country = {
		limit = {
			has_country_flag = nat_motherland_sit_@root
			has_country_flag = nat_motherland_sit_@root.owner
		}
		save_event_target_as = nat_motherland_model
		set_country_flag = nat_planet_@prev
		if = {
			limit = { is_exile_country = yes }
			prev.owner = { set_country_flag = motherland_is_exile }
		}
	}

	if = { # New country has the same flag and name if it is a restoration
		limit = {
			event_target:nat_motherland_model = { is_exile_country = yes }
			NOT = {
				any_playable_country = {
					has_country_flag = exile_link_@event_target:nat_motherland_model
				}
			}
		}
		create_rebels = {
			name = event_target:nat_motherland_model
			type = default
			species = event_target:nat_motherland_model
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = event_target:nat_motherland_model
			ethos = event_target:nat_motherland_model
			origin = origin_nationalist_rebellion
			civics = event_target:nat_motherland_model
			# flag = event_target:nat_motherland_model # Was causing things to break weirdly, try again in future
			flag = random
			effect = {
				set_country_flag = exile_restored_country
				set_country_flag = exile_link_@event_target:nat_motherland_model
				created_civwar_rebel_country_effect = yes
			}
		}
		event_target:nat_motherland_model = { set_country_flag = exile_link_@event_target:civwar_rebels }
	}
	else = {
		create_rebels = {
			name = random
			type = default
			species = event_target:nat_motherland_model
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = event_target:nat_motherland_model
			ethos = event_target:nat_motherland_model
			origin = origin_nationalist_rebellion
			civics = event_target:nat_motherland_model
			flag = random
			effect = {
				created_civwar_rebel_country_effect = yes
			}
		}
	}

	last_created_country = { set_country_flag = nat_civwar }
}

get_plan_slave_rebels = {

	save_event_target_as = civil_war_planet
	set_planet_flag = plan_slave_revolt
	set_timed_planet_flag = { flag = recent_slave_rebellion years = 5 }

	get_planetary_slave_reb_number = yes

	if = {
		limit = { has_global_flag = cultural_overhaul_funefork_active }
		if = {
			limit = { has_global_flag = cultural_overhaul_active }
			random_list = {
				60 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
				30 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				60 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_militarist
							ethic = ethic_fanatic_egalitarian
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
				40 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_militarist
							ethic = ethic_fanatic_egalitarian
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
			}
		}
	}
	else = {
		if = {
			limit = { has_global_flag = cultural_overhaul_active }
			random_list = {
				60 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
				30 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			create_rebels = {
				name = random
				species = event_target:civwar_species
				origin = origin_civstrife_slave_rebellion
				civics = random
				flag = random
				authority = auth_democratic
				ethos = { 
					ethic = ethic_militarist
					ethic = ethic_fanatic_egalitarian
				}
				effect = {
					created_slave_rebel_country_effect = yes
				}
			}
		}	
	}
}

get_sec_slave_rebels = {

	save_event_target_as = civil_war_planet
	set_planet_flag = sec_slave_revolt
	set_timed_planet_flag = { flag = recent_sector_slave_rebellion years = 5 }

	sector = {
		save_event_target_as = sector_name_local
		set_sector_flag = sec_slave_revolt_@prev
	}

	create_sector_name_leader = yes

	get_sectoral_slave_reb_number = yes

	if = {
		limit = { has_global_flag = cultural_overhaul_funefork_active }
		if = {
			limit = { has_global_flag = cultural_overhaul_active }
			random_list = {
				60 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
				30 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
				10 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			random_list = {
				60 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_militarist
							ethic = ethic_fanatic_egalitarian
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
				40 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_militarist
							ethic = ethic_fanatic_egalitarian
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
			}
		}
	}
	else = {
		if = {
			limit = { has_global_flag = cultural_overhaul_active }
			random_list = {
				60 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
				30 = {
					create_rebels = {
						name = random
						species = event_target:civwar_species
						origin = origin_civstrife_slave_rebellion
						civics = random
						flag = random
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = ethic_fanatic_egalitarian
							ethic = random
						}
						effect = {
							created_slave_rebel_country_effect = yes
						}
					}
				}
			}
		}
		else = {
			create_rebels = {
				name = random
				species = event_target:civwar_species
				origin = origin_civstrife_slave_rebellion
				civics = random
				flag = random
				authority = auth_democratic
				ethos = { 
					ethic = ethic_militarist
					ethic = ethic_fanatic_egalitarian
				}
				effect = {
					created_slave_rebel_country_effect = yes
				}
			}
		}	
	}
}

#####################
# Leader Effects

get_civil_war_leader = {
	if = { # Fleet Admiral revolts
		limit = {
			root.target = {
				exists = leader
				leader = { NOT = { has_leader_flag = appointed_heir } }
			}
			owner = {
				any_owned_fleet = {
					exists = leader
					leader = { is_same_value = root.target.leader }
				}
			}
		}
		root.target.leader = {
			set_leader_flag = civil_war_leader_admiral_faction
			set_leader_flag = leader_civil_war_faction
			set_leader_flag = situation_leader_@root
			species = { save_event_target_as = civwar_species }
			fleet = {
				save_global_event_target_as = admiral_rebel_rally_point
				set_fleet_flag = civil_war_fleet
			}
		}
	}
	else_if = { # Other leaders and unemployed Admirals
		limit = {
			root.target = {
				exists = leader
				leader = { NOT = { has_leader_flag = appointed_heir } }
			}
		}
		root.target.leader = {
			set_leader_flag = leader_civil_war_faction
			set_leader_flag = situation_leader_@root
			species = { save_event_target_as = civwar_species }
			if = {
				limit = { leader_class = governor }
				set_leader_flag = civil_war_leader_governor_faction
			}
			else_if = {
				limit = { leader_class = admiral }
				set_leader_flag = civil_war_leader_admiral_faction
			}
			else_if = {
				limit = { leader_class = general }
				set_leader_flag = civil_war_leader_general_faction
			}
			else_if = {
				limit = { leader_class = scientist }
				set_leader_flag = civil_war_leader_scientist_faction
			}
		}
	}
	else = { # Create random leader if the leader is an heir or balkanized
		root.target = {
			random_owned_pop = {
				species = { save_global_event_target_as = civwar_species }
			}
		}
		owner = {
			create_leader = {
				class = ruler
				species = event_target:civwar_species
				name = random
				skill = 5
				traits = { trait = trait_ruler_deep_connections }
				effect = {
					set_leader_flag = new_faction_ruler
					set_leader_flag = leader_civil_war_faction
					set_leader_flag = situation_leader_@root
				}
			}
		}
	}
}

get_civil_war_leader_dispute = {
	if = { # Fleet Admiral revolts
		limit = {
			event_target:dispute_party = { exists = leader }
			owner = {
				any_owned_fleet = {
					exists = leader
					leader = { is_same_value = event_target:dispute_party.leader }
				}
			}
		}
		event_target:dispute_party.leader = {
			set_leader_flag = civil_war_leader_admiral_dispute
			set_leader_flag = leader_civil_war_faction
			species = { save_event_target_as = civwar_species }
			fleet = {
				save_global_event_target_as = admiral_rebel_rally_point
				set_fleet_flag = civil_war_fleet
			}
		}
	}
	else_if = { # Other leaders and unemployed Admirals
		limit = { event_target:dispute_party = { exists = leader } }
		event_target:dispute_party.leader = {
			set_leader_flag = leader_civil_war_faction
			species = { save_event_target_as = civwar_species }
			if = {
				limit = { leader_class = governor }
				set_leader_flag = civil_war_leader_governor_dispute
			}
			else_if = {
				limit = { leader_class = admiral }
				set_leader_flag = civil_war_leader_admiral_dispute
			}
			else_if = {
				limit = { leader_class = general }
				set_leader_flag = civil_war_leader_general_dispute
			}
			else_if = {
				limit = { leader_class = scientist }
				set_leader_flag = civil_war_leader_scientist_dispute
			}
		}
	}
}

# Get Separatist Leader
get_separatist_war_leader = {
	root.target.leader = {
		set_leader_flag = leader_civil_war_faction
		set_leader_flag = situation_leader_@root
		species = { save_event_target_as = civwar_species }
		set_leader_flag = civil_war_leader_separatist_faction
		if = {
			limit = { leader_class = governor }
			set_leader_flag = civil_war_leader_governor_faction
		}
		else_if = {
			limit = { leader_class = admiral }
			set_leader_flag = civil_war_leader_admiral_faction
		}
		else_if = {
			limit = { leader_class = general }
			set_leader_flag = civil_war_leader_general_faction
		}
		else_if = {
			limit = { leader_class = scientist }
			set_leader_flag = civil_war_leader_scientist_faction
		}
	}
}

# Get Nationalist Leader
get_nationalist_war_leader = {
	root.target.leader = {
		set_leader_flag = leader_civil_war_faction
		set_leader_flag = situation_leader_@root
		species = { save_event_target_as = civwar_species }
		set_leader_flag = civil_war_leader_nationalist_faction
	}
}

get_slave_war_leader = {
	create_leader = {
		class = ruler
		species = event_target:leader_pop.species
		name = random
		skill = 2
		traits = {
			trait = trait_ruler_deep_connections
			trait = random_trait
		}
	}
	assign_leader = last_created_leader
	ruler = {
		add_random_leader_trait = yes
	}
}

# Create dummy party name leader
create_party_name_leader = {
	create_leader = {
		class = ruler
		event_leader = yes
		species = owner_main_species
		name = random
		effect = {
			set_name = {
				key = dummy_party_leader
				variable_string = "\\[event_target:civwar_party.GetName]"
			}
			set_leader_flag = dummy_party_leader_@event_target:civwar_party
			set_leader_flag = dummy_party_leader_@event_target:civwar_party.leader
			if = {
				limit = { exists = event_target:civil_war_planet }
				set_leader_flag = dummy_party_leader_@event_target:civil_war_planet
			}
			set_leader_flag = dummy_leader
			save_event_target_as = civwar_party_name_leader
		}
	}
}

# Create dummy sector name leader
create_sector_name_leader = {
	owner = {
		create_leader = {
			class = ruler
			event_leader = yes
			species = owner_main_species
			name = random
			effect = {
				set_name = {
					key = dummy_sector_leader
					variable_string = "\\[event_target:sector_name_local.GetName]"
				}
				set_leader_flag = dummy_sector_leader_@event_target:civil_war_planet
				set_leader_flag = dummy_sector_leader
				set_leader_flag = dummy_leader
			}
		}
		last_created_leader = { leader_event = { id = civleader.1000 days = 180 } }
	}
}

# Get dummy party name leader
get_sector_name_leader = {
	random_owned_leader = {
		limit = { has_leader_flag = dummy_sector_leader_@event_target:civwar_rebels.capital_scope }
		save_event_target_as = sector_name_leader
	}
}

# Create dummy party name leader
kill_sector_name_leader = {
	if = {
		limit = { any_owned_leader = { has_leader_flag = dummy_sector_leader_@FromFrom } }
		random_owned_leader = {
			limit = { has_leader_flag = dummy_sector_leader_@FromFrom }
			kill_leader = { show_notification = no }
		}
	}
}

kill_party_name_leader = {
	if = {
		limit = { any_owned_leader = { has_leader_flag = dummy_party_leader_@FromFrom } }
		random_owned_leader = {
			limit = { has_leader_flag = dummy_party_leader_@FromFrom }
			kill_leader = { show_notification = no }
		}
	}
}

#####################
# Get War Numbers

get_civil_war_number = {
	if = {
		limit = {  NOT = { is_variable_set = civwar_number } }
		set_variable = { which = civwar_number value = 1 }
	}
	else = {
		change_variable = { which = civwar_number value = 1 }
	}
}

get_planetary_reb_number = {
	if = {
		limit = {  NOT = { is_variable_set = reb_number } }
		set_variable = { which = reb_number value = 1 }
	}
	else = {
		change_variable = { which = reb_number value = 1 }
	}
}

get_sectoral_reb_number = {
	if = {
		limit = { NOT = { is_variable_set = sec_reb_number } }
		set_variable = { which = sec_reb_number value = 1 }
	}
	else = {
		change_variable = { which = sec_reb_number value = 1 }
	}
}

get_planetary_slave_reb_number = {
	if = {
		limit = {  NOT = { is_variable_set = slave_reb_number } }
		set_variable = { which = slave_reb_number value = 1 }
	}
	else = {
		change_variable = { which = slave_reb_number value = 1 }
	}
}

get_sectoral_slave_reb_number = {
	if = {
		limit = { NOT = { is_variable_set = sec_slave_reb_number } }
		set_variable = { which = sec_slave_reb_number value = 1 }
	}
	else = {
		change_variable = { which = sec_slave_reb_number value = 1 }
	}
}

#####################
# Civwar Event stuff

create_civwar_armies = {

	every_owned_planet = {

		set_variable = { which = num_sep_pops value = 0 }

		if = {
			limit = { owner = { has_country_flag = heir_rebel_country } }
			every_owned_pop = {
				limit = { can_think = yes }
				random = {
					chance = 35
					prev = { change_variable = { which = num_sep_pops value = 1 } }
				}
			}
		}
		else_if = {
			limit = { root = { has_origin = origin_nationalist_rebellion } }
			every_owned_pop = {
				limit = { has_pop_flag = sep_pop_nat_@event_target:nat_motherland_model }
				prev = { change_variable = { which = num_sep_pops value = 1 } }
			}
		}
		else = {
			every_owned_pop = {
				limit = { has_pop_flag = sep_pop }
				prev = { change_variable = { which = num_sep_pops value = 1 } }
			}
		}


		while = {
			count = num_sep_pops
			random_list = {
				75 = {
					while = {
						count = 1
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				20 = {
					while = {
						count = 1
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 1
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				5 = {
					while = {
						count = 1
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 2
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}

		clear_variable = num_sep_pops
	}
}

get_country_immediate_setup = {

	set_variable = { which = total_empire_size value = trigger:empire_size }

	# setting graphical culture
	set_graphical_culture = event_target:civwar_originator

	# establish comms
	every_country = {
		limit = {
			OR = {
				has_communications = event_target:civwar_originator
				intel_level = {
					level > low
					system = event_target:civwar_rebels.capital_scope.solar_system
				}
			}
		}
		establish_communications_no_message = root
		# establish_contact = { who = root location = from }
	}
	# clear new contact opinion modifier
	if = {
		limit = {
			has_opinion_modifier = {
				who = event_target:civwar_originator
				modifier = opinion_new_contact
			}
		}
		remove_opinion_modifier = {
			who = event_target:civwar_originator
			modifier = opinion_new_contact
		}
	}
	# Set Relation Flags
	set_relation_flag = {
		who = event_target:civwar_originator
		flag = civwar_to_host_flag
	}
	# Remove from Federation, if applicable
	if = {
		limit = { has_federation = yes }
		leave_alliance = { override_requirements = yes }
	}
	# get host's technologies
	copy_techs_from = {
		target = event_target:civwar_originator
		except = {
			# Horizon Signal
			tech_akx_worm_1
			tech_akx_worm_2
			tech_akx_worm_3
		}
	}

	# survey host's surveyed planets
	every_galaxy_planet = {
		limit = {
			is_surveyed = {
				who = event_target:civwar_originator
				status = yes
			}
		}
		set_surveyed = {
			surveyed = yes
			surveyor = root
		}
	}

	# create fleets and give resources, destroy home country fleets
	country_event = { id = civwar.3000 }
	# Transfer Admiral Fleet
	# Switching the order with the create fleets above would make the situation harsher.
	event_target:civwar_originator = {
		if = { 
			limit = { any_owned_fleet = { has_fleet_flag = civil_war_fleet } }
			random_owned_fleet = {
				limit = { has_fleet_flag = civil_war_fleet }
				set_owner = root
				if = { # If they are not in their seized territory, they stay as Admiral of their fleet
					limit = { solar_system.starbase = { is_owned_by = event_target:civwar_originator } }
					set_leader = root.ruler
				}	
			}
			root = { force_add_civic = civic_distinguished_admiralty }
		}
	}
	# Maybe the rebels get an Attack Moon/Planet/Systemcraft if it was in their borders
	if = {
		limit = { NOT = { has_country_flag = plan_rebel_country } }
		every_system_within_border = {
			random_ship_in_system = {
				limit = {
					is_owned_by = event_target:civwar_originator
					OR = {
						# Gigastructures
						is_ship_size = giga_massive_planet
		    			is_ship_size = giga_planet_behemoth
		    			is_ship_size = giga_systemcraft
		    			# Engineers of Life
		    			# is_ship_size = eng_imp_stellar_devourer
		    			# is_ship_size = eng_imp_dimensional_horror
		    			# is_ship_size = eng_imp_space_dragon
		    			# is_ship_size = eng_imp_space_dragon_baby
		    			# is_ship_size = eng_imp_leviathan_01_voidspawn
		    			# is_ship_size = eng_imp_void_cloud_lesser
		    			# is_ship_size = eng_imp_void_cloud
		    			# is_ship_size = eng_imp_corrupted_avatar
		    			# is_ship_size = eng_imp_shardlings
		    			# is_ship_size = eng_imp_shards
		    			# is_ship_size = eng_imp_quintessence
		    			# is_ship_size = eng_imp_crystal_station_large
		    			# is_ship_size = eng_imp_space_whale_calf
		    			# is_ship_size = eng_imp_space_whale_cow
		    			# is_ship_size = eng_imp_space_whale_bull
		    			# is_ship_size = eng_imp_leviathan_01_elder_tiyanki
		    			# is_ship_size = eng_imp_amoeba
		    			# is_ship_size = eng_imp_mother
		    			# is_ship_size = eng_imp_cente
					}
				}
				fleet = {
					random = {
						chance = 45
						set_owner = event_target:civwar_rebels
					}
				}
			}
		}
	}
	
	# Science
	create_fleet = {
		effect = {
			set_owner = root
			create_ship = {
				name = random
				random_existing_design = science
			}
			set_fleet_stance = evasive				
			set_location = root.capital_scope
			owner = {
				create_leader = {
					name = random
					class = scientist
					sub_type = survey
					species = owner_main_species
				}
			}
			set_leader = last_created_leader
		}			
	}

	# Construction Ship
	create_fleet = {
		effect = {
			set_owner = root
			create_ship = {
				name = random
				random_existing_design = constructor
			}
			set_fleet_stance = evasive
			set_location = root.capital_scope
		}
	}

	# Create Leaders
	create_leader = {
		class = admiral
		species = owner_main_species
		name = random
		skill = 5
		traits = { trait = random_trait }
	}
	create_leader = {
		class = general
		species = owner_main_species
		name = random
		skill = 5
		traits = { trait = random_trait }
	}
	create_leader = {
		class = governor
		species = owner_main_species
		name = random
		skill = 5
		traits = { trait = random_trait }
	}
	while = {
		count = 3
		create_leader = {
			class = scientist
			species = owner_main_species
			name = random
			skill = 5
			traits = { trait = random_trait }
		}
	}

	if = {
		limit = { exists = event_target:switched_dynast_loyalty }
		event_target:switched_dynast_loyalty = { set_owner = root }
	}

	# If civil war country was Khan, set title.
	if = {
		limit {
			event_target:civwar_originator = {
				has_country_flag = ethic_civwar
				OR = {
					has_civic = civic_diadochi
					has_civic = civic_great_khans_legacy
				}
			}
		}
		set_male_ruler_title = "Khan"
		set_female_ruler_title = "Khan"
	}

	# if = {
	# 	limit {
	# 		event_target:civwar_originator = { has_country_flag = succession_mother_country }
	# 		has_country_flag = crisis_independent_@event_target:civwar_originator
	# 	}
	# 	set_male_ruler_title = "Viceroy"
	# 	set_female_ruler_title = "Viceroy"
	# }
}

get_country_after_setup = {

	# To fix names like "Empire of Sirius VII" to be like "Empire of Earth"
	if = {
		limit = {
			NOT = { has_country_flag = exile_restored_country }
			exists = capital_scope
			capital_scope = { NOT = { has_planet_flag = civwar_name_changed } }
			event_target:civwar_originator = { is_ai = yes }
		}
		capital_scope = {
			set_name = random
			set_planet_flag = civwar_name_changed
		}
	}

	# Setup for Nationalist Restored Countries
	if = {
		limit = { has_country_flag = exile_restored_country }
		random_country = {
			limit = { has_country_flag = exile_link_@root }
			save_event_target_as = nat_motherland_model
		}
		if = {
			limit = { any_owned_planet = { has_planet_flag = capital_planet_@event_target:nat_motherland_model } }
			random_owned_planet = {
				limit = { has_planet_flag = capital_planet_@event_target:nat_motherland_model }
				remove_planet_flag = capital_planet_@event_target:nat_motherland_model
				set_planet_flag = capital_planet_@root
				set_capital = yes
			}
			# I'm only setting their name to the original if they have their original capital, to
			# avoid situations where ex. the United Nations of Earth is restored without actually owning Earth.
			# I think in the case they lose their capital, the people restoring the government would realize
			# that their new govenrment is essentially a new entity, not a simple continuation.
			# I may have to find a way to restore them to their original name if they ever take back their
			# original capital in a war, but whew that'll be annoying
			set_name = {
				key = exile_country_restored_name
				variable_string = "\\[event_target:nat_motherland_model.GetName]"
			}
		}
		else = {
			set_name = random
			set_country_flag = nat_country_new_name
		}
	}
	else_if = {
		limit = { has_country_flag = crisis_successor_@event_target:civwar_originator }
		set_name = event_target:civwar_originator
	}
	else = {
		set_name = random
	}

	if = { # Dynastic Succession Crisis
		limit = { event_target:civwar_originator = { has_country_flag = crisis_subject } }
		set_subject_of = {
			who = event_target:civwar_originator
			preset = preset_tributary
		}
	}

	event_target:civwar_originator = {
		if = {
			limit = { has_country_flag = heir_mother_country }
			remove_country_flag = heir_mother_country
		}
	}

	# Change size of Capital Starbase
	capital_scope.solar_system.starbase = {
		if = {
			limit = { NOT = { has_starbase_size >= starbase_starport } }
			set_starbase_size = starbase_starport
		}
	}

	# Flavor Civics
	if = {
		limit = {
			NOT = { has_civic = civic_warrior_culture }
			ruler = { has_trait = leader_trait_army_veteran }
		}
		force_add_civic = civic_warrior_culture
	}
	if = {
		limit = {
			NOT = { has_civic = civic_distinguished_admiralty }
			ruler = { has_trait = leader_trait_retired_fleet_officer }
		}
		force_add_civic = civic_distinguished_admiralty
	}
	if = {
		limit = {
			NOT = { has_civic = civic_slaver_guilds }
			ruler = { has_trait = leader_trait_iron_fist }
		}
		force_add_civic = civic_slaver_guilds
	}
	if = {
		limit = {
			NOT = { has_civic = civic_technocracy }
			ruler = { has_leader_flag = civil_war_ruler_scientist }
		}
		force_add_civic = civic_technocracy
	}
	if = {
		limit = {
			exists = event_target:civwar_party
			event_target:civwar_party = { is_pop_faction_type = supremacist }
			num_species = 1
		}
		random = { chance = 10 force_add_civic = civic_fanatic_purifiers }
	}

	add_intel = {
		who = event_target:civwar_originator
		amount = 70
	}

	# Please let this work
	every_owned_fleet = { set_event_locked = no }
}

get_remove_seps_after = {
	# Remove Sep Flags
	if = {
		limit = { any_owned_pop = { has_pop_flag = sep_pop } }
		every_owned_pop = {
			limit = { has_pop_flag = sep_pop }
			remove_pop_flag = sep_pop
		}
	}
	if = {
		limit = { any_owned_pop = { has_pop_flag = sep_pop_ethic } }
		every_owned_pop = {
			limit = { has_pop_flag = sep_pop_ethic }
			remove_pop_flag = sep_pop_ethic
		}
	}
}

get_war_type_flag = {
	if = {
		limit = { root = { is_situation_type = situation_civstrife_faction_sep_nat } }
		set_timed_country_flag = { flag = nat_mother_civwar years = 1 }
	}
	else_if = {
		limit = { root.target = { is_regular_faction = yes } }
		set_timed_country_flag = { flag = ethic_civwar years = 1 }
	}
}

#####################
# Declare War Effects

get_declare_war_civwar = {
	if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 1 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 2 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_2
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
				set_war_flag = sub_war_identifier
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 3 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_3
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 4 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_4
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 5 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_5
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 6 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_6
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 7 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_7
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 8 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_8
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 9 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_9
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 10 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_10
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 11 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_11
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 12 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_12
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 13 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_13
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 14 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_14
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 15 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_15
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 16 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_16
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 17 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_17
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 18 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_18
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value = 19 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_19
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = { event_target:civwar_originator = { check_variable = { which = civwar_number value >= 20 } } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Civil War"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_20
					variable_string = "\\[event_target:civwar_originator.GetAdj]"
				}
			}
		}
	}

	remove_country_flag = entered_war_as_attacker
}

get_declare_war_plan_rebellion = {

	if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 1 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 2 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_2
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 3 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_3
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 4 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_4
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 5 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_5
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 6 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_6
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 7 }
			}		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_7
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 8 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_8
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 9 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_9
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 10 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_10
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 11 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_11
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 12 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_12
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 13 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_13
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 14 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_14
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 15 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_15
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 16 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_16
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 17 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_17
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 18 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_18
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value = 19 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_19
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = reb_number value >= 20 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Planetary Rebellion"
			attacker_war_goal = "wg_planet_rebellion"
			effect = {
				set_name = {
					key = NAME_plan_rebellion_war_20
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}

	remove_country_flag = entered_war_as_attacker
}

get_declare_war_sec_rebellion = {

	random_owned_leader = {
		limit = { has_leader_flag = dummy_sector_leader_@event_target:civwar_rebels.capital_scope }
		save_event_target_as = sector_name
	}

	if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 1 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 2 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_2
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 3 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_3
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 4 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_4
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 5 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_5
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 6 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_6
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 7 }
			}		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_7
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 8 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_8
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 9 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_9
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 10 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_10
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 11 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_11
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 12 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_12
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 13 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_13
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 14 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_14
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 15 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_15
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 16 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_16
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 17 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_17
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 18 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_18
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value = 19 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_19
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_reb_number value >= 20 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Rebellion"
			attacker_war_goal = "wg_civwar"
			effect = {
				set_name = {
					key = NAME_sec_rebellion_war_20
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}

	remove_country_flag = entered_war_as_attacker
}

get_declare_war_plan_slave_rebellion = {

	if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 1 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 2 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_2
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 3 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_3
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 4 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_4
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 5 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_5
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 6 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_6
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 7 }
			}		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_7
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 8 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_8
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 9 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_9
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 10 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_10
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 11 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_11
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 12 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_12
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 13 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_13
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 14 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_14
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 15 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_15
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 16 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_16
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 17 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_17
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 18 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_18
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value = 19 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_19
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = slave_reb_number value >= 20 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_plan_slave_rebellion_war_20
					variable_string = "\\[This.MainDefender.Capital.GetAdj]"
				}
			}
		}
	}

	remove_country_flag = entered_war_as_attacker
}

get_declare_war_sec_slave_rebellion = {

	random_owned_leader = {
		limit = { has_leader_flag = dummy_sector_leader_@event_target:civwar_rebels.capital_scope }
		save_event_target_as = sector_name
	}

	if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 1 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 2 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_2
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 3 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_3
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 4 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_4
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 5 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_5
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 6 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_6
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 7 }
			}		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_7
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 8 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_8
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 9 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_9
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 10 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_10
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 11 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_11
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 12 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_12
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 13 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_13
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 14 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_14
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 15 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_15
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 16 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_16
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 17 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_17
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 18 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_18
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value = 19 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_19
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}
	else_if = {
		limit = {
			event_target:civwar_rebels.capital_scope = {
				check_variable = { which = sec_slave_reb_number value >= 20 }
			}
		}
		declare_war = {
			target = event_target:civwar_rebels
			name = "Sectoral Slave Uprising"
			attacker_war_goal = "wg_slave_uprising"
			effect = {
				set_name = {
					key = NAME_sec_slave_rebellion_war_20
					variable_string = "\\[event_target:sector_name.GetName]"
				}
			}
		}
	}

	remove_country_flag = entered_war_as_attacker
}

get_declare_war_natwar = {

	if = {
		limit = { event_target:nat_motherland_model = { is_exile_country = yes } }
		declare_war = {
			target = event_target:civwar_rebels
			name = "Nationalist Civil War"
			attacker_war_goal = "wg_natwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_nat_2
					variable_string = "\\[This.MainDefender.GetName]"
				}
			}
		}
	}
	else = {
		declare_war = {
			target = event_target:civwar_rebels
			name = "Nationalist Civil War"
			attacker_war_goal = "wg_natwar"
			effect = {
				set_name = {
					key = NAME_civwar_war_nat
					variable_string = "\\[event_target:nat_motherland_model.GetAdj]"
				}
			}
		}
	}

	remove_country_flag = entered_war_as_attacker
}

get_declare_war_heirwar = {

	declare_war = {
		target = event_target:civwar_rebels
		name = "Heir War"
		attacker_war_goal = "wg_civwar_heir"
		effect = {
			set_name = {
				key = NAME_heir_war
				variable_string = "\\[event_target:civwar_rebels.Leader.GetName]"
			}
		}
	}

	remove_country_flag = entered_war_as_attacker
}

get_declare_war_subject = {

	if = {
		limit = { event_target:civwar_rebels = { has_country_flag = nat_civwar } }
		set_timed_country_flag = { flag = subject_natwar_timed_flag days = 7 }
		get_declare_war_natwar = yes
	}
	else_if = {
		limit = { event_target:civwar_rebels = { has_country_flag = heir_rebel_country } }
		set_timed_country_flag = { flag = subject_heirwar_timed_flag days = 7 }
		get_declare_war_heirwar = yes
	}
	else_if = {
		limit = { event_target:civwar_rebels = { has_country_flag = plan_rebel_country } }
		set_timed_country_flag = { flag = subject_planwar_timed_flag days = 7 }
		get_declare_war_plan_rebellion = yes
	}
	else_if = {
		limit = { event_target:civwar_rebels = { has_country_flag = sec_rebel_country } }
		set_timed_country_flag = { flag = subject_civwar_timed_flag days = 7 }
		get_declare_war_sec_rebellion = yes
	}
	else_if = {
		limit = { event_target:civwar_rebels = { has_country_flag = plan_slave_rebel_country } }
		set_timed_country_flag = { flag = subject_slavewar_timed_flag days = 7 }
		get_declare_war_plan_slave_rebellion = yes
	}
	else_if = {
		limit = { event_target:civwar_rebels = { has_country_flag = sec_slave_rebel_country } }
		set_timed_country_flag = { flag = subject_slavewar_timed_flag days = 7 }
		get_declare_war_sec_slave_rebellion = yes
	}
	else = {
		set_timed_country_flag = { flag = subject_civwar_timed_flag days = 7 }
		get_declare_war_civwar = yes
	}

	remove_country_flag = entered_war_as_attacker
}

#####################

get_traitor_outcome = {
	if = {
		limit = {
			any_country = {
				is_country_type_with_subjects = yes
				has_communications = root
				OR = {
					is_homicidal = no
					is_organic_zealots = yes
				}
				NOR = {
					is_loyal_to = root
					is_overlord_to = root
					is_custodial_to = root
					has_country_flag = traitor_already_asked@event_target:defeated_traitor
				}
			}
		}
		random_list = {
			40 = { # Death
				random_list = { # Suicide
					25 = { set_country_flag = death_by_hanging }
					15 = { set_country_flag = death_by_jumping }
					15 = { set_country_flag = death_by_spacing }
					30 = { set_country_flag = death_by_gun }
					10 = { set_country_flag = death_by_poison }
					# Those around them saw the end, killed the leader to gain lesser punishment
					5 = { set_country_flag = death_by_coup }
				}
				country_event = { id = civend.1001 }
			}
			45 = { # Flees to work for foreign empire
				country_event = { id = civend.1003 }
			}
			15 = { # Captured
				random_list = {
					# Those around them saw the end, killed the leader to gain lesser punishment
					15 = { set_country_flag = captured_by_coup }
					# Captured by special forces
					85 = { set_country_flag = captured_normally }
				}
				country_event = { id = civend.1004 days = 5 }
			}
		}
	}
	else = {
		random_list = {
			65 = { # Death
				random_list = {
					25 = { set_country_flag = death_by_hanging }
					15 = { set_country_flag = death_by_jumping }
					15 = { set_country_flag = death_by_spacing }
					30 = { set_country_flag = death_by_gun }
					10 = { set_country_flag = death_by_poison }
					# Those around them saw the end, killed the leader to gain lesser punishment
					5 = { set_country_flag = death_by_coup }
				}
				country_event = { id = civend.1001 }
			}
			35 = { # Captured
				random_list = {
					# Those around them saw the end, killed the leader to gain lesser punishment
					15 = { set_country_flag = captured_by_coup }
					# Captured by special forces
					85 = { set_country_flag = captured_normally }
				}
				country_event = { id = civend.1004 }
			}
		}
	}
}

######################
# Separatist Factions

# Defeated/Extinct Nations
get_separatist_faction_nat = {
	set_country_flag = has_nats
		 if = { limit = { NOT = { exists = event_target:nat_separatist_1 } } save_global_event_target_as = nat_separatist_1 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_2 } } save_global_event_target_as = nat_separatist_2 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_3 } } save_global_event_target_as = nat_separatist_3 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_4 } } save_global_event_target_as = nat_separatist_4 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_5 } } save_global_event_target_as = nat_separatist_5 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_6 } } save_global_event_target_as = nat_separatist_6 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_7 } } save_global_event_target_as = nat_separatist_7 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_8 } } save_global_event_target_as = nat_separatist_8 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_9 } } save_global_event_target_as = nat_separatist_9 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_10 } } save_global_event_target_as = nat_separatist_10 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_11 } } save_global_event_target_as = nat_separatist_11 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_12 } } save_global_event_target_as = nat_separatist_12 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_13 } } save_global_event_target_as = nat_separatist_13 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_14 } } save_global_event_target_as = nat_separatist_14 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_15 } } save_global_event_target_as = nat_separatist_15 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_16 } } save_global_event_target_as = nat_separatist_16 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_17 } } save_global_event_target_as = nat_separatist_17 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_18 } } save_global_event_target_as = nat_separatist_18 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_19 } } save_global_event_target_as = nat_separatist_19 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_20 } } save_global_event_target_as = nat_separatist_20 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_21 } } save_global_event_target_as = nat_separatist_21 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_22 } } save_global_event_target_as = nat_separatist_22 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_23 } } save_global_event_target_as = nat_separatist_23 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_24 } } save_global_event_target_as = nat_separatist_24 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_25 } } save_global_event_target_as = nat_separatist_25 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_26 } } save_global_event_target_as = nat_separatist_26 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_27 } } save_global_event_target_as = nat_separatist_27 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_28 } } save_global_event_target_as = nat_separatist_28 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_29 } } save_global_event_target_as = nat_separatist_29 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_30 } } save_global_event_target_as = nat_separatist_30 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_31 } } save_global_event_target_as = nat_separatist_31 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_32 } } save_global_event_target_as = nat_separatist_32 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_33 } } save_global_event_target_as = nat_separatist_33 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_34 } } save_global_event_target_as = nat_separatist_34 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_35 } } save_global_event_target_as = nat_separatist_35 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_36 } } save_global_event_target_as = nat_separatist_36 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_37 } } save_global_event_target_as = nat_separatist_37 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_38 } } save_global_event_target_as = nat_separatist_38 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_39 } } save_global_event_target_as = nat_separatist_39 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_40 } } save_global_event_target_as = nat_separatist_40 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_41 } } save_global_event_target_as = nat_separatist_41 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_42 } } save_global_event_target_as = nat_separatist_42 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_43 } } save_global_event_target_as = nat_separatist_43 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_44 } } save_global_event_target_as = nat_separatist_44 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_45 } } save_global_event_target_as = nat_separatist_45 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_46 } } save_global_event_target_as = nat_separatist_46 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_47 } } save_global_event_target_as = nat_separatist_47 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_48 } } save_global_event_target_as = nat_separatist_48 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_49 } } save_global_event_target_as = nat_separatist_49 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_50 } } save_global_event_target_as = nat_separatist_50 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_51 } } save_global_event_target_as = nat_separatist_51 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_52 } } save_global_event_target_as = nat_separatist_52 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_53 } } save_global_event_target_as = nat_separatist_53 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_54 } } save_global_event_target_as = nat_separatist_54 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_55 } } save_global_event_target_as = nat_separatist_55 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_56 } } save_global_event_target_as = nat_separatist_56 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_57 } } save_global_event_target_as = nat_separatist_57 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_58 } } save_global_event_target_as = nat_separatist_58 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_59 } } save_global_event_target_as = nat_separatist_59 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_60 } } save_global_event_target_as = nat_separatist_60 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_61 } } save_global_event_target_as = nat_separatist_61 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_62 } } save_global_event_target_as = nat_separatist_62 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_63 } } save_global_event_target_as = nat_separatist_63 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_64 } } save_global_event_target_as = nat_separatist_64 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_65 } } save_global_event_target_as = nat_separatist_65 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_66 } } save_global_event_target_as = nat_separatist_66 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_67 } } save_global_event_target_as = nat_separatist_67 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_68 } } save_global_event_target_as = nat_separatist_68 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_69 } } save_global_event_target_as = nat_separatist_69 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_70 } } save_global_event_target_as = nat_separatist_70 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_71 } } save_global_event_target_as = nat_separatist_71 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_72 } } save_global_event_target_as = nat_separatist_72 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_73 } } save_global_event_target_as = nat_separatist_73 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_74 } } save_global_event_target_as = nat_separatist_74 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_75 } } save_global_event_target_as = nat_separatist_75 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_76 } } save_global_event_target_as = nat_separatist_76 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_77 } } save_global_event_target_as = nat_separatist_77 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_78 } } save_global_event_target_as = nat_separatist_78 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_79 } } save_global_event_target_as = nat_separatist_79 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_80 } } save_global_event_target_as = nat_separatist_80 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_81 } } save_global_event_target_as = nat_separatist_81 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_82 } } save_global_event_target_as = nat_separatist_82 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_83 } } save_global_event_target_as = nat_separatist_83 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_84 } } save_global_event_target_as = nat_separatist_84 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_85 } } save_global_event_target_as = nat_separatist_85 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_86 } } save_global_event_target_as = nat_separatist_86 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_87 } } save_global_event_target_as = nat_separatist_87 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_88 } } save_global_event_target_as = nat_separatist_88 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_89 } } save_global_event_target_as = nat_separatist_89 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_90 } } save_global_event_target_as = nat_separatist_90 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_91 } } save_global_event_target_as = nat_separatist_91 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_92 } } save_global_event_target_as = nat_separatist_92 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_93 } } save_global_event_target_as = nat_separatist_93 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_94 } } save_global_event_target_as = nat_separatist_94 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_95 } } save_global_event_target_as = nat_separatist_95 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_96 } } save_global_event_target_as = nat_separatist_96 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_97 } } save_global_event_target_as = nat_separatist_97 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_98 } } save_global_event_target_as = nat_separatist_98 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_99 } } save_global_event_target_as = nat_separatist_99 }
	else_if = { limit = { NOT = { exists = event_target:nat_separatist_100 } } save_global_event_target_as = nat_separatist_100 }
}

# Get Separatist Faction for Planets, Generic
get_separatist_faction_planet = {
	set_planet_flag = plan_sep_active
		 if = { limit = { NOT = { exists = event_target:plan_separatist_1 } } save_global_event_target_as = plan_separatist_1 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_2 } } save_global_event_target_as = plan_separatist_2 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_3 } } save_global_event_target_as = plan_separatist_3 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_4 } } save_global_event_target_as = plan_separatist_4 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_5 } } save_global_event_target_as = plan_separatist_5 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_6 } } save_global_event_target_as = plan_separatist_6 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_7 } } save_global_event_target_as = plan_separatist_7 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_8 } } save_global_event_target_as = plan_separatist_8 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_9 } } save_global_event_target_as = plan_separatist_9 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_10 } } save_global_event_target_as = plan_separatist_10 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_11 } } save_global_event_target_as = plan_separatist_11 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_12 } } save_global_event_target_as = plan_separatist_12 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_13 } } save_global_event_target_as = plan_separatist_13 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_14 } } save_global_event_target_as = plan_separatist_14 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_15 } } save_global_event_target_as = plan_separatist_15 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_16 } } save_global_event_target_as = plan_separatist_16 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_17 } } save_global_event_target_as = plan_separatist_17 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_18 } } save_global_event_target_as = plan_separatist_18 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_19 } } save_global_event_target_as = plan_separatist_19 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_20 } } save_global_event_target_as = plan_separatist_20 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_21 } } save_global_event_target_as = plan_separatist_21 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_22 } } save_global_event_target_as = plan_separatist_22 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_23 } } save_global_event_target_as = plan_separatist_23 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_24 } } save_global_event_target_as = plan_separatist_24 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_25 } } save_global_event_target_as = plan_separatist_25 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_26 } } save_global_event_target_as = plan_separatist_26 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_27 } } save_global_event_target_as = plan_separatist_27 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_28 } } save_global_event_target_as = plan_separatist_28 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_29 } } save_global_event_target_as = plan_separatist_29 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_30 } } save_global_event_target_as = plan_separatist_30 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_31 } } save_global_event_target_as = plan_separatist_31 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_32 } } save_global_event_target_as = plan_separatist_32 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_33 } } save_global_event_target_as = plan_separatist_33 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_34 } } save_global_event_target_as = plan_separatist_34 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_35 } } save_global_event_target_as = plan_separatist_35 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_36 } } save_global_event_target_as = plan_separatist_36 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_37 } } save_global_event_target_as = plan_separatist_37 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_38 } } save_global_event_target_as = plan_separatist_38 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_39 } } save_global_event_target_as = plan_separatist_39 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_40 } } save_global_event_target_as = plan_separatist_40 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_41 } } save_global_event_target_as = plan_separatist_41 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_42 } } save_global_event_target_as = plan_separatist_42 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_43 } } save_global_event_target_as = plan_separatist_43 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_44 } } save_global_event_target_as = plan_separatist_44 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_45 } } save_global_event_target_as = plan_separatist_45 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_46 } } save_global_event_target_as = plan_separatist_46 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_47 } } save_global_event_target_as = plan_separatist_47 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_48 } } save_global_event_target_as = plan_separatist_48 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_49 } } save_global_event_target_as = plan_separatist_49 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_50 } } save_global_event_target_as = plan_separatist_50 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_51 } } save_global_event_target_as = plan_separatist_51 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_52 } } save_global_event_target_as = plan_separatist_52 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_53 } } save_global_event_target_as = plan_separatist_53 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_54 } } save_global_event_target_as = plan_separatist_54 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_55 } } save_global_event_target_as = plan_separatist_55 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_56 } } save_global_event_target_as = plan_separatist_56 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_57 } } save_global_event_target_as = plan_separatist_57 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_58 } } save_global_event_target_as = plan_separatist_58 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_59 } } save_global_event_target_as = plan_separatist_59 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_60 } } save_global_event_target_as = plan_separatist_60 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_61 } } save_global_event_target_as = plan_separatist_61 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_62 } } save_global_event_target_as = plan_separatist_62 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_63 } } save_global_event_target_as = plan_separatist_63 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_64 } } save_global_event_target_as = plan_separatist_64 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_65 } } save_global_event_target_as = plan_separatist_65 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_66 } } save_global_event_target_as = plan_separatist_66 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_67 } } save_global_event_target_as = plan_separatist_67 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_68 } } save_global_event_target_as = plan_separatist_68 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_69 } } save_global_event_target_as = plan_separatist_69 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_70 } } save_global_event_target_as = plan_separatist_70 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_71 } } save_global_event_target_as = plan_separatist_71 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_72 } } save_global_event_target_as = plan_separatist_72 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_73 } } save_global_event_target_as = plan_separatist_73 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_74 } } save_global_event_target_as = plan_separatist_74 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_75 } } save_global_event_target_as = plan_separatist_75 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_76 } } save_global_event_target_as = plan_separatist_76 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_77 } } save_global_event_target_as = plan_separatist_77 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_78 } } save_global_event_target_as = plan_separatist_78 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_79 } } save_global_event_target_as = plan_separatist_79 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_80 } } save_global_event_target_as = plan_separatist_80 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_81 } } save_global_event_target_as = plan_separatist_81 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_82 } } save_global_event_target_as = plan_separatist_82 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_83 } } save_global_event_target_as = plan_separatist_83 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_84 } } save_global_event_target_as = plan_separatist_84 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_85 } } save_global_event_target_as = plan_separatist_85 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_86 } } save_global_event_target_as = plan_separatist_86 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_87 } } save_global_event_target_as = plan_separatist_87 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_88 } } save_global_event_target_as = plan_separatist_88 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_89 } } save_global_event_target_as = plan_separatist_89 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_90 } } save_global_event_target_as = plan_separatist_90 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_91 } } save_global_event_target_as = plan_separatist_91 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_92 } } save_global_event_target_as = plan_separatist_92 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_93 } } save_global_event_target_as = plan_separatist_93 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_94 } } save_global_event_target_as = plan_separatist_94 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_95 } } save_global_event_target_as = plan_separatist_95 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_96 } } save_global_event_target_as = plan_separatist_96 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_97 } } save_global_event_target_as = plan_separatist_97 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_98 } } save_global_event_target_as = plan_separatist_98 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_99 } } save_global_event_target_as = plan_separatist_99 }
	else_if = { limit = { NOT = { exists = event_target:plan_separatist_100 } } save_global_event_target_as = plan_separatist_100 }
}

# Get Separatist Faction for Sectors
get_separatist_faction_sector = {
	every_owned_planet = {
		limit = { has_planet_flag = plan_sep_active }
		remove_planet_flag = plan_sep_active
		clear_variable = revolt_tick
		if = {
			limit = { is_variable_set = calm_tick }
			clear_variable = calm_tick
		}
	}
	set_sector_flag = sector_sep_active
		 if = { limit = { NOT = { exists = event_target:sec_separatist_1 } } save_global_event_target_as = sec_separatist_1 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_2 } } save_global_event_target_as = sec_separatist_2 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_3 } } save_global_event_target_as = sec_separatist_3 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_4 } } save_global_event_target_as = sec_separatist_4 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_5 } } save_global_event_target_as = sec_separatist_5 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_6 } } save_global_event_target_as = sec_separatist_6 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_7 } } save_global_event_target_as = sec_separatist_7 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_8 } } save_global_event_target_as = sec_separatist_8 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_9 } } save_global_event_target_as = sec_separatist_9 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_10 } } save_global_event_target_as = sec_separatist_10 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_11 } } save_global_event_target_as = sec_separatist_11 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_12 } } save_global_event_target_as = sec_separatist_12 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_13 } } save_global_event_target_as = sec_separatist_13 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_14 } } save_global_event_target_as = sec_separatist_14 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_15 } } save_global_event_target_as = sec_separatist_15 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_16 } } save_global_event_target_as = sec_separatist_16 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_17 } } save_global_event_target_as = sec_separatist_17 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_18 } } save_global_event_target_as = sec_separatist_18 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_19 } } save_global_event_target_as = sec_separatist_19 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_20 } } save_global_event_target_as = sec_separatist_20 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_21 } } save_global_event_target_as = sec_separatist_21 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_22 } } save_global_event_target_as = sec_separatist_22 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_23 } } save_global_event_target_as = sec_separatist_23 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_24 } } save_global_event_target_as = sec_separatist_24 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_25 } } save_global_event_target_as = sec_separatist_25 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_26 } } save_global_event_target_as = sec_separatist_26 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_27 } } save_global_event_target_as = sec_separatist_27 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_28 } } save_global_event_target_as = sec_separatist_28 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_29 } } save_global_event_target_as = sec_separatist_29 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_30 } } save_global_event_target_as = sec_separatist_30 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_31 } } save_global_event_target_as = sec_separatist_31 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_32 } } save_global_event_target_as = sec_separatist_32 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_33 } } save_global_event_target_as = sec_separatist_33 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_34 } } save_global_event_target_as = sec_separatist_34 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_35 } } save_global_event_target_as = sec_separatist_35 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_36 } } save_global_event_target_as = sec_separatist_36 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_37 } } save_global_event_target_as = sec_separatist_37 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_38 } } save_global_event_target_as = sec_separatist_38 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_39 } } save_global_event_target_as = sec_separatist_39 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_40 } } save_global_event_target_as = sec_separatist_40 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_41 } } save_global_event_target_as = sec_separatist_41 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_42 } } save_global_event_target_as = sec_separatist_42 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_43 } } save_global_event_target_as = sec_separatist_43 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_44 } } save_global_event_target_as = sec_separatist_44 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_45 } } save_global_event_target_as = sec_separatist_45 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_46 } } save_global_event_target_as = sec_separatist_46 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_47 } } save_global_event_target_as = sec_separatist_47 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_48 } } save_global_event_target_as = sec_separatist_48 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_49 } } save_global_event_target_as = sec_separatist_49 }
	else_if = { limit = { NOT = { exists = event_target:sec_separatist_50 } } save_global_event_target_as = sec_separatist_50 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_51 } } save_global_event_target_as = sec_separatist_51 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_52 } } save_global_event_target_as = sec_separatist_52 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_53 } } save_global_event_target_as = sec_separatist_53 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_54 } } save_global_event_target_as = sec_separatist_54 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_55 } } save_global_event_target_as = sec_separatist_55 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_56 } } save_global_event_target_as = sec_separatist_56 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_57 } } save_global_event_target_as = sec_separatist_57 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_58 } } save_global_event_target_as = sec_separatist_58 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_59 } } save_global_event_target_as = sec_separatist_59 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_60 } } save_global_event_target_as = sec_separatist_60 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_61 } } save_global_event_target_as = sec_separatist_61 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_62 } } save_global_event_target_as = sec_separatist_62 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_63 } } save_global_event_target_as = sec_separatist_63 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_64 } } save_global_event_target_as = sec_separatist_64 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_65 } } save_global_event_target_as = sec_separatist_65 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_66 } } save_global_event_target_as = sec_separatist_66 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_67 } } save_global_event_target_as = sec_separatist_67 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_68 } } save_global_event_target_as = sec_separatist_68 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_69 } } save_global_event_target_as = sec_separatist_69 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_70 } } save_global_event_target_as = sec_separatist_70 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_71 } } save_global_event_target_as = sec_separatist_71 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_72 } } save_global_event_target_as = sec_separatist_72 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_73 } } save_global_event_target_as = sec_separatist_73 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_74 } } save_global_event_target_as = sec_separatist_74 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_75 } } save_global_event_target_as = sec_separatist_75 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_76 } } save_global_event_target_as = sec_separatist_76 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_77 } } save_global_event_target_as = sec_separatist_77 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_78 } } save_global_event_target_as = sec_separatist_78 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_79 } } save_global_event_target_as = sec_separatist_79 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_80 } } save_global_event_target_as = sec_separatist_80 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_81 } } save_global_event_target_as = sec_separatist_81 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_82 } } save_global_event_target_as = sec_separatist_82 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_83 } } save_global_event_target_as = sec_separatist_83 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_84 } } save_global_event_target_as = sec_separatist_84 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_85 } } save_global_event_target_as = sec_separatist_85 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_86 } } save_global_event_target_as = sec_separatist_86 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_87 } } save_global_event_target_as = sec_separatist_87 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_88 } } save_global_event_target_as = sec_separatist_88 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_89 } } save_global_event_target_as = sec_separatist_89 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_90 } } save_global_event_target_as = sec_separatist_90 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_91 } } save_global_event_target_as = sec_separatist_91 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_92 } } save_global_event_target_as = sec_separatist_92 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_93 } } save_global_event_target_as = sec_separatist_93 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_94 } } save_global_event_target_as = sec_separatist_94 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_95 } } save_global_event_target_as = sec_separatist_95 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_96 } } save_global_event_target_as = sec_separatist_96 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_97 } } save_global_event_target_as = sec_separatist_97 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_98 } } save_global_event_target_as = sec_separatist_98 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_99 } } save_global_event_target_as = sec_separatist_99 }
	# else_if = { limit = { NOT = { exists = event_target:sec_separatist_100 } } save_global_event_target_as = sec_separatist_100 }
}

# Get Isolationist Separatist Faction for Sectors
get_iso_separatist_faction_sector = {
	every_owned_planet = {
		limit = { has_planet_flag = plan_sep_active }
		remove_planet_flag = plan_sep_active
		clear_variable = revolt_tick
		if = {
			limit = { is_variable_set = calm_tick }
			clear_variable = calm_tick
		}
	}
	set_sector_flag = sector_sep_active
		 if = { limit = { NOT = { exists = event_target:sec_iso_separatist_1 } } save_global_event_target_as = sec_iso_separatist_1 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_2 } } save_global_event_target_as = sec_iso_separatist_2 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_3 } } save_global_event_target_as = sec_iso_separatist_3 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_4 } } save_global_event_target_as = sec_iso_separatist_4 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_5 } } save_global_event_target_as = sec_iso_separatist_5 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_6 } } save_global_event_target_as = sec_iso_separatist_6 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_7 } } save_global_event_target_as = sec_iso_separatist_7 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_8 } } save_global_event_target_as = sec_iso_separatist_8 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_9 } } save_global_event_target_as = sec_iso_separatist_9 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_10 } } save_global_event_target_as = sec_iso_separatist_10 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_11 } } save_global_event_target_as = sec_iso_separatist_11 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_12 } } save_global_event_target_as = sec_iso_separatist_12 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_13 } } save_global_event_target_as = sec_iso_separatist_13 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_14 } } save_global_event_target_as = sec_iso_separatist_14 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_15 } } save_global_event_target_as = sec_iso_separatist_15 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_16 } } save_global_event_target_as = sec_iso_separatist_16 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_17 } } save_global_event_target_as = sec_iso_separatist_17 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_18 } } save_global_event_target_as = sec_iso_separatist_18 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_19 } } save_global_event_target_as = sec_iso_separatist_19 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_20 } } save_global_event_target_as = sec_iso_separatist_20 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_21 } } save_global_event_target_as = sec_iso_separatist_21 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_22 } } save_global_event_target_as = sec_iso_separatist_22 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_23 } } save_global_event_target_as = sec_iso_separatist_23 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_24 } } save_global_event_target_as = sec_iso_separatist_24 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_25 } } save_global_event_target_as = sec_iso_separatist_25 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_26 } } save_global_event_target_as = sec_iso_separatist_26 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_27 } } save_global_event_target_as = sec_iso_separatist_27 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_28 } } save_global_event_target_as = sec_iso_separatist_28 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_29 } } save_global_event_target_as = sec_iso_separatist_29 }
	else_if = { limit = { NOT = { exists = event_target:sec_iso_separatist_30 } } save_global_event_target_as = sec_iso_separatist_30 }
}

###########

# Defeated/Extinct Nations
remove_nat_event_target = {
		 if = { limit = { is_same_value = event_target:nat_separatist_1 } clear_global_event_target = nat_separatist_1 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_2 } clear_global_event_target = nat_separatist_2 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_3 } clear_global_event_target = nat_separatist_3 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_4 } clear_global_event_target = nat_separatist_4 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_5 } clear_global_event_target = nat_separatist_5 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_6 } clear_global_event_target = nat_separatist_6 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_7 } clear_global_event_target = nat_separatist_7 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_8 } clear_global_event_target = nat_separatist_8 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_9 } clear_global_event_target = nat_separatist_9 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_10 } clear_global_event_target = nat_separatist_10 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_11 } clear_global_event_target = nat_separatist_11 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_12 } clear_global_event_target = nat_separatist_12 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_13 } clear_global_event_target = nat_separatist_13 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_14 } clear_global_event_target = nat_separatist_14 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_15 } clear_global_event_target = nat_separatist_15 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_16 } clear_global_event_target = nat_separatist_16 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_17 } clear_global_event_target = nat_separatist_17 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_18 } clear_global_event_target = nat_separatist_18 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_19 } clear_global_event_target = nat_separatist_19 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_20 } clear_global_event_target = nat_separatist_20 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_21 } clear_global_event_target = nat_separatist_21 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_22 } clear_global_event_target = nat_separatist_22 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_23 } clear_global_event_target = nat_separatist_23 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_24 } clear_global_event_target = nat_separatist_24 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_25 } clear_global_event_target = nat_separatist_25 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_26 } clear_global_event_target = nat_separatist_26 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_27 } clear_global_event_target = nat_separatist_27 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_28 } clear_global_event_target = nat_separatist_28 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_29 } clear_global_event_target = nat_separatist_29 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_30 } clear_global_event_target = nat_separatist_30 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_31 } clear_global_event_target = nat_separatist_31 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_32 } clear_global_event_target = nat_separatist_32 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_33 } clear_global_event_target = nat_separatist_33 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_34 } clear_global_event_target = nat_separatist_34 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_35 } clear_global_event_target = nat_separatist_35 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_36 } clear_global_event_target = nat_separatist_36 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_37 } clear_global_event_target = nat_separatist_37 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_38 } clear_global_event_target = nat_separatist_38 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_39 } clear_global_event_target = nat_separatist_39 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_40 } clear_global_event_target = nat_separatist_40 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_41 } clear_global_event_target = nat_separatist_41 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_42 } clear_global_event_target = nat_separatist_42 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_43 } clear_global_event_target = nat_separatist_43 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_44 } clear_global_event_target = nat_separatist_44 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_45 } clear_global_event_target = nat_separatist_45 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_46 } clear_global_event_target = nat_separatist_46 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_47 } clear_global_event_target = nat_separatist_47 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_48 } clear_global_event_target = nat_separatist_48 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_49 } clear_global_event_target = nat_separatist_49 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_50 } clear_global_event_target = nat_separatist_50 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_51 } clear_global_event_target = nat_separatist_51 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_52 } clear_global_event_target = nat_separatist_52 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_53 } clear_global_event_target = nat_separatist_53 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_54 } clear_global_event_target = nat_separatist_54 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_55 } clear_global_event_target = nat_separatist_55 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_56 } clear_global_event_target = nat_separatist_56 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_57 } clear_global_event_target = nat_separatist_57 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_58 } clear_global_event_target = nat_separatist_58 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_59 } clear_global_event_target = nat_separatist_59 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_60 } clear_global_event_target = nat_separatist_60 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_61 } clear_global_event_target = nat_separatist_61 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_62 } clear_global_event_target = nat_separatist_62 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_63 } clear_global_event_target = nat_separatist_63 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_64 } clear_global_event_target = nat_separatist_64 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_65 } clear_global_event_target = nat_separatist_65 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_66 } clear_global_event_target = nat_separatist_66 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_67 } clear_global_event_target = nat_separatist_67 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_68 } clear_global_event_target = nat_separatist_68 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_69 } clear_global_event_target = nat_separatist_69 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_70 } clear_global_event_target = nat_separatist_70 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_71 } clear_global_event_target = nat_separatist_71 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_72 } clear_global_event_target = nat_separatist_72 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_73 } clear_global_event_target = nat_separatist_73 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_74 } clear_global_event_target = nat_separatist_74 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_75 } clear_global_event_target = nat_separatist_75 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_76 } clear_global_event_target = nat_separatist_76 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_77 } clear_global_event_target = nat_separatist_77 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_78 } clear_global_event_target = nat_separatist_78 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_79 } clear_global_event_target = nat_separatist_79 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_80 } clear_global_event_target = nat_separatist_80 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_81 } clear_global_event_target = nat_separatist_81 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_82 } clear_global_event_target = nat_separatist_82 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_83 } clear_global_event_target = nat_separatist_83 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_84 } clear_global_event_target = nat_separatist_84 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_85 } clear_global_event_target = nat_separatist_85 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_86 } clear_global_event_target = nat_separatist_86 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_87 } clear_global_event_target = nat_separatist_87 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_88 } clear_global_event_target = nat_separatist_88 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_89 } clear_global_event_target = nat_separatist_89 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_90 } clear_global_event_target = nat_separatist_90 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_91 } clear_global_event_target = nat_separatist_91 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_92 } clear_global_event_target = nat_separatist_92 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_93 } clear_global_event_target = nat_separatist_93 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_94 } clear_global_event_target = nat_separatist_94 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_95 } clear_global_event_target = nat_separatist_95 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_96 } clear_global_event_target = nat_separatist_96 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_97 } clear_global_event_target = nat_separatist_97 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_98 } clear_global_event_target = nat_separatist_98 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_99 } clear_global_event_target = nat_separatist_99 }
	else_if = { limit = { is_same_value = event_target:nat_separatist_100 } clear_global_event_target = nat_separatist_100 }
}

# Get Separatist Faction for Planets, Generic
remove_planet_event_target = {
		 if = { limit = { is_same_value = event_target:plan_separatist_1 } clear_global_event_target = plan_separatist_1 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_2 } clear_global_event_target = plan_separatist_2 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_3 } clear_global_event_target = plan_separatist_3 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_4 } clear_global_event_target = plan_separatist_4 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_5 } clear_global_event_target = plan_separatist_5 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_6 } clear_global_event_target = plan_separatist_6 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_7 } clear_global_event_target = plan_separatist_7 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_8 } clear_global_event_target = plan_separatist_8 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_9 } clear_global_event_target = plan_separatist_9 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_10 } clear_global_event_target = plan_separatist_10 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_11 } clear_global_event_target = plan_separatist_11 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_12 } clear_global_event_target = plan_separatist_12 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_13 } clear_global_event_target = plan_separatist_13 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_14 } clear_global_event_target = plan_separatist_14 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_15 } clear_global_event_target = plan_separatist_15 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_16 } clear_global_event_target = plan_separatist_16 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_17 } clear_global_event_target = plan_separatist_17 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_18 } clear_global_event_target = plan_separatist_18 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_19 } clear_global_event_target = plan_separatist_19 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_20 } clear_global_event_target = plan_separatist_20 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_21 } clear_global_event_target = plan_separatist_21 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_22 } clear_global_event_target = plan_separatist_22 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_23 } clear_global_event_target = plan_separatist_23 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_24 } clear_global_event_target = plan_separatist_24 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_25 } clear_global_event_target = plan_separatist_25 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_26 } clear_global_event_target = plan_separatist_26 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_27 } clear_global_event_target = plan_separatist_27 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_28 } clear_global_event_target = plan_separatist_28 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_29 } clear_global_event_target = plan_separatist_29 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_30 } clear_global_event_target = plan_separatist_30 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_31 } clear_global_event_target = plan_separatist_31 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_32 } clear_global_event_target = plan_separatist_32 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_33 } clear_global_event_target = plan_separatist_33 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_34 } clear_global_event_target = plan_separatist_34 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_35 } clear_global_event_target = plan_separatist_35 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_36 } clear_global_event_target = plan_separatist_36 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_37 } clear_global_event_target = plan_separatist_37 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_38 } clear_global_event_target = plan_separatist_38 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_39 } clear_global_event_target = plan_separatist_39 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_40 } clear_global_event_target = plan_separatist_40 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_41 } clear_global_event_target = plan_separatist_41 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_42 } clear_global_event_target = plan_separatist_42 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_43 } clear_global_event_target = plan_separatist_43 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_44 } clear_global_event_target = plan_separatist_44 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_45 } clear_global_event_target = plan_separatist_45 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_46 } clear_global_event_target = plan_separatist_46 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_47 } clear_global_event_target = plan_separatist_47 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_48 } clear_global_event_target = plan_separatist_48 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_49 } clear_global_event_target = plan_separatist_49 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_50 } clear_global_event_target = plan_separatist_50 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_51 } clear_global_event_target = plan_separatist_51 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_52 } clear_global_event_target = plan_separatist_52 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_53 } clear_global_event_target = plan_separatist_53 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_54 } clear_global_event_target = plan_separatist_54 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_55 } clear_global_event_target = plan_separatist_55 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_56 } clear_global_event_target = plan_separatist_56 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_57 } clear_global_event_target = plan_separatist_57 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_58 } clear_global_event_target = plan_separatist_58 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_59 } clear_global_event_target = plan_separatist_59 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_60 } clear_global_event_target = plan_separatist_60 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_61 } clear_global_event_target = plan_separatist_61 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_62 } clear_global_event_target = plan_separatist_62 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_63 } clear_global_event_target = plan_separatist_63 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_64 } clear_global_event_target = plan_separatist_64 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_65 } clear_global_event_target = plan_separatist_65 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_66 } clear_global_event_target = plan_separatist_66 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_67 } clear_global_event_target = plan_separatist_67 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_68 } clear_global_event_target = plan_separatist_68 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_69 } clear_global_event_target = plan_separatist_69 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_70 } clear_global_event_target = plan_separatist_70 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_71 } clear_global_event_target = plan_separatist_71 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_72 } clear_global_event_target = plan_separatist_72 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_73 } clear_global_event_target = plan_separatist_73 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_74 } clear_global_event_target = plan_separatist_74 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_75 } clear_global_event_target = plan_separatist_75 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_76 } clear_global_event_target = plan_separatist_76 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_77 } clear_global_event_target = plan_separatist_77 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_78 } clear_global_event_target = plan_separatist_78 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_79 } clear_global_event_target = plan_separatist_79 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_80 } clear_global_event_target = plan_separatist_80 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_81 } clear_global_event_target = plan_separatist_81 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_82 } clear_global_event_target = plan_separatist_82 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_83 } clear_global_event_target = plan_separatist_83 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_84 } clear_global_event_target = plan_separatist_84 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_85 } clear_global_event_target = plan_separatist_85 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_86 } clear_global_event_target = plan_separatist_86 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_87 } clear_global_event_target = plan_separatist_87 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_88 } clear_global_event_target = plan_separatist_88 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_89 } clear_global_event_target = plan_separatist_89 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_90 } clear_global_event_target = plan_separatist_90 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_91 } clear_global_event_target = plan_separatist_91 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_92 } clear_global_event_target = plan_separatist_92 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_93 } clear_global_event_target = plan_separatist_93 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_94 } clear_global_event_target = plan_separatist_94 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_95 } clear_global_event_target = plan_separatist_95 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_96 } clear_global_event_target = plan_separatist_96 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_97 } clear_global_event_target = plan_separatist_97 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_98 } clear_global_event_target = plan_separatist_98 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_99 } clear_global_event_target = plan_separatist_99 }
	else_if = { limit = { is_same_value = event_target:plan_separatist_100 } clear_global_event_target = plan_separatist_100 }
}

# Get Separatist Faction for Sectors
remove_sector_event_target = {
		 if = { limit = { is_same_value = event_target:sec_separatist_1 } clear_global_event_target = sec_separatist_1 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_2 } clear_global_event_target = sec_separatist_2 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_3 } clear_global_event_target = sec_separatist_3 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_4 } clear_global_event_target = sec_separatist_4 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_5 } clear_global_event_target = sec_separatist_5 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_6 } clear_global_event_target = sec_separatist_6 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_7 } clear_global_event_target = sec_separatist_7 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_8 } clear_global_event_target = sec_separatist_8 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_9 } clear_global_event_target = sec_separatist_9 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_10 } clear_global_event_target = sec_separatist_10 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_11 } clear_global_event_target = sec_separatist_11 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_12 } clear_global_event_target = sec_separatist_12 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_13 } clear_global_event_target = sec_separatist_13 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_14 } clear_global_event_target = sec_separatist_14 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_15 } clear_global_event_target = sec_separatist_15 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_16 } clear_global_event_target = sec_separatist_16 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_17 } clear_global_event_target = sec_separatist_17 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_18 } clear_global_event_target = sec_separatist_18 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_19 } clear_global_event_target = sec_separatist_19 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_20 } clear_global_event_target = sec_separatist_20 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_21 } clear_global_event_target = sec_separatist_21 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_22 } clear_global_event_target = sec_separatist_22 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_23 } clear_global_event_target = sec_separatist_23 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_24 } clear_global_event_target = sec_separatist_24 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_25 } clear_global_event_target = sec_separatist_25 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_26 } clear_global_event_target = sec_separatist_26 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_27 } clear_global_event_target = sec_separatist_27 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_28 } clear_global_event_target = sec_separatist_28 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_29 } clear_global_event_target = sec_separatist_29 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_30 } clear_global_event_target = sec_separatist_30 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_31 } clear_global_event_target = sec_separatist_31 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_32 } clear_global_event_target = sec_separatist_32 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_33 } clear_global_event_target = sec_separatist_33 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_34 } clear_global_event_target = sec_separatist_34 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_35 } clear_global_event_target = sec_separatist_35 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_36 } clear_global_event_target = sec_separatist_36 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_37 } clear_global_event_target = sec_separatist_37 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_38 } clear_global_event_target = sec_separatist_38 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_39 } clear_global_event_target = sec_separatist_39 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_40 } clear_global_event_target = sec_separatist_40 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_41 } clear_global_event_target = sec_separatist_41 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_42 } clear_global_event_target = sec_separatist_42 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_43 } clear_global_event_target = sec_separatist_43 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_44 } clear_global_event_target = sec_separatist_44 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_45 } clear_global_event_target = sec_separatist_45 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_46 } clear_global_event_target = sec_separatist_46 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_47 } clear_global_event_target = sec_separatist_47 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_48 } clear_global_event_target = sec_separatist_48 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_49 } clear_global_event_target = sec_separatist_49 }
	else_if = { limit = { is_same_value = event_target:sec_separatist_50 } clear_global_event_target = sec_separatist_50 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_51 } clear_global_event_target = sec_separatist_51 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_52 } clear_global_event_target = sec_separatist_52 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_53 } clear_global_event_target = sec_separatist_53 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_54 } clear_global_event_target = sec_separatist_54 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_55 } clear_global_event_target = sec_separatist_55 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_56 } clear_global_event_target = sec_separatist_56 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_57 } clear_global_event_target = sec_separatist_57 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_58 } clear_global_event_target = sec_separatist_58 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_59 } clear_global_event_target = sec_separatist_59 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_60 } clear_global_event_target = sec_separatist_60 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_61 } clear_global_event_target = sec_separatist_61 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_62 } clear_global_event_target = sec_separatist_62 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_63 } clear_global_event_target = sec_separatist_63 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_64 } clear_global_event_target = sec_separatist_64 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_65 } clear_global_event_target = sec_separatist_65 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_66 } clear_global_event_target = sec_separatist_66 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_67 } clear_global_event_target = sec_separatist_67 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_68 } clear_global_event_target = sec_separatist_68 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_69 } clear_global_event_target = sec_separatist_69 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_70 } clear_global_event_target = sec_separatist_70 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_71 } clear_global_event_target = sec_separatist_71 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_72 } clear_global_event_target = sec_separatist_72 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_73 } clear_global_event_target = sec_separatist_73 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_74 } clear_global_event_target = sec_separatist_74 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_75 } clear_global_event_target = sec_separatist_75 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_76 } clear_global_event_target = sec_separatist_76 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_77 } clear_global_event_target = sec_separatist_77 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_78 } clear_global_event_target = sec_separatist_78 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_79 } clear_global_event_target = sec_separatist_79 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_80 } clear_global_event_target = sec_separatist_80 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_81 } clear_global_event_target = sec_separatist_81 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_82 } clear_global_event_target = sec_separatist_82 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_83 } clear_global_event_target = sec_separatist_83 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_84 } clear_global_event_target = sec_separatist_84 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_85 } clear_global_event_target = sec_separatist_85 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_86 } clear_global_event_target = sec_separatist_86 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_87 } clear_global_event_target = sec_separatist_87 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_88 } clear_global_event_target = sec_separatist_88 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_89 } clear_global_event_target = sec_separatist_89 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_90 } clear_global_event_target = sec_separatist_90 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_91 } clear_global_event_target = sec_separatist_91 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_92 } clear_global_event_target = sec_separatist_92 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_93 } clear_global_event_target = sec_separatist_93 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_94 } clear_global_event_target = sec_separatist_94 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_95 } clear_global_event_target = sec_separatist_95 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_96 } clear_global_event_target = sec_separatist_96 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_97 } clear_global_event_target = sec_separatist_97 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_98 } clear_global_event_target = sec_separatist_98 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_99 } clear_global_event_target = sec_separatist_99 }
	# else_if = { limit = { is_same_value = event_target:sec_separatist_100 } clear_global_event_target = sec_separatist_100 }
}

# Get Isolationist Separatist Faction for Sectors
remove_iso_sector_event_target = {
	set_sector_flag = sector_sep_active
		 if = { limit = { is_same_value = event_target:sec_iso_separatist_1 } clear_global_event_target = sec_iso_separatist_1 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_2 } clear_global_event_target = sec_iso_separatist_2 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_3 } clear_global_event_target = sec_iso_separatist_3 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_4 } clear_global_event_target = sec_iso_separatist_4 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_5 } clear_global_event_target = sec_iso_separatist_5 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_6 } clear_global_event_target = sec_iso_separatist_6 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_7 } clear_global_event_target = sec_iso_separatist_7 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_8 } clear_global_event_target = sec_iso_separatist_8 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_9 } clear_global_event_target = sec_iso_separatist_9 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_10 } clear_global_event_target = sec_iso_separatist_10 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_11 } clear_global_event_target = sec_iso_separatist_11 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_12 } clear_global_event_target = sec_iso_separatist_12 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_13 } clear_global_event_target = sec_iso_separatist_13 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_14 } clear_global_event_target = sec_iso_separatist_14 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_15 } clear_global_event_target = sec_iso_separatist_15 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_16 } clear_global_event_target = sec_iso_separatist_16 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_17 } clear_global_event_target = sec_iso_separatist_17 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_18 } clear_global_event_target = sec_iso_separatist_18 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_19 } clear_global_event_target = sec_iso_separatist_19 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_20 } clear_global_event_target = sec_iso_separatist_20 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_21 } clear_global_event_target = sec_iso_separatist_21 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_22 } clear_global_event_target = sec_iso_separatist_22 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_23 } clear_global_event_target = sec_iso_separatist_23 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_24 } clear_global_event_target = sec_iso_separatist_24 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_25 } clear_global_event_target = sec_iso_separatist_25 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_26 } clear_global_event_target = sec_iso_separatist_26 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_27 } clear_global_event_target = sec_iso_separatist_27 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_28 } clear_global_event_target = sec_iso_separatist_28 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_29 } clear_global_event_target = sec_iso_separatist_29 }
	else_if = { limit = { is_same_value = event_target:sec_iso_separatist_30 } clear_global_event_target = sec_iso_separatist_30 }
}

###########

nat_faction_first_effect = {
	set_pop_faction_flag = nat_faction
	set_pop_faction_flag = nat_faction_@event_target:nat_country_loc
	owner = {
		create_leader = {
			class = ruler
			event_leader = yes
			species = owner_main_species
			name = "Dummy Leader"
			effect = {
				set_leader_flag = dummy_leader
			}
		}
	}
	last_created_leader = {
		set_name = {
			key = dummy_sep_leader
			variable_string = "\\[Root.GetName]"
		}
		leader_event = { id = civleader.1000 days = 180 }
	}
}

nat_faction_second_effect = {
	last_created_leader = {
		kill_leader = { show_notification = no }
	}
	random_owned_pop = {
		species = { save_global_event_target_as = nat_pop_species }
	}
	owner = {
		create_leader = {
			class = ruler
			species = event_target:nat_pop_species
			name = random
			leader_age_min = 25
			leader_age_max = 55
			traits = { trait = leader_trait_charismatic }
			effect = {
				set_leader_flag = sep_leader
				set_leader_flag = dummy_leader
			}
		}
	}
	set_leader = last_created_leader
	pop_faction_event = { id = civnat.9000 }
}

faction_kill_leader_effect = {
	leader = { kill_leader = { show_notification = no } }
}

plan_faction_first_effect = {
	set_pop_faction_flag = plan_faction
	owner = {
		create_leader = {
			class = ruler
			event_leader = yes
			species = owner_main_species
			name = "Dummy Leader"
			effect = {
				set_leader_flag = dummy_leader
			}
		}
	}
	last_created_leader = {
		set_name = {
			key = dummy_sep_leader
			variable_string = "\\[Root.GetName]"
		}
		leader_event = { id = civleader.1000 days = 180 }
	}
}

plan_faction_second_effect = {
	last_created_leader = {
		kill_leader = { show_notification = no }
	}
	random_owned_pop = {
		species = { save_global_event_target_as = nat_pop_species }
	}
	# owner = {
	# 	create_leader = {
	# 		class = ruler
	# 		species = event_target:nat_pop_species
	# 		name = random
	# 		leader_age_min = 25
	# 		leader_age_max = 55
	# 		traits = { trait = leader_trait_charismatic }
	# 		effect = {
	# 			set_leader_flag = sep_leader
	# 		}
	# 	}
	# }
	# set_leader = last_created_leader
	pop_faction_event = { id = civsep.9000 }
}

sector_faction_first_effect = {
	if = {
		limit = { is_iso_sector_separatist_faction = no }
		set_pop_faction_flag = sector_faction
	}
	else = {
		set_pop_faction_flag = iso_sector_faction
	}
	set_pop_faction_flag = sector_faction_@event_target:nat_country_loc
	owner = {
		create_leader = {
			class = ruler
			event_leader = yes
			species = owner_main_species
			name = "Dummy Leader"
			effect = {
				set_leader_flag = dummy_leader
			}
		}
	}
	last_created_leader = {
		set_name = {
			key = dummy_sep_leader
			variable_string = "\\[Root.GetName]"
		}
		leader_event = { id = civleader.1000 days = 180 }
	}
}

sector_faction_second_effect = {
	last_created_leader = {
		kill_leader = { show_notification = no }
	}
	random_owned_pop = {
		species = { save_global_event_target_as = nat_pop_species }
	}
	if = {
		limit = { is_iso_sector_separatist_faction = no }
		# owner = {
		# 	create_leader = {
		# 		class = ruler
		# 		species = event_target:nat_pop_species
		# 		name = random
		# 		leader_age_min = 25
		# 		leader_age_max = 55
		# 		traits = { trait = leader_trait_charismatic }
		# 		effect = {
		# 			set_leader_flag = sep_leader
		# 		}
		# 	}
		# }
		# set_leader = last_created_leader
		pop_faction_event = { id = civsep.9010 }
	}
	else = {
		pop_faction_event = { id = civsep.9011 }
	}
}

get_cit_res_purgees = {
	set_variable = { which = num_separatist_pops value = 0 }

	every_owned_pop = {
		limit = {
			pop_can_be_separatist_gen = yes
			OR = {
				has_pop_flag = citizen_of_@event_target:nat_pops_country
				has_pop_flag = resident_of_@event_target:nat_pops_country
			}
			has_citizenship_type = { type = citizenship_purge }
		}
		prev = { change_variable = { which = num_separatist_pops value = 1 } }
	}

	while = {
		count = num_separatist_pops
		random_owned_pop = {
			limit = {
				pop_can_be_separatist_gen = yes
				OR = {
					has_pop_flag = citizen_of_@event_target:nat_pops_country
					has_pop_flag = resident_of_@event_target:nat_pops_country
				}
				has_citizenship_type = { type = citizenship_purge }
			}
			set_pop_flag = sep_pop
			set_pop_flag = sep_pop_nat
			set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
		}
	}

	clear_variable = num_separatist_pops
}

get_nat_seps = {
	if = {
		limit = { has_planet_flag = frontier_planet_@event_target:nat_pops_country }
		# First, Get Citizens who are still Citzens, least likely to radicalize.
		set_variable = { which = num_separatist_pops value = 0 }

		every_owned_pop = {
			limit = {
				pop_can_be_separatist_gen = yes
				has_pop_flag = citizen_of_@event_target:nat_pops_country
				has_citizenship_type = { type = citizenship_full }
			}
			prev = { change_variable = { which = num_separatist_pops value = 1 } }
		}

		if = {
			limit = { check_variable = { which = num_separatist_pops value <= 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					30 = { }
					30 = { set_variable = { which = num_separatist_pops value = 1 } }
					30 = { set_variable = { which = num_separatist_pops value = 2 } }
					10 = { set_variable = { which = num_separatist_pops value = 3 } }
				}
			}
			else = {
				random_list = {
					50 = { set_variable = { which = num_separatist_pops value = 1 } }
					30 = { set_variable = { which = num_separatist_pops value = 2 } }
					20 = { set_variable = { which = num_separatist_pops value = 3 } }
				}
			}
		}
		else_if = {
			limit = { check_variable = { which = num_separatist_pops value > 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					30 = { }
					30 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					30 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
				}
			}
			else = {
				random_list = {
					50 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					30 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
				}
			}
		}

		while = {
			count = num_separatist_pops
			random_owned_pop = {
				limit = {
					pop_can_be_separatist_gen = yes
					has_pop_flag = citizen_of_@event_target:nat_pops_country
					has_citizenship_type = { type = citizenship_full }
				}
				set_pop_flag = sep_pop
				set_pop_flag = sep_pop_nat
				set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
			}
		}

		# Second, Get Citizens who've become residents
		set_variable = { which = num_separatist_pops value = 0 }

		every_owned_pop = {
			limit = {
				pop_can_be_separatist_gen = yes
				has_pop_flag = citizen_of_@event_target:nat_pops_country
				has_citizenship_type = { type = citizenship_limited }
			}
			prev = { change_variable = { which = num_separatist_pops value = 1 } }
		}

		if = {
			limit = { check_variable = { which = num_separatist_pops value <= 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					# 10 = { }
					30 = { set_variable = { which = num_separatist_pops value = 1 } }
					25 = { set_variable = { which = num_separatist_pops value = 2 } }
					20 = { set_variable = { which = num_separatist_pops value = 3 } }
					10 = { set_variable = { which = num_separatist_pops value = 4 } }
					5 = { set_variable = { which = num_separatist_pops value = 5 } }
				}
			}
			else = {
				random_list = {
					30 = { set_variable = { which = num_separatist_pops value = 1 } }
					25 = { set_variable = { which = num_separatist_pops value = 2 } }
					20 = { set_variable = { which = num_separatist_pops value = 3 } }
					15 = { set_variable = { which = num_separatist_pops value = 4 } }
					5 = { set_variable = { which = num_separatist_pops value = 5 } }
				}
			}
		}
		else_if = {
			limit = { check_variable = { which = num_separatist_pops value > 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					10 = { }
					30 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.4 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
				}
			}
			else = {
				random_list = {
					30 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.4 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
				}
			}
		}

		while = {
			count = num_separatist_pops
			random_owned_pop = {
				limit = {
					pop_can_be_separatist_gen = yes
					has_pop_flag = citizen_of_@event_target:nat_pops_country
					has_citizenship_type = { type = citizenship_limited }
				}
				set_pop_flag = sep_pop
				set_pop_flag = sep_pop_nat
				set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
			}
		}

		# Third, Get Citizens and Residents who've become enslaved
		set_variable = { which = num_separatist_pops value = 0 }

		every_owned_pop = {
			limit = {
				pop_can_be_separatist_gen = yes
				OR = {
					has_pop_flag = citizen_of_@event_target:nat_pops_country
					has_pop_flag = resident_of_@event_target:nat_pops_country
				}
				has_citizenship_type = { type = citizenship_slavery }
			}
			prev = { change_variable = { which = num_separatist_pops value = 1 } }
		}

		if = {
			limit = { check_variable = { which = num_separatist_pops value <= 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					35 = { set_variable = { which = num_separatist_pops value = 5 } }
					30 = { set_variable = { which = num_separatist_pops value = 6 } }
					20 = { set_variable = { which = num_separatist_pops value = 7 } }
					15 = { set_variable = { which = num_separatist_pops value = 8 } }
				}
			}
			else = {
				random_list = {
					25 = { set_variable = { which = num_separatist_pops value = 5 } }
					25 = { set_variable = { which = num_separatist_pops value = 6 } }
					25 = { set_variable = { which = num_separatist_pops value = 7 } }
					25 = { set_variable = { which = num_separatist_pops value = 8 } }
				}
			}
		}
		else_if = {
			limit = { check_variable = { which = num_separatist_pops value > 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					35 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
					30 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.8 } }
				}
			}
			else = {
				random_list = {
					25 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.8 } }
				}
			}
		}

		while = {
			count = num_separatist_pops
			random_owned_pop = {
				limit = {
					pop_can_be_separatist_gen = yes
					OR = {
						has_pop_flag = citizen_of_@event_target:nat_pops_country
						has_pop_flag = resident_of_@event_target:nat_pops_country
					}
					has_citizenship_type = { type = citizenship_slavery }
				}
				set_pop_flag = sep_pop
				set_pop_flag = sep_pop_nat
				set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
			}
		}
	}
	else_if = {
		limit = { has_planet_flag = integrated_planet_@event_target:nat_pops_country }
		# First, Get Citizens who are still Citzens, least likely to radicalize.
		set_variable = { which = num_separatist_pops value = 0 }

		every_owned_pop = {
			limit = {
				pop_can_be_separatist_gen = yes
				has_pop_flag = citizen_of_@event_target:nat_pops_country
				has_citizenship_type = { type = citizenship_full }
			}
			prev = { change_variable = { which = num_separatist_pops value = 1 } }
		}

		if = {
			limit = { check_variable = { which = num_separatist_pops value <= 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					20 = { }
					25 = { set_variable = { which = num_separatist_pops value = 1 } }
					20 = { set_variable = { which = num_separatist_pops value = 2 } }
					15 = { set_variable = { which = num_separatist_pops value = 3 } }
					15 = { set_variable = { which = num_separatist_pops value = 4 } }
					3 = { set_variable = { which = num_separatist_pops value = 5 } }
					2 = { set_variable = { which = num_separatist_pops value = 6 } }
				}
			}
			else = {
				random_list = {
					35 = { set_variable = { which = num_separatist_pops value = 1 } }
					30 = { set_variable = { which = num_separatist_pops value = 2 } }
					20 = { set_variable = { which = num_separatist_pops value = 3 } }
					10 = { set_variable = { which = num_separatist_pops value = 4 } }
					3 = { set_variable = { which = num_separatist_pops value = 5 } }
					2 = { set_variable = { which = num_separatist_pops value = 6 } }
				}
			}
		}
		else_if = {
			limit = { check_variable = { which = num_separatist_pops value > 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					20 = { }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.4 } }
					3 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
					2 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
				}
			}
			else = {
				random_list = {
					35 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					30 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.4 } }
					3 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
					2 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
				}
			}
		}

		while = {
			count = num_separatist_pops
			random_owned_pop = {
				limit = {
					pop_can_be_separatist_gen = yes
					has_pop_flag = citizen_of_@event_target:nat_pops_country
					has_citizenship_type = { type = citizenship_full }
				}
				set_pop_flag = sep_pop
				set_pop_flag = sep_pop_nat
				set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
			}
		}

		# Second, Get Citizens who've become residents
		set_variable = { which = num_separatist_pops value = 0 }

		every_owned_pop = {
			limit = {
				pop_can_be_separatist_gen = yes
				has_pop_flag = citizen_of_@event_target:nat_pops_country
				has_citizenship_type = { type = citizenship_limited }
			}
			prev = { change_variable = { which = num_separatist_pops value = 1 } }
		}

		if = {
			limit = { check_variable = { which = num_separatist_pops value <= 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					5 = { }
					20 = { set_variable = { which = num_separatist_pops value = 1 } }
					20 = { set_variable = { which = num_separatist_pops value = 2 } }
					15 = { set_variable = { which = num_separatist_pops value = 3 } }
					15 = { set_variable = { which = num_separatist_pops value = 4 } }
					10 = { set_variable = { which = num_separatist_pops value = 5 } }
					10 = { set_variable = { which = num_separatist_pops value = 6 } }
					5 = { set_variable = { which = num_separatist_pops value = 7 } }
				}
			}
			else = {
				random_list = {
					20 = { set_variable = { which = num_separatist_pops value = 1 } }
					20 = { set_variable = { which = num_separatist_pops value = 2 } }
					20 = { set_variable = { which = num_separatist_pops value = 3 } }
					15 = { set_variable = { which = num_separatist_pops value = 4 } }
					15 = { set_variable = { which = num_separatist_pops value = 5 } }
					10 = { set_variable = { which = num_separatist_pops value = 6 } }
					5 = { set_variable = { which = num_separatist_pops value = 7 } }
				}
			}
		}
		else_if = {
			limit = { check_variable = { which = num_separatist_pops value > 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					5 = { }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.4 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
				}
			}
			else = {
				random_list = {
					20 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.4 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
				}
			}
		}

		while = {
			count = num_separatist_pops
			random_owned_pop = {
				limit = {
					pop_can_be_separatist_gen = yes
					has_pop_flag = citizen_of_@event_target:nat_pops_country
					has_citizenship_type = { type = citizenship_limited }
				}
				set_pop_flag = sep_pop
				set_pop_flag = sep_pop_nat
				set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
			}
		}

		# Third, Get Citizens and Residents who've become enslaved
		set_variable = { which = num_separatist_pops value = 0 }

		every_owned_pop = {
			limit = {
				pop_can_be_separatist_gen = yes
				OR = {
					has_pop_flag = citizen_of_@event_target:nat_pops_country
					has_pop_flag = resident_of_@event_target:nat_pops_country
				}
				has_citizenship_type = { type = citizenship_slavery }
			}
			prev = { change_variable = { which = num_separatist_pops value = 1 } }
		}

		if = {
			limit = { check_variable = { which = num_separatist_pops value <= 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					35 = { set_variable = { which = num_separatist_pops value = 6 } }
					30 = { set_variable = { which = num_separatist_pops value = 7 } }
					20 = { set_variable = { which = num_separatist_pops value = 8 } }
					15 = { set_variable = { which = num_separatist_pops value = 9 } }
				}
			}
			else = {
				random_list = {
					25 = { set_variable = { which = num_separatist_pops value = 6 } }
					25 = { set_variable = { which = num_separatist_pops value = 7 } }
					25 = { set_variable = { which = num_separatist_pops value = 8 } }
					25 = { set_variable = { which = num_separatist_pops value = 9 } }
				}
			}
		}
		else_if = {
			limit = { check_variable = { which = num_separatist_pops value > 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					35 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
					30 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.8 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.9 } }
				}
			}
			else = {
				random_list = {
					25 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.8 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.9 } }
				}
			}
		}

		while = {
			count = num_separatist_pops
			random_owned_pop = {
				limit = {
					pop_can_be_separatist_gen = yes
					OR = {
						has_pop_flag = citizen_of_@event_target:nat_pops_country
						has_pop_flag = resident_of_@event_target:nat_pops_country
					}
					has_citizenship_type = { type = citizenship_slavery }
				}
				set_pop_flag = sep_pop
				set_pop_flag = sep_pop_nat
				set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
			}
		}
	}
	else_if = {
		limit = { has_planet_flag = fundamental_planet_@event_target:nat_pops_country }
		# First, Get Citizens who are still Citzens, least likely to radicalize.
		set_variable = { which = num_separatist_pops value = 0 }

		every_owned_pop = {
			limit = {
				pop_can_be_separatist_gen = yes
				has_pop_flag = citizen_of_@event_target:nat_pops_country
				has_citizenship_type = { type = citizenship_full }
			}
			prev = { change_variable = { which = num_separatist_pops value = 1 } }
		}

		if = {
			limit = { check_variable = { which = num_separatist_pops value <= 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					10 = { }
					15 = { set_variable = { which = num_separatist_pops value = 1 } }
					15 = { set_variable = { which = num_separatist_pops value = 2 } }
					15 = { set_variable = { which = num_separatist_pops value = 3 } }
					10 = { set_variable = { which = num_separatist_pops value = 4 } }
					10 = { set_variable = { which = num_separatist_pops value = 5 } }
					10 = { set_variable = { which = num_separatist_pops value = 6 } }
					5 = { set_variable = { which = num_separatist_pops value = 7 } }
					5 = { set_variable = { which = num_separatist_pops value = 8 } }
					3 = { set_variable = { which = num_separatist_pops value = 9 } }
					2 = { set_variable = { which = num_separatist_pops value = 10 } }
				}
			}
			else = {
				random_list = {
					20 = { set_variable = { which = num_separatist_pops value = 1 } }
					15 = { set_variable = { which = num_separatist_pops value = 2 } }
					15 = { set_variable = { which = num_separatist_pops value = 3 } }
					13 = { set_variable = { which = num_separatist_pops value = 4 } }
					12 = { set_variable = { which = num_separatist_pops value = 5 } }
					10 = { set_variable = { which = num_separatist_pops value = 6 } }
					5 = { set_variable = { which = num_separatist_pops value = 7 } }
					5 = { set_variable = { which = num_separatist_pops value = 8 } }
					3 = { set_variable = { which = num_separatist_pops value = 9 } }
					2 = { set_variable = { which = num_separatist_pops value = 10 } }
				}
			}
		}
		else_if = {
			limit = { check_variable = { which = num_separatist_pops value > 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					10 = { }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.4 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 0.8 } }
					3 = { multiply_variable = { which = num_separatist_pops value = 0.9 } }
					2 = { multiply_variable = { which = num_separatist_pops value = 1 } }
				}
			}
			else = {
				random_list = {
					20 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
					13 = { multiply_variable = { which = num_separatist_pops value = 0.4 } }
					12 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 0.8 } }
					3 = { multiply_variable = { which = num_separatist_pops value = 0.9 } }
					2 = { multiply_variable = { which = num_separatist_pops value = 1 } }
				}
			}
		}

		while = {
			count = num_separatist_pops
			random_owned_pop = {
				limit = {
					pop_can_be_separatist_gen = yes
					has_pop_flag = citizen_of_@event_target:nat_pops_country
					has_citizenship_type = { type = citizenship_full }
				}
				set_pop_flag = sep_pop
				set_pop_flag = sep_pop_nat
				set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
			}
		}

		# Second, Get Citizens who've become residents
		set_variable = { which = num_separatist_pops value = 0 }

		every_owned_pop = {
			limit = {
				pop_can_be_separatist_gen = yes
				has_pop_flag = citizen_of_@event_target:nat_pops_country
				has_citizenship_type = { type = citizenship_limited }
			}
			prev = { change_variable = { which = num_separatist_pops value = 1 } }
		}

		if = {
			limit = { check_variable = { which = num_separatist_pops value <= 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					15 = { set_variable = { which = num_separatist_pops value = 1 } }
					15 = { set_variable = { which = num_separatist_pops value = 2 } }
					15 = { set_variable = { which = num_separatist_pops value = 3 } }
					15 = { set_variable = { which = num_separatist_pops value = 4 } }
					10 = { set_variable = { which = num_separatist_pops value = 5 } }
					10 = { set_variable = { which = num_separatist_pops value = 6 } }
					10 = { set_variable = { which = num_separatist_pops value = 7 } }
					5 = { set_variable = { which = num_separatist_pops value = 8 } }
					3 = { set_variable = { which = num_separatist_pops value = 9 } }
					2 = { set_variable = { which = num_separatist_pops value = 10 } }
				}
			}
			else = {
				random_list = {
					10 = { set_variable = { which = num_separatist_pops value = 1 } }
					10 = { set_variable = { which = num_separatist_pops value = 2 } }
					15 = { set_variable = { which = num_separatist_pops value = 3 } }
					15 = { set_variable = { which = num_separatist_pops value = 4 } }
					10 = { set_variable = { which = num_separatist_pops value = 5 } }
					10 = { set_variable = { which = num_separatist_pops value = 6 } }
					10 = { set_variable = { which = num_separatist_pops value = 7 } }
					10 = { set_variable = { which = num_separatist_pops value = 8 } }
					5 = { set_variable = { which = num_separatist_pops value = 9 } }
					5 = { set_variable = { which = num_separatist_pops value = 10 } }
				}
			}
		}
		else_if = {
			limit = { check_variable = { which = num_separatist_pops value > 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					15 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.4 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 0.8 } }
					3 = { multiply_variable = { which = num_separatist_pops value = 0.9 } }
					2 = { multiply_variable = { which = num_separatist_pops value = 1 } }
				}
			}
			else = {
				random_list = {
					10 = { multiply_variable = { which = num_separatist_pops value = 0.1 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.2 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.3 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 0.4 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.5 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.6 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
					10 = { multiply_variable = { which = num_separatist_pops value = 0.8 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 0.9 } }
					5 = { multiply_variable = { which = num_separatist_pops value = 1 } }
				}
			}
		}

		while = {
			count = num_separatist_pops
			random_owned_pop = {
				limit = {
					pop_can_be_separatist_gen = yes
					has_pop_flag = citizen_of_@event_target:nat_pops_country
					has_citizenship_type = { type = citizenship_limited }
				}
				set_pop_flag = sep_pop
				set_pop_flag = sep_pop_nat
				set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
			}
		}

		# Third, Get Citizens and Residents who've become enslaved
		set_variable = { which = num_separatist_pops value = 0 }

		every_owned_pop = {
			limit = {
				pop_can_be_separatist_gen = yes
				OR = {
					has_pop_flag = citizen_of_@event_target:nat_pops_country
					has_pop_flag = resident_of_@event_target:nat_pops_country
				}
				has_citizenship_type = { type = citizenship_slavery }
			}
			prev = { change_variable = { which = num_separatist_pops value = 1 } }
		}

		if = {
			limit = { check_variable = { which = num_separatist_pops value <= 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					35 = { set_variable = { which = num_separatist_pops value = 7 } }
					30 = { set_variable = { which = num_separatist_pops value = 8 } }
					20 = { set_variable = { which = num_separatist_pops value = 9 } }
					15 = { set_variable = { which = num_separatist_pops value = 10 } }
				}
			}
			else = {
				random_list = {
					25 = { set_variable = { which = num_separatist_pops value = 7 } }
					25 = { set_variable = { which = num_separatist_pops value = 8 } }
					25 = { set_variable = { which = num_separatist_pops value = 9 } }
					25 = { set_variable = { which = num_separatist_pops value = 10 } }
				}
			}
		}
		else_if = {
			limit = { check_variable = { which = num_separatist_pops value > 10 } }
			if = {
				limit = {
					owner = { NOT = { has_country_flag = destroyed_country_nat_@event_target:nat_pops_country } }
				}
				random_list = {
					35 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
					30 = { multiply_variable = { which = num_separatist_pops value = 0.8 } }
					20 = { multiply_variable = { which = num_separatist_pops value = 0.9 } }
					15 = { multiply_variable = { which = num_separatist_pops value = 1 } }
				}
			}
			else = {
				random_list = {
					25 = { multiply_variable = { which = num_separatist_pops value = 0.7 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.8 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 0.9 } }
					25 = { multiply_variable = { which = num_separatist_pops value = 1 } }
				}
			}
		}

		while = {
			count = num_separatist_pops
			random_owned_pop = {
				limit = {
					pop_can_be_separatist_gen = yes
					OR = {
						has_pop_flag = citizen_of_@event_target:nat_pops_country
						has_pop_flag = resident_of_@event_target:nat_pops_country
					}
					has_citizenship_type = { type = citizenship_slavery }
				}
				set_pop_flag = sep_pop
				set_pop_flag = sep_pop_nat
				set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
			}
		}
	}

	# Finally, Get Citizens and Residents who are now being purged - all of them
	get_cit_res_purgees = yes
}

get_nat_change_flags = {
	event_target:nat_pops_country = {
		if = {
			limit = { event_target:old_nat_country = { has_country_flag = ancient_exile_gov } }
			set_country_flag = ancient_exile_gov
		}				
	}

	# establish comms
	every_country = {
		limit = { has_communications = event_target:old_nat_country }
		establish_communications_no_message = event_target:nat_pops_country
		establish_contact = { who = event_target:nat_pops_country location = root }
	}

	# establish comms
	every_country = {
		limit = { has_communications = event_target:old_nat_country }
		establish_communications_no_message = event_target:nat_pops_country
		establish_contact = { who = event_target:nat_pops_country location = root }
	}

	every_galaxy_pop = {
		limit = {
			OR = {
				has_pop_flag = sep_pop_nat_@event_target:old_nat_country
				has_pop_flag = citizen_of_@event_target:old_nat_country
				has_pop_flag = resident_of_@event_target:old_nat_country
				has_pop_flag = slave_of_@event_target:old_nat_country
				has_pop_flag = bio_trophy_of_@event_target:old_nat_country
				has_pop_flag = purgee_of_@event_target:old_nat_country
			}
		}
		if = {
			limit = { has_pop_flag = sep_pop_nat_@event_target:old_nat_country }
			remove_pop_flag = sep_pop_nat_@event_target:old_nat_country
			set_pop_flag = sep_pop_nat_@event_target:nat_pops_country
		}
		if = {
			limit = { has_pop_flag = citizen_of_@event_target:old_nat_country }
			remove_pop_flag = citizen_of_@event_target:old_nat_country
			set_pop_flag = citizen_of_@event_target:nat_pops_country
		}
		else_if = {
			limit = { has_pop_flag = resident_of_@event_target:old_nat_country }
			remove_pop_flag = resident_of_@event_target:old_nat_country
			set_pop_flag = resident_of_@event_target:nat_pops_country
		}
		else_if = {
			limit = { has_pop_flag = slave_of_@event_target:old_nat_country }
			remove_pop_flag = slave_of_@event_target:old_nat_country
			set_pop_flag = slave_of_@event_target:nat_pops_country
		}
		else_if = {
			limit = { has_pop_flag = bio_trophy_of_@event_target:old_nat_country }
			remove_pop_flag = bio_trophy_of_@event_target:old_nat_country
			set_pop_flag = bio_trophy_of_@event_target:nat_pops_country
		}
		else_if = {
			limit = { has_pop_flag = purgee_of_@event_target:old_nat_country }
			remove_pop_flag = purgee_of_@event_target:old_nat_country
			set_pop_flag = purgee_of_@event_target:nat_pops_country
		}
	}

	every_galaxy_planet = {
		limit = {
			OR = {
				has_planet_flag = capital_planet_@event_target:old_nat_country
				has_planet_flag = frontier_planet_@event_target:old_nat_country
				has_planet_flag = integrated_planet_@event_target:old_nat_country
				has_planet_flag = fundamental_planet_@event_target:old_nat_country
			}
		}
		if = {
			limit = { has_planet_flag = capital_planet_@event_target:old_nat_country }
			remove_planet_flag = capital_planet_@event_target:old_nat_country
			set_planet_flag = capital_planet_@event_target:nat_pops_country
		}
		if = {
			limit = { has_planet_flag = frontier_planet_@event_target:old_nat_country }
			remove_planet_flag = frontier_planet_@event_target:old_nat_country
			set_planet_flag = frontier_planet_@event_target:nat_pops_country
		}
		else_if = {
			limit = { has_planet_flag = integrated_planet_@event_target:old_nat_country }
			remove_planet_flag = integrated_planet_@event_target:old_nat_country
			set_planet_flag = integrated_planet_@event_target:nat_pops_country
		}
		else_if = {
			limit = { has_planet_flag = fundamental_planet_@event_target:old_nat_country }
			remove_planet_flag = fundamental_planet_@event_target:old_nat_country
			set_planet_flag = fundamental_planet_@event_target:nat_pops_country
		}
	}
}

get_dispute_faction = {
	random_pop_faction = {
		limit = {
			OR = {
				root = { NOT = { is_variable_set = faction_one_support } }
				support >= root.faction_one_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_two_support } }
				support >= root.faction_two_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_three_support } }
				support >= root.faction_three_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_four_support } }
				support >= root.faction_four_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_five_support } }
				support >= root.faction_five_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_six_support } }
				support >= root.faction_six_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_seven_support } }
				support >= root.faction_seven_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_eight_support } }
				support >= root.faction_eight_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_nine_support } }
				support >= root.faction_nine_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_ten_support } }
				support >= root.faction_ten_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_eleven_support } }
				support >= root.faction_eleven_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_twelve_support } }
				support >= root.faction_twelve_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_thirteen_support } }
				support >= root.faction_thirteen_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_fourteen_support } }
				support >= root.faction_fourteen_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_fifteen_support } }
				support >= root.faction_fifteen_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_sixteen_support } }
				support >= root.faction_sixteen_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_seventeen_support } }
				support >= root.faction_seventeen_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_eighteen_support } }
				support >= root.faction_eighteen_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_nineteen_support } }
				support >= root.faction_nineteen_support
			}
			OR = {
				root = { NOT = { is_variable_set = faction_twenty_support } }
				support >= root.faction_twenty_support
			}
		}
		set_pop_faction_flag = disputed_election_faction
	}
}

# Government in Exile

create_exile_enclave_country = {
	save_event_target_as = hosting_country
	set_country_flag = exile_already_asked_@from # So that if they release the GiE, they do not get asked to host again

	from = { save_event_target_as = old_nat_country }

	if = {
		limit = { any_owned_planet = { NOT = { has_planet_flag = exiled_gov_host_planet } } }
		if = {
			limit = { capital_scope = { NOT = { has_planet_flag = exiled_gov_host_planet } } }
			capital_scope = {
				set_planet_flag = exiled_gov_host_planet
				save_event_target_as = gov_hosting_planet
			}
		}
		else = {
			random_owned_planet = {
				limit = { NOT = { has_planet_flag = exiled_gov_host_planet } }
				set_planet_flag = exiled_gov_host_planet
				save_event_target_as = gov_hosting_planet
			}
		}
	}
	else = {
		random_system_within_border = {
			random_system_planet = {
				limit = { NOT = { has_planet_flag = exiled_gov_host_planet } }
				set_planet_flag = exiled_gov_host_planet
				save_event_target_as = gov_hosting_planet
			}
		}
	}

	create_country = {
		name = event_target:old_nat_country
		type = enclave_exiled_gov
		authority = event_target:old_nat_country
		civics = event_target:old_nat_country
		origin = "origin_exile_government"
		species = event_target:old_nat_country.species
		flag = event_target:old_nat_country
		ethos = event_target:old_nat_country
		ignore_initial_colony_error = yes
		effect = {
			save_event_target_as = nat_pops_country
			set_country_flag = exiled_gov_enclave_country
			set_graphical_culture = event_target:old_nat_country
			create_fleet = {
				settings = { spawn_debris = no }
				effect = {
					set_owner = prev
					create_ship = {
						name = "Exiled Government Headquarters"
						design = "NAME_Mercenary_Enclave_Station_1"
						graphical_culture = event_target:old_nat_country
					}
					set_location = {
						target = event_target:gov_hosting_planet
						distance = 45
						angle = random
					}
				}
			}
			set_custom_capital_location = event_target:gov_hosting_planet
			#Set ruler
			set_leader = event_target:old_nat_country.ruler
			establish_communications_no_message = root
			set_country_flag = has_host
			get_separatist_faction_nat = yes
			country_event = { id = civnat.1320 }
		}
	}

	event_target:gov_hosting_planet = {
		set_planet_flag = exile_enclave_link_@event_target:nat_pops_country
	}

	get_nat_change_flags = yes

	from = { destroy_country = yes }
}

get_restoration_war_targets = {

	set_variable = { which = restoration_war_targets value = 0 }

	# Count how many valid States there are
	every_country = {
		limit = {
			OR = {
				is_subject = no
				any_agreement = {
					OR = {
						has_term_value = {
							term = joins_subject_wars
							value = joins_subject_wars_none
						}
						has_term_value = {
							term = joins_subject_wars
							value = joins_subject_wars_offensive
						}
					}
				}
			}
			any_system_within_border = {
				closest_system = {
					limit = {
						exists = space_owner
						space_owner = {
							OR = {
								is_same_value = root
								is_in_federation_with = root
								AND = {
									exists = overlord
									overlord = { is_same_value = root }
								}
							}
						}
					}
					use_bypasses = yes
					max_steps = 1
				}
			}
		}
		set_country_flag = restoration_war_country
		prev = { change_variable = { which = restoration_war_targets value = 1 } }
	}

	if = {
		limit = { check_variable = { which = restoration_war_targets value >= 1 } }
		random_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
			save_event_target_as = restoration_war_target_1
		}
	}
	if = {
		limit = { check_variable = { which = restoration_war_targets value >= 2 } }
		random_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
			save_event_target_as = restoration_war_target_2
		}
	}
	if = {
		limit = { check_variable = { which = restoration_war_targets value >= 3 } }
		random_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
			save_event_target_as = restoration_war_target_3
		}
	}
	if = {
		limit = { check_variable = { which = restoration_war_targets value >= 4 } }
		random_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
			save_event_target_as = restoration_war_target_4
		}
	}
	if = {
		limit = { check_variable = { which = restoration_war_targets value >= 5 } }
		random_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
			save_event_target_as = restoration_war_target_5
		}
	}
	if = {
		limit = { check_variable = { which = restoration_war_targets value >= 6 } }
		random_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
			save_event_target_as = restoration_war_target_6
		}
	}
	if = {
		limit = { check_variable = { which = restoration_war_targets value >= 7 } }
		random_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
			save_event_target_as = restoration_war_target_7
		}
	}
	if = {
		limit = { check_variable = { which = restoration_war_targets value >= 8 } }
		random_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
			save_event_target_as = restoration_war_target_8
		}
	}
	if = {
		limit = { check_variable = { which = restoration_war_targets value >= 9 } }
		random_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
			save_event_target_as = restoration_war_target_9
		}
	}
	if = {
		limit = { check_variable = { which = restoration_war_targets value >= 10 } }
		random_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
			save_event_target_as = restoration_war_target_10
		}
	}

	if = {
		limit = { any_country = { has_country_flag = restoration_war_country } }
		every_country = {
			limit = { has_country_flag = restoration_war_country }
			remove_country_flag = restoration_war_country
		}
	}

	country_event = { id = civcom.9125 }
}

get_restoration_planets = {
	set_variable = { which = total_restoration_planets value = 0 }

	every_owned_planet = {
		limit = {
			is_capital = no
			is_occupied_flag = no
			is_under_colonization = no
			has_orbital_bombardment = no
			solar_system = { NOT = { is_capital_system = yes } }
		}
		set_planet_flag = restoration_planet
		prev = { change_variable = { which = total_restoration_planets value = 1 } }
	}

	# Next, we save each subject as an Event Target
	# As the scripting language doesn't have proper loops, we use a lot of ifs if there are more than 10, the event can be run again.
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 1 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_1
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 2 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_2
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 3 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_3
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 4 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_4
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 5 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_5
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 6 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_6
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 7 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_7
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 8 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_8
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 9 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_9
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 10 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_10
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 11 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_11
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 12 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_12
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 13 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_13
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 14 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_14
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 15 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_15
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 16 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_16
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 17 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_17
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 18 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_18
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 19 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_19
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_planets value >= 20 } }
		random_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
			save_event_target_as = restoration_planet_20
		}
	}

	if = {
		limit = { any_owned_planet = { has_planet_flag = restoration_planet } }
		every_owned_planet = {
			limit = { has_planet_flag = restoration_planet }
			remove_planet_flag = restoration_planet
		}
	}	
}

get_restoration_sectors = {
	set_variable = { which = total_restoration_sectors value = 0 }

	every_owned_sector = {
		limit = {
			NOT = { any_owned_planet = { is_capital = yes } }
			NOT = { any_owned_planet = { is_occupied_flag = yes } }
			NOT = { any_owned_planet = { has_orbital_bombardment = yes } }
		}
		set_sector_flag = restoration_sector
		prev = { change_variable = { which = total_restoration_sectors value = 1 } }
	}

	# Next, we save each subject as an Event Target
	# As the scripting language doesn't have proper loops, we use a lot of ifs if there are more than 10, the event can be run again.
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 1 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_1
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 2 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_2
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 3 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_3
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 4 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_4
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 5 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_5
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 6 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_6
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 7 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_7
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 8 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_8
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 9 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_9
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 10 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_10
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 11 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_11
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 12 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_12
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 13 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_13
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 14 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_14
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 15 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_15
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 16 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_16
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 17 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_17
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 18 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_18
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 19 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_19
		}
	}
	if = {
		limit = { check_variable = { which = total_restoration_sectors value >= 20 } }
		random_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
			save_event_target_as = restoration_sector_20
		}
	}

	if = {
		limit = { any_owned_sector = { has_sector_flag = restoration_sector } }
		every_owned_sector = {
			limit = { has_sector_flag = restoration_sector }
			remove_sector_flag = restoration_sector
		}
	}
}

exile_restore_planet_setup = {

	event_target:exiled_gov_enclave_country = { save_event_target_as = new_homeland }

	set_owner = event_target:new_homeland
	starbase = { set_owner = event_target:new_homeland }
	solar_system = {
		every_system_planet = {
			limit = { is_owned_by = root }
			set_owner = event_target:new_homeland
		}
	}
}

exile_restore_sector_setup = {

	event_target:exiled_gov_enclave_country = { save_event_target_as = new_homeland }

	every_owned_planet = { # Every system with planets
		set_owner = event_target:new_homeland
		starbase = { set_owner = event_target:new_homeland }
	}
	every_system_within_border = { # Every other system, changing this gets weird, so just leave it cause it works fine
		starbase = { set_owner = event_target:new_homeland }
	}
}

exile_restoration_gen_effect = {

	if = {
		limit = { event_target:exiled_gov_host = { is_same_value = root } }
		event_target:new_homeland = { set_country_flag = was_true_host }
	}
	else = {
		save_event_target_as = new_host
	}

	event_target:exiled_gov_host = { save_event_target_as = exile_host }

	event_target:new_homeland = {

		set_country_type = default

		# Destroy old enclave station
		random_owned_fleet = {
			limit = { any_owned_ship = { is_ship_size = enclave_mercenary_station } }
			destroy_fleet = this
		}

		if = { # If they don't have their original capital planet, they rename their empire.
			limit = { any_owned_planet = { has_planet_flag = capital_planet_@event_target:new_homeland } }
			random_owned_planet = {
				limit = { has_planet_flag = capital_planet_@event_target:new_homeland }
				set_capital = yes
			}
			set_origin = origin_restored_government
			create_leader = {
				class = ruler
				event_leader = yes
				species = owner_main_species
				name = random
				effect = {
					set_name = {
						key = dummy_old_name_leader
						variable_string = "\\[event_target:new_homeland.GetName]"
					}
					set_leader_flag = dummy_leader
					save_event_target_as = dummy_old_name_leader
				}
			}
			last_created_leader = { leader_event = { id = civleader.1000 days = 180 } }
		}
		else_if = { # Ideally make the most habitable planet their capital, but idk if you can use the habitability trigger with order_by
			limit = {
				count_owned_planet = {
					count >= 2
					limit = { is_under_colonization = no }
				}
			}
			every_owned_planet = {
				limit = {
					is_under_colonization = no
					habitability = { who = owner_main_species value >= 0 }
				}
				export_trigger_value_to_variable = {
					trigger = habitability
					parameters = { who = owner_main_species }
					variable = new_planet_hab_percent
				}
			}
			ordered_owned_planet = {
				limit = { is_under_colonization = no }
				position = 0
				order_by = new_planet_hab_percent
				set_capital = yes
			}
			every_owned_planet = {
				limit = {
					is_under_colonization = no
					habitability = { who = owner_main_species value >= 0 }
				}
				clear_variable = new_planet_hab_percent
			}
			create_leader = {
				class = ruler
				event_leader = yes
				species = owner_main_species
				name = random
				effect = {
					set_name = {
						key = dummy_old_name_leader
						variable_string = "\\[event_target:new_homeland.GetName]"
					}
					set_leader_flag = dummy_leader
					save_event_target_as = dummy_old_name_leader
				}
			}
			last_created_leader = { leader_event = { id = civleader.1000 days = 180 } }
			capital_scope = { set_name = random }
			set_name = random
			set_country_flag = nat_country_new_name
			set_origin = origin_restored_successor_government
		}
		else = {
			create_leader = {
				class = ruler
				event_leader = yes
				species = owner_main_species
				name = random
				effect = {
					set_name = {
						key = dummy_old_name_leader
						variable_string = "\\[event_target:new_homeland.GetName]"
					}
					set_leader_flag = dummy_leader
					save_event_target_as = dummy_old_name_leader
				}
			}
			last_created_leader = { leader_event = { id = civleader.1000 days = 180 } }
			capital_scope = { set_name = random }
			set_name = random
			set_country_flag = nat_country_new_name
			set_origin = origin_restored_successor_government
		}

		# The nationalists in the restored homeland have won, they don't need to be nationalist anymore 
		every_owned_pop = {
			limit = { has_pop_flag = sep_pop_nat_@prev }
			remove_pop_flag = sep_pop_nat_@prev
			if = {
				limit = { has_pop_flag = sep_pop }
				remove_pop_flag = sep_pop
			}
		}

		# If nationalists elsewhere exist for a country that then is restored, make them happy and potentially resettle them
		every_galaxy_pop = {
			limit = { has_pop_flag = sep_pop_nat_@event_target:new_homeland }
			add_modifier = { modifier = "restoration_of_motherland" years = 15 }
			if = {
				limit = {
					has_citizenship_rights = yes
					has_migration_control = { type = no }
				}
				random = {
					chance = 75
					resettle_pop = {
						pop = this
						planet = event_target:new_homeland.capital_scope
					}
				}
			}
		}

		# Science
		create_fleet = {
			effect = {
				set_owner = event_target:new_homeland
				create_ship = {
					name = random
					random_existing_design = science
				}
				set_fleet_stance = evasive				
				set_location = event_target:new_homeland.capital_scope
				owner = {
					create_leader = {
						name = random
						class = scientist
						sub_type = survey
						species = owner_main_species
					}
				}
				set_leader = last_created_leader
			}			
		}

		# Construction Ship
		create_fleet = {
			effect = {
				set_owner = event_target:new_homeland
				create_ship = {
					name = random
					random_existing_design = constructor
				}
				set_fleet_stance = evasive
				set_location = event_target:new_homeland.capital_scope
			}
		}

		# Create Leaders
		create_leader = {
			class = admiral
			species = owner_main_species
			name = random
		}
		create_leader = {
			class = general
			species = owner_main_species
			name = random
		}
		create_leader = {
			class = governor
			species = owner_main_species
			name = random
		}
		while = {
			count = 3
			create_leader = {
				class = scientist
				species = owner_main_species
				name = random
			}
		}

		# Create some of their original species, as if relocating 
		capital_scope = {
			while = {
				count = 3
				create_pop = {
					species = owner_main_species
					ethos = random
				}
			}
		}

		if = {
			limit = { has_country_flag = was_true_host }
			add_opinion_modifier = {
				who = event_target:exile_host
				modifier = opinion_restored_nats
			}
			event_target:exile_host = {
				add_intel = {
					who = event_target:new_homeland
					amount = 70
				}
			}
		}
		else = {
			add_opinion_modifier = {
				who = event_target:new_host
				modifier = opinion_restored_nats
			}
			event_target:new_host = {
				add_intel = {
					who = event_target:new_homeland
					amount = 70
				}
			}
			set_truce = { target = event_target:new_host type = liberation }
		}
		set_truce = { target = event_target:exile_host type = liberation }

		# Set Country birth date
		country_event = { id = civmisc.3000 }

		# Give resources based on pops, needs to be delayed as pops dont change ownership instantly
		country_event = { id = civnat.1370 days = 2 }

		every_playable_country = {
			# limit = { NOT = { is_same_value = root } }
			country_event = { id = civnat.9205 }
		}
	}
}

######################

# Remove All Civics 
get_remove_civics = {
	if = {
		limit = { civics_count >= 10 }
		force_remove_civic = 10
	}
	if = {
		limit = { civics_count >= 9 }
		force_remove_civic = 9
	}
	if = {
		limit = { civics_count >= 8 }
		force_remove_civic = 8
	}
	if = {
		limit = { civics_count >= 7 }
		force_remove_civic = 7
	}
	if = {
		limit = { civics_count >= 6 }
		force_remove_civic = 6
	}
	if = {
		limit = { civics_count >= 5 }
		force_remove_civic = 5
	}
	if = {
		limit = { civics_count >= 4 }
		force_remove_civic = 4
	}
	if = {
		limit = { civics_count >= 3 }
		force_remove_civic = 3
	}
	if = {
		limit = { civics_count >= 2 }
		force_remove_civic = 2
	}
	if = {
		limit = { civics_count >= 1 }
		force_remove_civic = 1
	}
}

######################

get_faction_leader_replace = {
	random_owned_leader = {
		limit = { leader_of_faction = no }
		save_event_target_as = non_faction_leader
	}
	random_pop_faction = {
		limit = { leader = { is_same_value = prevprevprev } }
		set_leader = event_target:non_faction_leader
	}
}

get_ship_delete_effect = {
	every_owned_fleet = {
		set_variable = { which = ship_count value = 0 }
		every_owned_ship = {
			limit = { is_ship_class = shipclass_military }
			PREV = { change_variable = { which = ship_count value = $PERCENT$ } }
		}
		divide_variable = { which = ship_count value = 100 }
		while = {
			count = ship_count
			random_owned_ship = {
				limit = {
		    		is_ship_class = shipclass_military
		    		is_modded_ship = no
		    	}
		    	if = {
		    		limit = { exists = leader }
		    		leader = { unassign_leader = this }
		    	}
		    	delete_ship = THIS
			}
		}
		set_variable = { which = ship_count value = 0 }
	}
}

######################

get_helper_subjects_effect = {
	# If there are more then 10 subjects, more should appear every time one is chosen

	set_variable = { which = helper_subjects value = 0 }

	# Count how many valid Subject States there are
	every_subject = {
		limit = {
			has_country_flag = subject_helps_overlord_@root
			NOT = {
				any_war = {
					OR = {
						using_war_goal = { type = wg_civwar owner = root }
						using_war_goal = { type = wg_natwar owner = root }
						using_war_goal = { type = wg_civwar_heir owner = root }
						using_war_goal = { type = wg_coup_successor owner = root }
						using_war_goal = { type = wg_coup_independent owner = root }
					}
				}
			}
		}
		set_country_flag = helper_sub_country
		overlord = { change_variable = { which = helper_subjects value = 1 } }
	}

	if = {
		limit = { check_variable = { which = helper_subjects value >= 1 } }
		random_subject = {
			limit = {
				has_country_flag = helper_sub_country
				NOT = { exists = event_target:helper_subject_1 }
			}
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_1
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 2 } }
		random_subject = {
			limit = {
				has_country_flag = helper_sub_country
				NOT = { exists = event_target:helper_subject_2 }
			}
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_2
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 3 } }
		random_subject = {
			limit = {
				has_country_flag = helper_sub_country
				NOT = { exists = event_target:helper_subject_3 }
			}
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_3
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 4 } }
		random_subject = {
			limit = {
				has_country_flag = helper_sub_country
				NOT = { exists = event_target:helper_subject_4 }
			}
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_4
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 5 } }
		random_subject = {
			limit = {
				has_country_flag = helper_sub_country
				NOT = { exists = event_target:helper_subject_5 }
			}
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_5
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 6 } }
		random_subject = {
			limit = {
				has_country_flag = helper_sub_country
				NOT = { exists = event_target:helper_subject_6 }
			}
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_6
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 7 } }
		random_subject = {
			limit = {
				has_country_flag = helper_sub_country
				NOT = { exists = event_target:helper_subject_7 }
			}
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_7
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 8 } }
		random_subject = {
			limit = {
				has_country_flag = helper_sub_country
				NOT = { exists = event_target:helper_subject_8 }
			}
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_8
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 9 } }
		random_subject = {
			limit = {
				has_country_flag = helper_sub_country
				NOT = { exists = event_target:helper_subject_9 }
			}
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_9
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 10 } }
		random_subject = {
			limit = {
				has_country_flag = helper_sub_country
				NOT = { exists = event_target:helper_subject_10 }
			}
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_10
		}
	}
}

get_helper_subjects_effect_refresh = {
	set_variable = { which = helper_subjects value = 0 }

	# Count how many valid Subject States there are
	every_subject = {
		limit = {
			has_country_flag = subject_helps_overlord_@root
			NOT = {
				any_war = {
					OR = {
						using_war_goal = { type = wg_civwar owner = root }
						using_war_goal = { type = wg_natwar owner = root }
						using_war_goal = { type = wg_civwar_heir owner = root }
						using_war_goal = { type = wg_coup_successor owner = root }
						using_war_goal = { type = wg_coup_independent owner = root }
					}
				}
			}
		}
		set_country_flag = helper_sub_country
		overlord = { change_variable = { which = helper_subjects value = 1 } }
	}

	if = {
		limit = { check_variable = { which = helper_subjects value >= 1 } }
		random_subject = {
			limit = { has_country_flag = helper_sub_country }
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_1
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 2 } }
		random_subject = {
			limit = { has_country_flag = helper_sub_country }
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_2
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 3 } }
		random_subject = {
			limit = { has_country_flag = helper_sub_country }
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_3
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 4 } }
		random_subject = {
			limit = { has_country_flag = helper_sub_country }
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_4
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 5 } }
		random_subject = {
			limit = { has_country_flag = helper_sub_country }
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_5
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 6 } }
		random_subject = {
			limit = { has_country_flag = helper_sub_country }
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_6
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 7 } }
		random_subject = {
			limit = { has_country_flag = helper_sub_country }
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_7
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 8 } }
		random_subject = {
			limit = { has_country_flag = helper_sub_country }
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_8
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 9 } }
		random_subject = {
			limit = { has_country_flag = helper_sub_country }
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_9
		}
	}
	if = {
		limit = { check_variable = { which = helper_subjects value >= 10 } }
		random_subject = {
			limit = { has_country_flag = helper_sub_country }
			remove_country_flag = helper_sub_country
			save_event_target_as = helper_subject_10
		}
	}
}

######

destroy_succession_crisis = {
	if = {
		limit = {
			any_owned_sector = {
				has_sector_flag = succession_crisis_rebel_sector
				NOT = { has_sector_flag = succesion_crisis_talked }
			}
		}
		event_target:succession_crisis_sit = {
			situation_event = { id = civroyal.1120 }
		}
	}
	else = {
		event_target:succession_crisis_sit = { destroy_situation = this }
		random_owned_leader = {
			limit = { has_leader_flag = dead_crisis_leader }
			kill_leader = { show_notification = no }
		}
		clear_global_event_target = civwar_originator
		get_subject_decisions_effect = yes
	}
	after_comms_cleanup_effect = yes
}