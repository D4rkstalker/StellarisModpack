@resource_rare_cost			= 10	# Cost per 1. 10 = 10 x standard resource worth.
@resource_strategic_cost	= 3		# Cost per 1. 3 = 3 x standard resource worth.
@deposit_multiplier			= 9		# The total amount of materials a system should have. Lower = more materials per system.
@strategic_fraction			= 4		# The amount of total resources that should be strategic resources. 4 = 1/4, 5 = 1/5, etc.
@rare_system_multiplier		= 4.00
@urmazin_system_multiplier	= 3.00
@quest_system_multiplier	= 2.00
@standard_system_multiplier	= 1.00

ehof_add_negative_mass_deposit = {
	set_planet_flag = ehof_has_negative_mass_deposit
	random_list = {
		1 = {														add_deposit = d_negative_mass_deposit_1  solar_system = { change_variable = { which = ehof_negative_mass value = 1 } } }
		1 = {														add_deposit = d_negative_mass_deposit_2  solar_system = { change_variable = { which = ehof_negative_mass value = 2 } } }
		1 = {														add_deposit = d_negative_mass_deposit_3  solar_system = { change_variable = { which = ehof_negative_mass value = 3 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_negative_mass_deposit_4  solar_system = { change_variable = { which = ehof_negative_mass value = 4 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_negative_mass_deposit_5  solar_system = { change_variable = { which = ehof_negative_mass value = 5 } } }
	}
}

ehof_add_dark_matter_deposit = {
	set_planet_flag = ehof_has_dark_matter_deposit
	random_list = {
		1 = {														add_deposit = d_dark_matter_deposit_1  solar_system = { change_variable = { which = ehof_dark_matter value = 1  } } if = { limit = { has_global_flag = compound_count_darkmatter } event_target:compound_country = { change_variable = { which = compound_dark_matter value = 1 } } } }
		1 = {														add_deposit = d_dark_matter_deposit_2  solar_system = { change_variable = { which = ehof_dark_matter value = 2  } } if = { limit = { has_global_flag = compound_count_darkmatter } event_target:compound_country = { change_variable = { which = compound_dark_matter value = 2 } } } }
		1 = {														add_deposit = d_dark_matter_deposit_3  solar_system = { change_variable = { which = ehof_dark_matter value = 3  } } if = { limit = { has_global_flag = compound_count_darkmatter } event_target:compound_country = { change_variable = { which = compound_dark_matter value = 3 } } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_dark_matter_deposit_4  solar_system = { change_variable = { which = ehof_dark_matter value = 4  } } if = { limit = { has_global_flag = compound_count_darkmatter } event_target:compound_country = { change_variable = { which = compound_dark_matter value = 4 } } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_dark_matter_deposit_5  solar_system = { change_variable = { which = ehof_dark_matter value = 5  } } if = { limit = { has_global_flag = compound_count_darkmatter } event_target:compound_country = { change_variable = { which = compound_dark_matter value = 5 } } } }
	}
}

ehof_add_engineering = {
	set_planet_flag = ehof_has_engineering
	random_list = {
		1 = {														add_deposit = d_engineering_1  solar_system = { change_variable = { which = ehof_engineering value = 1 } } }
		1 = {														add_deposit = d_engineering_2  solar_system = { change_variable = { which = ehof_engineering value = 2 } } }
		1 = {														add_deposit = d_engineering_3  solar_system = { change_variable = { which = ehof_engineering value = 3 } } }
		1 = {														add_deposit = d_engineering_4  solar_system = { change_variable = { which = ehof_engineering value = 4 } } }
		1 = {														add_deposit = d_engineering_5  solar_system = { change_variable = { which = ehof_engineering value = 5 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 7  } }	add_deposit = d_engineering_6  solar_system = { change_variable = { which = ehof_engineering value = 6 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 9  } }	add_deposit = d_engineering_7  solar_system = { change_variable = { which = ehof_engineering value = 7 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_engineering_8  solar_system = { change_variable = { which = ehof_engineering value = 8 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_engineering_9  solar_system = { change_variable = { which = ehof_engineering value = 9 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 15 } }	add_deposit = d_engineering_10 solar_system = { change_variable = { which = ehof_engineering value = 10 } } }
	}
}

ehof_add_society = {
	set_planet_flag = ehof_has_society
	random_list = {
		1 = {														add_deposit = d_society_1  solar_system = { change_variable = { which = ehof_society value = 1 } } }
		1 = {														add_deposit = d_society_2  solar_system = { change_variable = { which = ehof_society value = 2 } } }
		1 = {														add_deposit = d_society_3  solar_system = { change_variable = { which = ehof_society value = 3 } } }
		1 = {														add_deposit = d_society_4  solar_system = { change_variable = { which = ehof_society value = 4 } } }
		1 = {														add_deposit = d_society_5  solar_system = { change_variable = { which = ehof_society value = 5 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 7  } }	add_deposit = d_society_6  solar_system = { change_variable = { which = ehof_society value = 6 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 9  } }	add_deposit = d_society_7  solar_system = { change_variable = { which = ehof_society value = 7 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_society_8  solar_system = { change_variable = { which = ehof_society value = 8 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_society_9  solar_system = { change_variable = { which = ehof_society value = 9 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 15 } }	add_deposit = d_society_10 solar_system = { change_variable = { which = ehof_society value = 10 } } }
	}
}

ehof_add_physics = {
	set_planet_flag = ehof_has_physics
	random_list = {
		1 = {														add_deposit = d_physics_1  solar_system = { change_variable = { which = ehof_physics value = 1 } } }
		1 = {														add_deposit = d_physics_2  solar_system = { change_variable = { which = ehof_physics value = 2 } } }
		1 = {														add_deposit = d_physics_3  solar_system = { change_variable = { which = ehof_physics value = 3 } } }
		1 = {														add_deposit = d_physics_4  solar_system = { change_variable = { which = ehof_physics value = 4 } } }
		1 = {														add_deposit = d_physics_5  solar_system = { change_variable = { which = ehof_physics value = 5 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 7  } }	add_deposit = d_physics_6  solar_system = { change_variable = { which = ehof_physics value = 6 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 9  } }	add_deposit = d_physics_7  solar_system = { change_variable = { which = ehof_physics value = 7 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_physics_8  solar_system = { change_variable = { which = ehof_physics value = 8 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_physics_9  solar_system = { change_variable = { which = ehof_physics value = 9 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 15 } }	add_deposit = d_physics_10 solar_system = { change_variable = { which = ehof_physics value = 10 } } }
	}
}

ehof_generate_deposits = {
	if = {
		limit = { has_global_flag = ehof_spawning_compound }
		set_global_flag = compound_count_darkmatter
		every_system_planet = {
			clear_deposits = yes
			ehof_add_dark_matter_deposit = yes
		}
		remove_global_flag = compound_count_darkmatter
	}
	else = {
		every_system_planet = {
			clear_deposits = yes
			if = {		limit = { planet_size = 1   } prev = { change_variable = { which = resources_total value = 1 } } }
			else_if = {	limit = { planet_size = 2   } prev = { change_variable = { which = resources_total value = 2 } } }
			else_if = {	limit = { planet_size = 3   } prev = { change_variable = { which = resources_total value = 3 } } }
			else_if = {	limit = { planet_size = 4   } prev = { change_variable = { which = resources_total value = 4 } } }
			else_if = {	limit = { planet_size = 5   } prev = { change_variable = { which = resources_total value = 5 } } }
			else_if = {	limit = { planet_size = 6   } prev = { change_variable = { which = resources_total value = 6 } } }
			else_if = {	limit = { planet_size = 7   } prev = { change_variable = { which = resources_total value = 7 } } }
			else_if = {	limit = { planet_size = 8   } prev = { change_variable = { which = resources_total value = 8 } } }
			else_if = {	limit = { planet_size = 9   } prev = { change_variable = { which = resources_total value = 9 } } }
			else_if = {	limit = { planet_size = 10  } prev = { change_variable = { which = resources_total value = 10 } } }
			else_if = {	limit = { planet_size = 11  } prev = { change_variable = { which = resources_total value = 11 } } }
			else_if = {	limit = { planet_size = 12  } prev = { change_variable = { which = resources_total value = 12 } } }
			else_if = {	limit = { planet_size = 13  } prev = { change_variable = { which = resources_total value = 13 } } }
			else_if = {	limit = { planet_size = 14  } prev = { change_variable = { which = resources_total value = 14 } } }
			else_if = {	limit = { planet_size = 15  } prev = { change_variable = { which = resources_total value = 15 } } }
			else_if = {	limit = { planet_size = 16  } prev = { change_variable = { which = resources_total value = 16 } } }
			else_if = {	limit = { planet_size = 17  } prev = { change_variable = { which = resources_total value = 17 } } }
			else_if = {	limit = { planet_size = 18  } prev = { change_variable = { which = resources_total value = 18 } } }
			else_if = {	limit = { planet_size = 19  } prev = { change_variable = { which = resources_total value = 19 } } }
			else_if = {	limit = { planet_size = 20  } prev = { change_variable = { which = resources_total value = 20 } } }
			else_if = {	limit = { planet_size = 21  } prev = { change_variable = { which = resources_total value = 21 } } }
			else_if = {	limit = { planet_size = 22  } prev = { change_variable = { which = resources_total value = 22 } } }
			else_if = {	limit = { planet_size = 23  } prev = { change_variable = { which = resources_total value = 23 } } }
			else_if = {	limit = { planet_size = 24  } prev = { change_variable = { which = resources_total value = 24 } } }
			else_if = {	limit = { planet_size = 25  } prev = { change_variable = { which = resources_total value = 25 } } }
			else_if = {	limit = { planet_size = 26  } prev = { change_variable = { which = resources_total value = 26 } } }
			else_if = {	limit = { planet_size = 27  } prev = { change_variable = { which = resources_total value = 27 } } }
			else_if = {	limit = { planet_size = 28  } prev = { change_variable = { which = resources_total value = 28 } } }
			else_if = {	limit = { planet_size = 29  } prev = { change_variable = { which = resources_total value = 29 } } }
			else_if = {	limit = { planet_size = 30  } prev = { change_variable = { which = resources_total value = 30 } } }
			else_if = {	limit = { planet_size = 31  } prev = { change_variable = { which = resources_total value = 31 } } }
			else_if = {	limit = { planet_size = 32  } prev = { change_variable = { which = resources_total value = 32 } } }
			else_if = {	limit = { planet_size = 33  } prev = { change_variable = { which = resources_total value = 33 } } }
			else_if = {	limit = { planet_size = 34  } prev = { change_variable = { which = resources_total value = 34 } } }
			else_if = {	limit = { planet_size = 35  } prev = { change_variable = { which = resources_total value = 35 } } }
			else_if = {	limit = { planet_size = 36  } prev = { change_variable = { which = resources_total value = 36 } } }
			else_if = {	limit = { planet_size = 37  } prev = { change_variable = { which = resources_total value = 37 } } }
			else_if = {	limit = { planet_size = 38  } prev = { change_variable = { which = resources_total value = 38 } } }
			else_if = {	limit = { planet_size = 39  } prev = { change_variable = { which = resources_total value = 39 } } }
			else_if = {	limit = { planet_size = 40  } prev = { change_variable = { which = resources_total value = 40 } } }
			else_if = {	limit = { planet_size = 41  } prev = { change_variable = { which = resources_total value = 41 } } }
			else_if = {	limit = { planet_size = 42  } prev = { change_variable = { which = resources_total value = 42 } } }
			else_if = {	limit = { planet_size = 43  } prev = { change_variable = { which = resources_total value = 43 } } }
			else_if = {	limit = { planet_size = 44  } prev = { change_variable = { which = resources_total value = 44 } } }
			else_if = {	limit = { planet_size = 45  } prev = { change_variable = { which = resources_total value = 45 } } }
			else_if = {	limit = { planet_size = 46  } prev = { change_variable = { which = resources_total value = 46 } } }
			else_if = {	limit = { planet_size = 47  } prev = { change_variable = { which = resources_total value = 47 } } }
			else_if = {	limit = { planet_size = 48  } prev = { change_variable = { which = resources_total value = 48 } } }
			else_if = {	limit = { planet_size = 49  } prev = { change_variable = { which = resources_total value = 49 } } }
			else_if = {	limit = { planet_size >= 50 } prev = { change_variable = { which = resources_total value = 50 } } }
		}

		divide_variable = { which = resources_total value = @deposit_multiplier }

		if = {		limit = { rare_system = yes }		multiply_variable = { which = resources_total value = @rare_system_multiplier } }
		else_if = {	limit = { urmazin_system = yes }	multiply_variable = { which = resources_total value = @urmazin_system_multiplier } }
		else_if = {	limit = { quest_system = yes }		multiply_variable = { which = resources_total value = @quest_system_multiplier } }
		else = {										multiply_variable = { which = resources_total value = @standard_system_multiplier } }

#		set_variable = { which = resources_total_nodeduct value = resources_total }	# Debug

		# Rare resources
		##################################
		set_variable = { which = resource_rare_cost value = @resource_rare_cost }
		random_list = {
			70 = {}	# No rare resources
			20 = {	# 1 rare resource
				modifier = {
					factor = 0
					OR = {
						check_variable = { which = resources_total value < 15 }
						event_target:current_system_creator = {
							OR = {
								NAND = {
									has_technology = tech_mine_living_metal
									has_technology = tech_mine_zro
								}
								AND = {
									has_country_flag = recently_spawned_lm
									has_country_flag = recently_spawned_zro
								}
							}
						}
					}
				}
				change_variable = { which = resources_rare value = resource_rare_cost }
				subtract_variable = { which = resources_total value = resource_rare_cost }
				set_star_flag = resources_rare_1
			}
			10 = {	# 2 rare resources
				modifier = {
					factor = 0
					OR = {
						check_variable = { which = resources_total value < 30 }
						event_target:current_system_creator = {
							OR = {
								NAND = {
									has_technology = tech_mine_living_metal
									has_technology = tech_mine_zro
								}
								AND = {
									has_country_flag = recently_spawned_lm
									has_country_flag = recently_spawned_zro
								}
							}
						}
					}
				}
				change_variable = { which = resources_rare value = resource_rare_cost }
				change_variable = { which = resources_rare value = resource_rare_cost }
				subtract_variable = { which = resources_total value = resource_rare_cost }
				subtract_variable = { which = resources_total value = resource_rare_cost }
				set_star_flag = resources_rare_2
			}
		}

		while = {
			limit = {
				OR = {
					has_star_flag = resources_rare_1
					has_star_flag = resources_rare_2
				}
			}
			random_system_planet = {
				limit = { is_planet_habitable = no }
				giga_add_resources_rare = yes
			}
		}

		# Strategic
		##################################
		random_list = {
			50 = {}	# No strategic resources
			50 = {	# 1/4 of total in strategic resources
				modifier = { factor = 0								check_variable = { which = resources_total value < 15 } }
				modifier = { factor = @rare_system_multiplier		rare_system = yes }
				modifier = { factor = @urmazin_system_multiplier	urmazin_system = yes }
				modifier = { factor = @quest_system_multiplier		quest_system = yes }
				set_variable = {		which = resources_strategic	value = resources_total }				# Amount after rare resources have been deducted
				divide_variable = {		which = resources_strategic	value = @strategic_fraction }			# Strategic = 1/4 of total
				subtract_variable = {	which = resources_total		value = resources_strategic }			# Subtract 1/4 from total
				divide_variable = {		which = resources_strategic value = @resource_strategic_cost }		# Divide total budget for strategic by the cost per 1
				round_variable = {		which = resources_strategic	value = 0	round_up = yes }			# Round the number down
				if = {		limit = { check_variable = { which = resources_strategic value <= 1  } } set_star_flag = resources_strategic_1 }
				else_if = {	limit = { check_variable = { which = resources_strategic value = 2   } } set_star_flag = resources_strategic_2 }
				else_if = {	limit = { check_variable = { which = resources_strategic value = 3   } } set_star_flag = resources_strategic_3 }
				else_if = {	limit = { check_variable = { which = resources_strategic value = 4   } } set_star_flag = resources_strategic_4 }
				else_if = {	limit = { check_variable = { which = resources_strategic value = 5   } } set_star_flag = resources_strategic_5 }
				else_if = {	limit = { check_variable = { which = resources_strategic value = 6   } } set_star_flag = resources_strategic_6 }
				else_if = {	limit = { check_variable = { which = resources_strategic value = 7   } } set_star_flag = resources_strategic_7 }
				else_if = {	limit = { check_variable = { which = resources_strategic value = 8   } } set_star_flag = resources_strategic_8 }
				else_if = {	limit = { check_variable = { which = resources_strategic value = 9   } } set_star_flag = resources_strategic_9 }
				else_if = {	limit = { check_variable = { which = resources_strategic value >= 10 } } set_star_flag = resources_strategic_10 }
			}
		}

		if = {
			limit = { blackhole_system = yes }
			if = {
				limit = { has_star_flag = resources_strategic_10 }
				remove_star_flag = resources_strategic_10
				star = {
					change_variable = { which = planet_deposits value = 1 }
					random_list = {
						5 = { add_deposit = d_dark_matter_deposit_1 solar_system = { change_variable = { which = ehof_dark_matter value = 1 } set_star_flag = resources_strategic_9 } }
						4 = { add_deposit = d_dark_matter_deposit_2 solar_system = { change_variable = { which = ehof_dark_matter value = 2 } set_star_flag = resources_strategic_8 } }
						3 = { add_deposit = d_dark_matter_deposit_3 solar_system = { change_variable = { which = ehof_dark_matter value = 3 } set_star_flag = resources_strategic_7 } }
						2 = { add_deposit = d_dark_matter_deposit_4 solar_system = { change_variable = { which = ehof_dark_matter value = 4 } set_star_flag = resources_strategic_6 } }
						1 = { add_deposit = d_dark_matter_deposit_5 solar_system = { change_variable = { which = ehof_dark_matter value = 5 } set_star_flag = resources_strategic_5 } }
					}
					set_planet_flag = has_dark_matter_deposit
				}
			}
			else_if = {
				limit = { has_star_flag = resources_strategic_9 }
				remove_star_flag = resources_strategic_9
				star = {
					change_variable = { which = planet_deposits value = 1 }
					random_list = {
						5 = { add_deposit = d_dark_matter_deposit_1 solar_system = { change_variable = { which = ehof_dark_matter value = 1 } set_star_flag = resources_strategic_8 } }
						4 = { add_deposit = d_dark_matter_deposit_2 solar_system = { change_variable = { which = ehof_dark_matter value = 2 } set_star_flag = resources_strategic_7 } }
						3 = { add_deposit = d_dark_matter_deposit_3 solar_system = { change_variable = { which = ehof_dark_matter value = 3 } set_star_flag = resources_strategic_6 } }
						2 = { add_deposit = d_dark_matter_deposit_4 solar_system = { change_variable = { which = ehof_dark_matter value = 4 } set_star_flag = resources_strategic_5 } }
						1 = { add_deposit = d_dark_matter_deposit_5 solar_system = { change_variable = { which = ehof_dark_matter value = 5 } set_star_flag = resources_strategic_4 } }
					}
					set_planet_flag = has_dark_matter_deposit
				}
			}
			else_if = {
				limit = { has_star_flag = resources_strategic_8 }
				remove_star_flag = resources_strategic_8
				star = {
					change_variable = { which = planet_deposits value = 1 }
					random_list = {
						5 = { add_deposit = d_dark_matter_deposit_1 solar_system = { change_variable = { which = ehof_dark_matter value = 1 } set_star_flag = resources_strategic_7 } }
						4 = { add_deposit = d_dark_matter_deposit_2 solar_system = { change_variable = { which = ehof_dark_matter value = 2 } set_star_flag = resources_strategic_6 } }
						3 = { add_deposit = d_dark_matter_deposit_3 solar_system = { change_variable = { which = ehof_dark_matter value = 3 } set_star_flag = resources_strategic_5 } }
						2 = { add_deposit = d_dark_matter_deposit_4 solar_system = { change_variable = { which = ehof_dark_matter value = 4 } set_star_flag = resources_strategic_4 } }
						1 = { add_deposit = d_dark_matter_deposit_5 solar_system = { change_variable = { which = ehof_dark_matter value = 5 } set_star_flag = resources_strategic_3 } }
					}
					set_planet_flag = has_dark_matter_deposit
				}
			}
			else_if = {
				limit = { has_star_flag = resources_strategic_7 }
				remove_star_flag = resources_strategic_7
				star = {
					change_variable = { which = planet_deposits value = 1 }
					random_list = {
						5 = { add_deposit = d_dark_matter_deposit_1 solar_system = { change_variable = { which = ehof_dark_matter value = 1 } set_star_flag = resources_strategic_6 } }
						4 = { add_deposit = d_dark_matter_deposit_2 solar_system = { change_variable = { which = ehof_dark_matter value = 2 } set_star_flag = resources_strategic_5 } }
						3 = { add_deposit = d_dark_matter_deposit_3 solar_system = { change_variable = { which = ehof_dark_matter value = 3 } set_star_flag = resources_strategic_4 } }
						2 = { add_deposit = d_dark_matter_deposit_4 solar_system = { change_variable = { which = ehof_dark_matter value = 4 } set_star_flag = resources_strategic_3 } }
						1 = { add_deposit = d_dark_matter_deposit_5 solar_system = { change_variable = { which = ehof_dark_matter value = 5 } set_star_flag = resources_strategic_2 } }
					}
					set_planet_flag = has_dark_matter_deposit
				}
			}
			else_if = {
				limit = { has_star_flag = resources_strategic_6 }
				remove_star_flag = resources_strategic_6
				star = {
					change_variable = { which = planet_deposits value = 1 }
					random_list = {
						5 = { add_deposit = d_dark_matter_deposit_1 solar_system = { change_variable = { which = ehof_dark_matter value = 1 } set_star_flag = resources_strategic_5 } }
						4 = { add_deposit = d_dark_matter_deposit_2 solar_system = { change_variable = { which = ehof_dark_matter value = 2 } set_star_flag = resources_strategic_4 } }
						3 = { add_deposit = d_dark_matter_deposit_3 solar_system = { change_variable = { which = ehof_dark_matter value = 3 } set_star_flag = resources_strategic_3 } }
						2 = { add_deposit = d_dark_matter_deposit_4 solar_system = { change_variable = { which = ehof_dark_matter value = 4 } set_star_flag = resources_strategic_2 } }
						1 = { add_deposit = d_dark_matter_deposit_5 solar_system = { change_variable = { which = ehof_dark_matter value = 5 } set_star_flag = resources_strategic_1 } }
					}
					set_planet_flag = has_dark_matter_deposit
				}
			}
			else_if = {
				limit = { has_star_flag = resources_strategic_5 }
				remove_star_flag = resources_strategic_5
				star = {
					change_variable = { which = planet_deposits value = 1 }
					random_list = {
						5 = { add_deposit = d_dark_matter_deposit_1 solar_system = { change_variable = { which = ehof_dark_matter value = 1 } set_star_flag = resources_strategic_4 } }
						4 = { add_deposit = d_dark_matter_deposit_2 solar_system = { change_variable = { which = ehof_dark_matter value = 2 } set_star_flag = resources_strategic_3 } }
						3 = { add_deposit = d_dark_matter_deposit_3 solar_system = { change_variable = { which = ehof_dark_matter value = 3 } set_star_flag = resources_strategic_2 } }
						2 = { add_deposit = d_dark_matter_deposit_4 solar_system = { change_variable = { which = ehof_dark_matter value = 4 } set_star_flag = resources_strategic_1 } }
						1 = { add_deposit = d_dark_matter_deposit_5 solar_system = { change_variable = { which = ehof_dark_matter value = 5 } } }
					}
					set_planet_flag = has_dark_matter_deposit
				}
			}
			else_if = {
				limit = { has_star_flag = resources_strategic_4 }
				remove_star_flag = resources_strategic_4
				star = {
					change_variable = { which = planet_deposits value = 1 }
					random_list = {
						4 = { add_deposit = d_dark_matter_deposit_1 solar_system = { change_variable = { which = ehof_dark_matter value = 1 } set_star_flag = resources_strategic_3 } }
						3 = { add_deposit = d_dark_matter_deposit_2 solar_system = { change_variable = { which = ehof_dark_matter value = 2 } set_star_flag = resources_strategic_2 } }
						2 = { add_deposit = d_dark_matter_deposit_3 solar_system = { change_variable = { which = ehof_dark_matter value = 3 } set_star_flag = resources_strategic_1 } }
						1 = { add_deposit = d_dark_matter_deposit_4 solar_system = { change_variable = { which = ehof_dark_matter value = 4 } } }
					}
					set_planet_flag = has_dark_matter_deposit
				}
			}
			else_if = {
				limit = { has_star_flag = resources_strategic_3 }
				remove_star_flag = resources_strategic_3
				star = {
					change_variable = { which = planet_deposits value = 1 }
					random_list = {
						3 = { add_deposit = d_dark_matter_deposit_1 solar_system = { change_variable = { which = ehof_dark_matter value = 1 } set_star_flag = resources_strategic_2 } }
						2 = { add_deposit = d_dark_matter_deposit_2 solar_system = { change_variable = { which = ehof_dark_matter value = 2 } set_star_flag = resources_strategic_1 } }
						1 = { add_deposit = d_dark_matter_deposit_3 solar_system = { change_variable = { which = ehof_dark_matter value = 3 } } }
					}
					set_planet_flag = has_dark_matter_deposit
				}
			}
			else_if = {
				limit = { has_star_flag = resources_strategic_2 }
				remove_star_flag = resources_strategic_2
				star = {
					change_variable = { which = planet_deposits value = 1 }
					random_list = {
						2 = { add_deposit = d_dark_matter_deposit_1 solar_system = { change_variable = { which = ehof_dark_matter value = 1 } set_star_flag = resources_strategic_1 } }
						1 = { add_deposit = d_dark_matter_deposit_2 solar_system = { change_variable = { which = ehof_dark_matter value = 2 } } }
					}
					set_planet_flag = has_dark_matter_deposit
				}
			}
			else = {
				remove_star_flag = resources_strategic_1
				star = {
					change_variable = { which = planet_deposits value = 1 }
					add_deposit = d_dark_matter_deposit_1
					solar_system = { change_variable = { which = ehof_dark_matter value = 1 } }
					set_planet_flag = has_dark_matter_deposit
				}
			}
		}

		if = {
			limit = { has_star_flag = resources_strategic_10 }
			remove_star_flag = resources_strategic_10
			random_system_planet = {
				limit = { eligible_for_negative_mass = yes }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_negative_mass_deposit_1 solar_system = { change_variable = { which = ehof_negative_mass value = 1 } set_star_flag = resources_strategic_9 } }
					4 = { add_deposit = d_negative_mass_deposit_2 solar_system = { change_variable = { which = ehof_negative_mass value = 2 } set_star_flag = resources_strategic_8 } }
					3 = { add_deposit = d_negative_mass_deposit_3 solar_system = { change_variable = { which = ehof_negative_mass value = 3 } set_star_flag = resources_strategic_7 } }
					2 = { add_deposit = d_negative_mass_deposit_4 solar_system = { change_variable = { which = ehof_negative_mass value = 4 } set_star_flag = resources_strategic_6 } }
					1 = { add_deposit = d_negative_mass_deposit_5 solar_system = { change_variable = { which = ehof_negative_mass value = 5 } set_star_flag = resources_strategic_5 } }
				}
				set_planet_flag = has_negative_mass_deposit
			}
		}
		else_if = {
			limit = { has_star_flag = resources_strategic_9 }
			remove_star_flag = resources_strategic_9
			random_system_planet = {
				limit = { eligible_for_negative_mass = yes }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_negative_mass_deposit_1 solar_system = { change_variable = { which = ehof_negative_mass value = 1 } set_star_flag = resources_strategic_8 } }
					4 = { add_deposit = d_negative_mass_deposit_2 solar_system = { change_variable = { which = ehof_negative_mass value = 2 } set_star_flag = resources_strategic_7 } }
					3 = { add_deposit = d_negative_mass_deposit_3 solar_system = { change_variable = { which = ehof_negative_mass value = 3 } set_star_flag = resources_strategic_6 } }
					2 = { add_deposit = d_negative_mass_deposit_4 solar_system = { change_variable = { which = ehof_negative_mass value = 4 } set_star_flag = resources_strategic_5 } }
					1 = { add_deposit = d_negative_mass_deposit_5 solar_system = { change_variable = { which = ehof_negative_mass value = 5 } set_star_flag = resources_strategic_4 } }
				}
				set_planet_flag = has_negative_mass_deposit
			}
		}
		else_if = {
			limit = { has_star_flag = resources_strategic_8 }
			remove_star_flag = resources_strategic_8
			random_system_planet = {
				limit = { eligible_for_negative_mass = yes }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_negative_mass_deposit_1 solar_system = { change_variable = { which = ehof_negative_mass value = 1 } set_star_flag = resources_strategic_7 } }
					4 = { add_deposit = d_negative_mass_deposit_2 solar_system = { change_variable = { which = ehof_negative_mass value = 2 } set_star_flag = resources_strategic_6 } }
					3 = { add_deposit = d_negative_mass_deposit_3 solar_system = { change_variable = { which = ehof_negative_mass value = 3 } set_star_flag = resources_strategic_5 } }
					2 = { add_deposit = d_negative_mass_deposit_4 solar_system = { change_variable = { which = ehof_negative_mass value = 4 } set_star_flag = resources_strategic_4 } }
					1 = { add_deposit = d_negative_mass_deposit_5 solar_system = { change_variable = { which = ehof_negative_mass value = 5 } set_star_flag = resources_strategic_3 } }
				}
				set_planet_flag = has_negative_mass_deposit
			}
		}
		else_if = {
			limit = { has_star_flag = resources_strategic_7 }
			remove_star_flag = resources_strategic_7
			random_system_planet = {
				limit = { eligible_for_negative_mass = yes }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_negative_mass_deposit_1 solar_system = { change_variable = { which = ehof_negative_mass value = 1 } set_star_flag = resources_strategic_6 } }
					4 = { add_deposit = d_negative_mass_deposit_2 solar_system = { change_variable = { which = ehof_negative_mass value = 2 } set_star_flag = resources_strategic_5 } }
					3 = { add_deposit = d_negative_mass_deposit_3 solar_system = { change_variable = { which = ehof_negative_mass value = 3 } set_star_flag = resources_strategic_4 } }
					2 = { add_deposit = d_negative_mass_deposit_4 solar_system = { change_variable = { which = ehof_negative_mass value = 4 } set_star_flag = resources_strategic_3 } }
					1 = { add_deposit = d_negative_mass_deposit_5 solar_system = { change_variable = { which = ehof_negative_mass value = 5 } set_star_flag = resources_strategic_2 } }
				}
				set_planet_flag = has_negative_mass_deposit
			}
		}
		else_if = {
			limit = { has_star_flag = resources_strategic_6 }
			remove_star_flag = resources_strategic_6
			random_system_planet = {
				limit = { eligible_for_negative_mass = yes }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_negative_mass_deposit_1 solar_system = { change_variable = { which = ehof_negative_mass value = 1 } set_star_flag = resources_strategic_5 } }
					4 = { add_deposit = d_negative_mass_deposit_2 solar_system = { change_variable = { which = ehof_negative_mass value = 2 } set_star_flag = resources_strategic_4 } }
					3 = { add_deposit = d_negative_mass_deposit_3 solar_system = { change_variable = { which = ehof_negative_mass value = 3 } set_star_flag = resources_strategic_3 } }
					2 = { add_deposit = d_negative_mass_deposit_4 solar_system = { change_variable = { which = ehof_negative_mass value = 4 } set_star_flag = resources_strategic_2 } }
					1 = { add_deposit = d_negative_mass_deposit_5 solar_system = { change_variable = { which = ehof_negative_mass value = 5 } set_star_flag = resources_strategic_1 } }
				}
				set_planet_flag = has_negative_mass_deposit
			}
		}
		else_if = {
			limit = { has_star_flag = resources_strategic_5 }
			remove_star_flag = resources_strategic_5
			random_system_planet = {
				limit = { eligible_for_negative_mass = yes }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_negative_mass_deposit_1 solar_system = { change_variable = { which = ehof_negative_mass value = 1 } set_star_flag = resources_strategic_4 } }
					4 = { add_deposit = d_negative_mass_deposit_2 solar_system = { change_variable = { which = ehof_negative_mass value = 2 } set_star_flag = resources_strategic_3 } }
					3 = { add_deposit = d_negative_mass_deposit_3 solar_system = { change_variable = { which = ehof_negative_mass value = 3 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_negative_mass_deposit_4 solar_system = { change_variable = { which = ehof_negative_mass value = 4 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_negative_mass_deposit_5 solar_system = { change_variable = { which = ehof_negative_mass value = 5 } } }
				}
				set_planet_flag = has_negative_mass_deposit
			}
		}
		else_if = {
			limit = { has_star_flag = resources_strategic_4 }
			remove_star_flag = resources_strategic_4
			random_system_planet = {
				limit = { eligible_for_negative_mass = yes }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					4 = { add_deposit = d_negative_mass_deposit_1 solar_system = { change_variable = { which = ehof_negative_mass value = 1 } set_star_flag = resources_strategic_3 } }
					3 = { add_deposit = d_negative_mass_deposit_2 solar_system = { change_variable = { which = ehof_negative_mass value = 2 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_negative_mass_deposit_3 solar_system = { change_variable = { which = ehof_negative_mass value = 3 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_negative_mass_deposit_4 solar_system = { change_variable = { which = ehof_negative_mass value = 4 } } }
				}
				set_planet_flag = has_negative_mass_deposit
			}
		}
		else_if = {
			limit = { has_star_flag = resources_strategic_3 }
			remove_star_flag = resources_strategic_3
			random_system_planet = {
				limit = { eligible_for_negative_mass = yes }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					3 = { add_deposit = d_negative_mass_deposit_1 solar_system = { change_variable = { which = ehof_negative_mass value = 1 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_negative_mass_deposit_2 solar_system = { change_variable = { which = ehof_negative_mass value = 2 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_negative_mass_deposit_3 solar_system = { change_variable = { which = ehof_negative_mass value = 3 } } }
				}
				set_planet_flag = has_negative_mass_deposit
			}
		}
		else_if = {
			limit = { has_star_flag = resources_strategic_2 }
			remove_star_flag = resources_strategic_2
			random_system_planet = {
				limit = { eligible_for_negative_mass = yes }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					2 = { add_deposit = d_negative_mass_deposit_1 solar_system = { change_variable = { which = ehof_negative_mass value = 1 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_negative_mass_deposit_2 solar_system = { change_variable = { which = ehof_negative_mass value = 2 } } }
				}
				set_planet_flag = has_negative_mass_deposit
			}
		}
		else = {
			remove_star_flag = resources_strategic_1
			random_system_planet = {
				limit = { eligible_for_negative_mass = yes }
				change_variable = { which = planet_deposits value = 1 }
				add_deposit = d_negative_mass_deposit_1
				solar_system = { change_variable = { which = ehof_negative_mass value = 1 } }
				set_planet_flag = has_negative_mass_deposit
			}
		}

		while = {
			limit = {
				OR = {
					has_star_flag = resources_strategic_1
					has_star_flag = resources_strategic_2
					has_star_flag = resources_strategic_3
					has_star_flag = resources_strategic_4
					has_star_flag = resources_strategic_5
					has_star_flag = resources_strategic_6
					has_star_flag = resources_strategic_7
					has_star_flag = resources_strategic_8
					has_star_flag = resources_strategic_9
					has_star_flag = resources_strategic_10
				}
			}
			random_system_planet = {
				limit = {
					is_planet_habitable = no
					check_variable = { which = planet_deposits value < 5 }
				}
				giga_add_resources_strategic = yes
			}
		}

		# Standard
		##################################
		set_variable = {		which = resources_standard	value = resources_total }						# Amount after rare & strategic resources have been deducted
		round_variable = {		which = resources_standard	value = 0	round_up = yes }					# Round the number down

		while = {
			limit = { solar_system = { check_variable = { which = resources_standard value > 0 } } }
			random_system_planet = {
				limit = {
					is_planet_habitable = no
					check_variable = { which = planet_deposits value < 5 }
				}
				giga_add_resources_standard = yes
			}
		}

		# Habitable Planet Deposits
		##################################
		every_system_planet = {
			limit = { is_planet_habitable = yes }
			giga_create_planet_deposits = yes
		}

		# Reset Variables
		##################################
		# set_variable = {		which = final_strategic_resources	value = 0 }							# Debug
		# change_variable = {		which = final_strategic_resources	value = ehof_volatile_motes }		# Debug
		# change_variable = {		which = final_strategic_resources	value = ehof_exotic_gases }			# Debug
		# change_variable = {		which = final_strategic_resources	value = ehof_rare_crystals }		# Debug
		# change_variable = {		which = final_strategic_resources	value = ehof_dark_matter }			# Debug
		# change_variable = {		which = final_strategic_resources	value = ehof_negative_mass }		# Debug
		# change_variable = {		which = final_strategic_resources	value = ehof_alloys }				# Debug
		# multiply_variable = {	which = final_strategic_resources	value = @resource_strategic_cost }	# Debug

		# set_variable = {		which = final_standard_resources	value = 0 }							# Debug
		# change_variable = {		which = final_standard_resources	value = ehof_energy }				# Debug
		# change_variable = {		which = final_standard_resources	value = ehof_minerals }				# Debug
		# change_variable = {		which = final_standard_resources	value = ehof_physics }				# Debug
		# change_variable = {		which = final_standard_resources	value = ehof_society }				# Debug
		# change_variable = {		which = final_standard_resources	value = ehof_engineering }			# Debug

		# set_variable = {		which = final_resources				value = 0 }							# Debug
		# change_variable = {		which = final_resources				value = final_rare_resources }		# Debug
		# change_variable = {		which = final_resources				value = final_strategic_resources }	# Debug
		# change_variable = {		which = final_resources				value = final_standard_resources }	# Debug

		set_variable = { which = resources_total		value = 0 }
		set_variable = { which = resource_rare_cost		value = 0 }

		every_system_planet = {
			set_variable = { which = planet_deposits value = 0 }
			remove_planet_flag = has_engineering_deposit
			remove_planet_flag = has_society_deposit
			remove_planet_flag = has_physics_deposit
			remove_planet_flag = has_energy_deposit
			remove_planet_flag = has_minerals_deposit
			remove_planet_flag = has_volatile_motes_deposit
			remove_planet_flag = has_rare_crystals_deposit
			remove_planet_flag = has_exotic_gases_deposit
			remove_planet_flag = has_zro_deposit
			remove_planet_flag = has_alloys_deposit
			remove_planet_flag = has_dark_matter_deposit
			remove_planet_flag = has_negative_mass_deposit
			remove_planet_flag = has_living_metal_deposit
		}
	}
}

giga_add_resources_rare = {
	if = {
		limit = { solar_system = { has_star_flag = resources_rare_1 } }
		solar_system = { remove_star_flag = resources_rare_1 }
		random_list = {
			1 = {	# Living Metal
				modifier = { factor = 0 not_eligible_for_living_metal = yes }
				add_deposit = d_living_metal_deposit
				set_planet_flag = has_living_metal_deposit
				solar_system = {
					change_variable = { which = ehof_living_metal value = 1 }
					change_variable = { which = final_rare_resources value = resource_rare_cost }
				}
				event_target:current_system_creator = { set_timed_country_flag = { flag = recently_spawned_lm years = 10 } }
			}
			1 = {	# Zro
				modifier = { factor = 0 not_eligible_for_zro = yes }
				random_list = {
					3 = { add_deposit = d_zro_deposit_1 solar_system = { change_variable = { which = ehof_zro value = 1 } } }
					2 = { add_deposit = d_zro_deposit_2 solar_system = { change_variable = { which = ehof_zro value = 2 } } }
					1 = { add_deposit = d_zro_deposit_3 solar_system = { change_variable = { which = ehof_zro value = 3 } } }
				}
				set_planet_flag = has_zro_deposit
				solar_system = { change_variable = { which = final_rare_resources value = resource_rare_cost } }
				event_target:current_system_creator = { set_timed_country_flag = { flag = recently_spawned_zro years = 10 } }
			}
		}
	}
	else_if = {
		limit = { solar_system = { has_star_flag = resources_rare_2 } }
		solar_system = { remove_star_flag = resources_rare_2 }
		random_list = {
			1 = {	# Living Metal
				modifier = { factor = 0 not_eligible_for_living_metal = yes }
				add_deposit = d_living_metal_deposit_2
				set_planet_flag = has_living_metal_deposit
				solar_system = {
					change_variable = { which = ehof_living_metal value = 2 }
					change_variable = { which = final_rare_resources value = resource_rare_cost }
					change_variable = { which = final_rare_resources value = resource_rare_cost }
				}
				event_target:current_system_creator = { set_timed_country_flag = { flag = recently_spawned_lm years = 10 } }
			}
			1 = {	# Zro
				modifier = { factor = 0 not_eligible_for_zro = yes }
				random_list = {
					3 = { add_deposit = d_zro_deposit_3 solar_system = { change_variable = { which = ehof_zro value = 3 } } }
					2 = { add_deposit = d_zro_deposit_4 solar_system = { change_variable = { which = ehof_zro value = 4 } } }
					1 = { add_deposit = d_zro_deposit_5 solar_system = { change_variable = { which = ehof_zro value = 5 } } }
				}
				set_planet_flag = has_zro_deposit
				solar_system = {
					change_variable = { which = final_rare_resources value = resource_rare_cost }
					change_variable = { which = final_rare_resources value = resource_rare_cost }
				}
				event_target:current_system_creator = { set_timed_country_flag = { flag = recently_spawned_zro years = 10 } }
			}
		}
	}
}

giga_add_resources_strategic = {
	if = {
		limit = { solar_system = { has_star_flag = resources_strategic_10 } }
		random_list = {
			1 = {	# Volatile Motes
				modifier = { factor = 0 not_eligible_for_volatile_motes = yes }
				solar_system = { remove_star_flag = resources_strategic_10 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_volatile_motes_1 solar_system = { change_variable = { which = ehof_volatile_motes value = 1 } set_star_flag = resources_strategic_9 } }
					4 = { add_deposit = d_volatile_motes_2 solar_system = { change_variable = { which = ehof_volatile_motes value = 2 } set_star_flag = resources_strategic_8 } }
					3 = { add_deposit = d_volatile_motes_3 solar_system = { change_variable = { which = ehof_volatile_motes value = 3 } set_star_flag = resources_strategic_7 } }
					2 = { add_deposit = d_volatile_motes_4 solar_system = { change_variable = { which = ehof_volatile_motes value = 4 } set_star_flag = resources_strategic_6 } }
					1 = { add_deposit = d_volatile_motes_5 solar_system = { change_variable = { which = ehof_volatile_motes value = 5 } set_star_flag = resources_strategic_5 } }
				}
				set_planet_flag = has_volatile_motes_deposit
			}
			1 = {	# Exotic Gases
				modifier = { factor = 0 not_eligible_for_exotic_gases = yes }
				solar_system = { remove_star_flag = resources_strategic_10 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_exotic_gases_1 solar_system = { change_variable = { which = ehof_exotic_gases value = 1 } set_star_flag = resources_strategic_9 } }
					4 = { add_deposit = d_exotic_gases_2 solar_system = { change_variable = { which = ehof_exotic_gases value = 2 } set_star_flag = resources_strategic_8 } }
					3 = { add_deposit = d_exotic_gases_3 solar_system = { change_variable = { which = ehof_exotic_gases value = 3 } set_star_flag = resources_strategic_7 } }
					2 = { add_deposit = d_exotic_gases_4 solar_system = { change_variable = { which = ehof_exotic_gases value = 4 } set_star_flag = resources_strategic_6 } }
					1 = { add_deposit = d_exotic_gases_5 solar_system = { change_variable = { which = ehof_exotic_gases value = 5 } set_star_flag = resources_strategic_5 } }
				}
				set_planet_flag = has_exotic_gases_deposit
			}
			1 = {	# Rare Crystals
				modifier = { factor = 0 not_eligible_for_rare_crystals = yes }
				solar_system = { remove_star_flag = resources_strategic_10 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_rare_crystals_1 solar_system = { change_variable = { which = ehof_rare_crystals value = 1 } set_star_flag = resources_strategic_9 } }
					4 = { add_deposit = d_rare_crystals_2 solar_system = { change_variable = { which = ehof_rare_crystals value = 2 } set_star_flag = resources_strategic_8 } }
					3 = { add_deposit = d_rare_crystals_3 solar_system = { change_variable = { which = ehof_rare_crystals value = 3 } set_star_flag = resources_strategic_7 } }
					2 = { add_deposit = d_rare_crystals_4 solar_system = { change_variable = { which = ehof_rare_crystals value = 4 } set_star_flag = resources_strategic_6 } }
					1 = { add_deposit = d_rare_crystals_5 solar_system = { change_variable = { which = ehof_rare_crystals value = 5 } set_star_flag = resources_strategic_5 } }
				}
				set_planet_flag = has_rare_crystals_deposit
			}
			1 = {	# Alloys
				modifier = { factor = 0 not_eligible_for_alloys = yes }
				solar_system = { remove_star_flag = resources_strategic_10 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_alloys_1 solar_system = { change_variable = { which = ehof_alloys value = 1 } set_star_flag = resources_strategic_9 } }
					4 = { add_deposit = d_alloys_2 solar_system = { change_variable = { which = ehof_alloys value = 2 } set_star_flag = resources_strategic_8 } }
					3 = { add_deposit = d_alloys_3 solar_system = { change_variable = { which = ehof_alloys value = 3 } set_star_flag = resources_strategic_7 } }
					2 = { add_deposit = d_alloys_4 solar_system = { change_variable = { which = ehof_alloys value = 4 } set_star_flag = resources_strategic_6 } }
					1 = { add_deposit = d_alloys_5 solar_system = { change_variable = { which = ehof_alloys value = 5 } set_star_flag = resources_strategic_5 } }
				}
				set_planet_flag = has_alloys_deposit
			}
		}
	}
	else_if = {
		limit = { solar_system = { has_star_flag = resources_strategic_9 } }
		random_list = {
			1 = {	# Volatile Motes
				modifier = { factor = 0 not_eligible_for_volatile_motes = yes }
				solar_system = { remove_star_flag = resources_strategic_9 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_volatile_motes_1 solar_system = { change_variable = { which = ehof_volatile_motes value = 1 } set_star_flag = resources_strategic_8 } }
					4 = { add_deposit = d_volatile_motes_2 solar_system = { change_variable = { which = ehof_volatile_motes value = 2 } set_star_flag = resources_strategic_7 } }
					3 = { add_deposit = d_volatile_motes_3 solar_system = { change_variable = { which = ehof_volatile_motes value = 3 } set_star_flag = resources_strategic_6 } }
					2 = { add_deposit = d_volatile_motes_4 solar_system = { change_variable = { which = ehof_volatile_motes value = 4 } set_star_flag = resources_strategic_5 } }
					1 = { add_deposit = d_volatile_motes_5 solar_system = { change_variable = { which = ehof_volatile_motes value = 5 } set_star_flag = resources_strategic_4 } }
				}
				set_planet_flag = has_volatile_motes_deposit
			}
			1 = {	# Exotic Gases
				modifier = { factor = 0 not_eligible_for_exotic_gases = yes }
				solar_system = { remove_star_flag = resources_strategic_9 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_exotic_gases_1 solar_system = { change_variable = { which = ehof_exotic_gases value = 1 } set_star_flag = resources_strategic_8 } }
					4 = { add_deposit = d_exotic_gases_2 solar_system = { change_variable = { which = ehof_exotic_gases value = 2 } set_star_flag = resources_strategic_7 } }
					3 = { add_deposit = d_exotic_gases_3 solar_system = { change_variable = { which = ehof_exotic_gases value = 3 } set_star_flag = resources_strategic_6 } }
					2 = { add_deposit = d_exotic_gases_4 solar_system = { change_variable = { which = ehof_exotic_gases value = 4 } set_star_flag = resources_strategic_5 } }
					1 = { add_deposit = d_exotic_gases_5 solar_system = { change_variable = { which = ehof_exotic_gases value = 5 } set_star_flag = resources_strategic_4 } }
				}
				set_planet_flag = has_exotic_gases_deposit
			}
			1 = {	# Rare Crystals
				modifier = { factor = 0 not_eligible_for_rare_crystals = yes }
				solar_system = { remove_star_flag = resources_strategic_9 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_rare_crystals_1 solar_system = { change_variable = { which = ehof_rare_crystals value = 1 } set_star_flag = resources_strategic_8 } }
					4 = { add_deposit = d_rare_crystals_2 solar_system = { change_variable = { which = ehof_rare_crystals value = 2 } set_star_flag = resources_strategic_7 } }
					3 = { add_deposit = d_rare_crystals_3 solar_system = { change_variable = { which = ehof_rare_crystals value = 3 } set_star_flag = resources_strategic_6 } }
					2 = { add_deposit = d_rare_crystals_4 solar_system = { change_variable = { which = ehof_rare_crystals value = 4 } set_star_flag = resources_strategic_5 } }
					1 = { add_deposit = d_rare_crystals_5 solar_system = { change_variable = { which = ehof_rare_crystals value = 5 } set_star_flag = resources_strategic_4 } }
				}
				set_planet_flag = has_rare_crystals_deposit
			}
			1 = {	# Alloys
				modifier = { factor = 0 not_eligible_for_alloys = yes }
				solar_system = { remove_star_flag = resources_strategic_9 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_alloys_1 solar_system = { change_variable = { which = ehof_alloys value = 1 } set_star_flag = resources_strategic_8 } }
					4 = { add_deposit = d_alloys_2 solar_system = { change_variable = { which = ehof_alloys value = 2 } set_star_flag = resources_strategic_7 } }
					3 = { add_deposit = d_alloys_3 solar_system = { change_variable = { which = ehof_alloys value = 3 } set_star_flag = resources_strategic_6 } }
					2 = { add_deposit = d_alloys_4 solar_system = { change_variable = { which = ehof_alloys value = 4 } set_star_flag = resources_strategic_5 } }
					1 = { add_deposit = d_alloys_5 solar_system = { change_variable = { which = ehof_alloys value = 5 } set_star_flag = resources_strategic_4 } }
				}
				set_planet_flag = has_alloys_deposit
			}
		}
	}
	else_if = {
		limit = { solar_system = { has_star_flag = resources_strategic_8 } }
		random_list = {
			1 = {	# Volatile Motes
				modifier = { factor = 0 not_eligible_for_volatile_motes = yes }
				solar_system = { remove_star_flag = resources_strategic_8 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_volatile_motes_1 solar_system = { change_variable = { which = ehof_volatile_motes value = 1 } set_star_flag = resources_strategic_7 } }
					4 = { add_deposit = d_volatile_motes_2 solar_system = { change_variable = { which = ehof_volatile_motes value = 2 } set_star_flag = resources_strategic_6 } }
					3 = { add_deposit = d_volatile_motes_3 solar_system = { change_variable = { which = ehof_volatile_motes value = 3 } set_star_flag = resources_strategic_5 } }
					2 = { add_deposit = d_volatile_motes_4 solar_system = { change_variable = { which = ehof_volatile_motes value = 4 } set_star_flag = resources_strategic_4 } }
					1 = { add_deposit = d_volatile_motes_5 solar_system = { change_variable = { which = ehof_volatile_motes value = 5 } set_star_flag = resources_strategic_3 } }
				}
				set_planet_flag = has_volatile_motes_deposit
			}
			1 = {	# Exotic Gases
				modifier = { factor = 0 not_eligible_for_exotic_gases = yes }
				solar_system = { remove_star_flag = resources_strategic_8 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_exotic_gases_1 solar_system = { change_variable = { which = ehof_exotic_gases value = 1 } set_star_flag = resources_strategic_7 } }
					4 = { add_deposit = d_exotic_gases_2 solar_system = { change_variable = { which = ehof_exotic_gases value = 2 } set_star_flag = resources_strategic_6 } }
					3 = { add_deposit = d_exotic_gases_3 solar_system = { change_variable = { which = ehof_exotic_gases value = 3 } set_star_flag = resources_strategic_5 } }
					2 = { add_deposit = d_exotic_gases_4 solar_system = { change_variable = { which = ehof_exotic_gases value = 4 } set_star_flag = resources_strategic_4 } }
					1 = { add_deposit = d_exotic_gases_5 solar_system = { change_variable = { which = ehof_exotic_gases value = 5 } set_star_flag = resources_strategic_3 } }
				}
				set_planet_flag = has_exotic_gases_deposit
			}
			1 = {	# Rare Crystals
				modifier = { factor = 0 not_eligible_for_rare_crystals = yes }
				solar_system = { remove_star_flag = resources_strategic_8 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_rare_crystals_1 solar_system = { change_variable = { which = ehof_rare_crystals value = 1 } set_star_flag = resources_strategic_7 } }
					4 = { add_deposit = d_rare_crystals_2 solar_system = { change_variable = { which = ehof_rare_crystals value = 2 } set_star_flag = resources_strategic_6 } }
					3 = { add_deposit = d_rare_crystals_3 solar_system = { change_variable = { which = ehof_rare_crystals value = 3 } set_star_flag = resources_strategic_5 } }
					2 = { add_deposit = d_rare_crystals_4 solar_system = { change_variable = { which = ehof_rare_crystals value = 4 } set_star_flag = resources_strategic_4 } }
					1 = { add_deposit = d_rare_crystals_5 solar_system = { change_variable = { which = ehof_rare_crystals value = 5 } set_star_flag = resources_strategic_3 } }
				}
				set_planet_flag = has_rare_crystals_deposit
			}
			1 = {	# Alloys
				modifier = { factor = 0 not_eligible_for_alloys = yes }
				solar_system = { remove_star_flag = resources_strategic_8 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_alloys_1 solar_system = { change_variable = { which = ehof_alloys value = 1 } set_star_flag = resources_strategic_7 } }
					4 = { add_deposit = d_alloys_2 solar_system = { change_variable = { which = ehof_alloys value = 2 } set_star_flag = resources_strategic_6 } }
					3 = { add_deposit = d_alloys_3 solar_system = { change_variable = { which = ehof_alloys value = 3 } set_star_flag = resources_strategic_5 } }
					2 = { add_deposit = d_alloys_4 solar_system = { change_variable = { which = ehof_alloys value = 4 } set_star_flag = resources_strategic_4 } }
					1 = { add_deposit = d_alloys_5 solar_system = { change_variable = { which = ehof_alloys value = 5 } set_star_flag = resources_strategic_3 } }
				}
				set_planet_flag = has_alloys_deposit
			}
		}
	}
	else_if = {
		limit = { solar_system = { has_star_flag = resources_strategic_7 } }
		random_list = {
			1 = {	# Volatile Motes
				modifier = { factor = 0 not_eligible_for_volatile_motes = yes }
				solar_system = { remove_star_flag = resources_strategic_7 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_volatile_motes_1 solar_system = { change_variable = { which = ehof_volatile_motes value = 1 } set_star_flag = resources_strategic_6 } }
					4 = { add_deposit = d_volatile_motes_2 solar_system = { change_variable = { which = ehof_volatile_motes value = 2 } set_star_flag = resources_strategic_5 } }
					3 = { add_deposit = d_volatile_motes_3 solar_system = { change_variable = { which = ehof_volatile_motes value = 3 } set_star_flag = resources_strategic_4 } }
					2 = { add_deposit = d_volatile_motes_4 solar_system = { change_variable = { which = ehof_volatile_motes value = 4 } set_star_flag = resources_strategic_3 } }
					1 = { add_deposit = d_volatile_motes_5 solar_system = { change_variable = { which = ehof_volatile_motes value = 5 } set_star_flag = resources_strategic_2 } }
				}
				set_planet_flag = has_volatile_motes_deposit
			}
			1 = {	# Exotic Gases
				modifier = { factor = 0 not_eligible_for_exotic_gases = yes }
				solar_system = { remove_star_flag = resources_strategic_7 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_exotic_gases_1 solar_system = { change_variable = { which = ehof_exotic_gases value = 1 } set_star_flag = resources_strategic_6 } }
					4 = { add_deposit = d_exotic_gases_2 solar_system = { change_variable = { which = ehof_exotic_gases value = 2 } set_star_flag = resources_strategic_5 } }
					3 = { add_deposit = d_exotic_gases_3 solar_system = { change_variable = { which = ehof_exotic_gases value = 3 } set_star_flag = resources_strategic_4 } }
					2 = { add_deposit = d_exotic_gases_4 solar_system = { change_variable = { which = ehof_exotic_gases value = 4 } set_star_flag = resources_strategic_3 } }
					1 = { add_deposit = d_exotic_gases_5 solar_system = { change_variable = { which = ehof_exotic_gases value = 5 } set_star_flag = resources_strategic_2 } }
				}
				set_planet_flag = has_exotic_gases_deposit
			}
			1 = {	# Rare Crystals
				modifier = { factor = 0 not_eligible_for_rare_crystals = yes }
				solar_system = { remove_star_flag = resources_strategic_7 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_rare_crystals_1 solar_system = { change_variable = { which = ehof_rare_crystals value = 1 } set_star_flag = resources_strategic_6 } }
					4 = { add_deposit = d_rare_crystals_2 solar_system = { change_variable = { which = ehof_rare_crystals value = 2 } set_star_flag = resources_strategic_5 } }
					3 = { add_deposit = d_rare_crystals_3 solar_system = { change_variable = { which = ehof_rare_crystals value = 3 } set_star_flag = resources_strategic_4 } }
					2 = { add_deposit = d_rare_crystals_4 solar_system = { change_variable = { which = ehof_rare_crystals value = 4 } set_star_flag = resources_strategic_3 } }
					1 = { add_deposit = d_rare_crystals_5 solar_system = { change_variable = { which = ehof_rare_crystals value = 5 } set_star_flag = resources_strategic_2 } }
				}
				set_planet_flag = has_rare_crystals_deposit
			}
			1 = {	# Alloys
				modifier = { factor = 0 not_eligible_for_alloys = yes }
				solar_system = { remove_star_flag = resources_strategic_7 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_alloys_1 solar_system = { change_variable = { which = ehof_alloys value = 1 } set_star_flag = resources_strategic_6 } }
					4 = { add_deposit = d_alloys_2 solar_system = { change_variable = { which = ehof_alloys value = 2 } set_star_flag = resources_strategic_5 } }
					3 = { add_deposit = d_alloys_3 solar_system = { change_variable = { which = ehof_alloys value = 3 } set_star_flag = resources_strategic_4 } }
					2 = { add_deposit = d_alloys_4 solar_system = { change_variable = { which = ehof_alloys value = 4 } set_star_flag = resources_strategic_3 } }
					1 = { add_deposit = d_alloys_5 solar_system = { change_variable = { which = ehof_alloys value = 5 } set_star_flag = resources_strategic_2 } }
				}
				set_planet_flag = has_alloys_deposit
			}
		}
	}
	else_if = {
		limit = { solar_system = { has_star_flag = resources_strategic_6 } }
		random_list = {
			1 = {	# Volatile Motes
				modifier = { factor = 0 not_eligible_for_volatile_motes = yes }
				solar_system = { remove_star_flag = resources_strategic_6 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_volatile_motes_1 solar_system = { change_variable = { which = ehof_volatile_motes value = 1 } set_star_flag = resources_strategic_5 } }
					4 = { add_deposit = d_volatile_motes_2 solar_system = { change_variable = { which = ehof_volatile_motes value = 2 } set_star_flag = resources_strategic_4 } }
					3 = { add_deposit = d_volatile_motes_3 solar_system = { change_variable = { which = ehof_volatile_motes value = 3 } set_star_flag = resources_strategic_3 } }
					2 = { add_deposit = d_volatile_motes_4 solar_system = { change_variable = { which = ehof_volatile_motes value = 4 } set_star_flag = resources_strategic_2 } }
					1 = { add_deposit = d_volatile_motes_5 solar_system = { change_variable = { which = ehof_volatile_motes value = 5 } set_star_flag = resources_strategic_1 } }
				}
				set_planet_flag = has_volatile_motes_deposit
			}
			1 = {	# Exotic Gases
				modifier = { factor = 0 not_eligible_for_exotic_gases = yes }
				solar_system = { remove_star_flag = resources_strategic_6 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_exotic_gases_1 solar_system = { change_variable = { which = ehof_exotic_gases value = 1 } set_star_flag = resources_strategic_5 } }
					4 = { add_deposit = d_exotic_gases_2 solar_system = { change_variable = { which = ehof_exotic_gases value = 2 } set_star_flag = resources_strategic_4 } }
					3 = { add_deposit = d_exotic_gases_3 solar_system = { change_variable = { which = ehof_exotic_gases value = 3 } set_star_flag = resources_strategic_3 } }
					2 = { add_deposit = d_exotic_gases_4 solar_system = { change_variable = { which = ehof_exotic_gases value = 4 } set_star_flag = resources_strategic_2 } }
					1 = { add_deposit = d_exotic_gases_5 solar_system = { change_variable = { which = ehof_exotic_gases value = 5 } set_star_flag = resources_strategic_1 } }
				}
				set_planet_flag = has_exotic_gases_deposit
			}
			1 = {	# Rare Crystals
				modifier = { factor = 0 not_eligible_for_rare_crystals = yes }
				solar_system = { remove_star_flag = resources_strategic_6 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_rare_crystals_1 solar_system = { change_variable = { which = ehof_rare_crystals value = 1 } set_star_flag = resources_strategic_5 } }
					4 = { add_deposit = d_rare_crystals_2 solar_system = { change_variable = { which = ehof_rare_crystals value = 2 } set_star_flag = resources_strategic_4 } }
					3 = { add_deposit = d_rare_crystals_3 solar_system = { change_variable = { which = ehof_rare_crystals value = 3 } set_star_flag = resources_strategic_3 } }
					2 = { add_deposit = d_rare_crystals_4 solar_system = { change_variable = { which = ehof_rare_crystals value = 4 } set_star_flag = resources_strategic_2 } }
					1 = { add_deposit = d_rare_crystals_5 solar_system = { change_variable = { which = ehof_rare_crystals value = 5 } set_star_flag = resources_strategic_1 } }
				}
				set_planet_flag = has_rare_crystals_deposit
			}
			1 = {	# Alloys
				modifier = { factor = 0 not_eligible_for_alloys = yes }
				solar_system = { remove_star_flag = resources_strategic_6 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_alloys_1 solar_system = { change_variable = { which = ehof_alloys value = 1 } set_star_flag = resources_strategic_5 } }
					4 = { add_deposit = d_alloys_2 solar_system = { change_variable = { which = ehof_alloys value = 2 } set_star_flag = resources_strategic_4 } }
					3 = { add_deposit = d_alloys_3 solar_system = { change_variable = { which = ehof_alloys value = 3 } set_star_flag = resources_strategic_3 } }
					2 = { add_deposit = d_alloys_4 solar_system = { change_variable = { which = ehof_alloys value = 4 } set_star_flag = resources_strategic_2 } }
					1 = { add_deposit = d_alloys_5 solar_system = { change_variable = { which = ehof_alloys value = 5 } set_star_flag = resources_strategic_1 } }
				}
				set_planet_flag = has_alloys_deposit
			}
		}
	}
	else_if = {
		limit = { solar_system = { has_star_flag = resources_strategic_5 } }
		random_list = {
			1 = {	# Volatile Motes
				modifier = { factor = 0 not_eligible_for_volatile_motes = yes }
				solar_system = { remove_star_flag = resources_strategic_5 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_volatile_motes_1 solar_system = { change_variable = { which = ehof_volatile_motes value = 1 } set_star_flag = resources_strategic_4 } }
					4 = { add_deposit = d_volatile_motes_2 solar_system = { change_variable = { which = ehof_volatile_motes value = 2 } set_star_flag = resources_strategic_3 } }
					3 = { add_deposit = d_volatile_motes_3 solar_system = { change_variable = { which = ehof_volatile_motes value = 3 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_volatile_motes_4 solar_system = { change_variable = { which = ehof_volatile_motes value = 4 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_volatile_motes_5 solar_system = { change_variable = { which = ehof_volatile_motes value = 5 } } }
				}
				set_planet_flag = has_volatile_motes_deposit
			}
			1 = {	# Exotic Gases
				modifier = { factor = 0 not_eligible_for_exotic_gases = yes }
				solar_system = { remove_star_flag = resources_strategic_5 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_exotic_gases_1 solar_system = { change_variable = { which = ehof_exotic_gases value = 1 } set_star_flag = resources_strategic_4 } }
					4 = { add_deposit = d_exotic_gases_2 solar_system = { change_variable = { which = ehof_exotic_gases value = 2 } set_star_flag = resources_strategic_3 } }
					3 = { add_deposit = d_exotic_gases_3 solar_system = { change_variable = { which = ehof_exotic_gases value = 3 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_exotic_gases_4 solar_system = { change_variable = { which = ehof_exotic_gases value = 4 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_exotic_gases_5 solar_system = { change_variable = { which = ehof_exotic_gases value = 5 } } }
				}
				set_planet_flag = has_exotic_gases_deposit
			}
			1 = {	# Rare Crystals
				modifier = { factor = 0 not_eligible_for_rare_crystals = yes }
				solar_system = { remove_star_flag = resources_strategic_5 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_rare_crystals_1 solar_system = { change_variable = { which = ehof_rare_crystals value = 1 } set_star_flag = resources_strategic_4 } }
					4 = { add_deposit = d_rare_crystals_2 solar_system = { change_variable = { which = ehof_rare_crystals value = 2 } set_star_flag = resources_strategic_3 } }
					3 = { add_deposit = d_rare_crystals_3 solar_system = { change_variable = { which = ehof_rare_crystals value = 3 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_rare_crystals_4 solar_system = { change_variable = { which = ehof_rare_crystals value = 4 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_rare_crystals_5 solar_system = { change_variable = { which = ehof_rare_crystals value = 5 } } }
				}
				set_planet_flag = has_rare_crystals_deposit
			}
			1 = {	# Alloys
				modifier = { factor = 0 not_eligible_for_alloys = yes }
				solar_system = { remove_star_flag = resources_strategic_5 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					5 = { add_deposit = d_alloys_1 solar_system = { change_variable = { which = ehof_alloys value = 1 } set_star_flag = resources_strategic_4 } }
					4 = { add_deposit = d_alloys_2 solar_system = { change_variable = { which = ehof_alloys value = 2 } set_star_flag = resources_strategic_3 } }
					3 = { add_deposit = d_alloys_3 solar_system = { change_variable = { which = ehof_alloys value = 3 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_alloys_4 solar_system = { change_variable = { which = ehof_alloys value = 4 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_alloys_5 solar_system = { change_variable = { which = ehof_alloys value = 5 } } }
				}
				set_planet_flag = has_alloys_deposit
			}
		}
	}
	else_if = {
		limit = { solar_system = { has_star_flag = resources_strategic_4 } }
		random_list = {
			1 = {	# Volatile Motes
				modifier = { factor = 0 not_eligible_for_volatile_motes = yes }
				solar_system = { remove_star_flag = resources_strategic_4 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					4 = { add_deposit = d_volatile_motes_1 solar_system = { change_variable = { which = ehof_volatile_motes value = 1 } set_star_flag = resources_strategic_3 } }
					3 = { add_deposit = d_volatile_motes_2 solar_system = { change_variable = { which = ehof_volatile_motes value = 2 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_volatile_motes_3 solar_system = { change_variable = { which = ehof_volatile_motes value = 3 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_volatile_motes_4 solar_system = { change_variable = { which = ehof_volatile_motes value = 4 } } }
				}
				set_planet_flag = has_volatile_motes_deposit
			}
			1 = {	# Exotic Gases
				modifier = { factor = 0 not_eligible_for_exotic_gases = yes }
				solar_system = { remove_star_flag = resources_strategic_4 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					4 = { add_deposit = d_exotic_gases_1 solar_system = { change_variable = { which = ehof_exotic_gases value = 1 } set_star_flag = resources_strategic_3 } }
					3 = { add_deposit = d_exotic_gases_2 solar_system = { change_variable = { which = ehof_exotic_gases value = 2 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_exotic_gases_3 solar_system = { change_variable = { which = ehof_exotic_gases value = 3 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_exotic_gases_4 solar_system = { change_variable = { which = ehof_exotic_gases value = 4 } } }
				}
				set_planet_flag = has_exotic_gases_deposit
			}
			1 = {	# Rare Crystals
				modifier = { factor = 0 not_eligible_for_rare_crystals = yes }
				solar_system = { remove_star_flag = resources_strategic_4 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					4 = { add_deposit = d_rare_crystals_1 solar_system = { change_variable = { which = ehof_rare_crystals value = 1 } set_star_flag = resources_strategic_3 } }
					3 = { add_deposit = d_rare_crystals_2 solar_system = { change_variable = { which = ehof_rare_crystals value = 2 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_rare_crystals_3 solar_system = { change_variable = { which = ehof_rare_crystals value = 3 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_rare_crystals_4 solar_system = { change_variable = { which = ehof_rare_crystals value = 4 } } }
				}
				set_planet_flag = has_rare_crystals_deposit
			}
			1 = {	# Alloys
				modifier = { factor = 0 not_eligible_for_alloys = yes }
				solar_system = { remove_star_flag = resources_strategic_4 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					4 = { add_deposit = d_alloys_1 solar_system = { change_variable = { which = ehof_alloys value = 1 } set_star_flag = resources_strategic_3 } }
					3 = { add_deposit = d_alloys_2 solar_system = { change_variable = { which = ehof_alloys value = 2 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_alloys_3 solar_system = { change_variable = { which = ehof_alloys value = 3 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_alloys_4 solar_system = { change_variable = { which = ehof_alloys value = 4 } } }
				}
				set_planet_flag = has_alloys_deposit
			}
		}
	}
	else_if = {
		limit = { solar_system = { has_star_flag = resources_strategic_3 } }
		random_list = {
			1 = {	# Volatile Motes
				modifier = { factor = 0 not_eligible_for_volatile_motes = yes }
				solar_system = { remove_star_flag = resources_strategic_3 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					3 = { add_deposit = d_volatile_motes_1 solar_system = { change_variable = { which = ehof_volatile_motes value = 1 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_volatile_motes_2 solar_system = { change_variable = { which = ehof_volatile_motes value = 2 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_volatile_motes_3 solar_system = { change_variable = { which = ehof_volatile_motes value = 3 } } }
				}
				set_planet_flag = has_volatile_motes_deposit
			}
			1 = {	# Exotic Gases
				modifier = { factor = 0 not_eligible_for_exotic_gases = yes }
				solar_system = { remove_star_flag = resources_strategic_3 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					3 = { add_deposit = d_exotic_gases_1 solar_system = { change_variable = { which = ehof_exotic_gases value = 1 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_exotic_gases_2 solar_system = { change_variable = { which = ehof_exotic_gases value = 2 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_exotic_gases_3 solar_system = { change_variable = { which = ehof_exotic_gases value = 3 } } }
				}
				set_planet_flag = has_exotic_gases_deposit
			}
			1 = {	# Rare Crystals
				modifier = { factor = 0 not_eligible_for_rare_crystals = yes }
				solar_system = { remove_star_flag = resources_strategic_3 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					3 = { add_deposit = d_rare_crystals_1 solar_system = { change_variable = { which = ehof_rare_crystals value = 1 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_rare_crystals_2 solar_system = { change_variable = { which = ehof_rare_crystals value = 2 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_rare_crystals_3 solar_system = { change_variable = { which = ehof_rare_crystals value = 3 } } }
				}
				set_planet_flag = has_rare_crystals_deposit
			}
			1 = {	# Alloys
				modifier = { factor = 0 not_eligible_for_alloys = yes }
				solar_system = { remove_star_flag = resources_strategic_3 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					3 = { add_deposit = d_alloys_1 solar_system = { change_variable = { which = ehof_alloys value = 1 } set_star_flag = resources_strategic_2 } }
					2 = { add_deposit = d_alloys_2 solar_system = { change_variable = { which = ehof_alloys value = 2 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_alloys_3 solar_system = { change_variable = { which = ehof_alloys value = 3 } } }
				}
				set_planet_flag = has_alloys_deposit
			}
		}
	}
	else_if = {
		limit = { solar_system = { has_star_flag = resources_strategic_2 } }
		random_list = {
			1 = {	# Volatile Motes
				modifier = { factor = 0 not_eligible_for_volatile_motes = yes }
				solar_system = { remove_star_flag = resources_strategic_2 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					2 = { add_deposit = d_volatile_motes_1 solar_system = { change_variable = { which = ehof_volatile_motes value = 1 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_volatile_motes_2 solar_system = { change_variable = { which = ehof_volatile_motes value = 2 } } }
				}
				set_planet_flag = has_volatile_motes_deposit
			}
			1 = {	# Exotic Gases
				modifier = { factor = 0 not_eligible_for_exotic_gases = yes }
				solar_system = { remove_star_flag = resources_strategic_2 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					2 = { add_deposit = d_exotic_gases_1 solar_system = { change_variable = { which = ehof_exotic_gases value = 1 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_exotic_gases_2 solar_system = { change_variable = { which = ehof_exotic_gases value = 2 } } }
				}
				set_planet_flag = has_exotic_gases_deposit
			}
			1 = {	# Rare Crystals
				modifier = { factor = 0 not_eligible_for_rare_crystals = yes }
				solar_system = { remove_star_flag = resources_strategic_2 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					2 = { add_deposit = d_rare_crystals_1 solar_system = { change_variable = { which = ehof_rare_crystals value = 1 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_rare_crystals_2 solar_system = { change_variable = { which = ehof_rare_crystals value = 2 } } }
				}
				set_planet_flag = has_rare_crystals_deposit
			}
			1 = {	# Alloys
				modifier = { factor = 0 not_eligible_for_alloys = yes }
				solar_system = { remove_star_flag = resources_strategic_2 }
				change_variable = { which = planet_deposits value = 1 }
				random_list = {
					2 = { add_deposit = d_alloys_1 solar_system = { change_variable = { which = ehof_alloys value = 1 } set_star_flag = resources_strategic_1 } }
					1 = { add_deposit = d_alloys_2 solar_system = { change_variable = { which = ehof_alloys value = 2 } } }
				}
				set_planet_flag = has_alloys_deposit
			}
		}
	}
	else_if = {
		limit = { solar_system = { has_star_flag = resources_strategic_1 } }
		random_list = {
			1 = {	# Volatile Motes
				modifier = { factor = 0 not_eligible_for_volatile_motes = yes }
				solar_system = {
					change_variable = { which = ehof_volatile_motes value = 1 }
					remove_star_flag = resources_strategic_1
				}
				change_variable = { which = planet_deposits value = 1 }
				add_deposit = d_volatile_motes_1
				set_planet_flag = has_volatile_motes_deposit
			}
			1 = {	# Exotic Gases
				modifier = { factor = 0 not_eligible_for_exotic_gases = yes }
				solar_system = {
					change_variable = { which = ehof_exotic_gases value = 1 }
					remove_star_flag = resources_strategic_1
				}
				change_variable = { which = planet_deposits value = 1 }
				add_deposit = d_exotic_gases_1
				set_planet_flag = has_exotic_gases_deposit
			}
			1 = {	# Rare Crystals
				modifier = { factor = 0 not_eligible_for_rare_crystals = yes }
				solar_system = {
					change_variable = { which = ehof_rare_crystals value = 1 }
					remove_star_flag = resources_strategic_1
				}
				change_variable = { which = planet_deposits value = 1 }
				add_deposit = d_rare_crystals_1
				set_planet_flag = has_rare_crystals_deposit
			}
			1 = {	# Alloys
				modifier = { factor = 0 not_eligible_for_alloys = yes }
				solar_system = {
					change_variable = { which = ehof_alloys value = 1 }
					remove_star_flag = resources_strategic_1
				}
				change_variable = { which = planet_deposits value = 1 }
				add_deposit = d_alloys_1
				set_planet_flag = has_alloys_deposit
			}
		}
	}
}

giga_add_resources_standard = {
	random_list = {
		1 = {	# minerals
			modifier = {
				factor = 0
				OR = {
					has_deposit_for = shipclass_research_station
					has_planet_flag = has_zro_deposit
					has_planet_flag = has_living_metal_deposit
					is_planet_class = pc_gas_giant
					is_star = yes
				}
			}
			change_variable = { which = planet_deposits value = 1 }
			random_list = {
				10 = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 1  } } } add_deposit = d_minerals_1  solar_system = { subtract_variable = { which = resources_standard value = 1  } change_variable = { which = ehof_minerals value = 1 } } }
				9  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 2  } } } add_deposit = d_minerals_2  solar_system = { subtract_variable = { which = resources_standard value = 2  } change_variable = { which = ehof_minerals value = 2 } } }
				8  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 3  } } } add_deposit = d_minerals_3  solar_system = { subtract_variable = { which = resources_standard value = 3  } change_variable = { which = ehof_minerals value = 3 } } }
				7  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 4  } } } add_deposit = d_minerals_4  solar_system = { subtract_variable = { which = resources_standard value = 4  } change_variable = { which = ehof_minerals value = 4 } } }
				6  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 5  } } } add_deposit = d_minerals_5  solar_system = { subtract_variable = { which = resources_standard value = 5  } change_variable = { which = ehof_minerals value = 5 } } }
				5  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 6  } } } add_deposit = d_minerals_6  solar_system = { subtract_variable = { which = resources_standard value = 6  } change_variable = { which = ehof_minerals value = 6 } } }
				4  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 7  } } } add_deposit = d_minerals_7  solar_system = { subtract_variable = { which = resources_standard value = 7  } change_variable = { which = ehof_minerals value = 7 } } }
				3  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 8  } } } add_deposit = d_minerals_8  solar_system = { subtract_variable = { which = resources_standard value = 8  } change_variable = { which = ehof_minerals value = 8 } } }
				2  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 9  } } } add_deposit = d_minerals_9  solar_system = { subtract_variable = { which = resources_standard value = 9  } change_variable = { which = ehof_minerals value = 9 } } }
				1  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 10 } } } add_deposit = d_minerals_10 solar_system = { subtract_variable = { which = resources_standard value = 10 } change_variable = { which = ehof_minerals value = 10 } } }
			}
			set_planet_flag = has_minerals_deposit
		}
		1 = {	# energy
			modifier = {
				factor = 0
				OR = {
					has_deposit_for = shipclass_research_station
					has_planet_flag = has_zro_deposit
					has_planet_flag = has_living_metal_deposit
					is_asteroid = yes
					giga_black_hole = yes
				}
			}
			change_variable = { which = planet_deposits value = 1 }
			random_list = {
				10 = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 1  } } } add_deposit = d_energy_1  solar_system = { subtract_variable = { which = resources_standard value = 1  } change_variable = { which = ehof_energy value = 1 } } }
				9  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 2  } } } add_deposit = d_energy_2  solar_system = { subtract_variable = { which = resources_standard value = 2  } change_variable = { which = ehof_energy value = 2 } } }
				8  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 3  } } } add_deposit = d_energy_3  solar_system = { subtract_variable = { which = resources_standard value = 3  } change_variable = { which = ehof_energy value = 3 } } }
				7  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 4  } } } add_deposit = d_energy_4  solar_system = { subtract_variable = { which = resources_standard value = 4  } change_variable = { which = ehof_energy value = 4 } } }
				6  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 5  } } } add_deposit = d_energy_5  solar_system = { subtract_variable = { which = resources_standard value = 5  } change_variable = { which = ehof_energy value = 5 } } }
				5  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 6  } } } add_deposit = d_energy_6  solar_system = { subtract_variable = { which = resources_standard value = 6  } change_variable = { which = ehof_energy value = 6 } } }
				4  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 7  } } } add_deposit = d_energy_7  solar_system = { subtract_variable = { which = resources_standard value = 7  } change_variable = { which = ehof_energy value = 7 } } }
				3  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 8  } } } add_deposit = d_energy_8  solar_system = { subtract_variable = { which = resources_standard value = 8  } change_variable = { which = ehof_energy value = 8 } } }
				2  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 9  } } } add_deposit = d_energy_9  solar_system = { subtract_variable = { which = resources_standard value = 9  } change_variable = { which = ehof_energy value = 9 } } }
				1  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 10 } } } add_deposit = d_energy_10 solar_system = { subtract_variable = { which = resources_standard value = 10 } change_variable = { which = ehof_energy value = 10 } } }
			}
			set_planet_flag = has_energy_deposit
		}
		1 = {	# physics
			modifier = { factor = 0 has_deposit_for = shipclass_mining_station }
			change_variable = { which = planet_deposits value = 1 }
			random_list = {
				10 = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 1  } } } add_deposit = d_physics_1  solar_system = { subtract_variable = { which = resources_standard value = 1  } change_variable = { which = ehof_physics value = 1 } } }
				9  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 2  } } } add_deposit = d_physics_2  solar_system = { subtract_variable = { which = resources_standard value = 2  } change_variable = { which = ehof_physics value = 2 } } }
				8  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 3  } } } add_deposit = d_physics_3  solar_system = { subtract_variable = { which = resources_standard value = 3  } change_variable = { which = ehof_physics value = 3 } } }
				7  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 4  } } } add_deposit = d_physics_4  solar_system = { subtract_variable = { which = resources_standard value = 4  } change_variable = { which = ehof_physics value = 4 } } }
				6  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 5  } } } add_deposit = d_physics_5  solar_system = { subtract_variable = { which = resources_standard value = 5  } change_variable = { which = ehof_physics value = 5 } } }
				5  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 6  } } } add_deposit = d_physics_6  solar_system = { subtract_variable = { which = resources_standard value = 6  } change_variable = { which = ehof_physics value = 6 } } }
				4  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 7  } } } add_deposit = d_physics_7  solar_system = { subtract_variable = { which = resources_standard value = 7  } change_variable = { which = ehof_physics value = 7 } } }
				3  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 8  } } } add_deposit = d_physics_8  solar_system = { subtract_variable = { which = resources_standard value = 8  } change_variable = { which = ehof_physics value = 8 } } }
				2  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 9  } } } add_deposit = d_physics_9  solar_system = { subtract_variable = { which = resources_standard value = 9  } change_variable = { which = ehof_physics value = 9 } } }
				1  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 10 } } } add_deposit = d_physics_10 solar_system = { subtract_variable = { which = resources_standard value = 10 } change_variable = { which = ehof_physics value = 10 } } }
			}
			set_planet_flag = has_physics_deposit
		}
		1 = {	# society
			modifier = { factor = 0 has_deposit_for = shipclass_mining_station is_star = yes }
			change_variable = { which = planet_deposits value = 1 }
			random_list = {
				10 = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 1  } } } add_deposit = d_society_1  solar_system = { subtract_variable = { which = resources_standard value = 1  } change_variable = { which = ehof_society value = 1 } } }
				9  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 2  } } } add_deposit = d_society_2  solar_system = { subtract_variable = { which = resources_standard value = 2  } change_variable = { which = ehof_society value = 2 } } }
				8  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 3  } } } add_deposit = d_society_3  solar_system = { subtract_variable = { which = resources_standard value = 3  } change_variable = { which = ehof_society value = 3 } } }
				7  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 4  } } } add_deposit = d_society_4  solar_system = { subtract_variable = { which = resources_standard value = 4  } change_variable = { which = ehof_society value = 4 } } }
				6  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 5  } } } add_deposit = d_society_5  solar_system = { subtract_variable = { which = resources_standard value = 5  } change_variable = { which = ehof_society value = 5 } } }
				5  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 6  } } } add_deposit = d_society_6  solar_system = { subtract_variable = { which = resources_standard value = 6  } change_variable = { which = ehof_society value = 6 } } }
				4  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 7  } } } add_deposit = d_society_7  solar_system = { subtract_variable = { which = resources_standard value = 7  } change_variable = { which = ehof_society value = 7 } } }
				3  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 8  } } } add_deposit = d_society_8  solar_system = { subtract_variable = { which = resources_standard value = 8  } change_variable = { which = ehof_society value = 8 } } }
				2  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 9  } } } add_deposit = d_society_9  solar_system = { subtract_variable = { which = resources_standard value = 9  } change_variable = { which = ehof_society value = 9 } } }
				1  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 10 } } } add_deposit = d_society_10 solar_system = { subtract_variable = { which = resources_standard value = 10 } change_variable = { which = ehof_society value = 10 } } }
			}
			set_planet_flag = has_society_deposit
		}
		1 = {	# engineering
			modifier = { factor = 0 has_deposit_for = shipclass_mining_station }
			random_list = {
				10 = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 1  } } } add_deposit = d_engineering_1  solar_system = { subtract_variable = { which = resources_standard value = 1  } change_variable = { which = ehof_engineering value = 1 } } }
				9  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 2  } } } add_deposit = d_engineering_2  solar_system = { subtract_variable = { which = resources_standard value = 2  } change_variable = { which = ehof_engineering value = 2 } } }
				8  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 3  } } } add_deposit = d_engineering_3  solar_system = { subtract_variable = { which = resources_standard value = 3  } change_variable = { which = ehof_engineering value = 3 } } }
				7  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 4  } } } add_deposit = d_engineering_4  solar_system = { subtract_variable = { which = resources_standard value = 4  } change_variable = { which = ehof_engineering value = 4 } } }
				6  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 5  } } } add_deposit = d_engineering_5  solar_system = { subtract_variable = { which = resources_standard value = 5  } change_variable = { which = ehof_engineering value = 5 } } }
				5  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 6  } } } add_deposit = d_engineering_6  solar_system = { subtract_variable = { which = resources_standard value = 6  } change_variable = { which = ehof_engineering value = 6 } } }
				4  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 7  } } } add_deposit = d_engineering_7  solar_system = { subtract_variable = { which = resources_standard value = 7  } change_variable = { which = ehof_engineering value = 7 } } }
				3  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 8  } } } add_deposit = d_engineering_8  solar_system = { subtract_variable = { which = resources_standard value = 8  } change_variable = { which = ehof_engineering value = 8 } } }
				2  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 9  } } } add_deposit = d_engineering_9  solar_system = { subtract_variable = { which = resources_standard value = 9  } change_variable = { which = ehof_engineering value = 9 } } }
				1  = { modifier = { factor = 0 solar_system = { check_variable = { which = resources_standard value < 10 } } } add_deposit = d_engineering_10 solar_system = { subtract_variable = { which = resources_standard value = 10 } change_variable = { which = ehof_engineering value = 10 } } }
			}
			set_planet_flag = has_engineering_deposit
		}
	}
}

# Written by walshicus
round_variable = {
    set_variable = { which = $which$_round_temp value = 0 }
    [[round_up]set_variable = { which = $which$_round_flag_temp value = 1 }]
    [[round_down]set_variable = { which = $which$_round_flag_temp value = -1 }]

    while = {
        count = $value|0$
        multiply_variable = { which = $which$ value = 10 }
    }

	while = {
        limit = { check_variable = { which = $which$ value >= 1 } }
        if = {
            limit = { check_variable = { which = $which$ value >= 10000 } }
            change_variable = { which = $which$_round_temp value = 10000 }
            change_variable = { which = $which$ value = -10000 }
        }
        else_if = {
            limit = { check_variable = { which = $which$ value >= 1000 } }
            change_variable = { which = $which$_round_temp value = 1000 }
            change_variable = { which = $which$ value = -1000 }
        }
        else_if = {
            limit = { check_variable = { which = $which$ value >= 100 } }
            change_variable = { which = $which$_round_temp value = 100 }
            change_variable = { which = $which$ value = -100 }
        }
        else_if = {
            limit = { check_variable = { which = $which$ value >= 10 } }
            change_variable = { which = $which$_round_temp value = 10 }
            change_variable = { which = $which$ value = -10 }
        }
        else = {
            change_variable = { which = $which$_round_temp value = 1 }
            change_variable = { which = $which$ value = -1 }
        }
    }

    if = {
        limit = {
            check_variable = { which = $which$ value > 0 }
            check_variable = { which = $which$_round_flag_temp value = 1 }
        }
        change_variable = { which = $which$_round_temp value = 1 }
        set_variable = { which = $which$ value = 0 }
    }
    else_if = {
        limit = {
            check_variable = { which = $which$ value >= 0.5 }
            check_variable = { which = $which$_round_flag_temp value >= 0 }
        }
        change_variable = { which = $which$_round_temp value = 1 }
        set_variable = { which = $which$ value = 0 }
    }

    set_variable = { which = $which$ value = $which$_round_temp }
    set_variable = { which = $which$_round_temp value = 0 }
    set_variable = { which = $which$_round_flag_temp value = 0 }

    while = {
        count = $value|0$
        divide_variable = { which = $which$ value = 10 }
    }
}