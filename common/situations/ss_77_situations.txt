abyssal_secrets_clearer_view = {
	picture = GFX_evt_surreal_visions
	complete_icon_frame = GFX_situation_outcome_frame_red
	complete_icon = GFX_situation_outcome_unknown
	category = neutral
	on_progress_complete = {
		custom_tooltip = situation_clearer_view_completion_tooltip
		hidden_effect = {
			owner = { country_event = { id = abyssalsecrets.197 days = 200 } country_event = { id = abyssalsecrets.199 } }
		}
	}
	progress_direction = monodirectional
	stages = {
		stage_1 = {
			icon = GFX_situation_stage_1
			icon_background = GFX_situation_stage_frame_blue
			end = 20
			on_first_enter = {
				owner = { country_event = { id = abyssalsecrets.198 days = 30 } }
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_2 = {
			icon = GFX_situation_stage_2
			icon_background = GFX_situation_stage_frame_blue
			end = 40
			on_first_enter = {
				owner = { country_event = { id = abyssalsecrets.150 } }
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_3 = {
			icon = GFX_situation_stage_3
			icon_background = GFX_situation_stage_frame_blue
			end = 60
			on_first_enter = {
				owner = { country_event = { id = abyssalsecrets.150 } }
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_4 = {
			icon = GFX_situation_stage_4
			icon_background = GFX_situation_stage_frame_blue
			end = 80
			on_first_enter = {
				owner = { country_event = { id = abyssalsecrets.151 } }
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_5 = {
			icon = GFX_situation_stage_5
			icon_background = GFX_situation_stage_frame_blue
			end = 100
			on_first_enter = {
				owner = { country_event = { id = abyssalsecrets.130 } }
			}
			custom_tooltip = stage_unknown_effects
		}
	}
	approach = {
		name = situation_clearer_view_encourage
		icon = GFX_situation_approach_research
		icon_background = GFX_situation_approach_bg_red
		allow = {
			custom_tooltip = {
				fail_text = situation_clearer_view_must_have_lab
				owner = { 
					any_owned_planet = {
						has_active_building = building_quantanium_lab
					}
				}
			}
		}
		on_select = {
			custom_tooltip = situation_clearer_view_encourage_tooltip
		}
		resources = {
			category = situations
			upkeep = {
				energy = 25
			}
		}
	}
	approach = {
		name = situation_clearer_view_discourage
		icon = GFX_situation_approach_suspicious
		icon_background = GFX_situation_approach_bg_green
		allow = {
			custom_tooltip = {
				fail_text = situation_clearer_view_must_have_no_lab
				owner = { 
					NOT = { any_owned_planet = { has_active_building = building_quantanium_lab } }
				}
			}
		}
		on_select = {
			custom_tooltip = situation_clearer_view_discourage_tooltip
		}
	}
	approach = {
		name = situation_clearer_view_do_nothing
		icon = GFX_situation_approach_pop
		icon_background = GFX_situation_approach_bg_yellow
		default = yes
		on_select = {
			custom_tooltip = situation_clearer_view_do_nothing_tooltip
		}
		ai_weight = {
			base = 5
		}
	}
	on_monthly = {
	}
	monthly_progress = {
		base = 2
		modifier = {
			add = 2
			desc = ss_situation_clearer_view_encourage_tt
			current_situation_approach = situation_clearer_view_encourage
		}
		modifier = {
			subtract = 2
			desc = ss_situation_clearer_view_discourage_tt
			current_situation_approach = situation_clearer_view_discourage
		}
	}
}



abyssal_secrets_the_end = {
	picture = GFX_evt_ss_the_heart
	complete_icon_frame = GFX_situation_outcome_frame_red
	complete_icon = GFX_situation_outcome_negative
	category = neutral
	on_progress_complete = {
		custom_tooltip = situation_the_end_completion_tooltip
		hidden_effect = {
			owner = {
				if = {
					limit = {
						
					}
					if = {
						limit = {
							AND = {
								is_same_value = event_target:abyssal_child
								has_country_flag = abyssal_secrets_leader_event
							}
						}
						country_event = { id = abyssalsecrets.541 days = 30 } 
					}
					else = {
						country_event = { id = abyssalsecrets.542 } 
					}
				}
			}
		}
	}
	progress_direction = monodirectional
	stages = {
		stage_1 = {
			icon = GFX_situation_stage_1
			icon_background = GFX_situation_stage_frame_blue
			end = 20
			on_first_enter = {
				owner = { country_event = { id = abyssalsecrets.198 days = 30 } }
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_2 = {
			icon = GFX_situation_stage_2
			icon_background = GFX_situation_stage_frame_blue
			end = 40
			on_first_enter = {
				owner = { country_event = { id = abyssalsecrets.150 } }
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_3 = {
			icon = GFX_situation_stage_3
			icon_background = GFX_situation_stage_frame_blue
			end = 60
			on_first_enter = {
				owner = { country_event = { id = abyssalsecrets.150 } }
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_4 = {
			icon = GFX_situation_stage_4
			icon_background = GFX_situation_stage_frame_blue
			end = 80
			on_first_enter = {
				owner = { country_event = { id = abyssalsecrets.151 } }
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_5 = {
			icon = GFX_situation_stage_5
			icon_background = GFX_situation_stage_frame_blue
			end = 100
			on_first_enter = {
				owner = { country_event = { id = abyssalsecrets.130 } }
			}
			custom_tooltip = stage_unknown_effects
		}
	}
	approach = {
		name = situation_clearer_view_encourage
		icon = GFX_situation_approach_research
		icon_background = GFX_situation_approach_bg_red
		allow = {
			custom_tooltip = {
				fail_text = situation_clearer_view_must_have_lab
				owner = { 
					any_owned_planet = {
						has_active_building = building_quantanium_lab
					}
				}
			}
		}
		on_select = {
			custom_tooltip = situation_clearer_view_encourage_tooltip
		}
		resources = {
			category = situations
			upkeep = {
				energy = 25
			}
		}
	}
	approach = {
		name = situation_clearer_view_discourage
		icon = GFX_situation_approach_suspicious
		icon_background = GFX_situation_approach_bg_green
		allow = {
			custom_tooltip = {
				fail_text = situation_clearer_view_must_have_no_lab
				owner = { 
					NOT = { any_owned_planet = { has_active_building = building_quantanium_lab } }
				}
			}
		}
		on_select = {
			custom_tooltip = situation_clearer_view_discourage_tooltip
		}
	}
	approach = {
		name = situation_clearer_view_do_nothing
		icon = GFX_situation_approach_pop
		icon_background = GFX_situation_approach_bg_yellow
		default = yes
		on_select = {
			custom_tooltip = situation_clearer_view_do_nothing_tooltip
		}
		ai_weight = {
			base = 5
		}
	}
	on_monthly = {
	}
	monthly_progress = {
		base = 2
		modifier = {
			add = 2
			desc = ss_situation_clearer_view_encourage_tt
			current_situation_approach = situation_clearer_view_encourage
		}
		modifier = {
			subtract = 2
			desc = ss_situation_clearer_view_discourage_tt
			current_situation_approach = situation_clearer_view_discourage
		}
	}
}



SSAB_the_intro = {
	picture = GFX_evt_ss_the_heart
	complete_icon_frame = GFX_situation_outcome_frame_red
	complete_icon = GFX_situation_outcome_negative
	category = neutral
	on_progress_complete = {
		custom_tooltip = situation_the_end_completion_tooltip
		hidden_effect = {
			event_target:global_event_country = {
				country_event = { id = SSAB.400 }
			}
		}
	}
	progress_direction = monodirectional
	stages = {
		stage_1 = {
			icon = GFX_situation_stage_1
			icon_background = GFX_situation_stage_frame_blue
			end = 25
			on_first_enter = {
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_2 = {
			icon = GFX_situation_stage_2
			icon_background = GFX_situation_stage_frame_blue
			end = 50
			on_first_enter = {
				random_list = {
					10 = { situation_event = { id = SSAB.101 } }
					10 = { situation_event = { id = SSAB.102 } }
					10 = { situation_event = { id = SSAB.103 } }
				}
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_3 = {
			icon = GFX_situation_stage_3
			icon_background = GFX_situation_stage_frame_blue
			end = 75
			on_first_enter = {
				random_list = {
					10 = { situation_event = { id = SSAB.200 } }
				}
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_4 = {
			icon = GFX_situation_stage_4
			icon_background = GFX_situation_stage_frame_blue
			end = 100
			on_first_enter = {
				owner = { country_event = { id = SSAB.300 } }
			}
			custom_tooltip = stage_unknown_effects
		}
	}
	approach = {
		name = SSAB_the_intro_approach
		icon = GFX_situation_approach_research
		icon_background = GFX_situation_approach_bg_red
		on_select = {
			custom_tooltip = SSAB_the_intro_approach_tooltip
		}
	}
	on_monthly = {
	}
	monthly_progress = {
		base = 5
		modifier = {
			add = 5
			desc = SSAB_the_intro_hardmode
			has_global_flag = ss_crisis_hardmode
		}
		modifier = {
			add = 5
			desc = SSAB_the_intro_hardmode
			has_global_flag = ss_crisis_nightmaremode
		}
	}
}

SSAB_the_war = {
	desc = {
		text = SSAB_the_war_desc_01
		trigger = {
			owner = { NOT = { has_country_flag = SSAB_antagonist } }
		}
	}
	desc = {
		text = SSAB_the_war_desc_02
		trigger = {
			owner = { has_country_flag = SSAB_antagonist }
		}
	}
	picture = GFX_evt_ss_the_heart
	category = negative
	complete_icon_frame = GFX_situation_outcome_frame_green
	complete_icon = GFX_situation_outcome_positive
	fail_icon = GFX_situation_outcome_frame_red			
	fail_icon_frame = GFX_situation_outcome_negative
	on_progress_complete = {
		custom_tooltip = SSAB_situation_the_war_complete_tooltip
		hidden_effect = {
			event_target:global_event_country = {
				country_event = { id = SSAB.500 } #The Father is defeated!
			}
		}
	}
	on_fail = {
		custom_tooltip = SSAB_situation_the_war_fail_tooltip
		hidden_effect = {
			event_target:global_event_country = {
				country_event = { id = SSAB.520 } #The Father wins.
			}
		}
	}
	start_value = 50
	progress_direction = bidirectional
	complete_category = positive
	fail_category = negative
	stages = {
		stage_1 = {
			icon = GFX_situation_stage_1
			icon_background = GFX_situation_stage_frame_blue
			end = 25
			on_first_enter = {
				event_target:global_event_country = {
					country_event = { id = SSAB.465 } #FE awakes and joins war.
				}
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_2 = {
			icon = GFX_situation_stage_2
			icon_background = GFX_situation_stage_frame_blue
			end = 50
			on_first_enter = {
			}
			custom_tooltip = stage_unknown_effects
		}
		stage_3 = {
			icon = GFX_situation_stage_3
			icon_background = GFX_situation_stage_frame_blue
			end = 75
			on_first_enter = {
				event_target:global_event_country = {
					country_event = { id = SSAB.470 } #Father steps up game, provides reinforcements.
				}
			}
			custom_tooltip = stage_unknown_effects
		}
	}
	approach = {
		name = SSAB_the_war_approach
		icon = GFX_situation_approach_fleet
		icon_background = GFX_situation_approach_bg_red
		on_select = {
			custom_tooltip = SSAB_the_war_approach_tooltip
		}
	}
	on_monthly = {
	}
	monthly_progress = {
		base = 0
	}
}