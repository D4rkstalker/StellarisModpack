automate_housing_management = {

	available = {
		AND = {
			free_housing < 2
			free_district_slots = 0
		}
	}

	crisis = yes

	buildings = {

		# regular empire
		communal_housing = {
			building = building_communal_housing
			available = {
				AND = {
					num_buildings = { type = building_communal_housing value < 3 }
				}
			}
		}

		luxury_residence = {
			building = building_luxury_residence
			available = {
				AND = {
					num_buildings = { type = building_luxury_residence value < 3 }
				}
			}
		}
		
		# machine
		drone_storage = {
			building = building_drone_storage
			available = {
				AND = {
					owner = { is_gestalt = yes }
					num_buildings = { type = building_drone_storage value < 3 }
				}
			}
		}

		# hive
		hive_warren = {
			building = building_hive_warren
			available = {
				AND = {
					owner = { is_gestalt = yes }
					num_buildings = { type = building_hive_warren value < 3 }
				}
			}
		}
	}
}
