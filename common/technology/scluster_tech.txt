# Filename:		scluster_tech.txt
# Contributors:	SirBlackAxe

@synergistic_weapon_ai_tech_factor = 1.25

tech_space_cloud_weapon_2 = {
	area = physics
	category = { particles }
	tier = 5
	cost = @tier5cost3
	is_rare = yes
	ai_update_type = military

	weight = 0 # @tier5weight3
	# weight_modifier = { factor = 0 } # Can only be reverse engineered from debris
	weight_modifier = {
		modifier = { # Inheritable by released empires (if prereq tech_space_cloud_weapon_1 is also modified to be inheritable)
			add = 1
			has_country_flag = released_empire
			is_subject = yes # exists = overlord
			overlord = { has_technology = tech_space_cloud_weapon_2 }
			# Uninitialized economy means we're less than a month old:
			resource_expenses_compare = {
				resource = food
				value = 0
			}
			resource_expenses_compare = {
				resource = minerals
				value = 0
			}
			resource_expenses_compare = {
				resource = energy
				value = 0
			}
		}
	}

	prerequisites = { "tech_space_cloud_weapon_1" }

	ai_weight = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}
		modifier = {
			factor = 1.25
			has_trait_in_council = { TRAIT = leader_trait_expertise_particles }
		}
		modifier = {
			factor = @favored_weapon_ai_tech_factor
			OR = {
				is_preferred_weapons = weapon_type_energy
				has_valid_civic = civic_hive_cordyceptic_drones
			}
		}
		modifier = {
			factor = @synergistic_weapon_ai_tech_factor
			is_preferred_weapons = weapon_type_strike_craft
		}
		modifier = {
			factor = @disfavored_weapon_ai_tech_factor
			is_preferred_weapons = weapon_type_kinetic
		}
	}
}

# tech_space_cloud_weapon_1 = {
# 	area = physics
# 	cost = @tier2cost3
# 	tier = 2
# 	is_rare = yes
# 	category = { particles }
# 	ai_update_type = military
# 	weight = 0

# 	ai_weight = {
# 		modifier = {
# 			factor = 1.25
# 			has_ethic = ethic_militarist
# 		}
# 		modifier = {
# 			factor = 1.5
# 			has_ethic = ethic_fanatic_militarist
# 		}
# 		modifier = {
# 			factor = 1.25
# 			research_leader = {
# 				area = physics
# 				has_trait = "leader_trait_expertise_particles"
# 			}
# 		}
# 	}
# }
