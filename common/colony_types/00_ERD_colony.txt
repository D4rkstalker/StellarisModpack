# Ecumenpolis Industrial
col_ecu_industrial = {
	icon = GFX_colony_type_industrial

	potential = {
		exists = owner
		owner = { country_uses_consumer_goods = yes }
		uses_district_set = city_world
	}

	planet_modifier = {
		planet_district_industrial_build_speed_mult = 0.25
		planet_artisans_upkeep_mult = -0.10
		planet_metallurgists_upkeep_mult = -0.10
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = 5
			has_designation = col_ecu_industrial
		}
		modifier = {
			add = 5
			num_districts = { type = district_arcology_arms_industry value >= @built_districts_low_threshold }
		}
		modifier = {
			add = 5
			num_districts = { type = district_arcology_arms_industry value >= @built_districts_medium_threshold }
		}
		modifier = {
			add = 5
			num_districts = { type = district_arcology_civilian_industry value >= @built_districts_low_threshold }
		}
		modifier = {
			add = 5
			num_districts = { type = district_arcology_civilian_industry value >= @built_districts_medium_threshold }
		}
		modifier = {
			add = 10
			AND = {
				OR = {
					has_building = building_factory_1
					has_building = building_factory_2
					has_building = building_factory_3
				}
				OR = {
					has_building = building_foundry_1
					has_building = building_foundry_2
					has_building = building_foundry_3
				}
			}
		}
		modifier = {
			factor = 0
			num_districts = { type = district_arcology_civilian_industry value = 0 }
			num_districts = { type = district_arcology_arms_industry value = 0 }
		}
	}
}

# Ecumenpolis Foundry
col_ecu_foundry = {
	icon = GFX_colony_type_foundry

	potential = {
		uses_district_set = city_world
	}

	planet_modifier = {
		planet_building_foundry_1_build_speed_mult = 0.25
		planet_district_arcology_arms_industry_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		base = 10
		modifier = {
			add = 5
			owner = { has_monthly_income = { resource = alloys value < 100 } }
		}
		modifier = {
			add = 5
			has_designation = col_ecu_foundry
		}
		modifier = {
			add = 3
			num_districts = { type = district_arcology_arms_industry value >= 2 }
		}
		modifier = {
			add = 5
			num_districts = { type = district_arcology_arms_industry value >= 3 }
		}
		modifier = {
			add = 2
			has_building = building_foundry_1
		}
		modifier = {
			add = 4
			has_building = building_foundry_2
		}
		modifier = {
			factor = 0
			num_buildings = { type = building_foundry_1 value = 0 }
			num_buildings = { type = building_foundry_2 value = 0 }
		}
	}
}

# Ecumenpolis Factory
col_ecu_factory = {
	icon = GFX_colony_type_factory

	potential = {
		uses_district_set = city_world
		exists = owner
		owner = { country_uses_consumer_goods = yes }
	}

	planet_modifier = {
		planet_building_factory_1_build_speed_mult = 0.25
		planet_district_arcology_arms_industry_build_speed_mult = 0.25
		planet_artisans_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
		}
	}

	weight_modifier = {
		base = 10
		modifier = {
			add = 5
			owner = { has_monthly_income = { resource = consumer_goods value < 5 } }
		}
		modifier = {
			add = 5
			has_designation = col_ecu_factory
		}
		modifier = {
			add = 2
			num_districts = { type = district_arcology_civilian_industry value >= 2 }
		}
		modifier = {
			add = 3
			num_districts = { type = district_arcology_civilian_industry value >= 3 }
		}
		modifier = {
			add = 2
			has_building = building_factory_1
		}
		modifier = {
			add = 4
			has_building = building_factory_2
		}
		modifier = {
			factor = 0
			num_buildings = { type = building_factory_1 value = 0 }
			num_buildings = { type = building_factory_2 value = 0 }
		}
	}
}

# Ecumenpolis Refinery
col_erd_ecu_refinery = {
	icon = GFX_colony_type_refinery

	potential = {
		uses_district_set = city_world
	}


	planet_modifier = {
		planet_refiners_produces_mult = 0.1
		planet_translucers_produces_mult = 0.1
		planet_chemists_produces_mult = 0.1
		planet_district_erd_arcology_refinery_build_speed_mult = 0.25
		planet_building_refinery_build_speed_mult = 0.25
		planet_building_chemical_plant_build_speed_mult = 0.25
		planet_building_crystal_plant_build_speed_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_refiners_produces_mult = 0.05
			planet_translucers_produces_mult = 0.05
			planet_chemists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		base = 10
		modifier = {
			add = 1
			OR = {
				owner = { has_monthly_income = { resource = volatile_motes value < 0 } }
				owner = { has_monthly_income = { resource = exotic_gases value < 0 } }
				owner = { has_monthly_income = { resource = rare_crystals value < 0 } }
			}
		}
		modifier = {
			add = 5
			has_designation = col_erd_ecu_refinery
		}
		modifier = {
			add = 2
			num_districts = { type = district_erd_arcology_refinery value >= 2 }
		}
		modifier = {
			add = 3
			num_districts = { type = district_erd_arcology_refinery value >= 3 }
		}
		modifier = {
			add = 2
			num_buildings = { type = building_refinery value >= 2 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_refinery value >= 3 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_refinery value >= 4 }
		}
		modifier = {
			add = 2
			num_buildings = { type = building_crystal_plant value >= 2 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_crystal_plant value >= 3 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_crystal_plant value >= 4 }
		}
		modifier = {
			add = 2
			num_buildings = { type = building_chemical_plant value >= 2 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_chemical_plant value >= 3 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_chemical_plant value >= 4 }
		}
		modifier = {
			add = 10
				OR = {
					num_buildings = { type = building_refinery value >= 5 }
					num_buildings = { type = building_crystal_plant value >= 5 }
					num_buildings = { type = building_chemical_plant value >= 5 }
				}
		}
	}
}

# Mining Planet
col_arc_mining = {
	icon = GFX_colony_type_mine

	potential = {
		uses_district_set = city_world
	}

	planet_modifier = {
		planet_district_arc_mining_build_speed_mult = 0.25
		planet_miners_produces_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = 1
			num_free_districts = { type = district_arc_mining value < @free_districts_low_threshold }
			num_free_districts = { type = district_arc_farming value < @free_districts_low_threshold }
			num_free_districts = { type = district_arc_generator value > @free_districts_low_threshold }
			num_free_districts = { type = district_arcology_housing value < @small_planet_threshold }
		}
		modifier = {
			add = 3
			num_free_districts = { type = district_arc_mining value < @free_districts_medium_threshold }
			num_free_districts = { type = district_arc_farming value < @free_districts_low_threshold }
			num_free_districts = { type = district_arc_generator value > @free_districts_low_threshold }
			num_free_districts = { type = district_arcology_housing value < @small_planet_threshold }
		}
		modifier = {
			add = 2
			has_designation = col_arc_mining
		}
		modifier = {
			add = 5
			OR = {
				has_modifier = asteroid_belt
				has_modifier = mineral_rich
				has_modifier = ultra_rich
				has_modifier = extensive_moon_system
				has_modifier = asteroid_impacts
			}
		}
		modifier = {
			add = 5
				num_districts = { type = district_arc_mining value >= @built_districts_medium_threshold }
		}
		modifier = {
			factor = 0
			num_districts = { type = district_arc_mining value = 0 }
		}
	}
}

# Farming Planet
col_arc_farming = {
	icon = GFX_colony_type_farm

	potential = {
		uses_district_set = city_world
	}

	planet_modifier = {
		planet_district_arc_farming_build_speed_mult = 0.25
		planet_farmers_produces_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = 1
			num_free_districts = { type = district_arc_mining value < @free_districts_low_threshold }
			num_free_districts = { type = district_arc_farming value < @free_districts_low_threshold }
			num_free_districts = { type = district_arc_generator value > @free_districts_low_threshold }
			num_free_districts = { type = district_arcology_housing value < @small_planet_threshold }
		}
		modifier = {
			add = 3
			num_free_districts = { type = district_arc_mining value < @free_districts_medium_threshold }
			num_free_districts = { type = district_arc_farming value < @free_districts_low_threshold }
			num_free_districts = { type = district_arc_generator value > @free_districts_low_threshold }
			num_free_districts = { type = district_arcology_housing value < @small_planet_threshold }
		}
		modifier = {
			add = 2
			has_designation = col_arc_farming
		}
		modifier = {
			add = 5
			has_modifier = lush_planet
		}
		modifier = {
			factor = 0.1
			has_modifier = bleak_planet
		}
		modifier = {
			add = 5
				num_districts = { type = district_arc_farming value >= @built_districts_medium_threshold }
		}
		modifier = {
			factor = 0
			num_districts = { type = district_arc_farming value = 0 }
		}
	}
}

# Generator Planet
col_arc_generator = {
	icon = GFX_colony_type_generator

	potential = {
		uses_district_set = city_world
	}

	planet_modifier = {
		planet_district_arc_generator_build_speed_mult = 0.25
		planet_technician_produces_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = 1
			num_free_districts = { type = district_arc_mining value < @free_districts_low_threshold }
			num_free_districts = { type = district_arc_farming value < @free_districts_low_threshold }
			num_free_districts = { type = district_arc_generator value > @free_districts_low_threshold }
			num_free_districts = { type = district_arcology_housing value < @small_planet_threshold }
		}
		modifier = {
			add = 3
			num_free_districts = { type = district_arc_mining value < @free_districts_medium_threshold }
			num_free_districts = { type = district_arc_farming value < @free_districts_low_threshold }
			num_free_districts = { type = district_arc_generator value > @free_districts_low_threshold }
			num_free_districts = { type = district_arcology_housing value < @small_planet_threshold }
		}
		modifier = {
			add = 2
			has_designation = col_arc_generator
		}
		modifier = {
			add = 5
			OR = {
				has_modifier = hazardous_weather
				has_modifier = strong_magnetic_field
			}
		}
		modifier = {
			add = 5
				num_districts = { type = district_arc_generator value >= @built_districts_medium_threshold }
		}
		modifier = {
			factor = 0
			num_districts = { type = district_arc_generator value = 0 }
		}
	}
}

# Ecumenpolis Research
col_ecu_research = {
	icon = GFX_colony_type_research

	potential = {
		uses_district_set = city_world
	}

	planet_modifier = {
		planet_district_arc_science_build_speed_mult = 0.25
		planet_building_research_lab_1_build_speed_mult = 0.25
		planet_researchers_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	weight_modifier = {
		base = 10
		modifier = {
			add = 5
			owner = { has_monthly_income = { resource = physics_research value < 200 } }
			owner = { has_monthly_income = { resource = society_research value < 200 } }
			owner = { has_monthly_income = { resource = engineering_research value < 200 } }
		}
		modifier = {
			add = 5
			has_designation = col_ecu_research
		}
		modifier = {
			add = 2
			num_districts = { type = district_arc_science value >= 2 }
		}
		modifier = {
			add = 3
			num_districts = { type = district_arc_science value >= 3 }
		}
		modifier = {
			add = 1
			num_buildings = { type = building_research_lab_1 value >= 2 }
		}
		modifier = {
			add = 2
			num_buildings = { type = building_research_lab_1 value >= 3 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_research_lab_1 value >= 4 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_research_lab_1 value >= 5 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_research_lab_2 value >= 1 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_research_lab_2 value >= 2 }
		}
		modifier = {
			add = 5
			num_buildings = { type = building_research_lab_3 value >= 1 }
		}
	}
}

# Fortress Planet
col_arc_fortress = {
	icon = GFX_colony_type_fortress

	potential = {
		uses_district_set = city_world
	}

	planet_modifier = {
		planet_district_arc_fortress_build_speed_mult = 0.25
		planet_buildings_strongholds_cost_mult = -0.20
		planet_orbital_bombardment_damage = -0.10
		army_defense_damage_mult = 0.20
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	weight_modifier = {
		modifier = {
			add = 5
			has_designation = col_arc_fortress
		}
		modifier = {
			add = 2
			num_districts = { type = district_arc_fortress value >= 2 }
		}
		modifier = {
			add = 3
			num_districts = { type = district_arc_fortress value >= 3 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_stronghold value >= 2 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_stronghold value >= 3 }
		}
		modifier = {
			add = 5
			num_buildings = { type = building_stronghold value >= 4 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_fortress value >= 1 }
		}
		modifier = {
			add = 5
			num_buildings = { type = building_fortress value >= 2 }
		}
	}
}

col_arc_trade = {
	icon = GFX_colony_type_urban
	
	potential = {
		uses_district_set = city_world
		exists = owner
		owner = { is_gestalt = no }
	}

	planet_modifier = {
		planet_district_arc_trade_build_speed_mult = 0.25
		trade_value_mult = 0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	weight_modifier = {
		modifier = {
			add = 100
			has_designation = col_arc_trade
		}
		modifier = {
			add = 200
			is_capital = no
			num_districts = { type = district_arc_trade value >= 1 }
		}
	}
}