@minor_artifact_decision_cost = 100
@minor_artifact_decision_duration = 3600
@minor_artifact_ai_threshold = 200

artifact_arcane_deciphering = {
	resources = {
		category = artifact_actions
		cost = {
			minor_artifacts = 500
		}
	}

	ai_weight = {
		weight = 100
	}

	potential = {
		has_technology = tech_arcane_deciphering
	}

	allow = {
		custom_tooltip = {
			fail_text = "requires_arcane_deciphering_no_cooldown"
			NOT = { has_modifier = arcane_deciphering_cooldown }
		}
	}

	effect = {
		custom_tooltip = artifact_arcane_deciphering_effect
		hidden_effect = {
			if = {
				limit = {
					is_ai = no
					NOT = { has_country_flag = arcana_achievement }
				}
				set_country_flag = arcana_achievement
			}
			add_modifier = {
				modifier = "arcane_deciphering_cooldown"
				days = 720
			}
			owner = {
				if = { #EMEX begin
					limit = { 
						OR = {
							has_valid_civic = civic_antique_purveyors
							has_valid_civic = civic_antique_appropriators
							has_valid_civic = civic_antique_purveyors_ancrel
							has_valid_civic = civic_antique_appropriators_ancrel
						}
					}
					country_event = { id = emex_civic.40 }
				}
				else = {
					country_event = { id = ancrel.10000 }
				} #EMEX end
			}
		}
	}
}

artifact_sell_collector = {
	resources = {
		category = artifact_actions
		cost = {
			minor_artifacts = 50
		}
	}

	ai_weight = {
		weight = 100
		modifier = {
			factor = 0
			has_resource = { type = energy amount > 5000 }
		}
		modifier = {
			factor = 0
			has_resource = { type = minor_artifacts amount < @minor_artifact_ai_threshold }
		}
	}

	potential = {
		is_gestalt = no
	}

	effect = {
		if = { #EMEX begin
			limit = { 
				OR = {
					has_valid_civic = civic_antique_purveyors
					has_valid_civic = civic_antique_appropriators
					has_valid_civic = civic_antique_purveyors_ancrel
					has_valid_civic = civic_antique_appropriators_ancrel
				}
			}
			add_resource = { energy = 1000 }
		}
		else = {
			add_resource = { energy = 500 }
		} #EMEX end
		hidden_effect = {
			add_modifier = {
				modifier = "artifact_sell_cooldown"
				days = 180
			}
		}
	}
	allow = { NOT = { has_modifier = artifact_sell_cooldown } }
}