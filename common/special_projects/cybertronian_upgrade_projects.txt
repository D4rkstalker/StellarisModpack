# The Great Upgrade Project

# Beast Era Upgrade
special_project = {
	key = "BW_GREAT_UPGRADE_PROJECT"
	cost = {
		base = 500
		scaled_modifier = {
			limit = {
			}
			scope = this
			add = 100
			calc = pop_count
		}
	}
	tech_department = engineering_technology
	icon = "gfx/interface/icons/situation_log/situation_log_main_quest.dds"
	picture = GFX_evt_the_great_upgrade

	event_scope = planet_event

	requirements = {
	}

	on_success = {
		# use event target so a capital-conquering country is not affected
		event_target:beast_era_upgrade_owner = {
			country_event = { id = great_upgrade.2 }
		}
	}

	on_fail = {
	}
}

# TransTech Upgrade
special_project = {
	key = "TRANSTECH_UPGRADE_PROJECT"
	cost = {
		base = 1000
		scaled_modifier = {
			limit = {
			}
			scope = this
			add = 200
			calc = pop_count
		}
	}
	tech_department = engineering_technology
	icon = "gfx/interface/icons/situation_log/situation_log_main_quest.dds"
	picture = GFX_evt_the_great_upgrade

	event_scope = planet_event

	requirements = {
	}

	on_success = {
		event_target:transtech_upgrade_owner = {
			country_event = { id = great_upgrade.3 }
		}
	}

	on_fail = {
	}
}


#ALLSPARK LOCATION

# Theta Scorpii System
special_project = {
	key = "ALLSPARK_PROJECT"
	event_chain = "allspark_reclamation_chain"
	cost = 0
	days_to_research = 60
	tech_department = society_technology
	picture = GFX_evt_allspark
	icon = "gfx/interface/icons/situation_log/situation_log_precursor.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		if = {
			limit = {
				NOT = { has_global_flag = allspark_found }
				FROM = { is_colony = no }
			}
			ship_event = { id = cybertron_shutdown.15 }
		}
		#else = {
		#	ship_event = { id = precursor.102 }
		#}
	}

	on_fail = {
	}
}