
ag_living_metal_fabricator = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = ag_living_metal_forge_alt
	clothes_texture_index = 3

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = { hidden_trigger = { exists = owner } owner = { is_gestalt = no } }

	resources = {
		category = ag_planet_living_metal_job
		produces = { sr_living_metal = @ag_living_metal_fabricator_produce }
		upkeep = { energy = 4 alloys = 4 }
		upkeep = {
			trigger = {
				exists = owner
				owner = { has_edict = ag_living_metal_subsidies }
			}
			energy = 2
		}
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_modifier|JOB|ag_living_metal_fabricator|RESOURCE|sr_living_metal|
		modifier = { factor = 2 is_enslaved = yes can_take_servant_job = no }
		modifier = { factor = 5 has_job = ag_living_metal_fabricator }
	}
}
ag_living_metal_fabricator_gestalt = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = ag_living_metal_forge_alt

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job
	possible = { NOT = { has_trait = trait_nerve_stapled } }

	resources = {
		category = ag_planet_living_metal_job
		produces = { sr_living_metal = @ag_living_metal_fabricator_produce }
		upkeep = { energy = 4 alloys = 4 }
		upkeep = {
			trigger = {
				exists = owner
				owner = { has_edict = ag_living_metal_subsidies_gestalt }
			}
			energy = 2
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|ag_living_metal_fabricator_gestalt|RESOURCE|sr_living_metal|
	}
}
ag_nanites_assembler = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = ag_nanites_assembly_plant_alt
	clothes_texture_index = 3

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = { hidden_trigger = { exists = owner } owner = { is_gestalt = no } }

	resources = {
		category = ag_planet_nanites_job
		produces = { nanites = @ag_nanites_assembler_produce }
		upkeep = { alloys = 2 rare_crystals = 1 }
		upkeep = {
			trigger = {
				exists = owner
				owner = { has_edict = ag_nanites_subsidies }
			}
			energy = 2
		}
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_modifier|JOB|ag_nanites_assembler|RESOURCE|nanites|
		modifier = { factor = 2 is_enslaved = yes can_take_servant_job = no }
		modifier = { factor = 5 has_job = ag_nanites_assembler }
	}
}
ag_nanites_assembler_gestalt = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = ag_nanites_assembly_plant_alt

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_drone_job
	possible = { NOT = { has_trait = trait_nerve_stapled } }

	resources = {
		category = ag_planet_nanites_job
		produces = { nanites = @ag_nanites_assembler_produce }
		upkeep = { alloys = 2 rare_crystals = 1 }
		upkeep = {
			trigger = {
				exists = owner
				owner = { has_edict = ag_nanites_subsidies_gestalt }
			}
			energy = 2
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|ag_nanites_assembler_gestalt|RESOURCE|nanites|
	}
}
ag_dark_matter_fabricator = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = ag_dark_matter_plant_alt
	clothes_texture_index = 3

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = { hidden_trigger = { exists = owner } owner = { is_gestalt = no } }

	resources = {
		category = ag_planet_dark_matter_job
		produces = { sr_dark_matter = @ag_dark_matter_fabricator_produce }
		upkeep = { energy = 25 }
		upkeep = {
			trigger = {
				exists = owner
				owner = { has_edict = ag_dark_matter_subsidies }
			}
			energy = 2
		}
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_modifier|JOB|ag_dark_matter_fabricator|RESOURCE|sr_dark_matter|
		modifier = { factor = 2 is_enslaved = yes can_take_servant_job = no }
		modifier = { factor = 5 has_job = ag_dark_matter_fabricator }
	}
}
ag_dark_matter_fabricator_gestalt = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = ag_dark_matter_plant_alt

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job
	possible = { NOT = { has_trait = trait_nerve_stapled } }

	resources = {
		category = ag_planet_dark_matter_job
		produces = { sr_dark_matter = @ag_dark_matter_fabricator_produce }
		upkeep = { energy = 25 }
		upkeep = {
			trigger = {
				exists = owner
				owner = { has_edict = ag_dark_matter_subsidies_gestalt }
			}
			energy = 2
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|ag_dark_matter_fabricator_gestalt|RESOURCE|sr_dark_matter|
	}
}
ag_zro_refiner = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = ag_zro_refinery_alt
	clothes_texture_index = 3

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = { hidden_trigger = { exists = owner } owner = { is_gestalt = no } }

	resources = {
		category = ag_planet_zro_job
		produces = { sr_zro = @ag_zro_refiner_produce }
		upkeep = { energy = 10 exotic_gases = 1 }
		upkeep = {
			trigger = {
				exists = owner
				owner = { has_edict = ag_zro_subsidies }
			}
			energy = 2
		}
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_modifier|JOB|ag_zro_refiner|RESOURCE|sr_zro|
		modifier = { factor = 2 is_enslaved = yes can_take_servant_job = no }
		modifier = { factor = 5 has_job = ag_zro_refiner }
	}
}
ag_zro_refiner_gestalt = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = ag_zro_refinery_alt

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job
	possible = { NOT = { has_trait = trait_nerve_stapled } }

	resources = {
		category = ag_planet_zro_job
		produces = { sr_zro = @ag_zro_refiner_produce }
		upkeep = { energy = 10 exotic_gases = 1 }
		upkeep = {
			trigger = {
				exists = owner
				owner = { has_edict = ag_zro_subsidies_gestalt }
			}
			energy = 2
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|ag_zro_refiner_gestalt|RESOURCE|sr_zro|
	}
}

ag_living_metal_miner = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = ag_mining_station
	clothes_texture_index = 3

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = { hidden_trigger = { exists = owner } owner = { is_gestalt = no } }

	resources = {
		category = planet_miners
		produces = { sr_living_metal = @ag_living_metal_miner_produce }
		upkeep = {
			trigger = { exists = owner owner = { has_edict = mining_subsidies } }
			energy = 0.5
		}
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_modifier|JOB|ag_living_metal_miner|RESOURCE|sr_living_metal|
		modifier = {
			factor = 10
			is_enslaved = yes
			can_take_servant_job = no
			NOT = { has_slavery_type = { type = slavery_indentured } }
		}
		modifier = {
			factor = 2
			OR = {
				is_non_sapient_robot = yes
				is_shackled_robot = yes
			}
			can_take_servant_job = no
			owner = { has_technology = tech_droid_workers }
		}
		modifier = {
			factor = 200
			OR = {
				is_non_sapient_robot = yes
				is_shackled_robot = yes
			}
			can_take_servant_job = no
			owner = { NOT = { has_technology = tech_droid_workers } }
		}
		modifier = {
			factor = 0.1
			can_take_servant_job = yes
		}
	}
}
ag_living_metal_miner_gestalt = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = ag_mining_station

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job
	possible = { NOT = { has_trait = trait_nerve_stapled } }

	resources = {
		category = planet_miners
		produces = { sr_living_metal = @ag_living_metal_miner_produce }
		upkeep = { energy = 1 }
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|ag_living_metal_miner_gestalt|RESOURCE|sr_living_metal|
	}
}
ag_nanites_miner = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = ag_mining_station
	clothes_texture_index = 3

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = { hidden_trigger = { exists = owner } owner = { is_gestalt = no } }

	resources = {
		category = planet_miners
		produces = { nanites = @ag_nanites_miner_produce }
		upkeep = {
			trigger = { exists = owner owner = { has_edict = mining_subsidies } }
			energy = 0.5
		}
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_modifier|JOB|ag_nanites_miner|RESOURCE|nanites|
		modifier = {
			factor = 10
			is_enslaved = yes
			can_take_servant_job = no
			NOT = { has_slavery_type = { type = slavery_indentured } }
		}
		modifier = {
			factor = 2
			OR = {
				is_non_sapient_robot = yes
				is_shackled_robot = yes
			}
			can_take_servant_job = no
			owner = { has_technology = tech_droid_workers }
		}
		modifier = {
			factor = 200
			OR = {
				is_non_sapient_robot = yes
				is_shackled_robot = yes
			}
			can_take_servant_job = no
			owner = { NOT = { has_technology = tech_droid_workers } }
		}
		modifier = {
			factor = 0.1
			can_take_servant_job = yes
		}
	}
}
ag_nanites_miner_gestalt = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = ag_mining_station

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job
	possible = { NOT = { has_trait = trait_nerve_stapled } }

	resources = {
		category = planet_miners
		produces = { nanites = @ag_nanites_miner_produce }
		upkeep = { energy = 1 }
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|ag_nanites_miner_gestalt|RESOURCE|nanites|
	}
}
ag_dark_matter_miner = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = ag_mining_station
	clothes_texture_index = 3

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = { hidden_trigger = { exists = owner } owner = { is_gestalt = no } }

	resources = {
		category = planet_miners
		produces = { sr_dark_matter = @ag_dark_matter_miner_produce }
		upkeep = {
			trigger = { exists = owner owner = { has_edict = mining_subsidies } }
			energy = 0.5
		}
	}

	weight = {
		weight = @specialist_job_weight
		mult = value:job_weights_modifier|JOB|ag_dark_matter_miner|RESOURCE|sr_dark_matter|
		modifier = {
			factor = 10
			is_enslaved = yes
			can_take_servant_job = no
			NOT = { has_slavery_type = { type = slavery_indentured } }
		}
		modifier = {
			factor = 2
			OR = {
				is_non_sapient_robot = yes
				is_shackled_robot = yes
			}
			can_take_servant_job = no
			owner = { has_technology = tech_droid_workers }
		}
		modifier = {
			factor = 200
			OR = {
				is_non_sapient_robot = yes
				is_shackled_robot = yes
			}
			can_take_servant_job = no
			owner = { NOT = { has_technology = tech_droid_workers } }
		}
		modifier = {
			factor = 0.1
			can_take_servant_job = yes
		}
	}
}
ag_dark_matter_miner_gestalt = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = ag_mining_station

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job
	possible = { NOT = { has_trait = trait_nerve_stapled } }

	resources = {
		category = planet_miners
		produces = { sr_dark_matter = @ag_dark_matter_miner_produce }
		upkeep = { energy = 1 }
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|ag_dark_matter_miner_gestalt|RESOURCE|sr_dark_matter|
	}
}
