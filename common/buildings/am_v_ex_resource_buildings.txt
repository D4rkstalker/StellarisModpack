building_mineral_replication_hub = {
	base_buildtime = 480
	can_build = no
	category = resource
	
	potential = {
		exists = owner
		owner = { has_monthly_income = { resource = sr_dark_matter value > 0 }}	
	}
	
	allow = {
		has_upgraded_capital = yes
		exists = owner
		owner = { has_monthly_income = { resource = sr_dark_matter value > 0 }}
	}
		
	planet_modifier = {
		planet_miners_minerals_produces_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_miner_add = 2
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_mining_drone_add = 2
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_robot_empire = yes
			}
		}
		modifier = {
			planet_miners_minerals_produces_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_robot_empire = yes
			}
			NOR  = {
				is_planet_class = pc_habitat
				is_planet_class = pc_machine
				is_planet_class = pc_hive
				is_planet_class = pc_city
			}
		}
		modifier = {
			district_mining_max = 4
		}
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 500
			volatile_motes = 50
			sr_dark_matter = 100
		}
		cost = {
			trigger = {
				owner = { 
					is_robot_empire = yes
				}
			}
			minerals = 300
			alloys = 150
		}
		upkeep = {
			energy = 1
			volatile_motes = 1
			sr_dark_matter = 1
		}
		produces = {
			minerals = 25
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_mining_drone_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = no }
		}
		text = job_miner_effect_desc
	}
	
	ai_weight = {
		weight = 0
	}

	ai_resource_production = {
		minerals = 3
		trigger = {
			always = yes
		}
	}
}

building_resource_silo_2 = {
	base_buildtime = 360
	can_build = no

	category = resource

	potential = {
		NOR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}

	allow = {
		buildings_simple_allow = yes
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_clerk_add = 4
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_maintenance_drone_add = 2
		}
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 400
		}
		upkeep = {
			energy = 2
		}
	}

	country_modifier = {
		country_resource_max_add = 4000
	}
	
	upgrades = {
		building_resource_silo_3
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_maintenance_drone_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = no }
		}
		text = job_clerk_effect_desc
	}
	
	prerequisites = {
		"tech_alloys_2"
	}

	ai_weight = {
		weight = 5
	}
}

building_resource_silo_3 = {
	base_buildtime = 360
	can_build = no

	category = resource

	potential = {
		NOR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}

	allow = {
		buildings_simple_allow = yes
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_clerk_add = 8
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_maintenance_drone_add = 4
		}
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 4
		}
	}

	country_modifier = {
		country_resource_max_add = 8000
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_maintenance_drone_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = no }
		}
		text = job_clerk_effect_desc
	}
	
	prerequisites = {
		"tech_mega_foundries"
	}

	ai_weight = {
		weight = 5
	}
}