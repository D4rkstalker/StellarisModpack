building_actinides_mine = {
	base_buildtime = 360

	is_capped_by_modifier = yes

	category = resource
	
	potential = {
		NOT = { has_modifier = resort_colony }
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_fuel_processor_add = 1
			job_actinides_utiliser_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_fuel_processor_drone_add = 1
			job_actinides_utiliser_drone_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_valid_civic = civic_children_of_the_atom }
		}
		modifier = {
			job_researcher_add = 1
		}
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 2
		}
		produces = {
			trigger = { 
				planet = { 
					not = { has_planet_flag = pf_actinides_to_motes }
				}
			}
			sr_actinides = 3
			sr_natural_fuels = 1
			sr_waste = 3
		}
		produces = {
			trigger = { 
				planet = { 
					has_planet_flag = pf_actinides_to_motes
				}
			}
			volatile_motes = 1
			sr_actinides = 2
			sr_natural_fuels = 1
			sr_waste = 3
		}
	}	
	
	ai_weight = {
		weight = 25
		modifier = {
			weight = 0
			or = {
				is_young_colony = yes
				owner = { has_monthly_income = { resource = sr_actinides value > 20 }}
			}
		}
		modifier = {
			factor = 2
			owner = { has_monthly_income = { resource = sr_actinides value <= 3 }}
		}
		modifier = {
			factor = 2
			free_jobs < 5
			has_modifier = rich_actinides
		}
		modifier = {
			factor = 2
			owner = { is_machine_empire = yes }
		}
	}
}

building_biomass_sourcer = {
	base_buildtime = 360

	is_capped_by_modifier = yes

	category = resource
	
	potential = {
		NOT = { has_modifier = resort_colony }
		owner = { is_machine_empire = no }
	}
	
	allow = {
		exists = owner
		owner = { not = { has_policy_flag = alp_ecology_max_protection }}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_biomass_processor_add = 2
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_biomass_processor_drone_add = 2
		}
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 1
		}
		produces = {
			sr_biomass = 5
			food = 3
		}
	}	
	
	ai_weight = {
		weight = 3
		modifier = {
			weight = 0
			exists = owner
			owner = { has_monthly_income = { resource = food value > 0 }}
			or = {
				free_jobs > 5
				is_young_colony = yes
				owner = { has_monthly_income = { resource = sr_biomass value > 50 }}
			}				
		}
		modifier = {
			factor = 2
			owner = { has_monthly_income = { resource = sr_biomass value < 10 }}
		}		
	}
}

building_fuel_sourcer = {
	base_buildtime = 360

	is_capped_by_modifier = yes

	category = resource
	
	potential = {
		NOT = { has_modifier = resort_colony }
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_valid_civic = civic_fury_road }
		}
		modifier = {
			planet_housing_add = 2
			job_soldier_add = 2
			planet_crime_add = 10
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
			owner = { not = { has_valid_civic = civic_fury_road }}
		}
		modifier = {
			job_fuel_processor_add = 2
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_valid_civic = civic_freedom_molecules }
		}
		modifier = {
			job_merchant_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
			owner = { has_valid_civic = civic_fury_road }
		}
		modifier = {
			job_fuel_processor_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_fuel_processor_drone_add = 2
		}
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 1
		}
		produces = {
			sr_natural_fuels = 5
			sr_waste = 3
		}
	}	
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			basics_are_met = yes
			exists = owner
			owner = { has_monthly_income = { resource = sr_natural_fuels value < 20 }}
		}
		modifier = {
			factor = 2
			free_jobs < 4
			has_modifier = rich_natural_fuels
		}
		modifier = {
			factor = 3
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			weight = 0
			exists = owner
			owner = { has_monthly_income = { resource = sr_natural_fuels value > 50 }
			}
		}
	}
}

building_desalinator = {
	base_buildtime = 360

	is_capped_by_modifier = yes

	category = resource
	
	potential = {
		NOT = { is_planet_class = pc_machine }
		owner = { is_machine_empire = no }
	}
	
	destroy_trigger = {
		exists = owner
		owner = { is_ai = yes }
		free_building_slots < 1
		free_jobs > 3
		has_ice_income_more_9 = yes
		num_districts = { type = district_farming value < 2 }
	}
	
	planet_modifier = {
		planet_amenities_add = 2
		planet_farmers_food_produces_mult = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_water_processor_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_water_processor_drone_add = 1
		}
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 1
		}
		produces = {
			sr_ice = 1
			sr_waste = 2
		}
	}

	on_built = {
		planet = { 
			change_variable = {
				which = "built_water_source" 
				value = 1
			}
		}
	}

	on_destroy = {
		planet = { 
			change_variable = {
				which = "built_water_source" 
				value = -1
			}
		}
	}	
	
	ai_weight = {
		weight = 3
		modifier = {
			factor = 0
			has_plenty_ice = yes
			or = {
				has_room_to_spare = no
				needs_more_amenities = no
				is_doing_farming = no
				num_buildings = { type = building_desalinator value > 0 }
			}
		}
		modifier = { factor = 1.5 needs_more_amenities = yes }
		modifier = { factor = 2.0 is_doing_farming = yes }
		modifier = { factor = 2.0 has_plenty_ice = no }
	}
}

building_reservoir = {
	base_buildtime = 360

	is_capped_by_modifier = yes

	category = resource
	
	potential = {
		NOT = { is_planet_class = pc_machine }
		owner = { is_machine_empire = no }
	}
	
	destroy_trigger = {
		exists = owner
		owner = { is_ai = yes }
		free_building_slots < 1
		free_jobs > 3
		has_ice_income_more_9 = yes
		num_districts = { type = district_farming value < 2 }
	}
	
	planet_modifier = {
		planet_amenities_add = 3
		planet_farmers_food_produces_mult = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_water_processor_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_water_processor_drone_add = 1
		}
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 1
		}
		produces = {
			sr_ice = 1
		}
	}

	on_built = {
		planet = { 
			change_variable = {
				which = "built_water_source" 
				value = 1
			}
		}
	}

	on_destroy = {
		planet = { 
			change_variable = {
				which = "built_water_source" 
				value = -1
			}
		}
	}	
	
	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			has_plenty_ice = yes
			or = {
				has_room_to_spare = no
				needs_more_amenities = no
				is_doing_farming = no
			}
		}
		modifier = { factor = 1.5 needs_more_amenities = yes }
		modifier = { factor = 1.5 is_doing_farming = yes }
		modifier = { factor = 3.0 has_plenty_ice = no }
	}
}

building_water_excavator = {
	base_buildtime = 360
	is_capped_by_modifier = yes
	category = resource
	
	potential = {
		NOT = { is_planet_class = pc_machine }
		owner = { is_machine_empire = no }
	}
	
	destroy_trigger = {
		exists = owner
		owner = { is_ai = yes }
		free_building_slots < 1
		free_jobs > 3
		has_ice_income_more_9 = yes
		num_districts = { type = district_farming value < 2 }
	}
	
	planet_modifier = {
		planet_amenities_add = 2
		planet_farmers_food_produces_mult = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_water_processor_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_water_processor_drone_add = 1
		}
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 1
		}
		produces = {
			sr_ice = 1
		}
	}
	
	on_built = {
		planet = { 
			change_variable = {
				which = "built_water_source" 
				value = 1
			}
		}
	}

	on_destroy = {
		planet = { 
			change_variable = {
				which = "built_water_source" 
				value = -1
			}
		}
	}
	
	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			has_plenty_ice = yes
			or = {
				has_room_to_spare = no
				needs_more_amenities = no
				is_doing_farming = no
				num_buildings = { type = building_water_excavator value > 0 }
			}
		}
		modifier = { factor = 1.5 needs_more_amenities = yes }
		modifier = { factor = 2.0 is_doing_farming = yes }
		modifier = { factor = 3.0 has_plenty_ice = no }
	}
}

building_hydro_plant = {
	base_buildtime = 360
	
	is_capped_by_modifier = yes

	category = resource
	
	potential = {
		NOT = { is_planet_class = pc_machine }
		owner = { is_machine_empire = no }
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		produces = {
			energy = 6
			sr_ice = 1
		}
		produces = {
			trigger = { 
				planet = {
					exists = owner
					owner = {
						has_policy_flag = alp_renewable_power_focus
					}
				}
			}
			unity = 1
		}
	}
	
	planet_modifier = {
		planet_amenities_add = 5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_technician_add = 1
			job_water_processor_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_technician_drone_add = 1
			job_water_processor_drone_add = 1
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_technician_drone_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = no }
		}
		text = job_technician_effect_desc
	}
	
	on_built = {
		planet = { 
			change_variable = {
				which = "built_water_source" 
				value = 1
			}
		}
	}

	on_destroy = {
		planet = { 
			change_variable = {
				which = "built_water_source" 
				value = -1
			}
		}
	}
	
	ai_weight = {
		weight = 3
		modifier = { factor = 2	has_plenty_ice = no }
		modifier = { factor = 2	has_plenty_energy = no }
		modifier = { factor = 2	needs_more_jobs = yes }
		modifier = { factor = 2	needs_more_amenities = yes }
		modifier = {
			factor = 2
			has_designation = col_generator 
		}
		modifier = { 
			weight = 0
			or = {
				is_young_colony = yes
				basics_are_met = no
				and = {
					has_plenty_ice = yes
					has_plenty_energy = yes
					needs_more_jobs = no
					needs_more_amenities = no
				}
			}
		}
	}
}

building_solar_power_plant = {
	base_buildtime = 360
	
	is_capped_by_modifier = yes

	category = resource
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		produces = {
			energy = 7
		}
		produces = {
			trigger = { 
				planet = {
					exists = owner
					owner = {
						has_policy_flag = alp_renewable_power_focus
					}
				}
			}
			unity = 1
		}
	}
	
	planet_modifier = {
		planet_amenities_add = 5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_technician_add = 2
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_technician_drone_add = 2
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_technician_drone_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = no }
		}
		text = job_technician_effect_desc
	}
	
	ai_weight = {
		weight = 1
		modifier = { factor = 2	has_plenty_energy = no }
		modifier = { factor = 2	needs_more_jobs = yes }
		modifier = { factor = 2	needs_more_amenities = yes }
		modifier = {
			factor = 3
			owner = { is_machine_empire = yes }
		}
		modifier = {
			factor = 2
			has_designation = col_generator 
		}
		modifier = { 
			weight = 0
			or = {
				is_young_colony = yes
				basics_are_met = no
				and = {
					has_plenty_energy = yes
					needs_more_jobs = no
					needs_more_amenities = no
				}
			}
		}
	}
}

building_geothermal_tap = {
	base_buildtime = 360
	
	is_capped_by_modifier = yes

	category = resource
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		produces = {
			energy = 7
			engineering_research = 2
		}
		produces = {
			trigger = { 
				planet = {
					exists = owner
					owner = {
						has_policy_flag = alp_renewable_power_focus
					}
				}
			}
			unity = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_technician_add = 2
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_technician_drone_add = 2
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_technician_drone_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = no }
		}
		text = job_technician_effect_desc
	}
	
	ai_weight = {
		weight = 2
		modifier = { factor = 2	has_plenty_energy = no }
		modifier = { factor = 2	needs_more_jobs = yes }
		modifier = { factor = 2	needs_more_amenities = yes }
		modifier = {
			factor = 3
			owner = { is_machine_empire = yes }
		}
		modifier = {
			factor = 2
			has_designation = col_generator 
		}
		modifier = { 
			weight = 0
			or = {
				is_young_colony = yes
				basics_are_met = no
				and = {
					has_plenty_energy = yes
					needs_more_jobs = no
					needs_more_amenities = no
				}
			}
		}
	}
}