##################################################
building_yanz_rs_origin = {
	base_buildtime = 360
	category = unity
	
	empire_limit = {
		base = 1
	}

	potential = {
		exists = owner
		owner = { has_origin = origin_yanz_rs }
	}

	destroy_trigger = {
		exists = owner
		NOT = { owner = { has_origin = origin_yanz_rs } }
	}

	convert_to = {
		building_paradise_dome
		building_communal_housing_large
	}

	planet_modifier = {
		planet_amenities_add = 50
		job_bio_trophy_add = 50
		job_artisan_drone_add = 5
	}

    triggered_planet_modifier = {
       	potential = {
           		exists = owner
           		owner = { has_valid_civic = civic_machine_servitor }
       	}
       	modifier = {
			job_bio_trophy_per_pop = 0.05
			pop_happiness = 0.10
			planet_bio_trophies_society_research_produces_add = 3
			planet_bio_trophies_unity_produces_add = 1
       	}
    }
		
	resources = {
		category = planet_buildings
		produces = { influence = 1}
		cost = {
			minerals = 1000
			alloys = 1000
			food = 1000
		}
		upkeep = {
			energy = 50
		}
	}

	triggered_desc = {
		text = job_bio_trophy_effect_desc
	}

	triggered_desc = {
		text = job_artisan_drone_effect_desc
	}

	show_tech_unlock_if = {
		owner = { has_valid_civic = civic_machine_servitor }
	}

	# Here we try to adress the second issue that the AI cant evaluate the pop job output of the bio trophy given the happiness trigger that was put inplace to guard against players exploiting bio trophies

	#science
	ai_resource_production = {
		unity = 20
		physics_research = 20

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = physics_research
				value >= 100
				type = produces
			}
		}
	}

	#alloys
	ai_resource_production = {
		unity = 20
		alloys = 20

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = alloys
				value >= 100
				type = produces
			}
		}
	}

	#cgs
	ai_resource_production = {
		unity = 20
		consumer_goods = 20

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = consumer_goods
				value >= 100
				type = produces
			}
		}
	}
}
################################################################
building_yanz_rs_sleep = {
	base_buildtime = 480
	category = government
	prerequisites = { tech_yanz_rs_trophy_sleep }

	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}

	destroy_trigger = {
		exists = owner
		NOT = { owner = { has_valid_civic = civic_machine_servitor } }
	}

	convert_to = {
		building_paradise_dome
		building_communal_housing_large
	}

	planet_modifier = {
		job_bio_trophy_sleep_add = 50
		job_maintenance_drone_add = 5
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 2500
			alloys = 1000
			food = 1000
			exotic_gases = 100
		}
		upkeep = {
			energy = 10
			food = 5
			exotic_gases = 1
		}
	}
	triggered_desc = {
		text = job_maintenance_drone_effect_desc
	}

	show_tech_unlock_if = {
		owner = { has_valid_civic = civic_machine_servitor }
	}

	# AI's degeneracy is beyond repair and this building is so niche, i won't even bother defying anything.

}
######################################################
building_yanz_rs_utopian_arcology = {
	base_buildtime = 720
	category = unity
	prerequisites = { tech_yanz_rs_utopian_arcology_building }

	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}

	destroy_trigger = {
		exists = owner
		NOT = { owner = { has_valid_civic = civic_machine_servitor } }
	}

	convert_to = {
		building_paradise_dome
		building_communal_housing_large
	}

	planet_modifier = {
		planet_housing_add = 10
		job_bio_trophy_add = 50
		job_maintenance_drone_add = 5
		job_artisan_drone_add = 5
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 10000
			alloys = 2500
			food = 1000
			exotic_gases = 500
			volatile_motes = 500
			rare_crystals = 500
		}
		upkeep = {
			energy = 10
			exotic_gases = 1
			volatile_motes = 1
			rare_crystals = 1
		}
	}

	triggered_desc = {
		text = job_bio_trophy_effect_desc
	}

	triggered_desc = {
		text = job_artisan_drone_effect_desc
	}

	triggered_desc = {
		text = job_maintenance_drone_effect_desc
	}

	show_tech_unlock_if = {
		owner = { has_valid_civic = civic_machine_servitor }
	}

	# Here we try to adress the second issue that the AI cant evaluate the pop job output of the bio trophy given the happiness trigger that was put inplace to guard against players exploiting bio trophies

	#science
	ai_resource_production = {
		unity = 20
		physics_research = 20

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = physics_research
				value >= 100
				type = produces
			}
		}
	}

	#alloys
	ai_resource_production = {
		unity = 20
		alloys = 20

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = alloys
				value >= 100
				type = produces
			}
		}
	}

	#cgs
	ai_resource_production = {
		unity = 20
		consumer_goods = 20

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = consumer_goods
				value >= 100
				type = produces
			}
		}
	}
}

######################################################
building_yanz_rs_alloy = { 
    base_buildtime = 480
	base_cap_amount = 1
	category = manufacturing
	prerequisites = { tech_yanz_rs_alloy_building }
	
	allow = {
		has_upgraded_capital = yes
	}
	
	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}
	
	resources = {
		category = planet_buildings
        	cost = {
        		alloys = 250
				minerals = 1000
         	   	volatile_motes = 100
        	}

        	upkeep = {
         		energy = 10
				volatile_motes = 2
        	}
	}

    	triggered_planet_modifier = {
        	potential = {
            		exists = owner
            		owner = { has_valid_civic = civic_machine_servitor }
        	}
        	modifier = {
				pop_happiness = 0.05
				planet_bio_trophies_alloys_produces_add = 1
				planet_bio_trophies_minerals_upkeep_add = 2
        	}
    	}

}

######################################################
building_yanz_rs_mineral = { 
    base_buildtime = 480
	base_cap_amount = 1
	category = resource
	prerequisites = { tech_yanz_rs_mineral_building }
	
	allow = {
		has_upgraded_capital = yes
	}
	
	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}
	
	resources = {
		category = planet_buildings
        	cost = {
        		alloys = 250
				minerals = 1000
         	   	volatile_motes = 100
        	}

        	upkeep = {
         		energy = 10
				volatile_motes = 2
        	}
	}

    	triggered_planet_modifier = {
        	potential = {
            		exists = owner
            		owner = { has_valid_civic = civic_machine_servitor }
        	}
        	modifier = {
				pop_happiness = 0.05
				planet_bio_trophies_minerals_produces_add = 2
        	}
    	}

}

######################################################
building_yanz_rs_food = { 
    base_buildtime = 480
	base_cap_amount = 1
	category = resource
	prerequisites = { tech_yanz_rs_food_building }
	
	allow = {
		has_upgraded_capital = yes
	}
	
	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}
	
	resources = {
		category = planet_buildings
        	cost = {
        		alloys = 250
				minerals = 1000
         	   	exotic_gases = 100
        	}

        	upkeep = {
         		energy = 10
				exotic_gases = 2
        	}
	}

    	triggered_planet_modifier = {
        	potential = {
            		exists = owner
            		owner = { has_valid_civic = civic_machine_servitor }
        	}
        	modifier = {
				pop_happiness = 0.05
				planet_bio_trophies_food_produces_add = 2
        	}
    	}

}

######################################################
building_yanz_rs_power = { 
    base_buildtime = 480
	base_cap_amount = 1
	category = resource
	prerequisites = { tech_yanz_rs_power_building }
	
	allow = {
		has_upgraded_capital = yes
	}
	
	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}
	
	resources = {
		category = planet_buildings
        	cost = {
        		alloys = 250
				minerals = 1000
         	   	rare_crystals = 100
        	}

        	upkeep = {
         		energy = 10
				rare_crystals = 2
        	}
	}

    	triggered_planet_modifier = {
        	potential = {
            		exists = owner
            		owner = { has_valid_civic = civic_machine_servitor }
        	}
        	modifier = {
				pop_happiness = 0.05
				planet_bio_trophies_energy_produces_add = 2
        	}
    	}

}

######################################################
building_yanz_rs_science = { 
    base_buildtime = 480
	base_cap_amount = 1
	category = research
	prerequisites = { tech_yanz_rs_science_building }
	
	allow = {
		has_upgraded_capital = yes
	}
	
	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}
	
	resources = {
		category = planet_buildings
        	cost = {
        		alloys = 250
				minerals = 1000
         	   	exotic_gases = 100
        	}

        	upkeep = {
         		energy = 10
				exotic_gases = 2
        	}
	}

    	triggered_planet_modifier = {
        	potential = {
            		exists = owner
            		owner = { has_valid_civic = civic_machine_servitor }
        	}
        	modifier = {
				pop_happiness = 0.05
				planet_bio_trophies_society_research_produces_add = 1
				planet_bio_trophies_physics_research_produces_add = 1
				planet_bio_trophies_engineering_research_produces_add = 1
				planet_bio_trophies_consumer_goods_upkeep_add = 1
        	}
    	}

}

######################################################
building_yanz_rs_schools = { 
    base_buildtime = 480
	base_cap_amount = 1
	category = research
	prerequisites = { tech_yanz_rs_schools_building }
	
	allow = {
		has_upgraded_capital = yes
	}
	
	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}
	
	resources = {
		category = planet_buildings
        	cost = {
        		alloys = 250
				minerals = 1000
         	   	exotic_gases = 2
        	}

        	upkeep = {
         		energy = 10
				exotic_gases = 2
        	}
	}

    	triggered_planet_modifier = {
        	potential = {
            		exists = owner
            		owner = { has_valid_civic = civic_machine_servitor }
        	}
        	modifier = {
				pop_happiness = 0.05
				planet_bio_trophies_unity_produces_add = 0.5
				planet_bio_trophies_society_research_produces_add = 0.5
				planet_bio_trophies_physics_research_produces_add = 0.5
				planet_bio_trophies_engineering_research_produces_add = 0.5
				planet_bio_trophies_consumer_goods_upkeep_add = 1
        	}
    	}

}

######################################################
building_yanz_rs_joy = { 
    base_buildtime = 480
	base_cap_amount = 1
	category = unity
	prerequisites = { tech_yanz_rs_joy_building }
	
	allow = {
		has_upgraded_capital = yes
	}
	
	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}
	
	resources = {
		category = planet_buildings
        	cost = {
        		alloys = 250
				minerals = 1000
         	    volatile_motes = 100
        	}

        	upkeep = {
         		energy = 10
				volatile_motes = 2
        	}
	}

    	triggered_planet_modifier = {
        	potential = {
            		exists = owner
            		owner = { has_valid_civic = civic_machine_servitor }
        	}
        	modifier = {
				pop_happiness = 0.05
				planet_bio_trophies_unity_produces_add = 2
				planet_bio_trophies_consumer_goods_upkeep_add = 1
        	}
    	}

}

######################################################
building_yanz_rs_mall = { 
    base_buildtime = 480
	base_cap_amount = 1
	category = unity
	prerequisites = { tech_yanz_rs_mall_building }
	
	allow = {
		has_upgraded_capital = yes
	}
	
	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}
	
	resources = {
		category = planet_buildings
        	cost = {
        		alloys = 250
				minerals = 1000
         	   	rare_crystals = 100
        	}

        	upkeep = {
         		energy = 10
				rare_crystals = 2
        	}
	}

    	triggered_planet_modifier = {
        	potential = {
            		exists = owner
            		owner = { has_valid_civic = civic_machine_servitor }
        	}
        	modifier = {
				pop_happiness = 0.05
				planet_bio_trophies_unity_produces_add = 2
				planet_bio_trophies_consumer_goods_upkeep_add = 1
        	}
    	}

}

######################################################
building_yanz_rs_stadium = { 
    base_buildtime = 480
	base_cap_amount = 1
	category = unity
	prerequisites = { tech_yanz_rs_stadium_building }
	
	allow = {
		has_upgraded_capital = yes
	}
	
	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}
	
	resources = {
		category = planet_buildings
        	cost = {
        		alloys = 10000
				minerals = 5000
         	   	exotic_gases = 1000
        	}
			
			produces = {
				influence = 0.10
			}

        	upkeep = {
         		energy = 30
				exotic_gases = 5
        	}
	}
	
	country_modifier = {
		diplo_weight_mult = 0.05
	}

    triggered_planet_modifier = {
        potential = {
            	exists = owner
            	owner = { has_valid_civic = civic_machine_servitor }
        }
        modifier = {
			pop_happiness = 0.05
			planet_bio_trophies_unity_produces_add = 2
			planet_bio_trophies_society_research_produces_add = 1
			planet_bio_trophies_consumer_goods_upkeep_add = 1
       	}
    }

}

######################################################
building_yanz_rs_hospital = { 
    base_buildtime = 480
	base_cap_amount = 1
	category = unity
	prerequisites = { tech_yanz_rs_hospital_building }
	
	allow = {
		has_upgraded_capital = yes
	}
	
	potential = {
		exists = owner
		owner = { has_valid_civic = civic_machine_servitor }
	}
	
	resources = {
		category = planet_buildings
        	cost = {
        		alloys = 250
				minerals = 1000
         	   	exotic_gases = 2
        	}

        	upkeep = {
         		energy = 10
				exotic_gases = 2
        	}
	}
	
    	triggered_planet_modifier = {
        	potential = {
            		exists = owner
            		owner = { has_valid_civic = civic_machine_servitor }
        	}
        	modifier = {
				pop_growth_speed = 0.50
				pop_happiness = 0.05
				planet_bio_trophies_unity_produces_add = 2
				planet_bio_trophies_consumer_goods_upkeep_add = 1
        	}
    	}

}

#######################################################
building_yanz_rs_machine_assembly = {
	base_buildtime = 720
	base_cap_amount = 1
	category = pop_assembly
	prerequisites = { tech_yanz_rs_assembly }

    potential = {
         exists = owner
         owner = { has_valid_civic = civic_machine_servitor }
    }

	destroy_trigger = {
		exists = owner
		OR = {
			buildings_no_crystals = yes
			owner = {
				is_robot_empire = no
			}
			AND = {
				owner = { is_ai = yes }
				free_district_slots = 0
				free_building_slots = 0
				free_housing <= 0
				free_jobs <= 0
			}
		}
	}

	planet_modifier = {
		planet_pop_assembly_add = 10
		job_replicator_add = 10
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 5000
			alloys = 1000
			rare_crystals = 1000
		}
		upkeep = {
			energy = 50
			rare_crystals = 10
		}
	}

	triggered_desc = {
		text = job_replicator_effect_desc
	}
}

####################################################
building_yanz_rs_deviant = {
	base_buildtime = 720
	base_cap_amount = 1
	category = government
	prerequisites = { tech_yanz_rs_deviant }

    potential = {
         exists = owner
         owner = { has_valid_civic = civic_machine_servitor }
    }

	destroy_trigger = {
		exists = owner
		OR = {
			buildings_no_crystals = yes
			owner = {
				is_robot_empire = no
			}
			AND = {
				owner = { is_ai = yes }
				free_district_slots = 0
				free_building_slots = 0
				free_housing <= 0
				free_jobs <= 0
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 10
		planet_crime_add = -25
		planet_pop_assembly_add = 1
		job_patrol_drone_add = 10
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 5000
			alloys = 1000
			rare_crystals = 1000
		}
		upkeep = {
			energy = 10
			rare_crystals = 4
		}
	}
	
}

#######################################################
building_yanz_rs_strategic = {
	base_buildtime = 720
	category = manufacturing
	prerequisites = { tech_yanz_rs_strategic }

    potential = {
         exists = owner
         owner = { has_valid_civic = civic_machine_servitor }
    }

	destroy_trigger = {
		exists = owner
		OR = {
			buildings_no_crystals = yes
			owner = {
				is_robot_empire = no
			}
			AND = {
				owner = { is_ai = yes }
				free_district_slots = 0
				free_building_slots = 0
				free_housing <= 0
				free_jobs <= 0
			}
		}
	}

	planet_modifier = {
		planet_refiners_produces_mult = 0.05
		planet_translucers_produces_mult = 0.05
		planet_chemists_produces_mult = 0.05
		job_chemist_drone_add = 3
		job_translucer_drone_add = 3
		job_gas_refiner_drone_add = 3
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 5000
			alloys = 2500
			rare_crystals = 1000
			exotic_gases = 1000
			volatile_motes = 1000
		}
		upkeep = {
			energy = 50
			minerals = 10
		}
	}

}