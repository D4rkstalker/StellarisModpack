@resolution_weight_hated = 3
@resolution_weight_disliked = 4
@resolution_weight_unpopular = 5
@resolution_weight_normal = 6
@resolution_weight_popular = 6.5
@resolution_weight_loved = 7

@resolution_cost_t1 = 100
@resolution_cost_t2 = 150
@resolution_cost_t3 = 200
@resolution_cost_t4 = 250
@resolution_cost_t5 = 300
@resolution_cost_denounce = 25

@resolution_flag_timer = 360

#example_resolution = {
#	icon = "name of the icon key"
#	resources = {} # cost and category
#	target = yes/no # if this resolution requires a target country
#	harmful = yes/no # if the AI should consider this harmful when choosing target
#	modifier = {} # modifier to be applied to all community members if passed
#	triggered_modifier = {} # triggered modifier to be applied, scope is country
#	effect = {} # effect to be applied if passed, scope is proposer unless there is a target country - then scope is target country, with proposer in from scope
#	fail_effects = {} # effect to be applied if failed, scope is proposer unless there is a target country - then scope is target country, with proposer in from scope
#	potential = {} # potential trigger, scope is country
#	allow = {} # allow trigger, scope is country
#	active = {} # Enacted resolutions are cancelled if this trigger fails
#
#	ai_weight = {} # ai weight modifiers, scope is country. from scope is the target country for targeted resolutions
#	NOTE: all ai_weight modifiers are multiplicative. The end result is also multiplied with a factor based on the opinion towards the proposer and/or target,
#	see RESOLUTION_TARGET_OPINION_MIN_FACTOR etc. in 00_defines.txt. Also see RESOLUTION_VOTE_SUPPORT_THRESHOLD etc. for balancing the values.
#
#	valid_target = {} # valid targets trigger, scope is country
#} 

# NOTE: Remember to add Resolutions to a Resolution Category!

### DEFENSE PRIVATIZATION (adjusted weights by Ever Universe)

resolution_defenseprivatization_repeal_1 = {
	icon = "GFX_resolution_repeal_red"

	resources = {
		category = resolutions
		cost = {
			influence = @resolution_cost_t1
		}
	}
	target = no
	fire_and_forget = yes

	effect = {
		custom_tooltip = resolution_defenseprivatization_repeal_1_effect_success
		hidden_effect = {
			cancel_resolution = "resolution_defenseprivatization_defense_contracts"
			set_timed_country_flag = { flag = galactic_community_resolution_passed_defenseprivatization_repeal days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
		}
	}

	fail_effects = {
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_failed_defenseprivatization_repeal days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_failed_diplomatic_weight
				days = 2200
			}
			every_country = {
				limit = {
					is_country_type = enclave_mercenary
				}
				remove_modifier = resolution_defenseprivatization_defense_contracts_merc_naval_cap
			}
		}
	}

	potential = {
		has_overlord_dlc = yes
		is_active_resolution = "resolution_defenseprivatization_defense_contracts"
	}

	ai_weight = {
		base = @resolution_weight_normal

		modifier = {
			factor = 0.8
			is_militarist = yes
			desc = ethic_militarist
		}

		modifier = {
			factor = 0.2
			has_authority = auth_corporate
			desc = gov_megacorporation
		}

		modifier = {
			factor = 2
			is_pacifist = yes
			desc = ethic_pacifist
		}
	}
}

resolution_defenseprivatization_repeal_2 = {
	icon = "GFX_resolution_repeal_red"

	resources = {
		category = resolutions
		cost = {
			influence = @resolution_cost_t2
		}
	}
	target = no
	fire_and_forget = yes

	effect = {
		custom_tooltip = resolution_defenseprivatization_repeal_2_effect_success
		hidden_effect = {
			cancel_resolution = "resolution_defenseprivatization_private_support_troops"
			set_timed_country_flag = { flag = galactic_community_resolution_passed_defenseprivatization_repeal days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
			every_country = {
				limit = {
					is_country_type = enclave_mercenary
				}
				remove_modifier = resolution_defenseprivatization_private_support_troops_merc_naval_cap
			}
		}
	}

	fail_effects = {
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_failed_defenseprivatization_repeal days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_failed_diplomatic_weight
				days = 2200
			}
		}
	}

	potential = {
		has_overlord_dlc = yes
		is_active_resolution = "resolution_defenseprivatization_private_support_troops"
	}

	modifier = {
		resolution_defenseprivatization_defense_contracts = 1
	}

	ai_weight = {
		base = @resolution_weight_normal

		modifier = {
			factor = 0.8
			is_militarist = yes
			desc = ethic_militarist
		}

		modifier = {
			factor = 0.2
			has_authority = auth_corporate
			desc = gov_megacorporation
		}

		modifier = {
			factor = 2
			is_pacifist = yes
			desc = ethic_pacifist
		}
	} 
}

resolution_defenseprivatization_repeal_3 = {
	icon = "GFX_resolution_repeal_red"

	resources = {
		category = resolutions
		cost = {
			influence = @resolution_cost_t3
		}
	}
	target = no
	fire_and_forget = yes

	effect = {
		custom_tooltip = resolution_defenseprivatization_repeal_3_effect_success
		hidden_effect = {
			cancel_resolution = "resolution_defenseprivatization_condottieri"
			set_timed_country_flag = { flag = galactic_community_resolution_passed_defenseprivatization_repeal days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
			every_country = {
				limit = {
					is_country_type = enclave_mercenary
				}
				remove_modifier = resolution_defenseprivatization_condottieri_merc_naval_cap
			}
		}
		custom_tooltip = resolution_defenseprivatization_private_support_troops_tooltip
	}

	fail_effects = {
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_failed_defenseprivatization_repeal days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_failed_diplomatic_weight
				days = 2200
			}
		}
	}

	potential = {
		has_overlord_dlc = yes
		is_active_resolution = "resolution_defenseprivatization_condottieri"
	}

	modifier = {
		resolution_defenseprivatization_defense_contracts = 1
		resolution_defenseprivatization_private_support_troops = 1
	}

	ai_weight = { 
		base = @resolution_weight_popular

		modifier = {
			factor = 0.8
			is_militarist = yes
			desc = ethic_militarist
		}

		modifier = {
			factor = 0.2
			has_authority = auth_corporate
			desc = gov_megacorporation
		}

		modifier = {
			factor = 5
			in_breach_of = resolution_defenseprivatization_condottieri
			desc = gal_com_in_breach_of_proposed_resolution
		}

		modifier = {
			factor = 2
			is_pacifist = yes
			desc = ethic_pacifist
		}
	}
}

resolution_defenseprivatization_repeal_4 = {
	icon = "GFX_resolution_repeal_red"

	resources = {
		category = resolutions
		cost = {
			influence = @resolution_cost_t4
		}
	}
	target = no
	fire_and_forget = yes

	effect = {
		custom_tooltip = resolution_defenseprivatization_repeal_4_effect_success
		hidden_effect = {
			cancel_resolution = "resolution_defenseprivatization_security_business"
			set_timed_country_flag = { flag = galactic_community_resolution_passed_defenseprivatization_repeal days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
			every_country = {
				limit = {
					is_country_type = enclave_mercenary
				}
				remove_modifier = resolution_defenseprivatization_security_business_merc_naval_cap
			}
		}
		custom_tooltip = resolution_defenseprivatization_condottieri
	}

	fail_effects = {
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_failed_defenseprivatization_repeal days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_failed_diplomatic_weight
				days = 2200
			}
		}
	}

	potential = {
		has_overlord_dlc = yes
		is_active_resolution = "resolution_defenseprivatization_security_business"
	}

	modifier = {
		resolution_defenseprivatization_defense_contracts = 1
		resolution_defenseprivatization_private_support_troops = 1
		resolution_defenseprivatization_condottieri = 1
	}

	ai_weight = { 
		base = @resolution_weight_popular

		modifier = {
			factor = 0.9
			is_militarist = yes
			desc = ethic_militarist
		}

		modifier = {
			factor = 0.2
			has_authority = auth_corporate
			desc = gov_megacorporation
		}

		modifier = {
			factor = 5
			in_breach_of = resolution_defenseprivatization_security_business
			desc = gal_com_in_breach_of_proposed_resolution
		}

		modifier = {
			factor = 2
			is_pacifist = yes
			desc = ethic_pacifist
		}
	}
}

resolution_defenseprivatization_repeal_5 = {
	icon = "GFX_resolution_repeal_red"

	resources = {
		category = resolutions
		cost = {
			influence = @resolution_cost_t5
		}
	}
	target = no
	fire_and_forget = yes

	effect = {
		custom_tooltip = resolution_defenseprivatization_repeal_5_effect_success
		hidden_effect = {
			cancel_resolution = "resolution_defenseprivatization_corporate_warlords"
			set_timed_country_flag = { flag = galactic_community_resolution_passed_defenseprivatization_repeal days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
			every_country = {
				limit = {
					is_country_type = enclave_mercenary
				}
				remove_modifier = resolution_defenseprivatization_corporate_warlords_merc_naval_cap
			}
		}
		custom_tooltip = resolution_defenseprivatization_security_business
	}

	fail_effects = {
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_failed_defenseprivatization_repeal days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_failed_diplomatic_weight
				days = 2200
			}
		}
	}

	potential = {
		has_overlord_dlc = yes
		is_active_resolution = "resolution_defenseprivatization_corporate_warlords"
	}

	modifier = {
		resolution_defenseprivatization_defense_contracts = 1
		resolution_defenseprivatization_private_support_troops = 1
		resolution_defenseprivatization_condottieri = 1
		resolution_defenseprivatization_security_business = 1
	}

	ai_weight = { 
		base = @resolution_weight_popular

		modifier = {
			factor = 0.9
			is_militarist = yes
			desc = ethic_militarist
		}

		modifier = {
			factor = 0.2
			has_authority = auth_corporate
			desc = gov_megacorporation
		}

		modifier = {
			factor = 5
			in_breach_of = resolution_defenseprivatization_corporate_warlords
			desc = gal_com_in_breach_of_proposed_resolution
		}

		modifier = {
			factor = 2
			is_pacifist = yes
			desc = ethic_pacifist
		}
	}
}

resolution_defenseprivatization_defense_contracts = {
	icon = "GFX_resolution_defence_privatization"

	potential = {
		has_overlord_dlc = yes
	}

	resources = {
		category = resolutions
		cost = {
			influence = @resolution_cost_t1
		}
	}
	target = no
	level = 1

	modifier = {
		resolution_defenseprivatization_defense_contracts = 1
	}

	effect = {
		custom_tooltip = resolution_defenseprivatization_defense_contracts_tooltip
		hidden_effect = {
			set_global_flag = galactic_community_resolution_passed
			set_timed_country_flag = { flag = galactic_community_resolution_passed_defenseprivatization days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
			every_country = {
				limit = {
					is_country_type = enclave_mercenary
				}
				add_modifier = {
					modifier = resolution_defenseprivatization_defense_contracts_merc_naval_cap
				}
			}
		}
	}

	fail_effects = {
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_failed_defenseprivatization days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_failed_diplomatic_weight
				days = 2200
			}
		}
	}

	allow = {
		custom_tooltip = {
			fail_text = "resolution_already_active"
			NOR = {
				is_active_resolution = "resolution_defenseprivatization_defense_contracts"
				is_active_resolution = "resolution_defenseprivatization_private_support_troops"
				is_active_resolution = "resolution_defenseprivatization_condottieri"
				is_active_resolution = "resolution_defenseprivatization_security_business"
				is_active_resolution = "resolution_defenseprivatization_corporate_warlords"
			}
		}
	}

	ai_weight = { 
		base = @resolution_weight_popular

		modifier = {
			factor = 1.25
			is_militarist = yes
			desc = ethic_militarist
		}

		modifier = {
			factor = 5
			has_authority = auth_corporate
			desc = auth_corporate
		}

		modifier = {
			factor = 0.8
			is_gestalt = yes
			desc = ethic_gestalt_consciousness
		}

		modifier = {
			factor = 0.8
			is_pacifist = yes
			desc = ethic_pacifist
		}
	}  
}

resolution_defenseprivatization_private_support_troops = {
	icon = "GFX_resolution_defence_privatization"

	potential = {
		has_overlord_dlc = yes
	}

	resources = {
		category = resolutions
		cost = {
			influence = @resolution_cost_t2
		}
	}
	target = no
	level = 2

	modifier = {
		resolution_defenseprivatization_defense_contracts = 1
		resolution_defenseprivatization_private_support_troops = 1
	}

	effect = {
		custom_tooltip = resolution_defenseprivatization_private_support_troops_tooltip
		hidden_effect = {
			set_global_flag = resolution_with_breach_effect_passed
			set_timed_country_flag = { flag = galactic_community_resolution_passed_defenseprivatization days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
			every_country = {
				limit = {
					is_country_type = enclave_mercenary
				}
				add_modifier = {
					modifier = resolution_defenseprivatization_private_support_troops_merc_naval_cap
				}
			}
		}
	}

	fail_effects = {
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_failed_defenseprivatization days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_failed_diplomatic_weight
				days = 2200
			}
		}
	}

	allow = {
		is_active_resolution = "resolution_defenseprivatization_defense_contracts"
	}

	ai_weight = {
		base = @resolution_weight_normal

		modifier = {
			factor = 1.25
			is_militarist = yes
			desc = ethic_militarist
		}

		modifier = {
			factor = 5
			has_authority = auth_corporate
			desc = auth_corporate
		}

		modifier = {
			factor = 0.5
			is_gestalt = yes
			desc = ethic_gestalt_consciousness
		}

		modifier = {
			factor = 0.5
			is_pacifist = yes
			desc = ethic_pacifist
		}
	}
}

resolution_defenseprivatization_condottieri = {
	icon = "GFX_resolution_defence_privatization"

	potential = {
		has_overlord_dlc = yes
	}

	resources = {
		category = resolutions
		cost = {
			influence = @resolution_cost_t3
		}
	}
	target = no
	level = 3

	modifier = {
		resolution_defenseprivatization_defense_contracts = 1
		resolution_defenseprivatization_private_support_troops = 1
		resolution_defenseprivatization_condottieri = 1
	}

	effect = {
		custom_tooltip = resolution_defenseprivatization_condottieri_tooltip
		hidden_effect = {
			set_global_flag = resolution_with_breach_effect_passed
			set_timed_country_flag = { flag = galactic_community_resolution_passed_defenseprivatization days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
			every_country = {
				limit = {
					is_country_type = enclave_mercenary
				}
				add_modifier = {
					modifier = resolution_defenseprivatization_condottieri_merc_naval_cap
				}
			}
		}
	}

	fail_effects = {
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_failed_defenseprivatization days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_failed_diplomatic_weight
				days = 2200
			}
		}
	}

	allow = {
		is_active_resolution = "resolution_defenseprivatization_private_support_troops"
	}

	breach = {
		is_at_war = yes
		NOT = {
			any_controlled_fleet ={
				owner ={
					is_country_type = enclave_mercenary
				}
			}
		}
		NOT = { has_country_flag = constitutional_immunity }
	}

	ai_weight = {
		base = @resolution_weight_normal

		modifier = {
			factor = 1.25
			is_militarist = yes
			desc = ethic_militarist
		}

		modifier = {
			factor = 1.25
			OR = {
				has_civic = civic_barbaric_despoilers
				has_civic = civic_warrior_culture
				has_civic = civic_naval_contractors
				has_civic = civic_private_military_companies
			}
			desc = gal_com_supporting_civics
		}

		modifier = {
			factor = 0
			in_breach_of = resolution_defenseprivatization_condottieri
			desc = gal_com_in_breach_of_proposed_resolution
		}

		modifier = {
			factor = 0.5
			is_gestalt = yes
			desc = ethic_gestalt_consciousness
		}

		modifier = {
			factor = 0.2
			is_pacifist = yes
			desc = ethic_pacifist
		}
	}
}

resolution_defenseprivatization_security_business = {
	icon = "GFX_resolution_defence_privatization"

	potential = {
		has_overlord_dlc = yes
		has_federations_dlc = yes
	}

	resources = {
		category = resolutions
		cost = {
			influence = @resolution_cost_t4
		}
	}
	target = no
	level = 4

	modifier = {
		resolution_defenseprivatization_defense_contracts = 1
		resolution_defenseprivatization_private_support_troops = 1
		resolution_defenseprivatization_condottieri = 1
		resolution_defenseprivatization_security_business = 1
	}
	
	triggered_modifier = {
		potential = {
			any_controlled_fleet ={
				owner ={
					is_country_type = enclave_mercenary
				}
			}
		}
		modifier = {
			resolution_defenseprivatization_security_business_merc_hired = 1
		}
	}

	effect = {
		custom_tooltip = resolution_defenseprivatization_security_business_tooltip
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_passed_defenseprivatization days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
			every_country = {
				limit = {
					is_country_type = enclave_mercenary
				}
				add_modifier = {
					modifier = resolution_defenseprivatization_security_business_merc_naval_cap
				}
			}
		}
	}

	fail_effects = {
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_failed_defenseprivatization days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_failed_diplomatic_weight
				days = 2200
			}
		}
	}

	allow = {
		is_active_resolution = "resolution_defenseprivatization_condottieri"
	}

	breach = {
		is_at_war = yes
		NOT = {
			any_controlled_fleet ={
				owner ={
					is_country_type = enclave_mercenary
				}
			}
		}
		NOT = { has_country_flag = constitutional_immunity }
	}

	ai_weight = { 
		base = @resolution_weight_unpopular

		modifier = {
			factor = 1.25
			is_militarist = yes
			desc = ethic_militarist
		}

		modifier = {
			factor = 1.25
			has_policy_flag = unrestricted_wars
			desc = unrestricted_wars
		}

		modifier = {
			factor = 5
			has_authority = auth_corporate
			desc = gov_megacorporation
		}

		modifier = {
			factor = 1.25
			OR = {
				has_civic = civic_barbaric_despoilers
				has_civic = civic_warrior_culture
				has_civic = civic_naval_contractors
				has_civic = civic_private_military_companies
			}
			desc = gal_com_supporting_civics
		}

		modifier = {
			factor = 0
			in_breach_of = resolution_rulesofwar_last_resort_doctrine
			desc = gal_com_in_breach_of_proposed_resolution
		}

		modifier = {
			factor = 0.5
			is_gestalt = yes
			desc = ethic_gestalt_consciousness
		}

		modifier = {
			factor = 0.2
			is_pacifist = yes
			desc = ethic_pacifist
		}
	}
}

resolution_defenseprivatization_corporate_warlords = {
	icon = "GFX_resolution_defence_privatization"

	potential = {
		has_overlord_dlc = yes
		has_federations_dlc = yes
	}

	resources = {
		category = resolutions
		cost = {
			influence = @resolution_cost_t5
		}
	}
	target = no
	level = 5

	modifier = {
		resolution_defenseprivatization_defense_contracts = 1
		resolution_defenseprivatization_private_support_troops = 1
		resolution_defenseprivatization_condottieri = 1
		resolution_defenseprivatization_security_business = 1
		resolution_defenseprivatization_corporate_warlords = 1
	}

	triggered_modifier = {
		potential = {
			any_controlled_fleet ={
				owner ={
					is_country_type = enclave_mercenary
				}
			}
		}
		modifier = {
			resolution_defenseprivatization_security_business_merc_hired = 1
			resolution_defenseprivatization_corporate_warlords_merc_hired = 1
		}
	}

	effect = {
		custom_tooltip = resolution_defenseprivatization_corporate_warlords_tooltip
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_passed_defenseprivatization days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
			every_country = {
				limit = {
					is_country_type = enclave_mercenary
				}
				add_modifier = {
					modifier = resolution_defenseprivatization_corporate_warlords_merc_naval_cap
				}
			}
		}
	}

	fail_effects = {
		hidden_effect = {
			set_timed_country_flag = { flag = galactic_community_resolution_failed_defenseprivatization days = @resolution_flag_timer }
			add_modifier = {
				modifier = resolution_passed_diplomatic_weight
				days = 2200
			}
		}
	}

	allow = {
		is_active_resolution = "resolution_defenseprivatization_security_business"
	}

	breach = {
		NOT = {
			any_controlled_fleet ={
				owner ={
					is_country_type = enclave_mercenary
				}
			}
		}
		NOT = { has_country_flag = constitutional_immunity }
	}

	ai_weight = {
		base = @resolution_weight_disliked

		modifier = {
			factor = 1.25
			is_militarist = yes
			desc = ethic_militarist
		}

		modifier = {
			factor = 1.25
			OR = {
				has_civic = civic_barbaric_despoilers
				has_civic = civic_warrior_culture
				has_civic = civic_naval_contractors
				has_civic = civic_private_military_companies
			}
			desc = gal_com_supporting_civics
		}

		modifier = {
			factor = 5
			has_authority = auth_corporate
			desc = gov_megacorporation
		}

		modifier = {
			factor = 0
			in_breach_of = resolution_defenseprivatization_security_business
			desc = gal_com_in_breach_of_proposed_resolution
		}

		modifier = {
			factor = 0.5
			is_gestalt = yes
			desc = ethic_gestalt_consciousness
		}

		modifier = {
			factor = 0.2
			is_pacifist = yes
			desc = ethic_pacifist
		}
	}
}
