
ag_iota_enclave_building = {
	icon = "GFX_spaceport_module_ag_iota_enclave_building"
	construction_days = 360

	potential = {
		exists = event_target:ag_ancient_iota_enclave
		exists = owner
		OR = {
			owner = {
				has_communications = event_target:ag_ancient_iota_enclave
				has_country_flag = ag_ancient_iota_enclave_building_flag
			}
			solar_system = { has_star_flag = ag_ancient_iota_system }
		}
		owner = { NOR = {
			is_hostile = event_target:ag_ancient_iota_enclave
			has_valid_civic = civic_fanatic_purifiers
			has_valid_civic = civic_hive_devouring_swarm
			has_valid_civic = civic_machine_terminator
		} }
	}

	possible = {
		custom_tooltip = { fail_text = "requires_starport" has_starbase_size >= starbase_starport }
		custom_tooltip = {
			fail_text = "ag_requires_iota_enclave"
			solar_system = {
				has_star_flag = ag_ancient_iota_system
				any_fleet_in_system = {
					exists = owner
					owner = { is_same_value = event_target:ag_ancient_iota_enclave }
				}
			}
		}
		custom_tooltip = {
			fail_text = "ag_requires_iota_enclave_agreement"
			owner = { has_country_flag = ag_ancient_iota_enclave_building_flag }
		}
	}

	resources = {
		category = starbase_buildings
		cost = { alloys = 100 }
		upkeep = { energy = 2 }
		produces = {
			physics_research = 25
			society_research = 25
			engineering_research = 25
		}
		produces = {
			trigger = {
				exists = owner
				owner = { is_galactic_community_member = yes }
				OR = {
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
			physics_research = 25
			society_research = 25
			engineering_research = 25
		}
	}

	country_modifier = { all_technology_research_speed = 0.05 }

	ai_weight = { weight = 0 }
}

ag_orbital_ring_building_living_metal = {
	icon = "GFX_spaceport_module_ag_orbital_ring_building_living_metal"
	construction_days = 480

	potential = {
		exists = owner
		owner = { has_technology = "tech_ag_living_metal_forge" }
		is_orbital_ring = yes
	}

	planet_modifier = {
		ag_planet_living_metal_job_sr_living_metal_produces_add = 1
		ag_planet_living_metal_job_energy_upkeep_add = 1.333
		ag_planet_living_metal_job_alloys_upkeep_add = 1.333
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 300
			energy = 300
		}
		upkeep = {
			energy = 9
			alloys = 4
		}
	}
	show_in_tech = "tech_ag_living_metal_forge"
	
	ai_weight = { weight = 0 }
}
ag_orbital_ring_building_nanites = {
	icon = "GFX_spaceport_module_ag_orbital_ring_building_nanites"
	construction_days = 480

	potential = {
		exists = owner
		owner = { has_technology = "tech_ag_nanites_assembly_plant" }
		is_orbital_ring = yes
	}

	planet_modifier = {
		ag_planet_nanites_job_nanites_produces_add = 1
		ag_planet_nanites_job_alloys_upkeep_add = 0.667
		ag_planet_nanites_job_rare_crystals_upkeep_add = 0.333
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 300
			rare_crystals = 300
		}
		upkeep = {
			energy = 5
			alloys = 2
			rare_crystals = 2
		}
	}
	show_in_tech = "tech_ag_nanites_assembly_plant"
	
	ai_weight = { weight = 0 }
}
ag_orbital_ring_building_dark_matter = {
	icon = "GFX_spaceport_module_ag_orbital_ring_building_dark_matter"
	construction_days = 480

	potential = {
		exists = owner
		owner = { has_technology = "tech_ag_dark_matter_plant" }
		is_orbital_ring = yes
	}

	planet_modifier = {
		ag_planet_dark_matter_job_sr_dark_matter_produces_add = 0.5
		ag_planet_dark_matter_job_energy_upkeep_add = 6.25
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 300
			energy = 1000
		}
		upkeep = {
			energy = 30
		}
	}
	show_in_tech = "tech_ag_dark_matter_plant"
	
	ai_weight = { weight = 0 }
}
ag_orbital_ring_building_zro = {
	icon = "GFX_spaceport_module_ag_orbital_ring_building_zro"
	construction_days = 480

	potential = {
		exists = owner
		owner = { has_technology = "tech_ag_zro_refinery" }
		is_orbital_ring = yes
	}

	planet_modifier = {
		ag_planet_zro_job_sr_zro_produces_add = 0.5
		ag_planet_zro_job_energy_upkeep_add = 2.5
		ag_planet_zro_job_exotic_gases_upkeep_add = 0.25
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 300
			exotic_gases = 300
		}
		upkeep = {
			energy = 15
			exotic_gases = 2
		}
	}
	show_in_tech = "tech_ag_zro_refinery"
	
	ai_weight = { weight = 0 }
}

ag_gamma_station_extra_shipyards = {
	icon = "GFX_spaceport_module_ag_ancient_shipyard"
	construction_days = 1
	# potential = { always = yes }
	potential = { has_starbase_size = ag_gamma_station_1 }

	resources = {
		category = starbase_modules
		upkeep = { energy = @ag_scaled_gamma_station_extra_shipyards_upkeep multiplier = event_target:global_event_country.ag_scaled_difficulty_tooltip }
	}

	station_modifier = { ship_orbit_upkeep_mult = -0.333 }
	triggered_station_modifier = {
		potential = { always = yes }
		starbase_shipyard_capacity_add = @ag_scaled_gamma_station_extra_shipyards
    	mult = event_target:global_event_country.ag_scaled_difficulty_tooltip
	}
	ai_weight = { weight = 0 }
}
