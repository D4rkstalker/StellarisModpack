#_[神堡核心]*

#_[陆战支援]	驻扎地/重型堡垒/星球安全局
#_[海军支援]	码头环/船坞环
#_[战术支援]	目标计算机/防御网格

#_[其他]		




###	神堡核心	---禁用
AAR_sbb_AP_void_fortress_Core = {
	icon = "GFX_orbitalring_consumer_hub"
	construction_days = 180

	potential = { always = no
		exists = owner
		owner = { has_ascension_perk = AAR_AP_void_fortress }
		has_starbase_size >= AAR_ship_AP_void_fortress_1
	}
#	show_in_tech = "tech_luxuries_2"

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 500
		}
	}

	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = no
	ai_weight = {
		weight = 50
	}

	equipped_component = "AAR_CPNTT_AP_void_fortress_Core"
	#	传感器
	station_modifier = {
		starbase_defense_platform_capacity_add = 4
	}
	#	能量核心
	triggered_station_modifier = {
		potential = {
			hidden_trigger = { exists = this }
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_galacticstudies_astral_studies_network"
				is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
				is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
				is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
			}
		}

		ship_sensor_range_add = 1
		ship_hyperlane_range_add = 1
	}
}




###	陆战支援
#	驻扎地
AAR_sbb_AP_void_PLNT_ARMY = {
	icon = "GFX_AAR_sbb_AP_void_PLNT_ARMY"
	construction_days = 180

#	show_in_tech = "xxx"
	potential = {
		exists = owner
		has_starbase_size >= AAR_ship_AP_void_fortress_1	# 神堡外环
	}
	possible = {
		custom_tooltip = {
			fail_text = AAR_failtips_AP_void_fortress
			owner = { has_ascension_perk = AAR_AP_void_fortress }	# 有飞升
		}
		NOR = {
		#	has_starbase_building = AAR_sbb_AP_void_PLNT_ARMY
			has_starbase_building = AAR_sbb_AP_void_PLNT_FORT
			has_starbase_building = AAR_sbb_AP_void_PLNT_SECURITY
		}
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 200
			rare_crystals = 50
		}

		upkeep = {
			energy = 4
			rare_crystals = 1
		}
	}

	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = no
	ai_weight = {
		weight = 50
	}

	planet_modifier = {
		army_damage_mult = 0.1
		army_disengage_chance_mult = 0.05
	}
	#	|普通|		=士兵
	triggered_planet_modifier = {
		potential = { exists = owner		  owner = { is_gestalt = no } }
		job_soldier_add = 3
	}
	#	|格式塔|	=兵蜂
	triggered_planet_modifier = {
		potential = { exists = owner		 owner = { is_gestalt = yes } }	
		job_warrior_drone_add = 3
	}
}
#	重型堡垒
AAR_sbb_AP_void_PLNT_FORT = {
	icon = "GFX_AAR_sbb_AP_void_PLNT_FORT"
	construction_days = 180

	potential = {
		exists = owner
		has_starbase_size >= AAR_ship_AP_void_fortress_1	# 神堡外环
	}
	possible = {
		custom_tooltip = {
			fail_text = AAR_failtips_AP_void_fortress
			owner = { has_ascension_perk = AAR_AP_void_fortress }	# 有飞升
		}
		NOR = {
			has_starbase_building = AAR_sbb_AP_void_PLNT_ARMY
		#	has_starbase_building = AAR_sbb_AP_void_PLNT_FORT
			has_starbase_building = AAR_sbb_AP_void_PLNT_SECURITY
		}
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 200
			rare_crystals = 50
		}

		upkeep = {
			energy = 4
			rare_crystals = 1
		}
	}

	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = no
	ai_weight = {
		weight = 50
	}


	planet_modifier = {
		planet_orbital_bombardment_damage = -0.25
	}
	#	|普通|		=士兵
	triggered_planet_modifier = {
		potential = { exists = owner		  owner = { is_gestalt = no } }
		job_soldier_add = 1
	}
	#	|格式塔|	=兵蜂
	triggered_planet_modifier = {
		potential = { exists = owner		 owner = { is_gestalt = yes } }	
		job_warrior_drone_add = 1
	}
}
#	星球安全局
AAR_sbb_AP_void_PLNT_SECURITY = {
	icon = "GFX_AAR_sbb_AP_void_PLNT_SECURITY"
	construction_days = 180
	
	potential = {
		exists = owner
		has_starbase_size >= AAR_ship_AP_void_fortress_1	# 神堡外环
	}
	possible = {
		custom_tooltip = {
			fail_text = AAR_failtips_AP_void_fortress
			owner = { has_ascension_perk = AAR_AP_void_fortress }	# 有飞升
		}
		NOR = {
			has_starbase_building = AAR_sbb_AP_void_PLNT_ARMY
			has_starbase_building = AAR_sbb_AP_void_PLNT_FORT
		#	has_starbase_building = AAR_sbb_AP_void_PLNT_SECURITY
		}
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 200
			rare_crystals = 50
		}

		upkeep = {
			energy = 4
			rare_crystals = 1
		}
	}

	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = {
		weight = 50
	}

	planet_modifier = {
		pop_government_ethic_attraction = 0.25
		planet_stability_add = 5
	}
	#	|普通|		=士兵
	triggered_planet_modifier = {
		potential = { exists = owner		  owner = { is_gestalt = no } }
		job_soldier_add = 1
	}
	#	|格式塔|	=兵蜂
	triggered_planet_modifier = {
		potential = { exists = owner		 owner = { is_gestalt = yes } }	
		job_warrior_drone_add = 1
	}
}




###	海军支援
#	码头环
AAR_sbb_AP_void_NAVY_DOCK = {
	icon = "GFX_AAR_sbb_AP_void_NAVY_DOCK"
	construction_days = 240

	potential = {
		exists = owner
		has_starbase_size >= AAR_ship_AP_void_fortress_1	# 神堡外环
	}
	possible = {
		custom_tooltip = {
			fail_text = AAR_failtips_AP_void_fortress
			owner = { has_ascension_perk = AAR_AP_void_fortress }	# 有飞升
		}
		NOT = { has_starbase_building = AAR_sbb_AP_void_NAVY_SHIPYARD }
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 250
			rare_crystals = 50
		}

		upkeep = {
			energy = 5
			rare_crystals = 1
		}
	}

	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = {
		weight = 50
	}

	country_modifier = {
		country_naval_cap_add = 25
	}
	orbit_modifier = {
		ship_orbit_upkeep_mult = -0.25
		ship_repair_hull_mult = 0.25
		ship_repair_armor_mult = 0.25
	}
}
#	船坞环
AAR_sbb_AP_void_NAVY_SHIPYARD = {
	icon = "GFX_AAR_sbb_AP_void_NAVY_SHIPYARD"
	construction_days = 240

	potential = {
		exists = owner
		has_starbase_size >= AAR_ship_AP_void_fortress_1	# 神堡外环
	}
	possible = {
		custom_tooltip = {
			fail_text = AAR_failtips_AP_void_fortress
			owner = { has_ascension_perk = AAR_AP_void_fortress }	# 有飞升
		}
		NOT = { has_starbase_building = AAR_sbb_AP_void_NAVY_DOCK }
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 250
			rare_crystals = 50
		}

		upkeep = {
			energy = 5
			rare_crystals = 1
		}
	}

	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = {
		weight = 50
	}

	orbit_modifier = {
		ship_orbit_upkeep_mult = -0.25
		ship_repair_hull_mult = 0.25
		ship_repair_armor_mult = 0.25
	}
	station_modifier = {
		starbase_shipyard_capacity_add = 2
		starbase_shipyard_build_speed_mult = 0.25
	}
}




###	战术支援
#	目标计算机
AAR_sbb_AP_void_TACTIC_RANGE = {
	icon = "GFX_spaceport_synchronized_defenses"
	construction_days = 240

	potential = {
		exists = owner
		has_starbase_size >= AAR_ship_AP_void_fortress_1	# 神堡外环
	}
	possible = {
		custom_tooltip = {
			fail_text = AAR_failtips_AP_void_fortress
			owner = { has_ascension_perk = AAR_AP_void_fortress }	# 有飞升
		}
		NOT = { has_starbase_building = AAR_sbb_AP_void_TACTIC_DEFENCE }
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 150
		}

		upkeep = {
			energy = 2
		}
	}

	station_modifier = {
		ship_weapon_range_mult = 0.50
	}
	defense_platform_modifier = {
		ship_weapon_range_mult = 0.50
	}

	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = no
	ai_weight = {
		weight = 100 #use same weight here - ai weighting is done in starbase_types.txt
	}
}
#	防御网格
AAR_sbb_AP_void_TACTIC_DEFENCE = {
	icon = "GFX_starbase_defense_grid_supercomputer"
	construction_days = 240

#	show_in_tech = "tech_synchronized_defences"
	potential = {
		exists = owner
		has_starbase_size >= AAR_ship_AP_void_fortress_1	# 神堡外环
	}
	possible = {
		custom_tooltip = {
			fail_text = AAR_failtips_AP_void_fortress
			owner = { has_ascension_perk = AAR_AP_void_fortress }	# 有飞升
		}
		NOT = { has_starbase_building = AAR_sbb_AP_void_TACTIC_RANGE }
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 150
		}

		upkeep = {
			energy = 2
		}
	}

	station_modifier = {
		starbase_defense_platform_capacity_add = 8
		#	建造速度
		shipsize_military_station_small_build_speed_mult = 0.25
	#	shipsize_防御塔2_build_speed_mult = 0.25
		shipsize_ion_cannon_build_speed_mult = 0.25
	}

	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = no
	ai_weight = {
		weight = 100 #use same weight here - ai weighting is done in starbase_types.txt
	}
}

