
ag_iota_enclave_building = {
	icon = "GFX_spaceport_module_ag_iota_enclave_building"
	construction_days = 360

	potential = {
		exists = event_target:ag_ancient_iota_enclave
		exists = owner
		OR = {
			owner = {
				has_communications = event_target:ag_ancient_iota_enclave
				has_country_flag = ag_ancient_iota_enclave_building_flag
			}
			solar_system = { has_star_flag = ag_ancient_iota_system }
		}
		owner = {
			NOR = {
				is_hostile = event_target:ag_ancient_iota_enclave
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_machine_terminator
			}
		}
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_starport"
			has_starbase_size >= starbase_starport
		}
		custom_tooltip = {
			fail_text = "ag_requires_iota_enclave"
			solar_system = {
				has_star_flag = ag_ancient_iota_system
				any_fleet_in_system = {
					exists = owner
					owner = {
						is_same_value = event_target:ag_ancient_iota_enclave
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = "ag_requires_iota_enclave_agreement"
			owner = {
				has_country_flag = ag_ancient_iota_enclave_building_flag
			}
		}
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 100
		}
		produces = {
			physics_research = 25
			society_research = 25
			engineering_research = 25
		}
		produces = {
			trigger = {
				exists = owner
				owner = {
					is_galactic_community_member = yes
				}
				OR = {
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
			physics_research = 25
			society_research = 25
			engineering_research = 25
		}
		upkeep = {
			energy = 2
		}
	}

	country_modifier = {
		all_technology_research_speed = 0.05
	}

	ai_weight = {
		weight = 0
	}
}