ie_gate_uplink = {
	icon = "GFX_spaceport_gate_uplink"
	construction_days = 0
	ai_weight = { weight = 1500 }

	potential = {
		exists = owner
		solar_system = { any_system_planet = { is_planet_class = pc_ie_gateway } }
	}

	possible = {
		custom_tooltip = { fail_text = "requires_starport"
			OR = {
				has_starbase_size >= starbase_starport
				has_starbase_size >= acot_precusor_starbase
				has_starbase_size >= acot_precusor_sigma_starbase
				has_starbase_size >= acot_precusor_phanon_starcitadel
			}
		}
	}

	resources = { 
		category = starbase_modules
		cost = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 1  } }
			}
			alloys = 50000
		}
		upkeep = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 1  } }
			}
			energy = 800
		}
		cost = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 2  } }
			}
			alloys = 100000
		}
		upkeep = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 2  } }
			}
			energy = 1600
		}
		cost = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 3  } }
			}
			alloys = 150000
		}
		upkeep = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 3  } }
			}
			energy = 2400
		}
		cost = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 4  } }
			}
			alloys = 200000
		}
		upkeep = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 4  } }
			}
			energy = 3200
		}
		cost = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 5  } }
			}
			alloys = 250000
		}
		upkeep = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 5  } }
			}
			energy = 4000
		}
		cost = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 6  } }
			}
			alloys = 300000
		}
		upkeep = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 6  } }
			}
			energy = 4800
		}
		cost = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 7  } }
			}
			alloys = 350000
		}
		upkeep = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 7  } }
			}
			energy = 5600
		}
		cost = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 8  } }
			}
			alloys = 400000
		}
		upkeep = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 8  } }
			}
			energy = 6400
		}
		cost = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 9  } }
			}
			alloys = 450000
		}
		upkeep = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 9  } }
			}
			energy = 7200
		}
		cost = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count >= 10  } }
			}
			alloys = 500000
		}
		upkeep = {
			trigger = {
				solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count >= 10  } }
			}
			energy = 8000
		}
	}

	triggered_station_modifier = { potential = { solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 1  } } } starbase_shipyard_capacity_add = 1000 }
	triggered_station_modifier = { potential = { solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 2  } } } starbase_shipyard_capacity_add = 2000 }
	triggered_station_modifier = { potential = { solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 3  } } } starbase_shipyard_capacity_add = 3000 }
	triggered_station_modifier = { potential = { solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 4  } } } starbase_shipyard_capacity_add = 4000 }
	triggered_station_modifier = { potential = { solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 5  } } } starbase_shipyard_capacity_add = 5000 }
	triggered_station_modifier = { potential = { solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 6  } } } starbase_shipyard_capacity_add = 6000 }
	triggered_station_modifier = { potential = { solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 7  } } } starbase_shipyard_capacity_add = 7000 }
	triggered_station_modifier = { potential = { solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 8  } } } starbase_shipyard_capacity_add = 8000 }
	triggered_station_modifier = { potential = { solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count = 9  } } } starbase_shipyard_capacity_add = 9000 }
	triggered_station_modifier = { potential = { solar_system = { count_system_planet = { limit = { is_planet_class = pc_ie_gateway } count >= 10 } } } starbase_shipyard_capacity_add = 10000 }
	
}

ring_orbital_shield_generator = {
	icon = "GFX_orbitalring_shield_generator"
	construction_days = 360

	potential = {
		exists = owner
		owner = { 
			has_technology = tech_planetary_shield_generator
		}
		is_orbital_ring = yes
	}

	possible = {
		planet = {
			NOR = {
				has_building_construction = building_planetary_shield_generator
				has_building = building_planetary_shield_generator
				has_building_construction = building_mem_planetary_shield_generator
				has_building = building_mem_planetary_shield_generator
			}
		}
	}

	station_modifier = {
		ship_shield_mult = 0.25
		ship_shield_hardening_add = 0.25
	}

	defense_platform_modifier = {
		ship_shield_mult = 0.25
		ship_shield_hardening_add = 0.25
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 200
			rare_crystals = 300
		}

		upkeep = {
			energy = 5
			rare_crystals = 2
		}
	}

	show_in_tech = "tech_planetary_shield_generator"

	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = yes

	ai_weight = {
		weight = 50
		modifier = {
			factor = 4
			planet = {
				has_designation = col_fortress
			}
		}
	}
}