cybertronian_synth_empire_trigger = {
	host_has_dlc = "Utopia"
	NOT = { has_ethic = ethic_gestalt_consciousness }
	OR = {
		owner.species = {
			OR = {
				has_trait = trait_cybertronian
				has_trait = trait_bw_cybertronian
				has_trait = trait_transtech_cybertronian
			}
			has_trait = trait_mechanical
		}
		has_country_flag = cybertronian_synth_empire
	}
}

is_insecticon_swarm_consumption_world = { # planet scope
	exists = owner
	NOR = {
		is_ideal_planet_class = {
			who = owner
			status = yes
		}
		AND = {
			planet_size > 13
			owner = {
				any_owned_pop = {
					is_being_purged = no
					prevprev = { habitability = { who = prev value >= 0.9 } }
				}
			}
		}
	}
}

can_destroy_planet_with_PLANET_KILLER_CYBERTRONIAN_CONVERSION_BEAM = {
	custom_tooltip = {
		fail_text = is_not_a_standard_planet_or_megastructure
		is_a_planet_megastructure = yes
	}
	custom_tooltip = {
		fail_text = is_shielded
		NOR = {
			is_planet_class = pc_shielded
			is_planet_class = pc_ringworld_shielded
			is_planet_class = pc_habitat_shielded
		}
	}
	custom_tooltip = {
		fail_text = is_cybertronian
		NOR = {
			is_planet_class = pc_damaged_cybertron
			is_planet_class = pc_dead_cybertron
			is_planet_class = pc_restored_cybertron
			is_planet_class = pc_corrupted_cybertron
			is_planet_class = pc_cybertronian_world
			is_planet_class = pc_corrupted_cybertronian_world
			is_planet_class = pc_insecticon_hive
		}
	}
	custom_tooltip = {
		fail_text = is_machine
		NOR = {
			is_planet_class = pc_ai
			is_planet_class = pc_machine
		}
	}
	#custom_tooltip = {
		#fail_text = is_not_hostile
		OR = {
			custom_tooltip = {
				text = is_not_hostile_cracker
				OR = {
					AND = {
						exists = space_owner
						space_owner = {
							OR = {
								is_at_war_with = from.owner
								is_country_type = swarm
								is_country_type = extradimensional
								is_country_type = extradimensional_2
								is_country_type = extradimensional_3
								is_country_type = ai_empire
							}
						}
					}
					AND = { # colony
						exists = owner
						owner = {
							OR = {
								is_at_war_with = from.owner
								is_country_type = swarm
								is_country_type = extradimensional
								is_country_type = extradimensional_2
								is_country_type = extradimensional_3
								is_country_type = ai_empire
							}
						}
					}
					AND = { # primitive
						exists = space_owner
						exists = owner
						owner = {
							is_primitive = yes
						}
						space_owner = {
							OR = {
								is_at_war_with = from.owner
								is_country_type = swarm
								is_country_type = extradimensional
								is_country_type = extradimensional_2
								is_country_type = extradimensional_3
								is_country_type = ai_empire
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = not_barren_molten_frozen_toxic_test_fire
				NOT = { exists = owner }
				OR = {
					NOT = { exists = space_owner }
					AND = {
						exists = space_owner
						space_owner = { is_same_value = from.owner }
					}
				}
				OR = {
					habitable_planet = yes
					uninhabitable_regular_planet = yes
					is_planet_class = pc_ringworld_habitable
					is_planet_class = pc_habitat
				}
			}
		}
	#}
}

is_cybertronian = {
	OR = {
		has_trait = trait_cybertronian
		has_trait = trait_bw_cybertronian
		has_trait = trait_transtech_cybertronian
		has_trait = trait_robot_insecticon
	}
}

is_cybertronian_empire = {
	has_country_flag = cybertronian_synth_empire
}

is_doomsday_cybertron_planet = {
	OR = {
		has_modifier = core_shutdown_0
		has_modifier = core_shutdown_1
		has_modifier = core_shutdown_2
		has_modifier = core_shutdown_3
		has_modifier = core_shutdown_4
	}
}