decision_mega_foundries = {
	owned_planets_only = yes
	enactment_time = 30
	
	prerequisites = {
		"tech_mega_foundries"		
	}
	
	resources = {
		category = decisions
		cost = {
			minerals = 400
			volatile_motes = 50
		}
		cost = {
			trigger = {
				exists = owner
				owner = { is_gestalt = no }
			}
			sr_wealth = 200
		}
	}
	
	potential = {
		not = { has_planet_flag = pf_mega_foundried }
		not = { has_planet_flag = pf_filter_vanilla }
		not = { has_planet_flag = pf_filter_districts }
		exists = owner
		num_buildings = { type = building_foundry_3 value > 0 }
	}
	
	allow = {
		num_buildings = { type = building_foundry_3 value > 1 }
	}
	
	effect = {
		custom_tooltip = decision_mega_foundries_custom
		hidden_effect = {
			remove_building = building_foundry_3
			remove_building = building_foundry_3
			add_building = building_mega_foundry
			validate_planet_buildings_and_districts = yes
			set_planet_flag = pf_mega_foundried
		}
	}
	
	ai_weight = {
		weight = 1
	}
}

decision_paradise_citydomes = {
	owned_planets_only = yes
	enactment_time = 30
	
	prerequisites = {
		"tech_paradise_citydomes"		
	}
	
	resources = {
		category = decisions
		cost = {
			minerals = 250
			rare_crystals = 25
		}
		cost = {
			trigger = {
				exists = owner
				owner = { is_gestalt = no }
			}
			sr_wealth = 200
		}
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		not = { has_planet_flag = pf_filter_districts }
		exists = owner
		num_buildings = { type = building_paradise_dome value > 0 }
	}
	
	allow = {
		num_buildings = { type = building_paradise_dome value > 1 }
	}
	
	effect = {
		custom_tooltip = decision_paradise_citydomes_custom
		hidden_effect = {
			remove_building = building_paradise_dome
			remove_building = building_paradise_dome
			add_building = building_paradise_citydomes
			validate_planet_buildings_and_districts = yes 
		}
	}
	
	ai_weight = {
		weight = 1
	}
}

decision_vertical_farms = {
	owned_planets_only = yes
	enactment_time = 30
	
	prerequisites = {
		"tech_vertical_farms"		
	}
	
	resources = {
		category = decisions
		cost = {
			minerals = 200
		}
		cost = {
			trigger = {
				exists = owner
				owner = { is_gestalt = no }
			}
			sr_wealth = 200
		}
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		not = { has_planet_flag = pf_filter_districts }
		exists = owner
		owner = {
			has_technology = tech_food_processing_1
		}
		num_buildings = { type = building_hydroponics_farm value > 0 }
	}
	
	allow = {
		num_buildings = { type = building_hydroponics_farm value > 1 }
	}
	
	effect = {
		custom_tooltip = decision_vertical_farms_custom
		hidden_effect = {
			remove_building = building_hydroponics_farm
			remove_building = building_hydroponics_farm
			add_building = building_vertical_farms
			validate_planet_buildings_and_districts = yes 
		}
	}
	
	ai_weight = {
		weight = 1
	}
}