
ag_fire_alpha_psionic_weapon = {
	sound = event_activating_unknown_technology
	resources = {
		category = decisions
		cost = { energy = 1 multiplier = value:ag_enter_excited_shroud_cost }
	}
	potential = {
		is_star = yes
		is_planet_class = pc_ag_psionic_star
		exists = solar_system.space_owner
		solar_system.space_owner = { has_technology = tech_ag_alpha_psionic_star_weapon is_same_value = from }
		NOT = { has_planet_flag = ag_alpha_psionic_firing }
	}
	allow = {
		custom_tooltip = {
			fail_text = "ag_fire_alpha_psionic_weapon_charge_failed"
			OR = {
				check_variable = { which = ag_ancient_psi_star_weapon_charge_0 value > 0 }
				check_variable = { which = ag_ancient_psi_star_weapon_charge_1 value > 0 }
				check_variable = { which = ag_ancient_psi_star_weapon_charge_2 value > 0 }
				check_variable = { which = ag_ancient_psi_star_weapon_charge_3 value > 0 }
			}
		}
	}
	effect = {
		custom_tooltip = "ag_fire_alpha_psionic_weapon_effect"
		if = { limit = { is_variable_set = ag_ancient_psi_star_weapon_charge_0 } custom_tooltip = "ag_fire_alpha_psionic_weapon_charged_0" }
		if = { limit = { is_variable_set = ag_ancient_psi_star_weapon_charge_1 } custom_tooltip = "ag_fire_alpha_psionic_weapon_charged_1" }
		if = { limit = { is_variable_set = ag_ancient_psi_star_weapon_charge_2 } custom_tooltip = "ag_fire_alpha_psionic_weapon_charged_2" }
		if = { limit = { is_variable_set = ag_ancient_psi_star_weapon_charge_3 } custom_tooltip = "ag_fire_alpha_psionic_weapon_charged_3" }
		hidden_effect = { set_planet_flag = ag_alpha_psionic_firing solar_system = { system_event = { id = ag_alpha.84 } } }
	}
	ai_weight = { weight = 0 }
}
