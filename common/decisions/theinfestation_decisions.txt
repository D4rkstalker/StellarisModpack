 ##########################################################################
# Decisions
##########################################################################

decision_quarantine = {
	owned_planets_only = yes
	sound = event_red_alert
	icon = decision_penal_colony
	
	resources = {
		category = decisions
		cost = {
			unity = 250
			energy = 500
		}
	}
	
	potential = {
		exists = owner
		owner = { NOT = { has_origin = origin_exomycosis } }
		OR = {
			has_modifier = "exomycosis_infestation"
			is_planet_class = pc_mycelium
			has_modifier = mold_contaminated
		}
		NOR = {
			has_modifier = planetary_quarantine
			has_modifier = planetary_quarantine_gestalt
		}
	}
	
	allow = {
		is_controlled_by = owner
		has_ground_combat = no
		has_orbital_bombardment = no
	}
	
	effect = {
		if = {
			limit = { owner = { is_gestalt = yes } }
			add_modifier = { modifier = planetary_quarantine_gestalt days = -1 }
		}
		else = {
			add_modifier = { modifier = planetary_quarantine days = -1 }
		}
	}
	
	ai_weight = {
		weight = 50
	}
}

decision_abolish_quarantine = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_penal_colony

	resources = {
		category = decisions
	}
	
	potential = {
		OR = {
			has_modifier = planetary_quarantine
			has_modifier = planetary_quarantine_gestalt
		}
	}
	
	effect = {
		if = {
			limit = { has_modifier = planetary_quarantine }
			remove_modifier = planetary_quarantine
		}
		if = {
			limit = { has_modifier = planetary_quarantine_gestalt }
			remove_modifier = planetary_quarantine_gestalt
		}
	}
	
	ai_weight = {
		weight = 100	
		modifier = {
			factor = 0
			OR = {
				has_modifier = "exomycosis_infestation"
				is_planet_class = pc_mycelium
				has_modifier = mold_contaminated
			}
		}
	}
}

decision_planet_burn = {
	owned_planets_only = yes
	sound = event_red_alert
	icon = decision_burning_settlement
	
	resources = {
		category = decisions
		cost = {
			unity = 500
			energy = 1000
		}
	}
	
	potential = {
		exists = owner
		owner = { NOT = { has_origin = origin_exomycosis } }
		OR = {
			is_planet_class = pc_mycelium
			has_modifier = mold_contaminated
		}
	}
	
	allow = {
		is_controlled_by = owner
		has_ground_combat = no
		has_orbital_bombardment = no
		owner = {
			NOR = { 
				has_special_project = PLANET_BURNING_PROJECT
				has_special_project = PLANET_DISINFECTION_PROJECT
			}
		}
	}
	
	effect = {
		enable_special_project = {
			name = "PLANET_BURNING_PROJECT"
			location = this
			owner = ROOT
		}
	}
	
	ai_weight = {
		weight = 100
		modifier = {
			factor = 0
			owner = { has_country_flag = exomycosis_research_complete }
		}
	}
}

decision_planet_disinfection = {
	owned_planets_only = yes
	sound = event_air_raid_siren
	icon = decision_infestation
	
	resources = {
		category = decisions
		cost = {
			unity = 1000
			energy = 3000
		}
	}
	
	potential = {
		exists = owner
		owner = { NOT = { has_origin = origin_exomycosis } }
		owner = { has_country_flag = exomycosis_research_complete }
		OR = {
			is_planet_class = pc_mycelium
			has_modifier = mold_contaminated
		}
	}
	
	allow = {
		is_controlled_by = owner
		has_ground_combat = no
		has_orbital_bombardment = no
		owner = {
			NOR = { 
				has_special_project = PLANET_BURNING_PROJECT
				has_special_project = PLANET_DISINFECTION_PROJECT
			}
		}
	}
	
	effect = {
		enable_special_project = {
			name = "PLANET_DISINFECTION_PROJECT"
			location = this
			owner = ROOT
		}
	}
	
	ai_weight = {
		weight = 100
	}
}