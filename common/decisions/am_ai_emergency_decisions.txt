decision_create_local_industry = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = {
			energy = 1
		}			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam }
		not = { has_planet_flag = tpf_create_local_industry }
		exists = owner
		free_building_slots > 1
		num_buildings = { type = building_factory_1 value < 2 }
		count_owned_pops = { limit = { is_unemployed = yes } count > 0 }
		owner = { 
			is_ai = yes
			is_regular_empire = yes
			has_monthly_income = {
				resource = consumer_goods
				value < 10
			}
			has_monthly_income = {
				resource = minerals
				value > 50
			}
		}
		has_building_construction = no
	}
	
	effect = {
		set_timed_planet_flag = {
			flag = tpf_create_local_industry
			days = 360
		}
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam
			days = 360
		}
		add_building = building_factory_1
	}
	
	ai_weight = {
		weight = 1000
	}
}

decision_create_police_force = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = {
			energy = 1
		}			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam }
		not = { has_planet_flag = tpf_create_police_force }
		exists = owner
		owner = { 
			is_ai = yes
			is_regular_empire = yes
		}
		free_building_slots > 0
		planet_crime > 10
		count_owned_pops = { limit = { is_unemployed = yes } count > 0 }
		has_building_construction = no
	}
	
	effect = {
		set_timed_planet_flag = {
			flag = tpf_create_police_force
			days = 360
		}
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam
			days = 360
		}
		add_building = building_precinct_house
	}
	
	ai_weight = {
		weight = 500
	}
}

decision_create_police_force_from_artisans = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = {
			energy = 1
		}			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam }
		not = { has_planet_flag = tpf_create_police_force }
		exists = owner
		owner = { 
			is_ai = yes
			is_regular_empire = yes
		}
		planet_crime > 15
		not = { has_building = building_precinct_house }
		not = { has_building = building_hall_judgment }
		has_building = building_factory_1
		owner = { 
			has_monthly_income = {
				resource = consumer_goods
				value > 25
			}
		}
	}
	
	effect = {
		set_timed_planet_flag = {
			flag = tpf_create_police_force
			days = 360
		}
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam
			days = 360
		}
		remove_building = building_factory_1
		add_building = building_precinct_house
	}
	
	ai_weight = {
		weight = 500
	}
}

decision_create_entertainment_from_artisans = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = {
			energy = 1
		}			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam }
		not = { has_planet_flag = tpf_create_entertainment }
		exists = owner
		owner = { 
			is_ai = yes
			is_regular_empire = yes
		}
		free_amenities < 10
		not = { has_building = building_holo_theatres }
		not = { has_building = building_hyper_entertainment_forum }
		has_building = building_factory_1
		owner = { 
			has_monthly_income = {
				resource = consumer_goods
				value > 25
			}
		}
	}
	
	effect = {
		remove_building = building_factory_1
		add_building = building_holo_theatres
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam
			days = 360
		}
		set_timed_planet_flag = {
			flag = tpf_create_entertainment
			days = 360
		}
	}
	
	ai_weight = {
		weight = 250
	}
}

decision_emergency_food = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = {
			energy = 1
		}			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam }
		exists = owner
		owner = { 
			is_regular_empire = yes
			country_uses_food = yes
			is_ai = yes
			has_monthly_income = {
				resource = food
				value < 5
			}
		}
		num_free_districts = { type = district_farming value > 0 }
		has_building_construction = no
	}
	
	effect = {
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam
			days = 360
		}
		if = {
			limit = {
				count_owned_pops = { limit = { is_unemployed = yes } count > 0 }
			}
			add_district = district_farming
		}
		else_if = {
			limit = {
				num_districts = { type = district_generator value > 1 }
				owner = { 
					has_monthly_income = {
						resource = energy
						value > 25
					}
				}
			}
			remove_district = district_generator
			add_district = district_farming
		}
		else_if = {
			limit = {
				num_districts = { type = district_mining value > 1 }
				owner = { 
					has_monthly_income = {
						resource = minerals
						value > 25
					}
				}
			}
			remove_district = district_mining
			add_district = district_farming
		}
	}
	
	ai_weight = {
		weight = 1000
	}
}

decision_fix_too_many_miners_need_food = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = { energy = 1 }			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam }
		exists = owner
		owner = { 
			is_regular_empire = yes
			country_uses_food = yes
			is_ai = yes
			has_monthly_income = {
				resource = minerals
				value > 75
			}
			has_monthly_income = {
				resource = food
				value < 25
			}
		}
		not = { has_planet_flag = pf_no_em_district_swapping }
		num_districts = { type = district_mining value > 1 }
		num_free_districts = { type = district_farming value > 0 }
	}
	
	effect = {
		remove_district = district_mining
		add_district = district_farming
		set_timed_planet_flag = {
			flag = pf_no_em_district_swapping
			days = 90
		}
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam
			days = 360
		}
	}
	
	ai_weight = {
		weight = 500
	}
}

decision_fix_too_many_miners_need_energy = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = { energy = 1 }			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam }
		exists = owner
		owner = { 
			is_regular_empire = yes
			is_ai = yes
			has_monthly_income = {
				resource = minerals
				value > 75
			}
			has_monthly_income = {
				resource = energy
				value < 25
			}
		}
		not = { has_planet_flag = pf_no_em_district_swapping }
		num_districts = { type = district_mining value > 1 }
		num_free_districts = { type = district_generator value > 0 }
	}
	
	effect = {
		remove_district = district_mining
		add_district = district_generator
		set_timed_planet_flag = {
			flag = pf_no_em_district_swapping
			days = 90
		}
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam
			days = 360
		}
	}
	
	ai_weight = {
		weight = 1000
	}
}

decision_upgrade_factories_1 = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = { energy = 1 }			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam2 }
		owner = { 
			is_regular_empire = yes
			is_ai = yes
			has_technology = tech_luxuries_1
			has_technology = tech_rare_crystals
			country_uses_consumer_goods = yes
		}
		num_buildings = { type = building_factory_1 value > 1 }
		num_buildings = { type = building_factory_2 value < 2 }
		num_buildings = { type = building_crystal_plant value < 2 }
		has_building_construction = no
	}
	
	effect = {
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam2
			days = 360
		}
		remove_building = building_factory_1
		remove_building = building_factory_1
		add_building = building_factory_2
		add_building = building_crystal_plant
	}
	
	ai_weight = {
		weight = 500
	}
}

decision_upgrade_foundries_1 = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = { energy = 1 }			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam2 }
		owner = { 
			is_regular_empire = yes
			is_ai = yes
			has_technology = tech_alloys_1
			has_technology = tech_volatile_motes
		}
		num_buildings = { type = building_foundry_1 value > 1 }
		num_buildings = { type = building_foundry_2 value < 2 }
		num_buildings = { type = building_chemical_plant value < 2 }
		has_building_construction = no
	}
	
	effect = {
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam2
			days = 360
		}
		remove_building = building_foundry_1
		remove_building = building_foundry_1
		add_building = building_foundry_2
		add_building = building_chemical_plant
	}
	
	ai_weight = {
		weight = 500
	}
}

decision_resolve_housing_crisis = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = { energy = 1 }			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam3 }
		owner = { 
			is_regular_empire = yes
			is_gestalt = no
			is_ai = yes
		}
		num_free_districts = { type = district_generator value < 1 }
		num_free_districts = { type = district_mining value < 1 }
		num_free_districts = { type = district_city value > 0 }
		free_housing < 0
		has_building_construction = no
	}
	
	effect = {
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam3
			days = 360
		}
		add_district = district_city
	}
	
	ai_weight = {
		weight = 500
	}
}

decision_resolve_housing_crisis_2 = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = { energy = 1 }			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam3 }
		owner = { 
			is_regular_empire = yes
			is_gestalt = no
			is_ai = yes
			has_monthly_income = {
				resource = energy
				value > 50
			}
		}
		free_district_slots < 1
		free_housing < 0
		num_districts = { type = district_generator value > 1 }
		num_districts = { type = district_city value > 0 }
	}
	
	effect = {
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam3
			days = 360
		}
		remove_district = district_generator
		add_district = district_city
	}
	
	ai_weight = {
		weight = 100
	}
}

decision_resolve_housing_crisis_3 = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = { energy = 1 }			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam3 }
		owner = { 
			is_regular_empire = yes
			is_gestalt = no
			is_ai = yes
			country_uses_food = yes
			has_monthly_income = {
				resource = food
				value > 50
			}
		}
		free_district_slots < 1
		free_housing < 0
		num_districts = { type = district_farming value > 2 }
		num_districts = { type = district_city value > 0 }
	}
	
	effect = {
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam3
			days = 360
		}
		remove_district = district_farming
		add_district = district_city
	}
	
	ai_weight = {
		weight = 300
	}
}

decision_resolve_housing_crisis_4 = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_resources

	resources = {
		category = decisions
		cost = { energy = 1 }			
	}
	
	potential = {
		not = { has_planet_flag = tpf_avoid_decision_spam3 }
		owner = { 
			is_regular_empire = yes
			is_gestalt = no
			is_ai = yes
			has_monthly_income = {
				resource = minerals
				value > 50
			}
		}
		free_district_slots < 1
		free_housing < 0
		num_districts = { type = district_mining value > 4 }
		num_districts = { type = district_city value > 0 }
	}
	
	effect = {
		set_timed_planet_flag = {
			flag = tpf_avoid_decision_spam3
			days = 360
		}
		remove_district = district_mining
		add_district = district_city
	}
	
	ai_weight = {
		weight = 50
	}
}