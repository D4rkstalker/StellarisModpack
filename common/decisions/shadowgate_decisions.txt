decision_access_shadowgate_mainframe = {
	owned_planets_only = yes
	sound = shadowgate_interface_open
	icon = decision_access_shadowgate_mainframe
	
	potential = {
		has_planet_flag = shadowgate_planet
		is_controlled_by = owner
		owner = { is_ai = no }
		NOR = { has_planet_flag = shadowgate_accessed has_planet_flag = shadowgate_d_compass_open has_modifier = pm_shadowgate_dimensional_shift has_planet_flag = shadowgate_ashen_pilgrimage }
	}

	allow = {
		hidden_trigger = { NOT = { has_global_flag = shadowgate_opening } }
		custom_tooltip = { fail_text = decision_access_shadowgate_mainframe_fail owner = { NOR = { has_country_flag = shadowgate_accessed has_country_flag = shadowgate_d_compass_open } } }
	}
	
	effect = {
		custom_tooltip = decision_access_shadowgate_mainframe_tooltip
		hidden_effect = {
			if = { limit = { NOR = { shadowgate_is_disabled = yes solar_system = { shadowgate_antiresonant_void_check = yes } } }
				switch = {
					trigger = has_planet_flag
					shadowgate_a = { planet_event = { id = shadowgate_a.100 } }
					shadowgate_b = { planet_event = { id = shadowgate_b.100 } }
					shadowgate_c = { planet_event = { id = shadowgate_c.100 } }
					shadowgate_d = { planet_event = { id = shadowgate_d.100 } }
					shadowgate_e = { planet_event = { id = shadowgate_e.100 } }
				}
			}
			else = {
				switch = {
					trigger = has_planet_flag
					shadowgate_a = { planet_event = { id = shadowgate_a.500 } }
					shadowgate_b = { planet_event = { id = shadowgate_b.500 } }
					shadowgate_c = { planet_event = { id = shadowgate_c.500 } }
					shadowgate_d = { planet_event = { id = shadowgate_d.500 } }
					shadowgate_e = { planet_event = { id = shadowgate_e.500 } }
				}
			}
		}
	}

	ai_weight = {
		weight = 0
	}
}