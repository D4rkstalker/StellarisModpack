decision_increased_ai_research = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {
			energy = 250
		}
	}

	potential = {
		not = { has_planet_flag = pf_increased_ai_research }
		not = { has_planet_flag = pf_filter_vanilla }
		exists = owner
	}
	
	allow = {
		exists = owner
		owner = { not = { has_policy_flag = ai_outlawed }}
		num_buildings = { type = building_research_lab_3 value > 0 }
	}
	
	prerequisites = { "tech_positronic_implants" }
	
	effect = {
		set_planet_flag = pf_increased_ai_research
		add_modifier = {
			modifier = pm_increased_ai_research
			days = -1
		}
		check_planet_employment = yes
	}
	
	ai_weight = {
		weight = 100
		modifier = {
			weight = 0
			free_jobs < 6
		}
	}
}

decision_end_increased_ai_research = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {}
	}

	potential = {
		has_planet_flag = pf_increased_ai_research
		not = { has_planet_flag = pf_filter_vanilla }
	}
	
	effect = {
		remove_planet_flag = pf_increased_ai_research
		remove_modifier = pm_increased_ai_research
		check_planet_employment = yes
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 10
			free_jobs < 1
		}
		modifier = {
			weight = 1000
			exists = owner
			owner = { has_policy_flag = ai_outlawed }
		}
	}
}

decision_focus_industry_alloys = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {
			energy = 50
		}		
	}

	potential = {
		not = { has_planet_flag = pf_focus_alloys }
		not = { has_planet_flag = pf_focus_goods }
		num_districts = { type = district_industrialised value > 0 }
		not = { has_planet_flag = pf_filter_vanilla }
		exists = owner
		owner = {
			or = {
				is_machine_empire = no
				and = {
					is_machine_empire = yes
					has_valid_civic = civic_machine_servitor
				}
			}
		}
	}
	
	effect = {
		set_planet_flag = pf_focus_alloys
		add_modifier = {
			modifier = pm_focus_alloys
			days = -1
		}
		check_planet_employment = yes
	}
	
	ai_weight = {
		weight = 10
		modifier = {
			weight = 5
			exists = owner
			owner = { is_at_war = yes }
		}
		modifier = {
			weight = 100
			exists = owner
			owner = { country_uses_consumer_goods = no }
		}
	}
}

decision_focus_industry_goods = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {
			energy = 50
		}		
	}

	potential = {
		not = { has_planet_flag = pf_focus_alloys }
		not = { has_planet_flag = pf_focus_goods }
		num_districts = { type = district_industrialised value > 0 }
		not = { has_planet_flag = pf_filter_vanilla }
		exists = owner
		owner = {
			or = {
				is_machine_empire = no
				and = {
					is_machine_empire = yes
					has_valid_civic = civic_machine_servitor
				}
			}
		}
	}
	
	effect = {
		set_planet_flag = pf_focus_goods
		add_modifier = {
			modifier = pm_focus_goods
			days = -1
		}
		check_planet_employment = yes
	}
	
	ai_weight = {
		weight = 0
	}
}

decision_focus_industry_none = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {
			energy = 25
		}		
	}

	potential = {
		or = {
			has_planet_flag = pf_focus_alloys
			has_planet_flag = pf_focus_goods
			has_modifier = pm_focus_alloys
			has_modifier = pm_focus_goods
		}
		not = { has_planet_flag = pf_filter_vanilla }
	}
	
	effect = {
		remove_planet_flag = pf_focus_goods
		remove_planet_flag = pf_focus_alloys
		remove_modifier = pm_focus_alloys
		remove_modifier = pm_focus_goods
		check_planet_employment = yes
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 50
			exists = owner
			owner = { is_at_war = no }
			owner = { country_uses_consumer_goods = yes }
		}
	}
}

decision_automated_mining = {
	owned_planets_only = yes
	sound = event_administrative_work

	resources = {
		category = decisions
		cost = {
			sr_wealth = 25
		}			
	}
	
	potential = {
		owner = { 
			is_regular_empire = yes
			nor = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
		}
		not = { has_planet_flag = pf_automated_mining }
		num_districts = { type = district_mining value > 0 }
		not = { has_planet_flag = pf_filter_vanilla }
	}
	
	effect = {
		set_planet_flag = pf_automated_mining
		check_planet_employment = yes
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 5
			num_pops > 10
			free_jobs > 4
		}
	}
}

decision_end_automated_mining = {
	owned_planets_only = yes
	sound = event_administrative_work

	resources = {
		category = decisions
		cost = {
		}			
	}
	
	potential = {
		has_planet_flag = pf_automated_mining
		not = { has_planet_flag = pf_filter_vanilla }
	}
	
	effect = {
		remove_planet_flag = pf_automated_mining
		check_planet_employment = yes
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 5
			or = {
				num_pops < 10
				free_jobs < 1
				and = {
					exists = owner
					owner = { is_regular_empire = no }
				}
			}
		}
	}
}

decision_automated_farming = {
	owned_planets_only = yes
	sound = event_administrative_work

	resources = {
		category = decisions
		cost = {
			sr_wealth = 25
		}			
	}
	
	potential = {
		owner = { 
			is_regular_empire = yes
			nor = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
		}
		not = { has_planet_flag = pf_automated_farming }
		num_districts = { type = district_farming value > 0 }
		not = { has_planet_flag = pf_filter_vanilla }
	}
	
	effect = {
		set_planet_flag = pf_automated_farming
		check_planet_employment = yes
	}
	
	prerequisites = {
		"tech_food_processing_1"
	}
	show_tech_unlock_if = {
		country_uses_food = yes
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 5
			num_pops > 10
			free_jobs > 4
		}
	}
}

decision_end_automated_farming = {
	owned_planets_only = yes
	sound = event_administrative_work

	resources = {
		category = decisions
		cost = {
		}			
	}
	
	potential = {
		has_planet_flag = pf_automated_farming
		not = { has_planet_flag = pf_filter_vanilla }
	}
	
	effect = {
		remove_planet_flag = pf_automated_farming
		check_planet_employment = yes
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 5
			or = {
				num_pops < 10
				free_jobs < 1
				and = {
					exists = owner
					owner = { is_regular_empire = no }
				}
			}
		}
	}
}

decision_generator_privatisation = {
	owned_planets_only = yes
	sound = event_administrative_work

	resources = {
		category = decisions
		cost = {}			
	}
	
	potential = {
		owner = { 
			is_regular_empire = yes
			or = {
				is_ai = yes
				and = {
					is_ai = no
					or = {
						has_authority = auth_corporate
						has_ethic = ethic_pacifist
						has_ethic = ethic_fanatic_pacifist
						has_ethic = ethic_egalitarian
						has_ethic = ethic_fanatic_egalitarian
					}
				}
			}
		}
		not = { has_planet_flag = pf_privatise_generators }
		not = { has_planet_flag = pf_filter_vanilla }
	}
	
	allow = {
		num_districts = { type = district_generator value > 0 }
		exists = owner
		owner = {
			not = { has_policy_flag = alp_private_businesses_prohibited }
			not = { has_policy_flag = alp_private_businesses_restricted }
		}
	}
	
	prerequisites = {
		"tech_power_hub_1"
	}
	show_tech_unlock_if = {
		owner = {
			or = {
				has_authority = auth_corporate
				has_ethic = ethic_pacifist
				has_ethic = ethic_fanatic_pacifist
				has_ethic = ethic_egalitarian
				has_ethic = ethic_fanatic_egalitarian
			}
		}
	}
	
	effect = {
		add_modifier = {
			modifier = plm_privatise_generators
			days = -1
		}
		set_planet_flag = pf_privatise_generators
		check_planet_employment = yes
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 5
			count_owned_pops = { 
				limit = { is_unemployed = yes }
				count > 0
			}
			free_jobs < 2
			num_districts = { type = district_generator value > 2 }
			owner = { 
				has_monthly_income = {
					resource = sr_wealth
					value < 10
				}			
			}
			owner = { 
				has_monthly_income = {
					resource = food
					value > 25
				}
				has_monthly_income = {
					resource = minerals
					value > 50
				}				
			}
		}
	}
}

decision_end_generator_privatisation = {
	owned_planets_only = yes
	sound = event_administrative_work

	resources = {
		category = decisions
		cost = {
			sr_wealth = 5
		}
		cost = {
			trigger = {
				exists = owner
				owner = { 
					is_gestalt = no 
					is_ai = no
				}
			}
			sr_wealth = 195
		}			
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		has_planet_flag = pf_privatise_generators
	}
	
	effect = {
		remove_modifier = plm_privatise_generators
		remove_planet_flag = pf_privatise_generators
		check_planet_employment = yes
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 1000
			or = {
				free_jobs > 3
				owner = {
					has_monthly_income = {
						resource = sr_wealth
						value > 50
					}
				}
				owner = {
					has_monthly_income = {
						resource = energy
						value > 250
					}
				}
			}
		}
	}
}

decision_preserving_fuels = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {}
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		habitable_structure = no
		not = { has_planet_flag = preserving_fuels }
		not = { has_modifier = plm_preserving_fuels }
		exists = owner
		owner = { is_gestalt = no }
		NOT = { is_planet_class = pc_machine }
		NOT = { is_planet_class = pc_hive }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_barren_habitable }
		NOT = { is_planet_class = pc_molten_habitable }
		NOT = { is_planet_class = pc_toxic_habitable }
		NOT = { is_planet_class = pc_frozen_habitable }
	}
	
	allow = {
		or = {
			and = {
				exists = owner
				owner = { is_ai = no }
			}
			num_districts = { type = district_generator value > 0 }
			num_districts = { type = district_industrialised value > 0 }
		}
	}
	
	effect = {
		custom_tooltip = decision_preserving_fuels_custom
		set_planet_flag = preserving_fuels
		add_modifier = {
			modifier = plm_preserving_fuels
			days = -1
		}
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 100
			owner = {
				has_monthly_income = {
					resource = sr_natural_fuels
					value < 2
				}
				resource_stockpile_compare = {
					resource = sr_natural_fuels
					value < 500
				}
			}
		}
		modifier = {
			weight = 500
			owner = {
				has_monthly_income = {
					resource = sr_natural_fuels
					value < 0
				}				
			}
		}
	}
}

decision_end_preserving_fuels = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {}
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		has_planet_flag = preserving_fuels
	}
	
	effect = {
		custom_tooltip = end_decision_preserving_fuels_custom
		remove_planet_flag = preserving_fuels
		remove_modifier = plm_preserving_fuels
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 200
			owner = {
				has_monthly_income = {
					resource = sr_natural_fuels
					value > 10
				}
				resource_stockpile_compare = {
					resource = sr_natural_fuels
					value > 1500
				}
			}
		}
		modifier = {
			weight = 1000
			owner = {
				resource_stockpile_compare = {
					resource = sr_natural_fuels
					value > 4000
				}				
			}
		}
	}
}

decision_preserving_biomass = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = { sr_biomass = 500 }
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		habitable_structure = no
		not = { has_planet_flag = preserving_biomass }
		not = { has_modifier = plm_preserving_biomass }
		not = { has_planet_flag = recycling_biomass }
		NOT = { is_planet_class = pc_machine }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_barren_habitable }
		NOT = { is_planet_class = pc_molten_habitable }
		NOT = { is_planet_class = pc_toxic_habitable }
		NOT = { is_planet_class = pc_frozen_habitable }
		owner = { is_machine_empire = no }
	}
	
	allow = {
		num_districts = { type = district_farming value > 0 }
	}
	
	effect = {
		custom_tooltip = decision_preserving_biomass_custom
		set_planet_flag = preserving_biomass
		add_modifier = {
			modifier = plm_preserving_biomass
			days = -1
		}
	}
	
	ai_weight = {
		weight = 0
	}
}

decision_end_preserving_biomass = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {
			trigger = {
				exists = owner
				owner = { is_ai = no }
			}
			energy = 250 
		}
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		has_planet_flag = preserving_biomass
	}
	
	effect = {
		custom_tooltip = end_decision_preserving_biomass_custom
		remove_planet_flag = preserving_biomass
		remove_modifier = plm_preserving_biomass
	}
	
	ai_weight = {
		weight = 1
	}
}

decision_preserving_actinides = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {}
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		habitable_structure = no
		not = { has_planet_flag = preserving_actinides }
		not = { has_modifier = plm_preserving_actinides }
		NOT = { is_planet_class = pc_machine }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_barren_habitable }
		NOT = { is_planet_class = pc_molten_habitable }
		NOT = { is_planet_class = pc_toxic_habitable }
		NOT = { is_planet_class = pc_frozen_habitable }
	}
	
	allow = {
		or = {
			owner = { is_ai = no }
			num_districts = { type = district_generator value > 0 }
		}
	}
	
	effect = {
		custom_tooltip = decision_preserving_actinides_custom
		set_planet_flag = preserving_actinides
		add_modifier = {
			modifier = plm_preserving_actinides
			days = -1
		}
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 100
			owner = {
				has_monthly_income = {
					resource = sr_actinides
					value < 2
				}
				resource_stockpile_compare = {
					resource = sr_actinides
					value < 250
				}				
			}
		}
		modifier = {
			weight = 500
			owner = {
				has_monthly_income = {
					resource = sr_actinides
					value < 0
				}				
			}
		}
	}
}

decision_end_preserving_actinides = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {}		
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		has_planet_flag = preserving_actinides
	}
	
	effect = {
		custom_tooltip = end_decision_preserving_actinides_custom
		remove_planet_flag = preserving_actinides
		remove_modifier = plm_preserving_actinides
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 200
			owner = {
				has_monthly_income = {
					resource = sr_actinides
					value > 10
				}
				resource_stockpile_compare = {
					resource = sr_actinides
					value > 500
				}				
			}
		}
		modifier = {
			weight = 1000
			owner = {
				resource_stockpile_compare = {
					resource = sr_actinides
					value > 4000
				}				
			}
		}
	}
}
	
decision_preserving_ice = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {}
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		habitable_structure = no
		not = { has_planet_flag = preserving_ice }
		not = { has_modifier = plm_preserving_ice }
		NOT = { is_planet_class = pc_machine }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_barren_habitable }
		NOT = { is_planet_class = pc_molten_habitable }
		NOT = { is_planet_class = pc_toxic_habitable }
		NOT = { is_planet_class = pc_frozen_habitable }
	}
	
	allow = {
		or = {
			owner = { is_ai = no }
			num_districts = { type = district_farming value > 0 }
		}
	}
	
	effect = {
		custom_tooltip = decision_preserving_ice_custom
		set_planet_flag = preserving_ice
		add_modifier = {
			modifier = plm_preserving_ice
			days = -1
		}
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 100
			owner = {
				has_monthly_income = {
					resource = sr_ice
					value < 2
				}
				resource_stockpile_compare = {
					resource = sr_ice
					value < 500
				}				
			}
		}
		modifier = {
			weight = 500
			owner = {
				has_monthly_income = {
					resource = sr_ice
					value < 0
				}				
			}
		}
	}
}

decision_end_preserving_ice = {
	owned_planets_only = yes
	sound = event_administrative_work
	
	resources = {
		category = decisions
		cost = {}
	}
	
	potential = {
		not = { has_planet_flag = pf_filter_vanilla }
		has_planet_flag = preserving_ice
	}
	
	effect = {
		custom_tooltip = end_decision_preserving_ice_custom
		remove_planet_flag = preserving_ice
		remove_modifier = plm_preserving_ice
	}
	
	ai_weight = {
		weight = 0
		modifier = {
			weight = 200
			owner = {
				has_monthly_income = {
					resource = sr_ice
					value > 5
				}
				resource_stockpile_compare = {
					resource = sr_ice
					value > 1000
				}				
			}
		}
		modifier = {
			weight = 1000
			owner = {
				resource_stockpile_compare = {
					resource = sr_ice
					value > 4000
				}				
			}
		}
	}
}