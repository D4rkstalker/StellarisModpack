#Subterranean Relic World
mzilli_arch_relic_subterranean = {
	desc = mzilli_arch_relic_subterranean_desc
	picture = GFX_evt_underground_civilization
	stages = 4
	max_instances = 1
	weight = {
		base = 0
		modifier = {
			add = 5000
			OR = {
				is_planet_class = pc_frozen
				is_planet_class = pc_barren_cold
			}
			NOR = {
				has_modifier = terraforming_candidate
				has_modifier = frozen_terraforming_candidate
				has_modifier = mzilli_paraterraforming_candidate
			}
			solar_system = {
				any_system_planet = {
					OR = {
						is_planet_class = pc_black_hole
						is_planet_class = pc_neutron_star
						is_planet_class = pc_pulsar
					}
				}
				NOT = { has_star_flag = star_cracked }
			}
			has_deposit = no
			planet_size > 13
			planet_size < 26
		}
	}
	on_visible = {
		FROM.planet = {
			if = {
				limit = { NOT = { has_modifier = "low_gravity" } }
				add_modifier = { modifier = "low_gravity" }
			}
			solar_system = {
				random_system_planet = {
					limit = {
						OR = {
							is_planet_class = pc_black_hole
							is_planet_class = pc_neutron_star
							is_planet_class = pc_pulsar
						}
					}
					set_planet_flag = boring_world_sun
					save_global_event_target_as = boring_world_sun
				}
			}
		}
		country_event = { id = story.5 days = 30 }
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
		owner = { NOT = { is_ai = yes } }
	}
	visible = { default_site_visible_trigger = yes }
	
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F1
		event = mzilli_arch_events.1
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F2
		event = mzilli_arch_events.2
	}
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.3
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_F4
		event = mzilli_arch_events.4
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

#Catastrophic Flyby
mzilli_arch_flyby = {
	desc = mzilli_arch_flyby_desc
	picture = GFX_evt_ruined_system
	stages = 4
	max_instances = 1
	weight = {
		base = 0
		modifier = {
			add = 10000
			is_star = yes
			OR = {
				is_planet_class = pc_black_hole
				is_planet_class = pc_neutron_star
				is_planet_class = pc_pulsar
				is_planet_class = pc_t_star
				is_planet_class = pc_d_star
				is_planet_class = pc_l_star
			}
			solar_system = { NOT = { has_star_flag = star_cracked } }
		}
		modifier = {
			factor = 3
			any_country = {
				AND = {
					is_country_type = fallen_empire
					OR = {
						has_country_flag = fallen_empire_3
						has_country_flag = fallen_empire_4
					}
				}
			}
		}
	}
	on_visible = {
		country_event = { id = story.5 days = 30 }
		#FROM.planet = {
		#	solar_system = {
		#		if = {
		#			limit = { has_mzilli_10x = yes }
		#			add_asteroid_belt = { radius = 10 type = rocky_asteroid_belt }
		#		}
		#		else = { add_asteroid_belt = { radius = 35 type = rocky_asteroid_belt } }
		#	}
		#}
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
		owner = { NOT = { is_ai = yes } }
	}
	visible = { default_site_visible_trigger = yes }
	
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F1
		event = mzilli_arch_events.5
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F2
		event = mzilli_arch_events.6
	}
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.7
	}
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.8
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

#Curious Trees
mzilli_arch_trees = {
	desc = mzilli_arch_trees_desc
	picture = GFX_evt_overgrown_city
	stages = 4
	max_instances = 1
	weight = {
		base = 0
		modifier = {
			add = 1400
			is_colonizable = yes
			NOR = {
				exists = owner
				is_artificial = yes
				is_planet_class = pc_city
				is_planet_class = pc_machine
				is_planet_class = pc_hive
			}
		}
	}
	on_visible = {
		FROM.planet = {
			#add_deposit = d_alien_pets_deposit
		}
		country_event = { id = story.5 days = 30 }
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
		owner = { NOT = { is_ai = yes } }
	}
	visible = { default_site_visible_trigger = yes }
	
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F1
		event = mzilli_arch_events.9
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F2
		event = mzilli_arch_events.10
	}
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.11
	}
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.12
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

mzilli_arch_bomb = {
	desc = mzilli_arch_bomb_desc
	picture = GFX_evt_ship_in_orbit_2
	stages = 4
	max_instances = 1
	weight = 0
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	visible = { default_site_visible_trigger = yes }
	on_visible = {
	    	country_event = { id = story.5 days = 30 }
		random_country = {
			limit = {
				OR = {
					is_country_type = fallen_empire
					is_country_type = awakened_fallen_empire
				}
				NOT = { has_country_flag = fallen_empire_machine }
			}
			save_global_event_target_as = mzilli_bombmakers
		}
	}
	stage = {
		difficulty = 1
		event = mzilli_arch_events.14
		icon = GFX_archaeology_runes_E1
	}
	stage = {
		difficulty = 3
		event = mzilli_arch_events.15
		icon = GFX_archaeology_runes_E2
	}
	stage = {
		difficulty = 4
		event = mzilli_arch_events.16
		icon = GFX_archaeology_runes_E3
	}
	stage = {
		difficulty = 5
		event = mzilli_arch_events.17
		icon = GFX_archaeology_runes_E4
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

#All That Glitters
mzilli_arch_all_that_glitters = {
	desc = mzilli_arch_all_that_glitters_desc
	picture = GFX_evt_underground_civilization
	stages = 3
	max_instances = 1
	weight = {
		base = 0
		modifier = {
			add = 25
			OR = {
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
				is_planet_class = pc_toxic
				is_planet_class = pc_frozen
			}
			has_deposit = no
		}
	}
	on_visible = {
		FROM.planet = {
			if = {
				limit = { NOT = { has_modifier = mineral_poor } }
				add_modifier = { modifier = mineral_poor }
			}
		}
		country_event = { id = story.5 days = 30 }
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
		owner = { NOT = { is_ai = yes } }
	}
	visible = { default_site_visible_trigger = yes }
	
	stage = {
		difficulty = 1
		icon = GFX_archaeology_runes_F1
		event = mzilli_arch_events.33
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F2
		event = mzilli_arch_events.34
	}
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.35
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

#The Drowned Planet
mzilli_arch_drowned_planet = {
	desc = mzilli_arch_drowned_planet_desc
	picture = GFX_evt_ocean
	stages = 4
	max_instances = 1
	weight = {
		base = 0
		modifier = {
			add = 2500
			is_wet = yes
			NOT = { exists = owner }
		}
		modifier = {
			factor = 2
			is_planet_class = pc_ocean
		}
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
		owner = { NOT = { is_ai = yes } }
	}
	visible = { default_site_visible_trigger = yes }

	stage = {
		difficulty = 1
		icon = GFX_archaeology_runes_F1
		event = mzilli_arch_events.36
	}
	
	stage = {
		difficulty = 1
		icon = GFX_archaeology_runes_F1
		event = mzilli_arch_events.37
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F2
		event = mzilli_arch_events.38
	}
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.39
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

#Crashed Slaver Ship
mzilli_arch_slaver_ship = {
	desc = mzilli_arch_slaver_ship_desc
	picture = GFX_evt_relic_shipyard
	stages = 4
	max_instances = 1
	weight = {
		base = 0
		modifier = {
			add = 6000
			OR = {
				is_planet_class = pc_barren
				is_planet_class = pc_barren_cold
				is_planet_class = pc_frozen
			}
			solar_system = {
				any_system_planet = {
					exists = owner
					owner = {
						is_country_type = primitive
						NOR = {
							is_species_class = MOL
							is_species_class = AQUATIC
						}
					}
				}
			}
		}

	}
	on_visible = {
		country_event = { id = story.5 days = 30 }
		FROM.planet = {
			solar_system = {
				random_system_planet = {
					limit = {
						exists = owner
						owner = {
							is_country_type = primitive
							NOR = {
								is_species_class = MOL
								is_species_class = AQUATIC
							}
						}
					}
					set_planet_flag = slaver_victim_origin
					owner = { owner_species = { save_global_event_target_as = slaver_ship_victim_species } }
				}
			}
		}
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
		owner = { NOT = { is_ai = yes } }
	}
	visible = { default_site_visible_trigger = yes }
	
	stage = {
		difficulty = 1
		icon = GFX_archaeology_runes_F1
		event = mzilli_arch_events.40
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F2
		event = mzilli_arch_events.41
	}
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.42
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.81
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

mzilli_arch_rogue_planet = {
	desc = mzilli_arch_rogue_planet_desc
	picture = GFX_evt_mzilli_rogue_planet
	stages = 4
	max_instances = 1
	weight = 0
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	visible = { default_site_visible_trigger = yes }
	stage = {
		difficulty = 1
		event = mzilli_arch_events.43
		icon = GFX_archaeology_runes_E1
	}
	stage = {
		difficulty = 3
		event = mzilli_arch_events.44
		icon = GFX_archaeology_runes_E2
	}
	stage = {
		difficulty = 4
		event = mzilli_arch_events.45
		icon = GFX_archaeology_runes_E3
	}
	stage = {
		difficulty = 5
		event = mzilli_arch_events.46
		icon = GFX_archaeology_runes_E4
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

#The Reticent
mzilli_arch_reticent = {
	desc = mzilli_arch_reticent_desc
	picture = GFX_evt_black_hole
	stages = 5
	max_instances = 1
	weight = {
		base = 0
		modifier = {
			add = 10000
			is_planet_class = pc_black_hole
			solar_system = {
				NOT = { has_star_flag = star_cracked }
				any_neighbor_system = {
					star = {
						NOR = {
							is_planet_class = pc_pulsar
							is_planet_class = pc_neutron_star
							is_planet_class = pc_black_hole
						}
					}
				}
			}
		}
	}
	on_visible = {
		country_event = { id = story.5 days = 30 }
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
		owner = {
			NOR = {
				has_ethic = ethic_gestalt_consciousness
				is_ai = yes
			}
		}
	}
	visible = { default_site_visible_trigger = yes }
	
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F1
		event = mzilli_arch_events.47
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F2
		event = mzilli_arch_events.48
	}
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.49
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_F4
		event = mzilli_arch_events.50
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_F4
		event = mzilli_arch_events.51
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

#The Shamrock
mzilli_arch_shamrock = {
	desc = mzilli_arch_shamrock_desc
	picture = GFX_evt_relic_shipyard
	stages = 5
	max_instances = 1
	weight = 0
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	visible = { default_site_visible_trigger = yes }
	
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F1
		event = mzilli_arch_events.59
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_F2
		event = mzilli_arch_events.60
	}
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_F3
		event = mzilli_arch_events.61
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_F4
		event = mzilli_arch_events.62
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_F4
		event = mzilli_arch_events.63
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

mzilli_arch_black_domain = {
	desc = mzilli_arch_black_domain_desc
	picture = GFX_evt_relic_world_building
	stages = 5
	max_instances = 1
	weight = 0
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	visible = { default_site_visible_trigger = yes }
	on_visible = {
	    	country_event = { id = story.5 days = 30 }
	}
	stage = {
		difficulty = 1
		event = mzilli_arch_events.82
		icon = GFX_archaeology_runes_E1
	}
	stage = {
		difficulty = 3
		event = mzilli_arch_events.83
		icon = GFX_archaeology_runes_E2
	}
	stage = {
		difficulty = 4
		event = mzilli_arch_events.84
		icon = GFX_archaeology_runes_E3
	}
	stage = {
		difficulty = 5
		event = mzilli_arch_events.85
		icon = GFX_archaeology_runes_E4
	}
	stage = {
		difficulty = 4
		event = mzilli_arch_events.86
		icon = GFX_archaeology_runes_E5
	}

	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}