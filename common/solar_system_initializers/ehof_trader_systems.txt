ehof_qnm_trader_system_1 = {
	class = rl_ehof_stars
	prevent_anomalies = yes

	planet = {
		class = star
		orbit_distance = 0
		orbit_angle = 0
		size = { min = 60 max = 80 }
		has_ring = no
		init_effect = {
			ehof_generate_large_billboards = yes
			create_ambient_object = { type = galactic_market_station scale = 4 location = this entity_offset_height = { min = -10 max = -15 } }
			last_created_ambient_object = { set_location = { target = prev distance = 80 angle = random } }
		}
	}

	planet = {
		class = "pc_city"
		orbit_angle = { min = 90 max = 180 }
		orbit_distance = { min = 60 max = 70 }
		size = 35
		has_ring = no
		init_effect = {
			set_planet_flag = ehof_warm_planet
			ehof_generate_small_billboards = yes
			set_capital = yes
			ehof_trader_city = yes
		}
	}

	planet = {
		class = "pc_city"
		orbit_angle = { min = 45 max = 135 }
		orbit_distance = { min = 20 max = 40 }
		size = { min = 25 max = 35 }
		change_orbit = @base_moon_distance
		has_ring = no
		init_effect = {
			set_planet_flag = ehof_warm_planet
			ehof_generate_small_billboards = yes
			ehof_trader_city = yes
		}

		moon = {
			class =	"pc_city"
			size = { min = 20 max = 25 }
			orbit_distance = { min = 10 max = 15 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = {
				set_planet_flag = ehof_warm_planet
				ehof_generate_small_billboards = yes
				ehof_trader_city = yes
			}
		}
	}

	planet = {
		class = "pc_gas_giant"
		orbit_angle = { min = 0 max = 90 }
		orbit_distance = { min = 40 max = 60 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		has_ring = yes
		init_effect = {
			set_planet_flag = ehof_cold_planet
			save_event_target_as = ehof_trader_nexus
		}

		moon = {
			class =	"pc_city"
			size = { min = 20 max = 25 }
			orbit_distance = { min = 10 max = 15 }
			orbit_angle = { min = 40 max = 140 }
			init_effect = {
				set_planet_flag = ehof_warm_planet
				ehof_generate_small_billboards = yes
				ehof_trader_city = yes
			}
		}

		moon = {
			class =	"pc_city"
			size = { min = 20 max = 25 }
			orbit_distance = { min = 10 max = 15 }
			orbit_angle = { min = 160 max = 260 }
			init_effect = {
				set_planet_flag = ehof_warm_planet
				ehof_generate_small_billboards = yes
				ehof_trader_city = yes
			}
		}

		moon = {
			class =	"pc_city"
			size = { min = 20 max = 25 }
			orbit_distance = { min = 10 max = 15 }
			orbit_angle = { min = 280 max = 20 }
			init_effect = {
				set_planet_flag = ehof_warm_planet
				ehof_generate_small_billboards = yes
				ehof_trader_city = yes
			}
		}
	}

	planet = {
		class = "rl_cold_unhabitable"
		orbit_angle = { min = 0 max = 180 }
		orbit_distance = { min = 40 max = 60 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		init_effect = { set_planet_flag = ehof_cold_planet }
		has_ring = yes
	}

	init_effect = {
		spawn_megastructure = { type = "think_tank_3" location = event_target:ehof_trader_nexus owner = event_target:ehof_trader_country orbit_distance = 50 orbit_angle = 80 }
		save_global_event_target_as = s_c01_003
		set_star_flag = ehof_qnm_trader_hub
		set_star_flag = ehof_qnm_trader_system
		set_star_flag = ehof_quest_system
		every_system_planet = { set_planet_flag = cant_build_here }
		save_global_event_target_as = ehof_qnm_trader_hub
		ehof_generate_names = yes
		ehof_generate_deposits = yes
		ehof_generate_gateways = yes
		ehof_spawn_do_districts = yes
    }
}

ehof_qnm_trader_system_2 = {
	class = rl_ehof_stars
	prevent_anomalies = yes

	planet = { class = star		orbit_distance = 0	orbit_angle = 0	size = { min = 15 max = 30 }	has_ring = no }

	planet = {
		class =	"rl_warm_unhabitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 50 max = 55 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = {
			set_planet_flag = ehof_warm_planet
			ehof_field_battlefield = yes
			ehof_field_debris = yes
		}

		moon = {
			class =	"rl_ehof_warm_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_warm_planet }
		}
	}

	planet = {
		class =	"pc_toxic"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 30 max = 40 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		init_effect = {
			set_planet_flag = ehof_warm_planet
			ehof_field_battlefield = yes
			ehof_field_debris = yes
		}
	}

	planet = {
		class =	"pc_nuked"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 30 max = 40 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = {
			set_planet_flag = ehof_warm_planet
			ehof_field_battlefield = yes
			ehof_field_debris = yes
		}

		moon = {
			class =	"pc_broken"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_warm_planet }
		}
	}

	planet = {
		class =	"pc_shattered"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 30 max = 40 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		init_effect = {
			set_planet_flag = ehof_warm_planet
			ehof_field_battlefield = yes
			ehof_field_debris = yes
		}
	}

	planet = {
		class =	"pc_shrouded"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 30 max = 40 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		init_effect = {
			save_event_target_as = sentry_planet
			set_planet_flag = ehof_warm_planet
			ehof_field_battlefield = yes
			ehof_field_debris = yes
		}
	}

	planet = {
		class =	"pc_gas_giant"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 30 max = 40 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = {
			set_planet_flag = ehof_warm_planet
			ehof_field_battlefield = yes
			ehof_field_debris = yes
		}

		moon = {
			class =	"pc_shattered"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_warm_planet }
			has_ring = no
		}

		moon = {
			class =	"pc_broken"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_warm_planet }
			has_ring = no
		}

		moon = {
			class =	"pc_barren"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_warm_planet }
			has_ring = no
		}
	}

	planet = {
		class =	"pc_gas_giant"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 30 max = 40 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = {
			save_event_target_as = sentry_planet
			set_planet_flag = ehof_warm_planet
			ehof_field_battlefield = yes
			ehof_field_debris = yes
		}

		moon = {
			class =	"pc_frozen"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_warm_planet }
			has_ring = no
		}

		moon = {
			class =	"pc_frozen"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_warm_planet }
			has_ring = no
		}

		moon = {
			class =	"pc_barren_cold"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_warm_planet }
			has_ring = no
		}
	}

	init_effect = {
		spawn_megastructure = { type = "spy_orb_ruined" location = event_target:sentry_planet owner = event_target:ehof_trader_country }
		ehof_field_system_debris = yes
		ehof_field_system_battlefield = yes
		set_star_flag = ehof_qnm_trader_system
		set_star_flag = ehof_quest_system
		set_star_flag = ehof_qnm_trader_system_02
		every_system_planet = { set_planet_flag = cant_build_here }
		save_global_event_target_as = ehof_qnm_trader_system_02
		while = { count = 3 ehof_generate_asteroid_belts = yes }
		ehof_generate_names = yes
		ehof_generate_deposits = yes
		ehof_balance_planets = yes
		ehof_spawn_do_districts = yes
	}
}

ehof_qnm_trader_system_3 = {
	class = rl_binary_stars
	prevent_anomalies = yes


	planet = { class = star		orbit_distance = { min = 10 max = 30 }	orbit_angle = 0							size = { min = 10 max = 40 }	has_ring = no }
	planet = { class = star		orbit_distance = { min = 40 max = 50 }	orbit_angle = { min = 90 max = 270 }	size = { min = 10 max = 40 }	has_ring = no }





	planet = {
		class =	"rl_warm_unhabitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 50 max = 55 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		init_effect = { set_planet_flag = ehof_warm_planet }
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_warm_habitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 10 max = 25 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_warm_planet }

		moon = {
			count = { min = 0 max = 4 }
			class =	"rl_ehof_warm_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_warm_planet }
		}
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_temp_habitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 20 max = 25 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_temp_planet }

		moon = {
			count = { min = 0 max = 3 }
			class =	"rl_ehof_temp_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_temp_planet }
		}
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_temp_unhabitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 20 max = 25 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_temp_planet }

		moon = {
			count = { min = 0 max = 1 }
			class =	"rl_ehof_temp_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_temp_planet }
		}
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_cold_habitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 20 max = 25 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_cold_planet }

		moon = {
			count = { min = 0 max = 3 }
			class =	"rl_ehof_cold_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_cold_planet }
		}
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_cold_unhabitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 20 max = 25 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_cold_planet }

		moon = {
			count = { min = 0 max = 5 }
			class =	"rl_ehof_cold_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_cold_planet }
		}
	}

	init_effect = {
		set_star_flag = ehof_qnm_trader_system
		set_star_flag = ehof_quest_system
		set_star_flag = ehof_qnm_trader_system_04
		every_system_planet = { set_planet_flag = cant_build_here }
		save_global_event_target_as = ehof_qnm_trader_system_04
		while = { count = 4 ehof_generate_asteroid_belts = yes }
		ehof_generate_names = yes
		ehof_generate_deposits = yes
		ehof_balance_planets = yes
		ehof_spawn_do_districts = yes
	}
}

ehof_qnm_trader_system_4 = {
	class = sc_black_hole
	prevent_anomalies = yes

	planet = { class = star		orbit_distance = 0	orbit_angle = 0	size = { min = 10 max = 50 }	has_ring = no }

	change_orbit = 100





	planet = {
		count = { min = 0 max = 1 }
		class =	"rl_warm_unhabitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 20 max = 50 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		init_effect = { set_planet_flag = ehof_warm_planet }
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_temp_unhabitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 10 max = 15 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_temp_planet }

		moon = {
			count = { min = 0 max = 1 }
			class =	"rl_ehof_temp_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_temp_planet }
		}
	}





	planet = {
		count = { min = 0 max = 1 }
		class =	"rl_cold_unhabitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 10 max = 15 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_cold_planet }

		moon = {
			count = { min = 0 max = 3 }
			class =	"rl_ehof_cold_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_cold_planet }
		}
	}

	init_effect = {
		ehof_remove_habitable_planets = yes
		spawn_megastructure = { type = matter_decompressor_4 location = star owner = event_target:ehof_trader_country }
		set_star_flag = ehof_qnm_trader_system
		set_star_flag = ehof_quest_system
		set_star_flag = ehof_qnm_trader_system_07
		every_system_planet = { set_planet_flag = cant_build_here }
		save_global_event_target_as = ehof_qnm_trader_system_07
		while = { count = 2 ehof_generate_asteroid_belts = yes }
		ehof_generate_names = yes
		ehof_generate_deposits = yes
		ehof_balance_planets = yes
		ehof_spawn_do_districts = yes
	}
}

ehof_qnm_trader_system_5 = {
	class = rl_ehof_stars
	prevent_anomalies = yes

	planet = { class = star		orbit_distance = 0	orbit_angle = 0	size = { min = 10 max = 30 }	has_ring = no }





	planet = {
		class =	"rl_warm_unhabitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 50 max = 55 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		init_effect = { set_planet_flag = ehof_warm_planet }
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_warm_habitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 10 max = 30 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_warm_planet }

		moon = {
			count = { min = 0 max = 3 }
			class =	"rl_ehof_warm_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_warm_planet }
		}
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_temp_habitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 25 max = 30 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_temp_planet }

		moon = {
			count = { min = 0 max = 3 }
			class =	"rl_ehof_temp_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_temp_planet }
		}
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_temp_unhabitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 25 max = 30 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_temp_planet }

		moon = {
			count = { min = 0 max = 1 }
			class =	"rl_ehof_temp_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_temp_planet }
		}
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_cold_habitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 25 max = 30 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_cold_planet }

		moon = {
			count = { min = 0 max = 3 }
			class =	"rl_ehof_cold_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_cold_planet }
		}
	}





	planet = {
		count = { min = 0 max = 2 }
		class =	"rl_cold_unhabitable"
		orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
		orbit_distance = { min = 25 max = 30 }
		size = { min = @ehof_planet_min max = @ehof_planet_max }
		change_orbit = @base_moon_distance
		init_effect = { set_planet_flag = ehof_cold_planet }

		moon = {
			count = { min = 0 max = 5 }
			class =	"rl_ehof_cold_moons"
			size = { min = @ehof_moon_min max = @ehof_moon_max }
			orbit_distance = { min = 3 max = 7 }
			orbit_angle = { min = @ehof_orbit_angle_min max = @ehof_orbit_angle_max }
			init_effect = { set_planet_flag = ehof_cold_planet }
		}
	}

	init_effect = {
		ehof_remove_habitable_planets = yes
		spawn_megastructure = { type = dyson_sphere_5 location = star owner = event_target:ehof_trader_country }
		set_star_flag = ehof_qnm_trader_system
		set_star_flag = ehof_quest_system
		set_star_flag = ehof_qnm_trader_system_09
		every_system_planet = { set_planet_flag = cant_build_here }
		save_global_event_target_as = ehof_qnm_trader_system_09
		while = { count = 2 ehof_generate_asteroid_belts = yes }
		ehof_generate_names = yes
		ehof_generate_deposits = yes
		ehof_balance_planets = yes
		ehof_spawn_do_districts = yes
	}
}

