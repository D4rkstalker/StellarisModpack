ag_ancient_epsilon_init = {
	name = "NAME_epsilon_area"
	class = "sc_ag_void"
	prevent_anomalies = yes

	asteroid_belt = {
		type = ag_crystalized_asteroid_red_belt
		radius = 250
	}

	flags = { ag_ancient_epsilon_system guardian hostile_system }
	usage_odds = 9999
	spawn_chance = 9999
	max_instances = 1

	planet = {
		count = 1
		name = "NAME_epsilon_area"
		class = pc_ag_void_star
		orbit_angle = 0
		orbit_distance = 0
		size = 1
		has_ring = no

		init_effect = {
			save_global_event_target_as = ag_ancient_epsilon_star
			while = {
				count = 19
				create_ambient_object = {
					type = "small_debris_object"
					entity_offset_height = { min = -0 max = -25 }
					location = this
				}
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 45
						angle = random
					}
				}
			}
			if = {
				limit = { NOT = { exists = event_target:ag_epsilon_fallen_empire_guardian } }
				create_country = {
					name = "NAME_ag_epsilon_fallen_empire_guardian"
					type = ag_epsilon_fallen_empire_guardian
					flag = {
						icon = {
							category = "zoological"
							file = "flag_zoological_20.dds"
						}
						background = {
							category = "backgrounds"
							file = "00_solid.dds"
						}
						colors = {
							"burgundy"
							"burgundy"
							"null"
							"null"
						}
					}
					effect = {
						save_global_event_target_as = ag_epsilon_fallen_empire_guardian
						set_country_flag = ag_epsilon_fallen_empire_guardian
						random_list = {
							10 = { set_country_flag = ag_fallen_empire_01_flag set_graphical_culture = "fallen_empire_01" }
							10 = { set_country_flag = ag_fallen_empire_02_flag set_graphical_culture = "fallen_empire_02" }
							10 = { set_country_flag = ag_fallen_empire_03_flag set_graphical_culture = "fallen_empire_03" }
							10 = { set_country_flag = ag_fallen_empire_04_flag set_graphical_culture = "fallen_empire_04" }
						}
						every_country = {
							limit = { is_fallen_empire = yes }
							set_faction_hostility = {
								target = prev
								set_hostile = no
								set_neutral = yes
								set_friendly = no
							}
						}
					}
				}
			}
			if = {
				limit = { event_target:ag_epsilon_fallen_empire_guardian = { has_country_flag = ag_fallen_empire_04_flag } }
				ag_create_fallen_empire_guardian = { ag_seq = 1 ag_graphical_culture = 04 }
				ag_create_fallen_empire_guardian = { ag_seq = 2 ag_graphical_culture = 04 }
				ag_create_fallen_empire_guardian = { ag_seq = 3 ag_graphical_culture = 04 }
				ag_create_fallen_empire_guardian = { ag_seq = 4 ag_graphical_culture = 04 }
				ag_create_fallen_empire_guardian = { ag_seq = 5 ag_graphical_culture = 04 }
				ag_create_fallen_empire_guardian = { ag_seq = 6 ag_graphical_culture = 04 }
			}
			else_if = {
				limit = { event_target:ag_epsilon_fallen_empire_guardian = { has_country_flag = ag_fallen_empire_03_flag } }
				ag_create_fallen_empire_guardian = { ag_seq = 1 ag_graphical_culture = 03 }
				ag_create_fallen_empire_guardian = { ag_seq = 2 ag_graphical_culture = 03 }
				ag_create_fallen_empire_guardian = { ag_seq = 3 ag_graphical_culture = 03 }
				ag_create_fallen_empire_guardian = { ag_seq = 4 ag_graphical_culture = 03 }
				ag_create_fallen_empire_guardian = { ag_seq = 5 ag_graphical_culture = 03 }
				ag_create_fallen_empire_guardian = { ag_seq = 6 ag_graphical_culture = 03 }
			}
			else_if = {
				limit = { event_target:ag_epsilon_fallen_empire_guardian = { has_country_flag = ag_fallen_empire_02_flag } }
				ag_create_fallen_empire_guardian = { ag_seq = 1 ag_graphical_culture = 02 }
				ag_create_fallen_empire_guardian = { ag_seq = 2 ag_graphical_culture = 02 }
				ag_create_fallen_empire_guardian = { ag_seq = 3 ag_graphical_culture = 02 }
				ag_create_fallen_empire_guardian = { ag_seq = 4 ag_graphical_culture = 02 }
				ag_create_fallen_empire_guardian = { ag_seq = 5 ag_graphical_culture = 02 }
				ag_create_fallen_empire_guardian = { ag_seq = 6 ag_graphical_culture = 02 }
			}
			else_if = {
				limit = { always = yes }
				ag_create_fallen_empire_guardian = { ag_seq = 1 ag_graphical_culture = 01 }
				ag_create_fallen_empire_guardian = { ag_seq = 2 ag_graphical_culture = 01 }
				ag_create_fallen_empire_guardian = { ag_seq = 3 ag_graphical_culture = 01 }
				ag_create_fallen_empire_guardian = { ag_seq = 4 ag_graphical_culture = 01 }
				ag_create_fallen_empire_guardian = { ag_seq = 5 ag_graphical_culture = 01 }
				ag_create_fallen_empire_guardian = { ag_seq = 6 ag_graphical_culture = 01 }
			}
		}
	}

	change_orbit = 45



	planet = {
		name = "NAME_epsilon_shielded_world"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		size = 5

		flags = { ag_ancient_epsilon_shielded_world }

		init_effect = {
			ag_set_ancient_ringworld = {
				ag_set_flag = yes
				ag_color = red
				ag_type = habitable
				ag_surface_type = alpine_02
				ag_shield_color = blue
			}
			save_global_event_target_as = ag_ancient_epsilon_shielded_world
		}
	}
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0

		init_effect = {
			ag_set_ancient_ringworld = { ag_set_flag = yes ag_color = red ag_type = tech }
			save_global_event_target_as = ag_epsilon_ring_1
			set_planet_flag = ag_ancient_construction_section_0
			set_planet_flag = ag_ring_struct_1
		}
	}

	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0

		init_effect = {
			ag_set_ancient_ringworld = { ag_set_flag = yes ag_color = red ag_type = seam }
			set_planet_flag = ag_ancient_resource_section_0
			save_global_event_target_as = ag_epsilon_ring_2
		}
	}

	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0

		init_effect = {
			ag_set_ancient_ringworld = { ag_set_flag = yes ag_color = red ag_type = tech }
			save_global_event_target_as = ag_epsilon_ring_3
			set_planet_flag = ag_ancient_construction_section_0
			set_planet_flag = ag_ring_struct_3
		}
	}

	planet = {
		name = "NAME_epsilon_shielded_world"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		size = 5

		flags = { ag_ancient_epsilon_shielded_world_2 }

		init_effect = {
			save_global_event_target_as = ag_epsilon_ring_4
			ag_set_ancient_ringworld = {
				ag_set_flag = yes
				ag_color = red
				ag_type = habitable
				ag_surface_type = alpine_02
				ag_shield_color = blue
			}
			save_global_event_target_as = ag_ancient_epsilon_shielded_world_2
		}
	}

	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0

		init_effect = {
			ag_set_ancient_ringworld = { ag_set_flag = yes ag_color = red ag_type = tech }
			save_global_event_target_as = ag_epsilon_ring_5
			set_planet_flag = ag_ancient_construction_section_0
			set_planet_flag = ag_ring_struct_5
		}
	}

	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0

		init_effect = {
			ag_set_ancient_ringworld = { ag_set_flag = yes ag_color = red ag_type = seam }
			set_planet_flag = ag_ancient_resource_section_0
			save_global_event_target_as = ag_epsilon_ring_6
		}
	}

	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0

		init_effect = {
			ag_set_ancient_ringworld = { ag_set_flag = yes ag_color = red ag_type = tech }
			save_global_event_target_as = ag_epsilon_ring_7
			set_planet_flag = ag_ancient_construction_section_0
			set_planet_flag = ag_ring_struct_7
		}
	}

	planet = {
		name = "NAME_epsilon_shielded_world"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		size = 5

		flags = { ag_ancient_epsilon_shielded_world_3 }

		init_effect = {
			save_global_event_target_as = ag_epsilon_ring_8
			ag_set_ancient_ringworld = {
				ag_set_flag = yes
				ag_color = red
				ag_type = habitable
				ag_surface_type = alpine_02
				ag_shield_color = blue
			}
			save_global_event_target_as = ag_ancient_epsilon_shielded_world_3
		}
	}

	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0

		init_effect = {
			ag_set_ancient_ringworld = { ag_set_flag = yes ag_color = red ag_type = tech }
			save_global_event_target_as = ag_epsilon_ring_9
			set_planet_flag = ag_ancient_construction_section_0
			set_planet_flag = ag_ring_struct_9
		}
	}

	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0

		init_effect = {
			ag_set_ancient_ringworld = { ag_set_flag = yes ag_color = red ag_type = seam }
			set_planet_flag = ag_ancient_resource_section_0
			save_global_event_target_as = ag_epsilon_ring_10
		}
	}

	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0

		init_effect = {
			ag_set_ancient_ringworld = { ag_set_flag = yes ag_color = red ag_type = tech }
			save_global_event_target_as = ag_epsilon_ring_11
			set_planet_flag = ag_ancient_construction_section_0
			set_planet_flag = ag_ring_struct_11
		}
	}



	change_orbit = 205

	planet = {
		class = pc_ice_asteroid
		orbit_distance = 0
		orbit_angle = random
		count = { max = 6 min = 3 }
		size = 4

		init_effect = {
			random_list = { 50 = { } 50 = { ag_crystalize_astroid = { ag_color = red } } }
		}
	}

	change_orbit = 250

	init_effect = {
		set_global_flag = ag_epsilon_area_spawned
		while = {
			count = 7
			create_ambient_object = {
				type = "large_debris_object"
				location = solar_system
			}
		}
		while = {
			count = 17
			random_list = {
				50 = {
					create_ambient_object = {
						type = "medium_debris_01_object"
						location = solar_system
					}
				}
				50 = {
					create_ambient_object = {
						type = "medium_debris_02_object"
						location = solar_system
					}
				}
			}
		}
		while = {
			count = 20
			create_ambient_object = {
				type = "small_debris_object"
				location = solar_system
			}
		}
		while = {
			count = 2
			create_ambient_object = {
				type = "derelict_ship_object"
				location = solar_system
			}
			last_created_ambient_object = {
				while = {
					count = 3
					create_ambient_object = {
						type = "medium_debris_01_object"
						location = this
					}
					last_created_ambient_object = {
						set_location = {
							target = prev
							distance = 80
							angle = random
						}
					}
				}
			}
		}
		while = {
			count = 3
			create_ambient_object = {
				type = "abandoned_ship_2_object"
				location = solar_system
			}
			last_created_ambient_object = {
				while = {
					count = 3
					create_ambient_object = {
						type = "medium_debris_01_object"
						location = this
					}
					last_created_ambient_object = {
						set_location = {
							target = prev
							distance = 80
							angle = random
						}
					}
				}
			}
		}
		spawn_megastructure = {
			type = "ag_epsilon_titan_station_actived_0"
			coords_from = star
		}
		create_ambient_object = {
			type = "ag_ancient_epsilon_shield_red_object"
			location = star
			duration = -1
			use_3d_location = yes
			entity_offset = { min = 0 max = 0 }
			entity_offset_angle = { min = 0 max = 0 }
			entity_offset_height = { min = 0 max = 0 }
			scale = 1.0
			effect = { set_ambient_object_flag = ag_epsilon_titan_shield_object }
		}
		spawn_megastructure = {
			type = "ag_epsilon_obelisk_0"
			coords_from = event_target:ag_epsilon_ring_2
			init_effect = { set_megastructure_flag = ag_epsilon_obelisk_3 }
		}
		spawn_megastructure = {
			type = "ag_epsilon_obelisk_0"
			coords_from = event_target:ag_epsilon_ring_6
			init_effect = { set_megastructure_flag = ag_epsilon_obelisk_1 }
		}
		spawn_megastructure = {
			type = "ag_epsilon_obelisk_0"
			coords_from = event_target:ag_epsilon_ring_10
			init_effect = { set_megastructure_flag = ag_epsilon_obelisk_2 }
		}
	}
}

