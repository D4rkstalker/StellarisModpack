
# Delta Area, Engineering Research Facility
ag_ancient_delta_init = {
	name = "NAME_delta_area"
	class = "sc_m"
	prevent_anomalies = yes
	
	asteroid_belt = {
		type = ag_crystalized_asteroid_red_belt
		radius = 250
	}

	flags = { ag_ancient_system ag_ancient_delta_system guardian hostile_system }
	max_instances = 1
	
	planet = {
		count = 1
		name = "NAME_delta_area"
		class = pc_m_star
		orbit_distance = 0
		orbit_angle = 0
		size = 24
		has_ring = no

		init_effect = {
			save_global_event_target_as = ag_ancient_delta_star
		}
	}
	
	change_orbit = 45
	
	planet = {
		name = "NAME_delta_shielded_world"
		class = "pc_ringworld_tech"
		size = 5
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ancient_delta_shielded_world ag_ring_habitable_section colony_event }
		
		init_effect = {
			ag_set_ancient_ringworld = {
				ag_color = red
				ag_type = habitable
				ag_surface_type = ocean_04
				ag_shield_color = blue
			}
			save_global_event_target_as = ag_ancient_delta_shielded_world
			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
			create_ambient_object = {
				type = "ag_ancient_delta_platform_object"
				location = this
			}
			last_created_ambient_object = {
				set_ambient_object_flag = ag_ancient_delta_platform
			}
		}
	}
	
	#################### Ringworld Structures #####################
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_1 }
		
		init_effect = { 
			ag_set_ancient_ringworld = { ag_color = red ag_type = tech }
			save_global_event_target_as = ag_delta_ring_1
			set_planet_flag = ag_ancient_construction_section_0
			create_ambient_object = {
				type = "ag_ancient_delta_platform_object"
				location = this
			}
			last_created_ambient_object = {
				set_ambient_object_flag = ag_ancient_delta_platform
			}
		}
	}
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_2 }

		init_effect = {
			ag_set_ancient_ringworld = { ag_color = red ag_type = seam }
			set_planet_flag = ag_ancient_resource_section_0
			save_global_event_target_as = ag_delta_ring_2
		}
	}
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_3 }

		init_effect = {
			ag_set_ancient_ringworld = { ag_color = red ag_type = tech }
			save_global_event_target_as = ag_delta_ring_3
			set_planet_flag = ag_ancient_construction_section_0
			create_ambient_object = {
				type = "ag_ancient_delta_platform_object"
				location = this
			}
			last_created_ambient_object = {
				set_ambient_object_flag = ag_ancient_delta_platform
			}
			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
		}
	}
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_4 }

		init_effect = {
			ag_set_ancient_ringworld = { ag_color = red ag_type = seam }
			set_planet_flag = ag_ancient_resource_section_0
			save_global_event_target_as = ag_delta_ring_4
		}
	}
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_5 }

		init_effect = {
			ag_set_ancient_ringworld = { ag_color = red ag_type = tech }
			save_global_event_target_as = ag_delta_ring_5
			set_planet_flag = ag_ancient_construction_section_0
			create_ambient_object = {
				type = "ag_ancient_delta_platform_object"
				location = this
			}
			last_created_ambient_object = {
				set_ambient_object_flag = ag_ancient_delta_platform
			}
		}
	}
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_6 }

		init_effect = {
			ag_set_ancient_ringworld = { ag_color = red ag_type = seam }
			set_planet_flag = ag_ancient_resource_section_0
			save_global_event_target_as = ag_delta_ring_6
		}
	}
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_7 }

		init_effect = {
			ag_set_ancient_ringworld = { ag_color = red ag_type = tech }
			save_global_event_target_as = ag_delta_ring_7
			set_planet_flag = ag_ancient_construction_section_0
			create_ambient_object = {
				type = "ag_ancient_delta_platform_object"
				location = this
			}
			last_created_ambient_object = {
				set_ambient_object_flag = ag_ancient_delta_platform
			}
			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
		}
	}
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_8 }

		init_effect = {
			ag_set_ancient_ringworld = { ag_color = red ag_type = seam }
			set_planet_flag = ag_ancient_resource_section_0
			save_global_event_target_as = ag_delta_ring_8
		}
	}
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_9 }

		init_effect = {
			ag_set_ancient_ringworld = { ag_color = red ag_type = tech }
			save_global_event_target_as = ag_delta_ring_9
			set_planet_flag = ag_ancient_construction_section_0
			create_ambient_object = {
				type = "ag_ancient_delta_platform_object"
				location = this
			}
			last_created_ambient_object = {
				set_ambient_object_flag = ag_ancient_delta_platform
			}
		}
	}
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_10 }

		init_effect = {
			ag_set_ancient_ringworld = { ag_color = red ag_type = seam }
			set_planet_flag = ag_ancient_resource_section_0
			save_global_event_target_as = ag_delta_ring_10
		}
	}
	
	planet = {
		name = "NAME_ring_struct"
		class = "pc_ringworld_tech"
		orbit_angle = 30
		orbit_distance = 0
		flags = { ag_ring_struct_11 }

		init_effect = {
			ag_set_ancient_ringworld = { ag_color = red ag_type = tech }
			save_global_event_target_as = ag_delta_ring_11
			set_planet_flag = ag_ancient_construction_section_0
			create_ambient_object = {
				type = "ag_ancient_delta_platform_object"
				location = this
			}
			last_created_ambient_object = {
				set_ambient_object_flag = ag_ancient_delta_platform
			}
		}
	}
	
	################################################
	
	change_orbit = 205
	
	planet = {
		class = pc_ice_asteroid
		orbit_distance = 0
		orbit_angle = random
		count = { max = 6 min = 3 }
		size = 4
		
		init_effect = {
			random_list = { 50 = { } 50 = { ag_crystalize_astroid = { ag_color = red } } }
			random_list = {
				33 = {
					create_ambient_object = {
						type = "large_debris_object"
						location = this
					}
				}
				66 = {
				}
			}
		}
	}
	
	change_orbit = 250
	
	init_effect = {
		set_global_flag = ag_delta_area_spawned
		ag_mod_compatibility_effect = yes
		while = {
			count = 10
			create_ambient_object = {
				type = "large_debris_object"
				location = solar_system
			}
		}
		while = {
			count = 30
			random_list = {
				50 = {
					create_ambient_object = {
						type = "medium_debris_01_object"
						location = solar_system
					}
				}
				50 = {
					create_ambient_object = {
						type = "medium_debris_02_object"
						location = solar_system
					}
				}
			}
		}
		while = {
			count = 20
			create_ambient_object = {
				type = "small_debris_object"
				location = solar_system
			}
		}
		while = {
			count = 7
			create_ambient_object = {
				type = "derelict_ship_object"
				location = solar_system
			}
			last_created_ambient_object = {
				while = {
					count = 3
					create_ambient_object = {
						type = "medium_debris_01_object"
						location = this
					}
					last_created_ambient_object = {
						set_location = {
							target = prev
							distance = 80
							angle = random
						}
					}
				}
			}
		}
		while = {
			count = 6
			create_ambient_object = {
				type = "abandoned_ship_2_object"
				location = solar_system
			}
			last_created_ambient_object = {
				while = {
					count = 3
					create_ambient_object = {
						type = "medium_debris_01_object"
						location = this
					}
					last_created_ambient_object = {
						set_location = {
							target = prev
							distance = 80
							angle = random
						}
					}
				}
			}
		}
	}
}