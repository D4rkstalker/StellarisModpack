#兼容Forerunner - A Traditions Overhaul
tr_diplomacy_the_federation = {	# <- MECR.tr_diplomacy_entente_coordination
	custom_tooltip = tr_diplomacy_the_federation_desc

	#unlocks federation mechanic
	modifier = {
		envoys_add = 1
	}

	tradition_swap = {
		name = tr_diplomacy_confederation_spirit
		inherit_icon = yes
		inherit_effects = no
		inherit_name = no
		trigger = {
			has_federation = yes
			federation = { has_federation_perk = galactic_confederation_passive }
		}
		custom_tooltip = tr_diplomacy_confederation_spirit_desc
		weight = {
			factor = 1000
		}
	}

	tradition_swap = {
		name = tr_diplomacy_imperial_prestige
		inherit_icon = no
		inherit_effects = no
		inherit_name = no
		trigger = {
			is_galactic_emperor = yes
		}
		custom_tooltip = tr_diplomacy_imperial_prestige_desc
		on_enabled = {
			switch = {
				trigger = has_policy_flag
				diplo_stance_condescending_authority = { set_policy = { policy = diplomatic_stance option = diplo_stance_condescending_authority_advanced cooldown = no } }
				diplo_stance_humble_and_friendly	 = { set_policy = { policy = diplomatic_stance option = diplo_stance_humble_and_friendly_advanced cooldown = no } }
				diplo_stance_glory_conquest			 = { set_policy = { policy = diplomatic_stance option = diplo_stance_glory_conquest_advanced cooldown = no } }
				diplo_stance_universal_transactions	 = { set_policy = { policy = diplomatic_stance option = diplo_stance_universal_transactions_advanced cooldown = no } }
			}
			set_country_flag = flag_tr_diplomacy_imperial_prestige_complete
		}
		modifier = {
		}
		weight = {
			factor = 2000
		}
	}

	#兼容Expanded Diplomacy and Espionage mod
	tradition_swap = {
		name = tr_diplomacy_the_federation_dlc
		inherit_effects = no
		inherit_icon = yes
		inherit_name = yes
		custom_tooltip = tr_diplomacy_the_federation_dlc_desc
		trigger = {
			has_global_flag = better_diplo_installed
			has_federations_dlc = yes
		}
		modifier = {
			envoys_add = 1
			envoy_cohesion_effect_mult = 0.25
			federation_join_malus_mult = -0.25
		}
		weight = {
			factor = 1
		}
	}

	#兼容Forerunner - A Traditions Overhaul
	tradition_swap = {
		name = tr_diplomacy_the_federation
		inherit_icon = yes
		inherit_effects = no
		inherit_name = yes
		custom_tooltip = tr_diplomacy_the_federation_desc
		trigger = {
			has_global_flag = Forerunner_Traditions_Overhaul
		}
		modifier = {
			federation_naval_cap_contribution_mult = 1.00
			# unlocks federations
		}
		on_enabled = {
			frr_add_potential_ap = yes
		}
		weight = {
			factor = 3000
		}
	}
	tradition_swap = { #galconfed member
		name = tr_diplomacy_confederation_representative
		inherit_icon = yes
		inherit_effects = no
		inherit_name = no
		trigger = {
			has_global_flag = Forerunner_Traditions_Overhaul
			has_federation = yes
			federation = { has_federation_perk = galactic_confederation_passive }
		}
		#custom_tooltip = tr_diplomacy_confederation_representative_desc
		modifier = {
			envoys_add = 3
		}
		on_enabled = {
			frr_add_potential_ap = yes
		}
		weight = {
			factor = 4000
		}
	}
	tradition_swap = { #emperor
		name = tr_diplomacy_entente_coordination_emperor
		inherit_icon = yes
		inherit_effects = no
		inherit_name = no
		trigger = {
			has_global_flag = Forerunner_Traditions_Overhaul
			is_galactic_emperor = yes
		}
		custom_tooltip = tr_diplomacy_entente_coordination_emperor_desc
		modifier = {
			gdf_ship_alloys_cost_mult = -0.10
		}
		on_enabled = {
			frr_add_potential_ap = yes
		}
		weight = {
			factor = 5000
		}
	}
	#兼容Forerunner - A Traditions Overhaul
	possible = {
		custom_tooltip = {
			OR = {
				NOT = { has_global_flag = Forerunner_Traditions_Overhaul }
				has_tradition = frr_diplomacy_federation_b
			}
		}
	}

	ai_weight = {
		factor = 10000
	}
}
tr_diplomacy_entente_coordination = {
	possible = {
		has_tradition = tr_diplomacy_the_federation
	}

	modifier = {
		federation_naval_cap_contribution_mult = 1.00
	}

	tradition_swap = {
		name = tr_diplomacy_confederation_representative
		inherit_icon = no
		inherit_effects = no
		inherit_name = no
		trigger = {
			has_federation = yes
			federation = { has_federation_perk = galactic_confederation_passive }
		}
		#custom_tooltip = tr_diplomacy_confederation_representative_desc
		modifier = {
			envoys_add = 2
		}
		weight = {
			factor = 1000
		}
	}

	tradition_swap = {
		name = tr_diplomacy_entente_coordination_emperor
		inherit_icon = no
		inherit_effects = no
		inherit_name = no
		trigger = {
			is_galactic_emperor = yes
		}
		custom_tooltip = tr_diplomacy_entente_coordination_emperor_desc
		modifier = {
			gdf_ship_alloys_cost_mult = -0.10
		}
		weight = {
			factor = 2000
		}
	}

	tradition_swap = {
		name = tr_diplomacy_entente_coordination_better_diplo
		inherit_icon = yes
		inherit_name = yes
		inherit_effects = no
		trigger = {
			has_global_flag = better_diplo_installed
		}
		modifier = {
			federation_naval_cap_contribution_mult = 1.00
			ship_federation_territory_speed_mult = 0.10
		}
		weight = {
			factor = 1
		}
	}

	ai_weight = {
		factor = 1000
	}
}