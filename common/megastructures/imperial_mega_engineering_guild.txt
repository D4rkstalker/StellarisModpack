engineers_guild_0 = {
	entity = "construction_platform_entity"
	construction_entity = "construction_platform_entity"
	portrait = "GFX_megastructure_construction_background"
	place_entity_on_planet_plane = no
	prerequisites = {
		decadent_engineering
	}
	build_time = 2000
	resources = {
		category = megastructures
		cost = {
			alloys = 10000
			influence = 200
			minerals = 2000
			food = 4000
		}
		upkeep = {
			energy = 20
		}
	}
	potential = {
		OR = {
			is_galactic_emperor = yes
			AND = {
				is_galactic_custodian = yes
				has_global_flag = grand_custodianship_declared
			}
		}
		has_technology = decadent_engineering
		NOT = {
			has_global_flag = Engineers_started
		}
	
		}
	possible = {
		custom_tooltip = {
			fail_text = "requires_inside_border"
			is_inside_border = from
		}
		custom_tooltip = {
			fail_text = "There must be no other Engineering Guild"
			NOT = {
				has_global_flag = Engineers_started
	}
}
	}
	placement_rules = {
		planet_possible = {
			custom_tooltip = {
				fail_text = "must be built above molten world"
				is_planet_class = pc_molten
			}
			custom_tooltip = {
				fail_text = "There must be no other Engineering Guild"
				NOT = {
					has_global_flag = Engineers_started
				}
			}
			custom_tooltip = {
				fail_text = "requires_no_existing_megastructure"
				has_any_megastructure = no
			}
		}
	}
	on_build_complete = {
		from = {
			set_global_flag = Engineers_started
		}
	}
}

engineers_guild_1 = {
	entity = "kugelblitz_empty_entity"
	construction_entity = "kugelblitz_empty_entity"
	portrait = "GFX_megastructure_matter_decompressor_background"
	place_entity_on_planet_plane = no
	upgrade_from = {
		engineers_guild_0
	}
	build_time = 1800
	resources = {
		category = megastructures
		cost = {
		influence = 100
		unity = 5000
		consumer_goods = 1000
		}
		upkeep = {
		food = 120
		consumer_goods = 100
		unity = 80
		minerals = 70
		}
		produces = {
			engineering_research = 300
			alloys = 100
			volatile_motes = 5
		}
	}
	country_modifier = {
		
		
	}
	on_build_complete = {
		from = {
			fromfrom.planet = {
				change_pc = pc_shattered_2
			}
			country_event = {
				id = engineer_guild.0001
			}
			set_global_flag = Engineers_exist
		}
	}
}
engineers_guild_2 = {
	entity = "asteroid_cw_02_entity"
	construction_entity = "asteroid_cw_02_entity"
	portrait = "GFX_megastructure_matter_decompressor_background"
	place_entity_on_planet_plane = yes
	prerequisites = {
		hedonistic_engineering
	}
	upgrade_from = {
		engineers_guild_1
	}
	build_time = 1800
	resources = {
		category = megastructures
		cost = {
			minerals = 8000
			alloys = 2000
			unity = 10000
		}
		upkeep = {
			food = 300
			consumer_goods = 250
			unity = 150
			minerals = 190
		}
		produces = {
			engineering_research = 600
			alloys = 250
		}
	}
	on_build_complete = {
		fromfrom.planet = {
			change_pc = pc_black_hole
			set_planet_size = 8
		}
		from = {
			country_event = {
				id = engineer_guild.1000
			}
			# Enable Engineering laws
		}
	}
}