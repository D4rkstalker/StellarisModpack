Biolab_0 = {
	entity = "construction_platform_entity"
	construction_entity = "construction_platform_entity"
	portrait = "GFX_megastructure_construction_background"
	place_entity_on_planet_plane = no
	prerequisites = {
		Biolab_construction
	}
	build_time = 2000
	resources = {
		category = megastructures
		cost = {
			alloys = 6000
			influence = 75
			food = 2000
		}
		upkeep = {
			food = 20
			energy = 5
		}
	}
	potential = {
		OR = {
			is_galactic_emperor = yes
			AND = {
				is_galactic_custodian = yes
				has_global_flag = grand_custodianship_declared
			}
		}
		has_technology = Biolab_construction
		NOT = {
			has_global_flag = Biolab_started
		}
	
		}
	possible = {
		custom_tooltip = {
			fail_text = "requires_inside_border"
			is_inside_border = from
		}
		custom_tooltip = {
			fail_text = "There must be no other biolab"
			NOT = {
				has_global_flag = Biolab_started
	}
}
	}
	placement_rules = {
		planet_possible = {
			custom_tooltip = {
				fail_text = "must be built above toxic world"
				is_planet_class = pc_toxic
			}
			custom_tooltip = {
				fail_text = "There must be no other biolab"
				NOT = {
					has_global_flag = Biolab_started
				}
			}
			custom_tooltip = {
				fail_text = "requires_no_existing_megastructure"
				has_any_megastructure = no
			}
		}
	}
	on_build_complete = {
		from = {
			set_global_flag = Biolab_started
		}
	}
}

Biolab_1 = {
	entity = "big_planetary_ring_game_01_entity"
	construction_entity = "big_planetary_ring_game_01_entity"
	portrait = "GFX_megastructure_matter_decompressor_background"
	place_entity_on_planet_plane = yes
	upgrade_from = {
		Biolab_0
	}
	build_time = 1800
	resources = {
		category = megastructures
		cost = {
			exotic_gases = 700
			food = 1600
			alloys = 2000
		}
		upkeep = {
			food = 100
			alloys = 50
			exotic_gases = 5
		}
		produces = {
			society_research = 105
			unity = 50
		}
	}
	country_modifier = {
		country_exotic_gases_produces_mult = 0.2
		species_leader_exp_gain = 0.2
	}
	on_build_complete = {
		from = {
			country_event = {
				id = Biolab.0001
			}
			set_global_flag = Biolab_exists
		}
	}
}
Biolab_2 = {
	entity = "big_planetary_ring_game_01_entity"
	construction_entity = "big_planetary_ring_game_01_entity"
	portrait = "GFX_megastructure_matter_decompressor_background"
	place_entity_on_planet_plane = yes
	prerequisites = {
		Biolab_construction_2
	}
	upgrade_from = {
		Biolab_1
	}
	build_time = 1800
	resources = {
		category = megastructures
		cost = {
			minerals = 8000
			alloys = 2000
			food = 8000
		}
		upkeep = {
			energy = 90
			alloys = 30
			food = 90
			exotic_gases = 5
		}
		produces = {
			society_research = 100
			unity = 125
			consumer_goods = 40
			minerals = 70
		}
	}
	on_build_complete = {
		from = {
			country_event = {
				id = Biolab.1000
			}
			# Enable Virus option
		}
	}
}