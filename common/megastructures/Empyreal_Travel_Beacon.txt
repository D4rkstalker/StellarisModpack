Empyreal_Travel_Beacon_0 = {
	entity = "construction_platform_entity"
	construction_entity = "construction_platform_entity"
	portrait = "GFX_megastructure_construction_background"
	place_entity_on_planet_plane = no
	prerequisites = {
		Empyreal_Travel_Beacon_tech
	}
	build_time = 2000
	resources = {
		category = megastructures
		cost = {
			alloys = 5000
			influence = 75
			sr_zro = 50
		}
		upkeep = {
			sr_zro = 1
		}
	}
	potential = {
	OR = {
		is_galactic_emperor = yes
		AND = {
			is_galactic_custodian = yes
			has_global_flag = grand_custodianship_declared
		}
	}
	has_technology = Empyreal_Travel_Beacon_tech
	NOT = {
		has_global_flag = empyreal_beacon_Started
	}

	}
	possible = {
		custom_tooltip = {
			fail_text = "requires_inside_border"
			is_inside_border = from
		}
	}
	placement_rules = {
		planet_possible = {
			custom_tooltip = {
				fail_text = "requires_no_anomaly"
				has_anomaly = no
			}
			custom_tooltip = {
				fail_text = "must be built above Capital"
				is_capital = yes
			}
			NOT = {
				has_global_flag = empyreal_beacon_Started
			}
		}
	}
	on_build_complete = {
		from = {
			set_global_flag = empyreal_beacon_Started
		}
	}
}

Empyreal_Travel_Beacon_1 = {
	entity = "matter_decompressor_stage_4_entity"
	construction_entity = "matter_decompressor_stage_4_construction_entity"
	portrait = "GFX_megastructure_matter_decompressor_background"
	place_entity_on_planet_plane = yes
	upgrade_from = {
		Empyreal_Travel_Beacon_0
	}
	build_time = 1800
	resources = {
		category = megastructures
		cost = {
			sr_dark_matter = 500
			rare_crystals = 200
			alloys = 2000
		}
		upkeep = {
			energy = 25
			alloys = 5
			sr_dark_matter = 1
		}
	}
	on_build_complete = {
		fromfrom.planet = {
			add_modifier = {
				modifier = Empyreal_liason_office
			}
		}
		from = {
			country_event = {
				id = Empyreal_beacon.0001
			}			# Notification
			set_global_flag = empyreal_beacon_exists
		}
	}
}

Empyreal_Travel_Beacon_2 = {
	entity = "matter_decompressor_stage_4_entity"
	construction_entity = "matter_decompressor_stage_4_construction_entity"
	portrait = "GFX_megastructure_matter_decompressor_background"
	place_entity_on_planet_plane = yes
	prerequisites = {
		Empyreal_Travel_Beacon_tech_2
	}
	upgrade_from = {
		Empyreal_Travel_Beacon_1
	}
	build_time = 1800
	resources = {
		category = megastructures
		cost = {
			sr_dark_matter = 500
			rare_crystals = 500
			energy = 5000
		}
		upkeep = {
			energy = 70
			alloys = 20
			sr_dark_matter = 2
		}
		produces = {
			physics_research = 100
		}
	}
	country_modifier = {
		ship_speed_mult = 0.25
		ship_shield_mult = 0.15
		ship_hull_mult = 0.1
	}
	on_build_complete = {
		from = {
			country_event = {
				id = Empyreal_beacon.1000
			}			# Enable Beacon Edict
		}
	}
}
