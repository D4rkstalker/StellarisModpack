
htbd_dragon_fear = {
	length = @htbd_edict_duration
	icon = "GFX_edict_type_time"
	resources = {
		category = campaigns
		upkeep = {
			energy = @htbd_edict_cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		pop_happiness = 0.05
		damage_vs_country_type_htbd_horde_mult = 0.1
		starbases_upkeep_mult = 0.05
	}
	
	potential = {
		has_country_flag = htbd_dragon_fear
		htbd_friend_civics = no
	}

	allow = {
		custom_tooltip = {
			fail_text = htbd_has_other_edict
			NOT = { has_edict = htbd_dragon_friend }
		}
	}

	effect = {
		remove_country_flag = htbd_dragon_scent
		remove_country_flag = htbd_dragon_trust
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = 2
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_pacifist
			}
		}
		modifier = {
			weight = 10
			OR = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
			}
		}
		modifier = {
			weight = 30
			OR = {
				has_ethic = ethic_fanatic_xenophobe
				has_ethic = ethic_xenophobe
			}
		}
		modifier = {
			weight = 50
			event_target:htbd_country = {
				any_owned_ship = { is_inside_border = prev }
			}
		}
		modifier = {
			weight = 70
			any_system_within_border = {
				has_star_flag = htbd_pass_stay
			}
		}
	}
}

htbd_dragon_friend = {
	length = @htbd_edict_duration
	icon = "GFX_edict_type_time"
	resources = {
		category = campaigns
		upkeep = {
			energy = @htbd_edict_cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		pop_happiness = 0.05
		country_influence_produces_mult = 0.05
		starbases_upkeep_mult = 0.05
	}

	potential = {
		has_country_flag = htbd_dragon_friend
		htbd_foe_civics = no
	}

	allow = {
		custom_tooltip = {
			fail_text = htbd_has_other_edict
			NOT = { has_edict = htbd_dragon_fear }
		}
	}

	effect = {
		custom_tooltip = htbd_dragon_kin
		hidden_effect = {
			set_faction_hostility = {
				target = event_target:htbd_country
				set_hostile = no
				set_neutral = no
				set_friendly = yes
			}
			set_country_flag = htbd_dragon_scent
		}
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = 2
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_militarist
			}
		}
		modifier = {
			weight = 10
			OR = {
				has_ethic = ethic_pacifist
				has_ethic = ethic_fanatic_pacifist
			}
		}
		modifier = {
			weight = 30
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
		}
		modifier = {
			weight = 50
			event_target:htbd_country = {
				any_owned_ship = { is_inside_border = prev }
			}
		}
		modifier = {
			weight = 70
			any_system_within_border = {
				has_star_flag = htbd_pass_stay
			}
		}
	}
}
