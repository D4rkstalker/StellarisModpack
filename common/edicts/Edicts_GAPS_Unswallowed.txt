

Edict_GAPS_eye_of_the_storm = {
	length =  0
	resources = {
		cost = {
			sr_dark_matter = 100
		}
	}
	
	allow = { any_system = { not = { has_star_flag = gwen_cloud_wormhole } any_system_planet = { is_planet_class = pc_black_hole } } }
	potential = { 
		has_origin = Origin_GAPS_The_Unswallowed has_country_flag = CountryFlag_GAPS_Unswallowed_Through_The_Void
	}
	effect = {  
	   country_event = { id = Events_GAPS_The_Unswallowed.5  days = 0 }
	}
}

Edict_GAPS_Study_Vluur_Cloud = {
	length =  0
	resources = {
		cost = {
			sr_dark_matter = 100
		}
	}
	
	#allow = { any_country = { is_country_type = vluur } any_system_within_border = { has_modifier = vluur_storm } }
	allow = { any_country = { is_country_type = vluur } has_communications = event_target:vluur_country }
	potential = { 
		has_origin = Origin_GAPS_The_Unswallowed 
		NOR = { has_country_flag = CountryFlag_Used_Edict_GAPS_Study_Vluur_Cloud }
	}
	
	effect = {  
		set_country_flag = CountryFlag_Used_Edict_GAPS_Study_Vluur_Cloud
		begin_event_chain = {
			event_chain = "Event_Chain_GAPS_Study_Vluur_Cloud"
			target = root
		}
		every_system_within_border = {		
			limit = { has_modifier = vluur_storm }
			random_system_planet = { limit = { is_primary_star = yes } save_event_target_as = Target_Planet_GAPS_Cloud_Home_Star }
			enable_special_project = { name = Special_Project_GAPS_Study_Vluur_Cloud owner = root location = event_target:Target_Planet_GAPS_Cloud_Home_Star }
		}
	}
}

Edict_GAPS_On_The_Space_Cloud_Trail = {
	length =  0
	resources = {
		cost = {
			sr_dark_matter = 10
		}
	}
	
	allow = { any_country = { is_country_type = cloud } }
	potential = { 
		has_origin = Origin_GAPS_The_Unswallowed
		NOR = { has_country_flag = CountryFlag_Used_Edict_GAPS_On_The_Space_Cloud_Trail }
	}

	effect = {  
		set_country_flag = CountryFlag_Used_Edict_GAPS_On_The_Space_Cloud_Trail
		begin_event_chain = {
			event_chain = "Special_Project_GAPS_Cloud_Home_System_chain"
			target = root
		}
		every_system_within_border = {		
			limit = { any_system_planet = { is_capital = yes } }
			random_system_planet = { limit = { is_primary_star = yes } save_event_target_as = Target_Planet_GAPS_Cloud_Home_Star }
			enable_special_project = { name = Special_Project_GAPS_Find_Cloud_Systems owner = root location = event_target:Target_Planet_GAPS_Cloud_Home_Star }
		}
	}
}

Edict_GAPS_Power_Of_The_Worm = {
	length =  0
	resources = {
		cost = {
			sr_dark_matter = 500
		}
	}
	
	allow = { has_country_flag = worm_awaited has_country_flag = worm_tomb_ending }
	potential = { has_origin = Origin_GAPS_The_Unswallowed
		NOR = { has_country_flag = CountryFlag_Used_Edict_GAPS_Power_Of_The_Worm }
	}
	
	effect = {  
		set_country_flag = CountryFlag_Used_Edict_GAPS_Power_Of_The_Worm
		begin_event_chain = {
			event_chain = "Event_Chain_GAPS_Power_Of_The_Worm"
			target = root
		}
		every_system_within_border = {		
			limit = { any_system_planet = { is_capital = yes } }
			random_system_planet = { limit = { is_primary_star = yes } save_event_target_as = Target_Planet_GAPS_Cloud_Home_Star }
			enable_special_project = { name = Special_Project_GAPS_Power_Of_The_Worm owner = root location = event_target:Target_Planet_GAPS_Cloud_Home_Star }
		}
	}
}

Edict_GAPS_Power_From_The_Worm = {
	length =  0
	resources = {
		cost = {
			sr_dark_matter = 500
		}
	}
	
	allow = { has_country_flag = worm_awaited NOT = { has_country_flag = worm_tomb_ending } }
	potential = { has_origin = Origin_GAPS_The_Unswallowed
		NOR = { has_country_flag = CountryFlag_Used_Edict_GAPS_Power_From_The_Worm }
	}
	
	effect = {  
		set_country_flag = CountryFlag_Used_Edict_GAPS_Power_From_The_Worm
		begin_event_chain = {
			event_chain = "Event_Chain_GAPS_Power_From_The_Worm"
			target = root
		}
		every_system_within_border = {		
			limit = { any_system_planet = { is_capital = yes } }
			random_system_planet = { limit = { is_primary_star = yes } save_event_target_as = Target_Planet_GAPS_Cloud_Home_Star }
			enable_special_project = { name = Special_Project_GAPS_Power_From_The_Worm owner = root location = event_target:Target_Planet_GAPS_Cloud_Home_Star }
		}
	}
}

Edict_GAPS_Open_Rift = {
	length =  0
	resources = {
		cost = {
			sr_dark_matter = 500
		}
	}
	
	allow = { has_country_flag = worm_awaited }
	potential = { has_origin = Origin_GAPS_The_Unswallowed
		NOR = { has_country_flag = CountryFlag_Used_Edict_GAPS_Open_Rift }
	}
	
	effect = {  
		set_country_flag = CountryFlag_Used_Edict_GAPS_Open_Rift
		begin_event_chain = {
			event_chain = "Event_Chain_GAPS_Open_Rift"
			target = root
		}
		every_system_within_border = {		
			limit = { any_system_planet = { is_capital = yes } }
			random_system_planet = { limit = { is_primary_star = yes } save_event_target_as = Target_Planet_GAPS_Cloud_Home_Star }
			enable_special_project = { name = Special_Project_GAPS_Power_Open_Rift owner = root location = event_target:Target_Planet_GAPS_Cloud_Home_Star }
		}
	}
}
