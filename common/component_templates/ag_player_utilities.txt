
utility_component_template = {
	key = "ag_player_anti_penetration_aura"
	size = medium
	icon = "GFX_ship_part_ag_ancient_aura_3_teal"
	icon_frame = 1
	
	power = @ag_titan_aura_power
	
	prerequisites = { "tech_ag_anti_penetration" }
	
	size_restriction = { titan juggernaut }
	
	hostile_aura = {
		name = "ag_offensive_aura"
		system_wide = yes
		apply_on = ships
		
		stack_info = {
			id = ag_anti_shield_penetration_aura
			priority = 420
		}
		modifier = {
			ship_shield_penetration_mult = -3.2
		}
		
		graphics = {
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}
	hostile_aura = {
		name = "ag_unnamed_aura"
		system_wide = yes
		apply_on = ships
		
		stack_info = {
			id = ag_anti_armor_penetration_aura
			priority = 420
		}
		modifier = {
			ship_armor_penetration_mult = -3.2
		}
		
		graphics = {
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}
	
	resources = {
		category = ship_components
		cost = {
			alloys = @ag_titan_aura_cost_alloys
			sr_zro = @ag_titan_aura_cost_rare_resources
		}		
		upkeep = {
			energy = @ag_titan_aura_upkeep_energy
			alloys = @ag_titan_aura_upkeep_alloys
		}
	}
	
	component_set = "ship_aura_components"
	
	ai_weight = {
		weight = 20
	}
}

utility_component_template = {
	key = "ag_player_weapon_debuff_aura"
	size = medium
	icon = "GFX_ship_part_ag_ancient_aura_2_teal"
	icon_frame = 1
	
	power = @ag_titan_aura_power
	
	prerequisites = { "tech_ag_weapon_debuff" }
	
	size_restriction = { titan juggernaut }
	
	hostile_aura = {
		name = "ag_offensive_aura"
		system_wide = yes
		apply_on = ships
		
		stack_info = {
			id = aura_ag_weapon_range_debuff
			priority = 120
		}
		modifier = {
			ship_weapon_range_mult = -0.20
		}
		graphics = {
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}
	hostile_aura = {
		name = "ag_unnamed_aura"
		system_wide = yes
		apply_on = ships
		
		stack_info = {			
			id = aura_ag_weapon_shield_damage_debuff
			priority = 150
		}
		modifier = {
			ship_shield_damage_mult = -0.5
		}
		graphics = {
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}
	hostile_aura = {
		name = "ag_unnamed_aura"
		system_wide = yes
		apply_on = ships
		
		stack_info = {
			id = aura_ag_weapon_armor_damage_debuff
			priority = 150
		}
		modifier = {
			ship_armor_damage_mult = -0.5
		}
		graphics = {
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}
	hostile_aura = {
		name = "ag_unnamed_aura"
		system_wide = yes
		apply_on = ships
		
		stack_info = {			
			id = aura_ag_weapon_hull_damage_debuff
			priority = 150
		}
		modifier = {
			ship_hull_damage_mult = -0.5
		}
		graphics = {
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}
	
	resources = {
		category = ship_components
		cost = {
			alloys = @ag_titan_aura_cost_alloys
			sr_dark_matter = @ag_titan_aura_cost_rare_resources
		}		
		upkeep = {
			energy = @ag_titan_aura_upkeep_energy
			alloys = @ag_titan_aura_upkeep_alloys
		}
	}
	
	component_set = "ship_aura_components"
	
	ai_weight = {
		weight = 20
	}
}

utility_component_template = {
	key = "ag_player_ship_debuff_aura"
	size = medium
	icon = "GFX_ship_part_ag_ancient_aura_4_teal"
	icon_frame = 1
	
	power = @ag_titan_aura_power
	
	prerequisites = { "tech_ag_ship_debuff" }
	
	size_restriction = { titan juggernaut }
	
	hostile_aura = {
		name = "ag_offensive_aura"
		system_wide = yes
		apply_on = ships
		
		stack_info = {			
			id = aura_ag_ship_shield_debuff
			priority = 120
		}
		modifier = {
			ship_shield_reduction = 0.20
		}
		
		graphics = {
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}
	hostile_aura = {
		name = "ag_unnamed_aura"
		system_wide = yes
		apply_on = ships
		
		stack_info = {			
			id = aura_ag_ship_hull_debuff
			priority = 110
		}
		modifier = {
			ship_hull_mult = -0.10
		}
		
		graphics = {
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}
	hostile_aura = {
		name = "ag_unnamed_aura"
		system_wide = yes
		apply_on = ships
		
		stack_info = {			
			id = aura_ag_ship_debuff_common
			priority = 120
		}
		modifier = {
            ship_evasion_mult = -0.20
		}
		
		graphics = {
			ship_effect = {
				entity = "ship_aura_negative_entity"
				dynamic_scale = no
			}
		}
	}
	
	resources = {
		category = ship_components
		cost = {
			alloys = @ag_titan_aura_cost_alloys
			sr_dark_matter = @ag_titan_aura_cost_rare_resources
		}		
		upkeep = {
			energy = @ag_titan_aura_upkeep_energy
			alloys = @ag_titan_aura_upkeep_alloys
		}
	}
	
	component_set = "ship_aura_components"
	
	ai_weight = {
		weight = 20
	}
}

utility_component_template = {
	key = "ag_common_zeta_crisis_damage_buff"
	size = aux
	icon = "GFX_ship_part_ag_ancient_aura_12_teal"
	icon_frame = 1
	
	power = @ag_common_aux_power
	
	prerequisites = { "tech_ag_zeta_crisis_damage_buff" }

	modifier = {
		damage_vs_country_type_ag_zeta_crisis_country_mult = 0.02
	}
	
	resources = {
		category = ship_components
		cost = {
			alloys = @ag_common_aux_cost_alloys
			sr_zro = @ag_common_aux_cost_rare_resource 
		}
		upkeep = {
			energy = @ag_common_aux_upkeep_energy
			alloys = @ag_common_aux_upkeep_alloys
		}
	}
	
	component_set = "ag_common_zeta_crisis_damage_buff_set"
	
	ai_weight = {
		weight = 50
	}
}
weapon_component_template = {
	key = "ag_perdition_beam_battleship"
	size = titanic
	type = instant
	prio_projectile = yes
	
	icon = "GFX_ship_part_perdition_beam"
	icon_frame = 1
	entity = "turret_xl_entity"
	
	power = -500

	firing_arc = 10.0
	min_range = 30.0
	use_ship_kill_target = no
	
	damage = { min = 5000.0 max = 10000.0 }
	hull_damage = 1.25
	shield_damage = 0.75
	shield_penetration = 0
	armor_damage = 1.50
	armor_penetration = 0
	windup = { min = 30.0 max = 45.0 }
	
	total_fire_time = 180
	
	range = 250.0
	accuracy = 0.85
	tracking = 0

	prerequisites = { "tech_titans" "tech_ag_battleship_bow_upgrade" }
	resources = {
		category = ship_components
		cost = {
			alloys = @titanic_t6_cost
			rare_crystals = @titanic_t6_rare
		}		
		upkeep = {
			energy = @titanic_t6_upkeep_energy
			alloys = @titanic_t6_upkeep_alloys
		}
	}
	size_restriction = { battleship }
	
	projectile_gfx = "perdition_beam"
	tags = { weapon_type_energy }
	ai_tags = { weapon_role_artillery }
	
	component_set = "PERDITION_BEAM"
	ai_weight = { weight = 1 }
}
weapon_component_template = {
	key = "ag_mass_accelerator_titanic"
	size = titanic
	type = instant
	prio_projectile = yes
	
	icon = "GFX_ship_part_ag_mass_accelerator_titanic"
	icon_frame = 1
	entity = "turret_xl_entity"
	
	power = -500

	firing_arc = 10.0
	min_range = 30.0
	use_ship_kill_target = no
	
	damage = { min = 6000.0 max = 12500.0 }
	hull_damage = 1.25
	shield_damage = 1.50
	shield_penetration = 0
	armor_damage = 0.75
	armor_penetration = 0
	windup = { min = 30.0 max = 45.0 }
	
	total_fire_time = 200
	
	range = 250.0
	accuracy = 0.75
	tracking = 0

	prerequisites = { "tech_ag_mass_accelerator_titanic" }
	resources = {
		category = ship_components
		cost = {
			alloys = @titanic_t6_cost
			volatile_motes = @titanic_t6_rare
		}
		upkeep = {
			energy = @titanic_t6_upkeep_energy
			alloys = @titanic_t6_upkeep_alloys
		}
	}
	size_restriction = { titan battleship }
	
	projectile_gfx = "adv_kinetic_artillery"
	tags = { weapon_type_kinetic }
	ai_tags = { weapon_role_artillery }
	
	component_set = "ag_mass_accelerator_titanic_set"
	ai_weight = { weight = 1 }
}
weapon_component_template = {
	key = "ag_graygoo_beam"
	size = titanic
	type = instant
	prio_projectile = yes
	
	icon = "GFX_ship_part_space_whale_weapon_1"
	icon_frame = 1
	entity = "turret_xl_entity"
	
	power = -500

	firing_arc = 10.0
	min_range = 30.0
	use_ship_kill_target = no
	
	damage = { min = 1.0 max = 9999.0 }
	hull_damage = 1.0
	shield_damage = 1.0
	shield_penetration = 1.0
	armor_damage = 1.0
	armor_penetration = 1.0
	windup = { min = 30.0 max = 45.0 }
	
	total_fire_time = 190
	
	range = 200.0
	accuracy = 1.0
	tracking = 0.2

	prerequisites = { "tech_ag_graygoo_beam" }
	resources = {
		category = ship_components
		cost = {
			alloys = @titanic_t6_cost
			rare_crystals = @titanic_t6_rare
			nanites = @titanic_t6_rare
		}
		upkeep = {
			energy = @titanic_t6_upkeep_energy
			alloys = @titanic_t6_upkeep_alloys
		}
	}
	size_restriction = { titan battleship }
	
	projectile_gfx = "gatebuilder_titan_weapon"
	tags = { weapon_type_energy }
	ai_tags = { weapon_role_artillery }
	
	component_set = "ag_graygoo_beam_set"
	ai_weight = { weight = 1 }
}
weapon_component_template = {
	key = "ag_mass_accelerator_ion"
	size = titanic
	type = instant
	prio_projectile = yes
	
	icon = "GFX_ship_part_ag_mass_accelerator_titanic"
	icon_frame = 1
	entity = "turret_xl_entity"

	firing_arc = 10.0
	min_range = 30.0
	use_ship_kill_target = no
	
	damage = { min = 6000.0 max = 12500.0 }
	hull_damage = 1.25
	shield_damage = 1.50
	shield_penetration = 0
	armor_damage = 0.75
	armor_penetration = 0
	windup = { min = 30.0 max = 45.0 }
	
	total_fire_time = 200
	
	range = 250.0
	accuracy = 0.75
	tracking = 0

	prerequisites = { "tech_ag_mass_accelerator_titanic" }
	resources = {
		category = ship_components
		cost = {
			alloys = @titanic_t6_cost
			volatile_motes = @titanic_t6_rare
		}
		upkeep = {
			energy = @titanic_t6_upkeep_energy
			alloys = @titanic_t6_upkeep_alloys
		}
	}
	size_restriction = { ion_cannon }
	
	projectile_gfx = "adv_kinetic_artillery"
	tags = { weapon_type_kinetic }
	ai_tags = { weapon_role_artillery }
	
	component_set = "ag_mass_accelerator_titanic_set"
	ai_weight = { weight = 1 }
}
weapon_component_template = {
	key = "ag_graygoo_beam_ion"
	size = titanic
	type = instant
	prio_projectile = yes
	
	icon = "GFX_ship_part_space_whale_weapon_1"
	icon_frame = 1
	entity = "turret_xl_entity"

	firing_arc = 10.0
	min_range = 30.0
	use_ship_kill_target = no
	
	damage = { min = 1.0 max = 9999.0 }
	hull_damage = 1.0
	shield_damage = 1.0
	shield_penetration = 1.0
	armor_damage = 1.0
	armor_penetration = 1.0
	windup = { min = 30.0 max = 45.0 }
	
	total_fire_time = 190
	
	range = 200.0
	accuracy = 1.0
	tracking = 0.2

	prerequisites = { "tech_ag_graygoo_beam" }
	resources = {
		category = ship_components
		cost = {
			alloys = @titanic_t6_cost
			rare_crystals = @titanic_t6_rare
			nanites = @titanic_t6_rare
		}
		upkeep = {
			energy = @titanic_t6_upkeep_energy
			alloys = @titanic_t6_upkeep_alloys
		}
	}
	size_restriction = { ion_cannon }
	
	projectile_gfx = "gatebuilder_titan_weapon"
	tags = { weapon_type_energy }
	ai_tags = { weapon_role_artillery }
	
	component_set = "ag_graygoo_beam_set"
	ai_weight = { weight = 1 }
}

utility_component_template = {
	key = "ag_nano_living_metal_armor_s"
	size = small
	icon = "GFX_ship_part_ag_nano_living_metal_armor"
	icon_frame = 1
	power = 0
	resources = {
		category = ship_components
		cost = {
			rare_crystals = 0.33
			sr_living_metal = 12.0
			nanites = 0.33
		}
		upkeep = { energy = 0.5 }
	}
	
	prerequisites = { "tech_ag_nano_living_metal_armor" }
	component_set = "ag_nano_living_metal_armor_set"
	
	modifier = {
		ship_hull_add = 300
		ship_hull_mult = 0.01
		ship_hull_regen_add_static = 15.0
	}

	ai_weight = {
		weight = 2
		modifier = { factor = 0.0 no_resource_for_component = { RESOURCE = rare_crystals } }
		modifier = { factor = 0.0 no_resource_for_component = { RESOURCE = sr_living_metal } }
		modifier = { factor = 0.0 no_resource_for_component = { RESOURCE = nanites } }
	}
}
utility_component_template = {
	key = "ag_nano_living_metal_armor_m"
	size = medium
	icon = "GFX_ship_part_ag_nano_living_metal_armor"
	icon_frame = 1
	power = 0
	resources = {
		category = ship_components
		cost = {
			rare_crystals = 0.65
			sr_living_metal = 24.0
			nanites = 0.65
		}
		upkeep = { energy = 1.0 }
	}
	
	prerequisites = { "tech_ag_nano_living_metal_armor" }
	component_set = "ag_nano_living_metal_armor_set"
	
	modifier = {
		ship_hull_add = 700
		ship_hull_mult = 0.01
		ship_hull_regen_add_static = 35.0
	}

	ai_weight = {
		weight = 2
		modifier = { factor = 0.0 no_resource_for_component = { RESOURCE = rare_crystals } }
		modifier = { factor = 0.0 no_resource_for_component = { RESOURCE = sr_living_metal } }
		modifier = { factor = 0.0 no_resource_for_component = { RESOURCE = nanites } }
	}
}
utility_component_template = {
	key = "ag_nano_living_metal_armor_l"
	size = large
	icon = "GFX_ship_part_ag_nano_living_metal_armor"
	icon_frame = 1
	power = 0
	resources = {
		category = ship_components
		cost = {
			rare_crystals = 1.30
			sr_living_metal = 48.0
			nanites = 1.30
		}
		upkeep = { energy = 2.0 }
	}
	
	prerequisites = { "tech_ag_nano_living_metal_armor" }
	component_set = "ag_nano_living_metal_armor_set"
	
	modifier = {
		ship_hull_add = 1600
		ship_hull_mult = 0.01
		ship_hull_regen_add_static = 80.0
	}

	ai_weight = {
		weight = 2
		modifier = { factor = 0.0 no_resource_for_component = { RESOURCE = rare_crystals } }
		modifier = { factor = 0.0 no_resource_for_component = { RESOURCE = sr_living_metal } }
		modifier = { factor = 0.0 no_resource_for_component = { RESOURCE = nanites } }
	}
}

weapon_component_template = {
	key = "ag_ancient_beta_t_weapon_psi_player_1"
	size = titanic
	type = instant
	
	icon = "GFX_ship_part_ag_ancient_t_weapon_violet"
	icon_frame = 1
	entity = "turret_xl_entity"
	
	power = @ag_ancient_t_weapon_power_0

	firing_arc = 15.0
	min_range = 45.0
	static_rotation = yes
	
	damage = { min = 400.0 max = 800.0 }
	hull_damage = 1.0
	shield_damage = 1.0
	shield_penetration = 1.0
	armor_damage = 1.0
	armor_penetration = 1.0
	windup = { min = 1.0 max = 8.0 }
	
	total_fire_time = 16
	
	range = 260.0
	accuracy = 1.0
	tracking = 1.0

	prerequisites = { tech_ag_beta_psi_weapon_1 }
	resources = {
		category = ship_components
		cost = {
			sr_living_metal = @ag_beta_psi_weapon_t_1_cost_living_metal
			sr_zro = @ag_beta_psi_weapon_t_1_cost_zro
		}
		upkeep = {
			energy = @ag_beta_psi_weapon_t_1_upkeep_energy
			sr_living_metal = @ag_beta_psi_weapon_t_1_upkeep_living_metal
			sr_zro = @ag_beta_psi_weapon_t_1_upkeep_zro
		}
	}

	class_restriction = {
		shipclass_military
		shipclass_military_station
	}
	
	projectile_gfx = "ag_beta_psi_weapon_t_player_1"
	tags = { weapon_type_energy weapon_type_psionic }
	ai_tags = { weapon_role_long_range }
	
	component_set = "ag_beta_player_psionic_weapon_1_set"
	ship_modifier = { damage_vs_country_type_ag_zeta_crisis_country_mult = -0.75 }
}
weapon_component_template = {
	key = "ag_ancient_beta_xl_weapon_psi_player_1"
	size = extra_large
	type = instant
	
	icon = "GFX_ship_part_ag_ancient_xl_weapon_violet"
	icon_frame = 1
	entity = "turret_xl_entity"
	
	power = @ag_ancient_xl_weapon_power_0

	firing_arc = 15.0
	min_range = 20.0
	static_rotation = yes
	
	damage = { min = 200.0 max = 400.0 }
	hull_damage = 1.0
	shield_damage = 1.0
	shield_penetration = 1.0
	armor_damage = 1.0
	armor_penetration = 1.0
	windup = { min = 1.0 max = 8.0 }
	
	total_fire_time = 12
	
	range = 180.0
	accuracy = 1.0
	tracking = 1.0
	
	prerequisites = { tech_ag_beta_psi_weapon_1 }
	resources = {
		category = ship_components
		cost = {
			sr_living_metal = @ag_beta_psi_weapon_xl_1_cost_living_metal
			sr_zro = @ag_beta_psi_weapon_xl_1_cost_zro
		}
		upkeep = {
			energy = @ag_beta_psi_weapon_xl_1_upkeep_energy
			sr_living_metal = @ag_beta_psi_weapon_xl_1_upkeep_living_metal
			sr_zro = @ag_beta_psi_weapon_xl_1_upkeep_zro
		}
	}

	class_restriction = {
		shipclass_military
		shipclass_military_station
	}
	
	projectile_gfx = "ag_beta_psi_weapon_xl_player_1"
	tags = { weapon_type_energy weapon_type_psionic }
	ai_tags = { weapon_role_long_range }
	
	component_set = "ag_beta_player_psionic_weapon_1_set"
	ship_modifier = { damage_vs_country_type_ag_zeta_crisis_country_mult = -0.75 }
}
weapon_component_template = {
	key = "ag_ancient_beta_t_weapon_psi_player_2"
	size = titanic
	type = instant
	
	icon = "GFX_ship_part_ag_ancient_t_weapon_pink"
	icon_frame = 1
	entity = "turret_xl_entity"
	
	power = @ag_ancient_t_weapon_power_1

	firing_arc = 20.0
	min_range = 45.0
	static_rotation = yes
	
	damage = { min = 420.0 max = 840.0 }
	hull_damage = 1.0
	shield_damage = 1.0
	shield_penetration = 2.0
	armor_damage = 1.0
	armor_penetration = 2.0
	windup = { min = 1.0 max = 8.0 }
	
	total_fire_time = 14
	
	range = 280.0
	accuracy = 1.0
	tracking = 1.0
	
	prerequisites = { tech_ag_beta_psi_weapon_2 }
	resources = {
		category = ship_components
		cost = {
			sr_living_metal = @ag_beta_psi_weapon_t_2_cost_living_metal
			sr_zro = @ag_beta_psi_weapon_t_2_cost_zro
		}
		upkeep = {
			energy = @ag_beta_psi_weapon_t_2_upkeep_energy
			sr_living_metal = @ag_beta_psi_weapon_t_2_upkeep_living_metal
			sr_zro = @ag_beta_psi_weapon_t_2_upkeep_zro
		}
	}

	class_restriction = {
		shipclass_military
		shipclass_military_station
	}
	
	projectile_gfx = "ag_beta_psi_weapon_t_player_2"
	tags = { weapon_type_energy weapon_type_psionic }
	ai_tags = { weapon_role_long_range }
	
	component_set = "ag_beta_player_psionic_weapon_2_set"
	ship_modifier = { damage_vs_country_type_ag_zeta_crisis_country_mult = -0.5 }
}
weapon_component_template = {
	key = "ag_ancient_beta_xl_weapon_psi_player_2"
	size = extra_large
	type = instant
	
	icon = "GFX_ship_part_ag_ancient_xl_weapon_pink"
	icon_frame = 1
	entity = "turret_xl_entity"
	
	power = @ag_ancient_xl_weapon_power_1

	firing_arc = 20.0
	min_range = 20.0
	static_rotation = yes
	
	damage = { min = 210.0 max = 420.0 }
	hull_damage = 1.0
	shield_damage = 1.0
	shield_penetration = 2.0
	armor_damage = 1.0
	armor_penetration = 2.0
	windup = { min = 1.0 max = 8.0 }
	
	total_fire_time = 10
	
	range = 200.0
	accuracy = 1.0
	tracking = 1.0
	
	prerequisites = { tech_ag_beta_psi_weapon_2 }
	resources = {
		category = ship_components
		cost = {
			sr_living_metal = @ag_beta_psi_weapon_xl_2_cost_living_metal
			sr_zro = @ag_beta_psi_weapon_xl_2_cost_zro
		}
		upkeep = {
			energy = @ag_beta_psi_weapon_xl_2_upkeep_energy
			sr_living_metal = @ag_beta_psi_weapon_xl_2_upkeep_living_metal
			sr_zro = @ag_beta_psi_weapon_xl_2_upkeep_zro
		}
	}

	class_restriction = {
		shipclass_military
		shipclass_military_station
	}
	
	projectile_gfx = "ag_beta_psi_weapon_xl_player_2"
	tags = { weapon_type_energy weapon_type_psionic }
	ai_tags = { weapon_role_long_range }
	
	component_set = "ag_beta_player_psionic_weapon_2_set"
	ship_modifier = { damage_vs_country_type_ag_zeta_crisis_country_mult = -0.5 }
}
