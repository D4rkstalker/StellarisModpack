ap_xeno_compatibility_tw_fix = {
	potential = {
		host_has_dlc = "Megacorp"
		NOR = {
			has_ascension_perk = ap_xeno_compatibility
			has_ascension_perk = ap_xeno_compatibility_tw_fix
		}
		is_regular_empire = yes
		xeno_compatibility_enabled = no
	}

	modifier = {
		planet_immigration_pull_mult = 0.33
        pop_growth_speed = 0.10
        BIOLOGICAL_species_trait_points_add = 1
        BIOLOGICAL_species_trait_picks_add = 1
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_xeno_species"
			any_owned_pop = {
				NOR = {
					is_same_species = root.owner
					has_trait = trait_mechanical
					has_trait = trait_machine_unit
					has_trait = trait_hive_mind
				}
			}
		}
		custom_tooltip = {
			fail_text = "requires_technology_gene_tailoring"
			has_technology = tech_gene_tailoring
		}
	}

	ai_weight = {
		factor = 10
		modifier = {
			factor = 2
			has_ethic = ethic_xenophile
		}
		modifier = {
			factor = 3
			has_ethic = ethic_fanatic_xenophile
		}
	}
}

ap_xeno_compatibility_tw_hive = {
	potential = {
		host_has_dlc = "Utopia"
        has_authority = auth_hive_mind
		NOT = {
			has_ascension_perk = ap_xeno_compatibility_tw_hive
		}
	}

	modifier = {
		pop_growth_speed = 0.10
        planet_pop_assembly_mult = 0.10
        BIOLOGICAL_species_trait_points_add = 1
        BIOLOGICAL_species_trait_picks_add = 1
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_xeno_species"
			any_owned_pop = {
				NOR = {
					is_same_species = root.owner
					has_trait = trait_mechanical
					has_trait = trait_machine_unit
				}
			}
		}
		custom_tooltip = {
			fail_text = "requires_technology_gene_tailoring"
			has_technology = tech_gene_tailoring
		}
	}

	ai_weight = {
		factor = 10
		modifier = {
			factor = 2
			has_ascension_perk = ap_organo_machine_interfacing
		}
		modifier = {
			factor = 3
			has_ascension_perk = ap_engineered_evolution
		}
	}
}

ap_xeno_compatibility_tw_machine = {
	potential = {
		host_has_dlc = "Synthetic Dawn Story Pack"
		has_authority = auth_machine_intelligence
		NOT = {
			has_ascension_perk = ap_xeno_compatibility_tw_machine
		}
	}

	modifier = {
		planet_pop_assembly_mult = 0.10
        MACHINE_species_trait_points_add = 1
        MACHINE_species_trait_picks_add = 2
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_xeno_species"
			any_owned_pop = {
				NOR = {
					is_same_species = root.owner
					has_trait = trait_mechanical
					has_trait = trait_machine_unit
				}
			}
		}
		custom_tooltip = {
			fail_text = "requires_technology_binary_motivators"
			has_technology = tech_binary_motivators
		}
	}

	ai_weight = {
		factor = 10
		modifier = {
			factor = 2
			has_ascension_perk = ap_synthetic_age
		}
		modifier = {
			factor = 2
			has_civic = civic_machine_assimilator
		}
	}
}