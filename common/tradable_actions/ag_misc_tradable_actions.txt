# Anchor Station.
ag_upgrade_anchor_station = {
	fire_and_forget = yes
	potential = {
		from = {
			is_ai = no
			has_technology = "tech_ag_ancient_anchor_station"
			resource_stockpile_compare = { resource = energy value >= @ag_ancient_anchor_station_2_cost_energy }
			resource_stockpile_compare = { resource = sr_dark_matter value >= @ag_ancient_anchor_station_2_cost_sr_dark_matter }
		}
		is_country_type = default
		is_subject = from
		any_owned_megastructure = { is_megastructure_type = ag_ancient_anchor_station_1 is_upgrading = no }
	}
	on_traded_effect = { hidden_effect = {
		from = { add_resource = { energy = @ag_ancient_anchor_station_2_cost_energy sr_dark_matter = @ag_ancient_anchor_station_2_cost_sr_dark_matter mult = -1 } }
		random_owned_megastructure = { limit = { is_megastructure_type = ag_ancient_anchor_station_1 is_upgrading = no } upgrade_megastructure_to = ag_ancient_anchor_station_2 }
	} }
	ai_weight = { weight = -50 }
}

# Trade Relics
ag_trade_ag_gamma_crisis_relic = {
	fire_and_forget = yes
	potential = {
		from = { NOT = { has_relic = ag_gamma_crisis_relic } }
		has_relic = ag_gamma_crisis_relic
		is_country_type = default
	}
	on_traded_effect = {
		remove_relic = ag_gamma_crisis_relic
		from = { add_relic = ag_gamma_crisis_relic }
		hidden_effect = { if = {
			limit = { has_country_flag = ag_gamma_crisis_relic_actived }
			remove_country_flag = ag_gamma_crisis_relic_actived
			if = { limit = { has_global_flag = ag_ancient_empire_mod_shipyard_building } from = { set_country_flag = ag_gamma_crisis_relic_actived } }
		} }
	}
	ai_weight = { weight = 25 modifier = { weight = 1000 is_ai = yes } }
}
ag_trade_ag_zeta_crisis_relic = {
	fire_and_forget = yes
	potential = {
		from = { NOT = { has_relic = ag_zeta_crisis_relic } }
		has_relic = ag_zeta_crisis_relic
		is_country_type = default
	}
	on_traded_effect = {
		remove_relic = ag_zeta_crisis_relic
		from = { add_relic = ag_zeta_crisis_relic }
		hidden_effect = { if = {
			limit = { has_country_flag = ag_zeta_crisis_relic_actived }
			remove_country_flag = ag_zeta_crisis_relic_actived
			if = { limit = { has_global_flag = ag_ancient_empire_mod_shipyard_building } from = { set_country_flag = ag_zeta_crisis_relic_actived } }
		} }
	}
	ai_weight = { weight = 25 modifier = { weight = 1000 is_ai = yes } }
}
