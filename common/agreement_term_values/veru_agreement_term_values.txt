# Defines the different values available for given Agreement terms. The terms are defined in agreement_terms scripts.
# The term values contain the main logic of Agreement terms, including the modifiers and effects.
# For Subject Agreements, the owner is the overlord and the target is the subject.

# Example:
#
# name_of_term_value = {
# 	term = name_of_term 					# References the term in agreement_terms that this value applies to
#
# 	owner_modifier = {						# A modifier that applies to the Agreement owner country. Can stack multiple times.
# 		my_owner_modifier = 1
# 	}
# 	target_modifier = {						# A modifier that applies to the Agreement target country. Can stack multiple times.
# 		my_target_modifier = 1
# 	}
# 	unique_owner_modifier = {				# A modifier that applies to the Agreement owner country. Only applies once.
# 		my_unique_owner_modifier = 1
# 	}
# 	unique_target_modifier = {				# A modifier that applies to the Agreement target country. Only applies once.
# 		my_unique_target_modifier = 1
# 	}
# 	loyalty_change = value					# How much the subject's loyalty will change when a new agreement with this term starts
# 	ai_acceptance = {
#		overlord = 1						# Willingness of AI overlord to accept this term
#		subject = 1							# Willingness of AI subject to accept this term
#	}
# 	triggered_loyalty_change = {			# How much the subject's loyalty will additionally change when a new agreement with this term starts, if "trigger" is true
# 		trigger = {
# 			agreement_scope_trigger
# 		}
# 		loyalty_change = value
#		ai_acceptance = {
#			overlord = 1
#			subject = 1
#		}
# 	}
# 	extra_term_text_subject = <LOC_KEY> 	# What should be shown in the "extra terms" panel for the subject if this term value is active (default is to not show it)
# 											# This loc key can use $SUBJECT$ and $OVERLORD$ to show the name of the relevant empire, and $MODIFIER$ to show the modifiers applying to the subject
# 	extra_term_text_overlord = <LOC_KEY>	# What should be shown in the "extra terms" panel for the overlord if this term value is active (default is to not show it)
# 											# Loc key can use $SUBJECT$ and $OVERLORD$ to show the name of the relevant empire, $MODIFIER$ for the overlord's modifiers, and $RESOURCES$ for the net resources it gains
# }
#
# name_of_resource_term_value = {
# 	term = name_of_resource_term
#	resource = <resource> (food/alloys/...)
# }

#############
# Resources #
#############

@subsidy_multiplier_basic = 0.16 			# 0.5
@subsidy_multiplier_advanced = 0.16 		# 0.5
@subsidy_multiplier_research = 1
@subsidy_multiplier_strategic = 0.5 		# 1.5

@subsidy_monthly_multiplier_basic = 1.6 	# 5
@subsidy_monthly_multiplier_advanced = 1.6 	# 5
@subsidy_monthly_multiplier_research = 5
@subsidy_monthly_multiplier_strategic = 1.6 # 5

# When changing the maximum and minimum values here the following should also be updated:
# In agreement_negotiation_view.gui
#	maxValue =
#	minValue =
#	stepSize =
# In 00_defines.txt:
#	AGREEMENT_RESOURCE_SUBSIDIES_MIN
#	AGREEMENT_RESOURCE_SUBSIDIES_MAX
@subsidy_minimum = -0.75
@subsidy_maximum = 0.75

@set_factor_0 = 0.15
@set_factor_0_neg = -0.15
@set_factor_1 = 0.30
@set_factor_1_neg = -0.30
@set_factor_2 = 0.45
@set_factor_2_neg = -0.45
@set_factor_3 = 0.60
@set_factor_3_neg = -0.60


resource_subsidies_ver_energy = {
	term = resource_subsidies
	resources = {
		energy
	}

	subsidy_multiplier = @subsidy_multiplier_basic
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_basic

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = @set_factor_1
			OR = {
				agreement_preset = preset_prospectorium
				agreement_preset = preset_tributary
				agreement_preset = preset_subsidiary
			}
		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
			}
		}

		modifier = {
			set = 0.1
			agreement_preset = preset_ver_puppet
		}

		modifier = {
			set = 0.15
			OR = {
				agreement_preset = preset_auto_state
				agreement_preset = preset_ver_neocolony
			}
		}

		modifier = {
			set = 0.25
			agreement_preset = preset_ver_organic
		}
	}

	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = @set_factor_1_neg
			agreement_preset = preset_bulwark
		}

		modifier = {
			set = @set_factor_2_neg
			agreement_preset = preset_bulwark
			has_active_specialization = specialist_bulwark
			specialist_tier = 2
		}

		modifier = {
			set = @set_factor_3_neg
			agreement_preset = preset_bulwark
			has_active_specialization = specialist_bulwark
			specialist_tier = 3
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_protectorate
				######################################
				agreement_preset = preset_ver_foederatus
				agreement_preset = preset_ver_satellite
				agreement_preset = preset_ver_jrpartner
				agreement_preset = preset_ver_condo
				agreement_preset = preset_ver_blood
			}
		}

		modifier = {
			set = 0.2
			agreement_preset = preset_ver_devolved
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}

		modifier = {
			set = -0.05
			agreement_preset = preset_ver_dependency
		}

		modifier = {
			set = -0.1
			agreement_preset = preset_ver_clientkingdom
		}
	}
}

resource_subsidies_ver_volatile_motes = {
	term = resource_subsidies
	resources = {
		volatile_motes
	}
	subsidy_multiplier = @subsidy_multiplier_strategic
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_strategic

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_subsidiary
				agreement_preset = preset_tributary
				agreement_preset = preset_prospectorium
			}
		}

		modifier = {
			set = @set_factor_1
			agreement_preset = preset_prospectorium
			has_active_specialization = specialist_prospectorium
			OR = {
				specialist_tier = 2
				specialist_tier = 3
			}

		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_bulwark
			}
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}
	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.0
			agreement_preset = preset_protectorate
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_bulwark
				######################################
				agreement_preset = preset_ver_foederatus
				agreement_preset = preset_ver_satellite
				agreement_preset = preset_ver_jrpartner
				agreement_preset = preset_ver_dependency
				agreement_preset = preset_ver_clientkingdom
				agreement_preset = preset_ver_condo
				agreement_preset = preset_ver_puppet
				agreement_preset = preset_ver_blood
			}
		}

		modifier = {
			set = 0.2
			agreement_preset = preset_ver_devolved
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}
}

resource_subsidies_ver_minerals = {
	term = resource_subsidies
	resources = {
		minerals
	}

	subsidy_multiplier = @subsidy_multiplier_basic
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_basic

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = @set_factor_1
			OR = {
				agreement_preset = preset_prospectorium
				agreement_preset = preset_tributary
				agreement_preset = preset_subsidiary
			}
		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
			}
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}

	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = @set_factor_1_neg
			agreement_preset = preset_bulwark
		}

		modifier = {
			set = @set_factor_2_neg
			agreement_preset = preset_bulwark
			has_active_specialization = specialist_bulwark
			specialist_tier = 2
		}

		modifier = {
			set = @set_factor_3_neg
			agreement_preset = preset_bulwark
			has_active_specialization = specialist_bulwark
			specialist_tier = 3
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_protectorate
				######################################
				agreement_preset = preset_ver_satellite
				agreement_preset = preset_ver_jrpartner
				agreement_preset = preset_ver_dependency
				agreement_preset = preset_ver_clientkingdom
				agreement_preset = preset_ver_condo
				agreement_preset = preset_ver_puppet
				agreement_preset = preset_ver_blood
			}
		}

		modifier = {
			set = 0.2
			agreement_preset = preset_ver_devolved
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}
}

resource_subsidies_ver_exotic_gases = {
	term = resource_subsidies
	resources = {
		exotic_gases
	}
	subsidy_multiplier = @subsidy_multiplier_strategic
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_strategic

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_subsidiary
				agreement_preset = preset_tributary
				agreement_preset = preset_prospectorium
			}
		}

		modifier = {
			set = @set_factor_1
			agreement_preset = preset_prospectorium
			has_active_specialization = specialist_prospectorium
			OR = {
				specialist_tier = 2
				specialist_tier = 3
			}

		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_bulwark
			}
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}
	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.0
			agreement_preset = preset_protectorate
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_bulwark
				######################################
				agreement_preset = preset_ver_foederatus
				agreement_preset = preset_ver_satellite
				agreement_preset = preset_ver_dependency
				agreement_preset = preset_ver_clientkingdom
				agreement_preset = preset_ver_condo
				agreement_preset = preset_ver_puppet
				agreement_preset = preset_ver_blood
			}
		}

		modifier = {
			set = 0.2
			agreement_preset = preset_ver_devolved
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}

		modifier = {
			set = -0.1
			agreement_preset = preset_ver_jrpartner
		}
	}
}

resource_subsidies_ver_food = {
	term = resource_subsidies
	resources = {
		food
	}

	subsidy_multiplier = @subsidy_multiplier_basic
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_basic

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = @set_factor_1
			OR = {
				agreement_preset = preset_prospectorium
				agreement_preset = preset_tributary
				agreement_preset = preset_subsidiary
			}
		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
			}
		}

		modifier = {
			set = 0.1
			agreement_preset = preset_ver_puppet
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}

		modifier = {
			set = 0.25
			agreement_preset = preset_ver_appendage
		}
	}

	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = @set_factor_1_neg
			agreement_preset = preset_bulwark
		}

		modifier = {
			set = @set_factor_2_neg
			agreement_preset = preset_bulwark
			has_active_specialization = specialist_bulwark
			specialist_tier = 2
		}

		modifier = {
			set = @set_factor_3_neg
			agreement_preset = preset_bulwark
			has_active_specialization = specialist_bulwark
			specialist_tier = 3
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_protectorate
				######################################
				agreement_preset = preset_ver_foederatus
				agreement_preset = preset_ver_satellite
				agreement_preset = preset_ver_jrpartner
				agreement_preset = preset_ver_dependency
				agreement_preset = preset_ver_clientkingdom
				agreement_preset = preset_ver_condo
				agreement_preset = preset_ver_blood
			}
		}

		modifier = {
			set = 0.2
			agreement_preset = preset_ver_devolved
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}
}

resource_subsidies_ver_rare_crystals = {
	term = resource_subsidies
	resources = {
		rare_crystals
	}
	subsidy_multiplier = @subsidy_multiplier_strategic
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_strategic

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_subsidiary
				agreement_preset = preset_tributary
				agreement_preset = preset_prospectorium
			}
		}

		modifier = {
			set = @set_factor_1
			agreement_preset = preset_prospectorium
			has_active_specialization = specialist_prospectorium
			OR = {
				specialist_tier = 2
				specialist_tier = 3
			}

		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_bulwark
			}
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}
	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.0
			agreement_preset = preset_protectorate
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_bulwark
				######################################
				agreement_preset = preset_ver_foederatus
				agreement_preset = preset_ver_satellite
				agreement_preset = preset_ver_jrpartner
				agreement_preset = preset_ver_dependency
				agreement_preset = preset_ver_clientkingdom
				agreement_preset = preset_ver_condo
				agreement_preset = preset_ver_puppet
				agreement_preset = preset_ver_blood
			}
		}

		modifier = {
			set = 0.2
			agreement_preset = preset_ver_devolved
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}
}

resource_subsidies_ver_alloys = {
	term = resource_subsidies

	resources = {
		alloys
	}

	subsidy_multiplier = @subsidy_multiplier_advanced
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_advanced

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = @set_factor_0
			agreement_preset = preset_prospectorium
		}

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_subsidiary
				agreement_preset = preset_tributary
			}
		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
			}
		}

		modifier = {
			set = 0.15
			OR = {
				agreement_preset = preset_auto_state
				agreement_preset = preset_ver_satellite
			}
		}
	}

	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_protectorate
				agreement_preset = preset_bulwark
			}
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				######################################
				agreement_preset = preset_ver_jrpartner
				agreement_preset = preset_ver_dependency
				agreement_preset = preset_ver_clientkingdom
				agreement_preset = preset_ver_condo
				agreement_preset = preset_ver_puppet
				agreement_preset = preset_ver_blood
			}
		}

		modifier = {
			set = 0.2
			agreement_preset = preset_ver_devolved
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}

		modifier = {
			set = -0.05
			agreement_preset = preset_ver_foederatus
		}
	}
}

resource_subsidies_ver_minor_artifacts = {
	term = resource_subsidies
	resources = {
		minor_artifacts
	}
	subsidy_multiplier = @subsidy_multiplier_strategic
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_strategic

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_subsidiary
				agreement_preset = preset_tributary
				agreement_preset = preset_prospectorium
			}
		}

		modifier = {
			set = @set_factor_1
			agreement_preset = preset_prospectorium
			has_active_specialization = specialist_prospectorium
			OR = {
				specialist_tier = 2
				specialist_tier = 3
			}

		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_bulwark
			}
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}
	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.0
			agreement_preset = preset_protectorate
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_bulwark
				######################################
				agreement_preset = preset_ver_foederatus
				agreement_preset = preset_ver_satellite
				agreement_preset = preset_ver_jrpartner
				agreement_preset = preset_ver_dependency
				agreement_preset = preset_ver_clientkingdom
				agreement_preset = preset_ver_condo
				agreement_preset = preset_ver_puppet
				agreement_preset = preset_ver_blood
			}
		}

		modifier = {
			set = 0.2
			agreement_preset = preset_ver_devolved
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}
}

resource_subsidies_ver_consumer_goods = {
	term = resource_subsidies

	resources = {
		consumer_goods
	}

	subsidy_multiplier = @subsidy_multiplier_advanced
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_advanced

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = @set_factor_0
			agreement_preset = preset_prospectorium
		}

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_subsidiary
				agreement_preset = preset_tributary
			}
		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
			}
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}

	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_protectorate
				agreement_preset = preset_bulwark
			}
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				######################################
				agreement_preset = preset_ver_foederatus
				agreement_preset = preset_ver_satellite
				agreement_preset = preset_ver_jrpartner
				agreement_preset = preset_ver_dependency
				agreement_preset = preset_ver_condo
				agreement_preset = preset_ver_puppet
				agreement_preset = preset_ver_blood
			}
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}

		modifier = {
			set = 0.2
			agreement_preset = preset_ver_devolved
		}

		modifier = {
			set = -0.05
			OR = {
				agreement_preset = preset_ver_clientkingdom
				agreement_preset = preset_ver_neocolony
			}
		}
	}
}

resource_subsidies_ver_research = {
	term = resource_subsidies

	resources = {
		physics_research
		society_research
		engineering_research
	}

	subsidy_multiplier = @subsidy_multiplier_research
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_research

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_subsidiary
				agreement_preset = preset_tributary
			}
		}

		modifier = {
			set = @set_factor_1
			agreement_preset = preset_scholarium
		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_bulwark
			}
		}

		modifier = {
			set = 0.1
			agreement_preset = preset_ver_jrpartner
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}

	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.0
			agreement_preset = preset_protectorate
		}

		modifier = {
			set = @set_factor_1_neg
			agreement_preset = preset_prospectorium
		}

		modifier = {
			set = @set_factor_2_neg
			agreement_preset = preset_prospectorium
			has_active_specialization = specialist_prospectorium
			specialist_tier = 2
		}

		modifier = {
			set = @set_factor_3_neg
			agreement_preset = preset_prospectorium
			has_active_specialization = specialist_prospectorium
			specialist_tier = 3
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_bulwark
				######################################
				agreement_preset = preset_ver_foederatus
				agreement_preset = preset_ver_satellite
				agreement_preset = preset_ver_dependency
				agreement_preset = preset_ver_clientkingdom
				agreement_preset = preset_ver_condo
				agreement_preset = preset_ver_puppet
				agreement_preset = preset_ver_neocolony
				agreement_preset = preset_ver_blood
			}
		}

		modifier = {
			set = 0.2
			agreement_preset = preset_ver_devolved
		}

		modifier = {
			set = 0.15
			agreement_preset = preset_auto_state
		}
	}
}

resource_subsidies_ver_hidden_unity = {
	term = subject_ver_hidden_resources

	resources = {
		unity
	}

	subsidy_multiplier = @subsidy_multiplier_advanced
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_advanced

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = 0.15
			agreement_preset = preset_ver_dependency
		}

		modifier = {
			set = 0
			NOT = { agreement_preset = preset_ver_dependency }
		}
	}

	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.15
			agreement_preset = preset_ver_dependency
		}

		modifier = {
			set = 0
			NOT = { agreement_preset = preset_ver_dependency }
		}
	}
}

##############
#### New Terms
##############

#########
# Ruler #
#########

subject_ver_ruler_restricted = {
	term = subject_ver_ruler
	loyalty_change = 15
	ai_acceptance = {
		overlord = -30
		subject = 0
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_ver_puppet
			NOT = { agreement_preset = preset_ver_puppet }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_blood
			NOT = { agreement_preset = preset_ver_blood }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_clientkingdom
			NOT = { agreement_preset = preset_ver_clientkingdom }
		}
	}
}

subject_ver_ruler_them = {
	term = subject_ver_ruler
	loyalty_change = -20
	ai_acceptance = {
		overlord = 150
		subject = -100
	}
	triggered_loyalty_change = {
		trigger = {
			target = { is_xenophobe = yes }
		}
		loyalty_change = -5
		ai_acceptance = {
			subject = -100
		}
	}
	target_modifier = {
		monthly_loyalty = -2
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_ver_organic
			NOT = { agreement_preset = preset_ver_organic }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_parallel
			NOT = { agreement_preset = preset_ver_parallel }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_protectorate
			NOT = { agreement_preset = preset_protectorate }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_gestalt
			owner = { is_gestalt = no }
		}
	}
}

subject_ver_ruler_anyone = {
	term = subject_ver_ruler
	loyalty_change = -30
	ai_acceptance = {
		overlord = 250
		subject = -200
	}
	triggered_loyalty_change = {
		trigger = {
			target = { is_xenophobe = yes }
		}
		loyalty_change = -10
		ai_acceptance = {
			subject = -200
		}
	}
	target_modifier = {
		monthly_loyalty = -3.5
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_blood
			NOT = { agreement_preset = preset_ver_blood }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_appendage
			NOT = { agreement_preset = preset_ver_appendage }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_organic
			NOT = { agreement_preset = preset_ver_organic }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_parallel
			NOT = { agreement_preset = preset_ver_parallel }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_protectorate
			NOT = { agreement_preset = preset_protectorate }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_gestalt
			owner = { is_gestalt = no }
		}
	}
}

##############
# Government #
##############

subject_ver_government_restricted = {
	term = subject_ver_government
	loyalty_change = 10
	ai_acceptance = {
		overlord = -30
		subject = 0
	}

	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_ver_puppet
			NOT = { agreement_preset = preset_ver_puppet }
		}
	}
}

subject_ver_government_allowed = {
	term = subject_ver_government
	loyalty_change = -20
	ai_acceptance = {
		overlord = 150
		subject = -100
	}
	triggered_loyalty_change = {
		trigger = {
			target = { is_xenophobe = yes }
		}
		loyalty_change = -5
		ai_acceptance = {
			subject = -100
		}
	}
	target_modifier = {
		monthly_loyalty = -2
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_protectorate
			NOT = { agreement_preset = preset_protectorate }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_gestalt
			owner = { is_gestalt = no }
		}
	}
}

############
# Policies #
############

subject_ver_policy_restricted = {
	term = subject_ver_policy
	loyalty_change = 20
	ai_acceptance = {
		overlord = -30
		subject = 0
	}
}

subject_ver_policy_allowed = {
	term = subject_ver_policy
	loyalty_change = -30
	ai_acceptance = {
		overlord = 100
		subject = -150
	}
	triggered_loyalty_change = {
		trigger = {
			target = { is_xenophobe = yes }
		}
		loyalty_change = -15
		ai_acceptance = {
			subject = -150
		}
	}
	target_modifier = {
		monthly_loyalty = -5
	}
	activate_effect = {
		target = {
			country_event = { id = veru_misc.2000 }
		}
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_protectorate
			NOT = { agreement_preset = preset_protectorate }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_jrpartner
			NOT = { agreement_preset = preset_ver_jrpartner }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_neocolony
			NOT = { agreement_preset = preset_ver_neocolony }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_gestalt
			owner = { is_gestalt = no }
		}
	}
}

###########
# Capital #
###########

subject_ver_capital_restricted = {
	term = subject_ver_capital
	loyalty_change = 10
	ai_acceptance = {
		overlord = -30
		subject = 0
	}
}

subject_ver_capital_allowed = {
	term = subject_ver_capital
	loyalty_change = -15
	ai_acceptance = {
		overlord = 100
		subject = -75
	}
	triggered_loyalty_change = {
		trigger = {
			target = { is_xenophobe = yes }
		}
		loyalty_change = -10
		ai_acceptance = {
			subject = -75
		}
	}
	target_modifier = {
		monthly_loyalty = -2
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_protectorate
			NOT = { agreement_preset = preset_protectorate }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_gestalt
			owner = { is_gestalt = no }
		}
	}
}

##########
# Naming #
##########

subject_ver_naming_restricted = {
	term = subject_ver_naming
	loyalty_change = 5
	ai_acceptance = {
		overlord = -20
		subject = 0
	}
}

subject_ver_naming_allowed = {
	term = subject_ver_naming
	loyalty_change = -15
	ai_acceptance = {
		overlord = 20
		subject = -50
	}
	triggered_loyalty_change = {
		trigger = {
			target = { is_xenophobe = yes }
		}
		loyalty_change = -5
		ai_acceptance = {
			subject = -50
		}
	}
	target_modifier = {
		monthly_loyalty = -0.5
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_protectorate
			NOT = { agreement_preset = preset_protectorate }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_gestalt
			owner = { is_gestalt = no }
		}
	}
}

#############
# Proxy War #
#############

subject_ver_proxy_restricted = {
	term = subject_ver_proxy
	loyalty_change = 20
	ai_acceptance = {
		overlord = -20
		subject = 0
	}
}

subject_ver_proxy_allowed = {
	term = subject_ver_proxy
	loyalty_change = -30
	ai_acceptance = {
		overlord = 100
		subject = -200
	}
	triggered_loyalty_change = {
		trigger = {
			target = {
				OR = {
					is_xenophile = yes
					is_egalitarian = yes
				}
			}
		}
		loyalty_change = -15
		ai_acceptance = {
			subject = -200
		}
	}
	target_modifier = {
		monthly_loyalty = -5
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_protectorate
			NOT = { agreement_preset = preset_protectorate }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_satellite
			NOT = { agreement_preset = preset_ver_satellite }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_term_subject_wars
			NOR = {
				has_term_value = { term = joins_subject_wars value = joins_subject_wars_offensive }
				has_term_value = { term = joins_subject_wars value = joins_subject_wars_all }
			}
		}
		custom_tooltip = {
			fail_text = not_allowed_for_term_subject_diplomacy
			NOR = {
				has_term_value = { term = subject_diplomacy value = subject_can_do_diplomacy }
				has_term_value = { term = subject_diplomacy value = subject_can_do_diplomacy_but_not_vote }
			}
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
	}
}

##########
# Hidden #
##########

subject_no_ver_effect = {
	term = subject_ver_effects
}

subject_ver_foederatus_effect = {
	term = subject_ver_effects
	owner_modifier = {
		ship_weapon_damage = 0.02
		country_naval_cap_mult = -0.02
	}
	target_modifier = {
		ship_weapon_damage = 0.1
		country_naval_cap_mult = 0.25
	}

	extra_term_text_subject = ver_foederatus_extra_subject
	extra_term_text_overlord = ver_foederatus_extra_overlord
}

subject_ver_satellite_effect = {
	term = subject_ver_effects
	owner_modifier = {
		country_naval_cap_mult = 0.05
	}
	target_modifier = {
		country_naval_cap_mult = -0.5
	}

	extra_term_text_subject = ver_satellite_extra_subject
	extra_term_text_overlord = ver_satellite_extra_overlord
}

subject_ver_jrpartner_effect = {
	term = subject_ver_effects
	owner_modifier = {
		all_technology_research_speed = 0.02
	}
	target_modifier = {
		subject_tech_cost_mult = -0.85
	}

	extra_term_text_subject = ver_jrpartner_extra_subject
	# extra_term_text_overlord = ver_jrpartner_extra_overlord
}

subject_ver_dependency_effect = {
	term = subject_ver_effects
	owner_modifier = {
		country_unity_produces_mult = 0.02
	}

	extra_term_text_subject = ver_dependency_extra_subject
	extra_term_text_overlord = ver_dependency_extra_overlord
}

subject_ver_clientkingdom_effect = {
	term = subject_ver_effects
	activate_effect = {
		target = {
			save_event_target_as = chosen_subject
			overlord = { country_event = { id = veru.6400 } }
		}
	}
	owner_modifier = {
		planet_stability_add = 1
	}
	target_modifier = {
		planet_stability_add = -5
	}

	extra_term_text_subject = ver_extra_subject
	extra_term_text_overlord = ver_clientkingdom_overlord
}

subject_ver_devolved_effect = {
	term = subject_ver_effects
	overlord_resources = {
		category = subjects
		produces = {
			influence = 0.5
		}
	}
	subject_resources = {
		category = subjects
		upkeep = {
			influence = 0.5
		}
	}
	owner_modifier = {
		pop_government_ethic_attraction = 0.05
	}
	target_modifier = {
		country_naval_cap_mult = -0.5
	}

	extra_term_text_subject = ver_devolved_extra_subject
	extra_term_text_overlord = ver_devolved_extra_overlord
}

subject_ver_condo_effect = {
	term = subject_ver_effects
	owner_modifier = {
		diplo_weight_mult = 0.02
	}
	target_modifier = {
		diplo_weight_mult = -0.15
	}

	extra_term_text_subject = ver_condo_extra_subject
	extra_term_text_overlord = ver_condo_extra_overlord
}

subject_ver_puppet_effect = {
	term = subject_ver_effects
	owner_modifier = {
		pop_happiness = 0.02
	}
	target_modifier = {
		pop_happiness = -0.1
	}

	extra_term_text_subject = ver_puppet_extra_subject
	extra_term_text_overlord = ver_puppet_extra_overlord
}

subject_ver_neocolony_effect = {
	term = subject_ver_effects
	owner_modifier = {
		trade_value_mult = 0.02
	}
	target_modifier = {
		trade_value_mult = 0.1
		planet_crime_add = 30
	}

	extra_term_text_subject = ver_neocolony_extra_subject
	extra_term_text_overlord = ver_neocolony_extra_overlord
}

subject_ver_blood_effect = {
	term = subject_ver_effects

	target_modifier = {
		monthly_loyalty = -5
	}

	extra_term_text_subject = ver_blood_tax_subject
	extra_term_text_overlord = ver_blood_tax_overlord
}

subject_ver_parallel_effect = {
	term = subject_ver_effects

	owner_modifier = {
		all_technology_research_speed = 0.05
	}
	target_modifier = {
		all_technology_research_speed = 0.1
	}

	extra_term_text_subject = ver_blood_parallel_subject
	extra_term_text_overlord = ver_blood_parallel_overlord
}

subject_ver_tributary_effect = {
	term = subject_ver_effects
	activate_effect = {
		target = {
			set_timed_country_flag = { flag = new_tributary years = 10 }
		}
	}
}

subject_auto_state_effect = {
	term = subject_ver_effects
	overlord_resources = {
		category = subjects
		upkeep = {
			influence = 0.25
		}
	}

	target_modifier = {
		monthly_loyalty = -1.5
	}

	extra_term_text_overlord = autostate_extra_overlord
}

###############
# Overwritten #
###############

joins_overlord_wars_none = {
	term = joins_overlord_wars
	activate_effect = {
		set_rule_join_overlord_wars = none
	}
	deactivate_effect = {
		set_rule_join_overlord_wars = none
	}

	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_bulwark
			NOT = { agreement_preset = preset_bulwark }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_subsidiary
			NOT = { agreement_preset = preset_subsidiary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
	}
}

joins_overlord_wars_defensive = {
	term = joins_overlord_wars
	loyalty_change = -10
	ai_acceptance = {
		overlord = 60
		subject = -50
	}
	triggered_loyalty_change = {
		trigger = {
			target = { is_pacifist = yes }
		}
		loyalty_change = -10
		ai_acceptance = {
			subject = -50
		}
	}
	activate_effect = {
		set_rule_join_overlord_wars = defensive
	}
	deactivate_effect = {
		set_rule_join_overlord_wars = none
	}
	target_modifier = {
		monthly_loyalty = -1
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_satellite
			NOT = { agreement_preset = preset_ver_satellite }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
	}
}

joins_overlord_wars_offensive = {
	term = joins_overlord_wars
	loyalty_change = -20
	ai_acceptance = {
		overlord = 120
		subject = -100
	}
	triggered_loyalty_change = {
		trigger = {
			target = { is_pacifist = yes }
		}
		loyalty_change = -20
		ai_acceptance = {
			subject = -100
		}
	}
	activate_effect = {
		set_rule_join_overlord_wars = offensive
	}
	deactivate_effect = {
		set_rule_join_overlord_wars = none
	}
	target_modifier = {
		monthly_loyalty = -2
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_satellite
			NOT = { agreement_preset = preset_ver_satellite }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_jrpartner
			NOT = { agreement_preset = preset_ver_jrpartner }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_neocolony
			NOT = { agreement_preset = preset_ver_neocolony }
		}
	}
}

joins_overlord_wars_all = {
	term = joins_overlord_wars
	loyalty_change = -30
	ai_acceptance = {
		overlord = 180
		subject = -150
	}
	triggered_loyalty_change = {
		trigger = {
			target = { is_pacifist = yes }
		}
		loyalty_change = -30
		ai_acceptance = {
			subject = -150
		}
	}
	activate_effect = {
		set_rule_join_overlord_wars = all
	}
	deactivate_effect = {
		set_rule_join_overlord_wars = none
	}
	target_modifier = {
		monthly_loyalty = -3
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_satellite
			NOT = { agreement_preset = preset_ver_satellite }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_jrpartner
			NOT = { agreement_preset = preset_ver_jrpartner }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
	}
}

joins_subject_wars_none = {
	term = joins_subject_wars
	loyalty_change = -10
	ai_acceptance = {
		overlord = 60
		subject = -50
	}
	activate_effect = {
		set_rule_join_subject_wars = none
	}
	deactivate_effect = {
		set_rule_join_subject_wars = none
	}

	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_scholarium
			NOT = { agreement_preset = preset_scholarium }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_protectorate
			NOT = { agreement_preset = preset_protectorate }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_feudal_society
			NOT = { owner = { has_civic = civic_feudal_realm } }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_subsidiary
			NOT = { agreement_preset = preset_subsidiary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_organic
			NOT = { agreement_preset = preset_ver_organic }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_satellite
			NOT = { agreement_preset = preset_ver_satellite }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_blood
			NOT = { agreement_preset = preset_ver_blood }
		}
	}
}

joins_subject_wars_defensive = {
	term = joins_subject_wars
	loyalty_change = 5
	ai_acceptance = {
		overlord = -30
		subject = 10
	}
	activate_effect = {
		set_rule_join_subject_wars = defensive
	}
	deactivate_effect = {
		set_rule_join_subject_wars = none
	}
	target_modifier = {
		monthly_loyalty = 0.5
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
	}
}

joins_subject_wars_offensive = {
	term = joins_subject_wars
	loyalty_change = 10
	ai_acceptance = {
		overlord = -60
		subject = 5
	}
	activate_effect = {
		set_rule_join_subject_wars = offensive
	}
	deactivate_effect = {
		set_rule_join_subject_wars = none
	}
	target_modifier = {
		monthly_loyalty = 1
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_scholarium
			NOT = { agreement_preset = preset_scholarium }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_protectorate
			NOT = { agreement_preset = preset_protectorate }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_organic
			NOT = { agreement_preset = preset_ver_organic }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_satellite
			NOT = { agreement_preset = preset_ver_satellite }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_puppet
			NOT = { agreement_preset = preset_ver_puppet }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_neocolony
			NOT = { agreement_preset = preset_ver_neocolony }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_blood
			NOT = { agreement_preset = preset_ver_blood }
		}
	}
}

joins_subject_wars_all = {
	term = joins_subject_wars
	loyalty_change = 15
	ai_acceptance = {
		overlord = -90
		subject = 15
	}
	activate_effect = {
		set_rule_join_subject_wars = all
	}
	deactivate_effect = {
		set_rule_join_subject_wars = none
	}
	target_modifier = {
		monthly_loyalty = 1.5
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_organic
			NOT = { agreement_preset = preset_ver_organic }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_satellite
			NOT = { agreement_preset = preset_ver_satellite }
		}
	}
}

subject_can_be_integrated = {
	term = subject_integration
	loyalty_change = -50
	ai_acceptance = {
		overlord = 300
		subject = -250
	}
	activate_effect = {
		set_rule_can_subject_be_integrated = yes
	}
	target_modifier = {
		monthly_loyalty = -4
	}

	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_bulwark
			NOT = { agreement_preset = preset_bulwark }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_scholarium
			NOT = { agreement_preset = preset_scholarium }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_prospectorium
			NOT = { agreement_preset = preset_prospectorium }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_megacorp
			owner = { is_megacorp = no }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_galcom_resolution
			not_allowed_for_galcom_resolution_trigger = { RESOLUTION = resolution_intergalacticdirective_ensured_sovereignty }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_organic
			NOT = { agreement_preset = preset_ver_organic }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
	}
}

subject_can_not_be_integrated = {
	term = subject_integration
	loyalty_change = 5
	ai_acceptance = {
		overlord = -30
		subject = 0
	}
	activate_effect = {
		set_rule_can_subject_be_integrated = no
	}
	target_modifier = {
		monthly_loyalty = 0.5
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_ver_appendage
			NOT = { agreement_preset = preset_ver_appendage }
		}
	}
}

subject_can_not_do_diplomacy = {
	term = subject_diplomacy
	loyalty_change = -15
	ai_acceptance = {
		overlord = 90
		subject = -75
	}
	activate_effect = {
		set_rule_can_subject_vote = no
		set_rule_can_subject_do_diplomacy = no
	}
	target_modifier = {
		monthly_loyalty = -1
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_feudal_society
			NOT = { owner = { has_civic = civic_feudal_realm } }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_franchising
			NOT = { owner = { has_civic = civic_franchising } }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_subsidiary
			NOT = { agreement_preset = preset_subsidiary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_galcom_resolution
			not_allowed_for_galcom_resolution_trigger = { RESOLUTION = resolution_intergalacticdirective_a_voice_for_all }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
	}
}

subject_can_do_diplomacy_but_not_vote = {
	term = subject_diplomacy
	loyalty_change = -5
	ai_acceptance = {
		overlord = 30
		subject = -25
	}
	activate_effect = {
		set_rule_can_subject_vote = no
		set_rule_can_subject_do_diplomacy = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			if = {
				limit = {
					NOR = {
						AND = {
							owner = { is_galactic_community_member = yes }
							target = { is_galactic_community_member = yes }
							is_active_resolution = resolution_bureaucraticsurveillance_personal_oversight
						}
						AND = {
							owner = { is_galactic_community_member = yes }
							target = { is_galactic_community_member = yes }
							is_active_resolution = resolution_intergalacticdirective_a_voice_for_all
						}
					}
				}
				NOT = { agreement_preset = preset_tributary }
			}
		}
		custom_tooltip = {
			fail_text = not_allowed_for_fanatic_purifiers
			if = {
				limit = {
					NOR = {
						AND = {
							owner = { is_galactic_community_member = yes }
							target = { is_galactic_community_member = yes }
							is_active_resolution = resolution_bureaucraticsurveillance_personal_oversight
						}
						AND = {
							owner = { is_galactic_community_member = yes }
							target = { is_galactic_community_member = yes }
							is_active_resolution = resolution_intergalacticdirective_a_voice_for_all
						}
					}
				}
				NOT = { target = { has_civic = civic_fanatic_purifiers } }
			}
		}
		custom_tooltip = {
			fail_text = not_allowed_for_devouring_swarm
			if = {
				limit = {
					NOR = {
						AND = {
							owner = { is_galactic_community_member = yes }
							target = { is_galactic_community_member = yes }
							is_active_resolution = resolution_bureaucraticsurveillance_personal_oversight
						}
						AND = {
							owner = { is_galactic_community_member = yes }
							target = { is_galactic_community_member = yes }
							is_active_resolution = resolution_intergalacticdirective_a_voice_for_all
						}
					}
				}
				NOT = { target = { has_civic = civic_hive_devouring_swarm } }
			}
		}
		custom_tooltip = {
			fail_text = not_allowed_for_machine_terminator
			if = {
				limit = {
					NOR = {
						AND = {
							owner = { is_galactic_community_member = yes }
							target = { is_galactic_community_member = yes }
							is_active_resolution = resolution_bureaucraticsurveillance_personal_oversight
						}
						AND = {
							owner = { is_galactic_community_member = yes }
							target = { is_galactic_community_member = yes }
							is_active_resolution = resolution_intergalacticdirective_a_voice_for_all
						}
					}
				}
				NOT = { target = { has_civic = civic_machine_terminator } }
			}
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_organic
			NOT = { agreement_preset = preset_ver_organic }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_parallel
			NOT = { agreement_preset = preset_ver_parallel }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_satellite
			NOT = { agreement_preset = preset_ver_satellite }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_puppet
			NOT = { agreement_preset = preset_ver_puppet }
		}
	}
}

subject_can_do_diplomacy = {
	term = subject_diplomacy
	loyalty_change = 5
	ai_acceptance = {
		overlord = -30
		subject = 0
	}
	activate_effect = {
		set_rule_can_subject_vote = yes
		set_rule_can_subject_do_diplomacy = yes
	}
	target_modifier = {
		monthly_loyalty = 0.5
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_galcom_resolution
			not_allowed_for_galcom_resolution_trigger = { RESOLUTION = resolution_bureaucraticsurveillance_personal_oversight }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_organic
			NOT = { agreement_preset = preset_ver_organic }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_parallel
			NOT = { agreement_preset = preset_ver_parallel }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_satellite
			NOT = { agreement_preset = preset_ver_satellite }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_puppet
			NOT = { agreement_preset = preset_ver_puppet }
		}
	}
}

subject_cannot_expand = {
	term = subject_expand
	loyalty_change = -15
	ai_acceptance = {
		overlord = 90
		subject = -75
	}
	activate_effect = {
		set_rule_can_subject_expand = cannot_expand
	}
	target_modifier = {
		monthly_loyalty = -1
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_bulwark
			NOT = { agreement_preset = preset_bulwark }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_scholarium
			NOT = { agreement_preset = preset_scholarium }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_prospectorium
			NOT = { agreement_preset = preset_prospectorium }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_subsidiary
			NOT = { agreement_preset = preset_subsidiary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_feudal_society
			NOT = { owner = { has_civic = civic_feudal_realm } }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_franchising
			NOT = { owner = { has_civic = civic_franchising } }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_satellite
			NOT = { agreement_preset = preset_ver_satellite }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
	}
}

subject_can_expand_with_tithe = {
	loyalty_change = -5
	ai_acceptance = {
		overlord = 30
		subject = -25
	}
	term = subject_expand
	activate_effect = {
		set_rule_can_subject_expand = can_expand_with_tithe
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
	}
}

subject_can_expand = {
	term = subject_expand
	loyalty_change = 5
	ai_acceptance = {
		overlord = -30
		subject = 0
	}
	activate_effect = {
		set_rule_can_subject_expand = can_expand
	}
	target_modifier = {
		monthly_loyalty = 0.5
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_imperial_fiefdom
			if = {
				limit = {
					NAND = {
						owner = { is_galactic_community_member = yes }
						target = { is_galactic_community_member = yes }
						is_active_resolution = resolution_intergalacticdirective_a_voice_for_all
					}
				}
				NOT = { owner = { has_ai_personality = imperial_origin_overlord_ai } }
			}
		}
	}
}

subject_holdings_limit_1 = {
	term = subject_holdings_limit
	loyalty_change = -5
	ai_acceptance = {
		overlord = 30
		subject = -25
	}
	target_modifier = {
		monthly_loyalty = -0.4
		planet_max_subject_holding_buildings_add = 1
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
	}
}

subject_holdings_limit_2 = {
	term = subject_holdings_limit
	loyalty_change = -15
	ai_acceptance = {
		overlord = 90
		subject = -75
	}
	target_modifier = {
		monthly_loyalty = -1
		planet_max_subject_holding_buildings_add = 2
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
	}
	potential = {
		has_overlord_dlc = yes
	}
}

subject_holdings_limit_3 = {
	term = subject_holdings_limit
	loyalty_change = -30
	ai_acceptance = {
		overlord = 180
		subject = -150
	}
	target_modifier = {
		monthly_loyalty = -2
		planet_max_subject_holding_buildings_add = 3
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_galcom_resolution
			OR = {
				owner = { is_galactic_community_member = no }
				NOT = { is_active_resolution = resolution_bureaucraticsurveillance_personal_oversight }
			}
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
	}
	potential = {
		has_overlord_dlc = yes
	}
}

subject_holdings_limit_4 = {
	term = subject_holdings_limit
	loyalty_change = -50
	ai_acceptance = {
		overlord = 300
		subject = -250
	}
	target_modifier = {
		monthly_loyalty = -4
		planet_max_subject_holding_buildings_add = 4
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			NOT = { agreement_preset = preset_tributary }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_galcom_resolution
			OR = {
				owner = { is_galactic_community_member = no }
				NOT = { is_active_resolution = resolution_bureaucraticsurveillance_borderless_authority }
			}
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_devolved
			NOT = { agreement_preset = preset_ver_devolved }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_condo
			NOT = { agreement_preset = preset_ver_condo }
		}
	}
	potential = {
		has_overlord_dlc = yes
	}
}

subject_does_not_get_sensors = {
	term = subject_sensors
	loyalty_change = -5
	ai_acceptance = {
		overlord = 30
		subject = -25
	}
	activate_effect = {
		set_rule_subject_has_sensors = no
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_franchising
			NOT = {
				owner = { has_civic = civic_franchising }
			}
		}
		custom_tooltip = {
			fail_text = not_allowed_for_galcom_resolution
			not_allowed_for_galcom_resolution_trigger = { RESOLUTION = resolution_bureaucraticsurveillance_borderless_authority }
		}
		custom_tooltip = {
			fail_text = not_allowed_for_ver_foederatus
			NOT = { agreement_preset = preset_ver_foederatus }
		}
	}
}

subject_gets_sensors = {
	term = subject_sensors
	loyalty_change = 5
	ai_acceptance = {
		overlord = -30
		subject = 5
	}
	activate_effect = {
		set_rule_subject_has_sensors = yes
	}
	target_modifier = {
		monthly_loyalty = 0.5
	}
	possible = {
		custom_tooltip = {
			fail_text = not_allowed_for_tributary
			if = {
				limit = {
					NAND = {
						owner = { is_galactic_community_member = yes }
						target = { is_galactic_community_member = yes }
						is_active_resolution = resolution_bureaucraticsurveillance_borderless_authority
					}
				}
				NOT = { agreement_preset = preset_tributary }
			}
		}
		custom_tooltip = {
			fail_text = not_allowed_for_auto_state
			NOT = { agreement_preset = preset_auto_state }
		}
	}
}

subject_loyalty_effects = {
	term = subject_loyalty

	potential = {
		NOT = { agreement_preset = preset_auto_state }
	}

	activate_effect = {
		target = { save_event_target_as = new_subject }
		owner = {
			refresh_subject_count_loyalty_penalty = yes
			every_spynetwork = {
				limit = {
					target = { is_same_value = event_target:new_subject }
					NOT = { has_modifier = domestic_intelligence }
				}
				add_modifier = { modifier = domestic_intelligence }
			}
		}
		target = {
			add_ethics_compatibility_modifier = yes
			every_spynetwork = {
				limit = {
					target = { is_same_value = PREVPREV.overlord }
					NOT = { has_modifier = domestic_intelligence }
				}
				add_modifier = { modifier = domestic_intelligence }
			}
		}
		if = {
			limit = { owner = { has_civic = civic_feudal_realm } }
			target = {
				add_modifier = { modifier = feudal_lord }
			}
		}
		else_if = {
			limit = { owner = { has_civic = civic_franchising } }
			target = {
				add_modifier = { modifier = corporate_franchise }
			}
		}
		if = {
			limit = {
				target = { is_galactic_community_member = yes }
				OR = {
					is_active_resolution = resolution_bureaucraticsurveillance_administrative_insight
					is_active_resolution = resolution_bureaucraticsurveillance_borderless_authority
					is_active_resolution = resolution_bureaucraticsurveillance_personal_oversight
				}
			}
			target = { galcom_subject_ethic_modifier_effect = yes }
		}
	}

	deactivate_effect = {
		target = { save_event_target_as = leaving_subject }
		owner = {
			refresh_subject_count_loyalty_penalty = yes
			every_spynetwork = {
				limit = { target = { is_same_value = event_target:leaving_subject } }
				erase_modifier = { MOD = domestic_intelligence }
			}
			save_event_target_as = current_overlord
		}
		target = {
			every_spynetwork = {
				limit = { target = { is_same_value = event_target:current_overlord } }
				erase_modifier = { MOD = domestic_intelligence }
			}
			erase_modifier = { MOD = corporate_franchise }
			erase_modifier = { MOD = feudal_lord }
			erase_modifier = { MOD = divided_patronage }
			erase_modifier = { MOD = overlord_ethics_compatibility }
			erase_modifier = { MOD = newly_released_sector_loyalty }
			erase_modifier = { MOD = newly_subjugated_loyalty }
		}
		target = { galcom_subject_remove_ethic_modifier_effect = yes }
	}
}

#####

naval_cap_unmodified = {
	term = naval_capacity
	possible = {
		NOR = {
			agreement_preset = preset_satrapy
			agreement_preset = preset_relic_satrapy
			agreement_preset = preset_ver_condo
			agreement_preset = preset_auto_state
		}
	}

	target_modifier = {
		diplo_weight_mult = -0.5
	}

	extra_term_text_subject = loyalty_effects_subject
}

###############

resource_subsidies_basic = {
	term = NONE
	resources = {
		energy
		minerals
		food
	}

	potential = { always = no }
}

resource_subsidies_advanced = {
	term = NONE

	resources = {
		alloys
		consumer_goods
	}

	potential = { always = no }
}

resource_subsidies_research = {
	term = none

	resources = {
		physics_research
		society_research
		engineering_research
	}

	potential = { always = no }
}

resource_subsidies_strategic = {
	term = NONE
	resources = {
		volatile_motes
		exotic_gases
		rare_crystals
	}
	potential = { always = no }
}