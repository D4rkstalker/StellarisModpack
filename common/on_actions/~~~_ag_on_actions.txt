
# Checked when game started
# No Scope
on_game_start = {
	events = {
		ag_ancient.1				# Set Ancient Empire Mod's global flag
	}
}

# Checked when game started
# Country Scope
on_game_start_country = {
	events = {
		ag_settings.1				# Settings spwaned when game started, for the first non-ai country only.
	}
}

# Checked every months
# No Scope
on_monthly_pulse = {
	events = {
		ag_ancient.5				# Set flags for fleet with ancient ship make them could special orbital bombardment stance
		ag_spawn.21					# Check megastructures flag
		ag_gamma.116				# Failsafe for unexpected bugs or events make ancient fleet stoped
		ag_zeta_crisis.51			# Shroud Invaders' Support Ships create new ships if any ship killed
		ag_zeta_crisis.536			# System's variable for Psionic Singularity decrease every month
		ag_zeta_crisis.54			# Debuff for colonies if Psionic Entities in system
		ag_zeta_crisis.91			# Failsafe for unexpected bugs or events make Shroud Invaders' fleet stoped
		ag_zeta_crisis.1010			# Failsafe event for portal owner swap.
		ag_theta.50					# Triggers for Starfish's fleet invasion
		ag_theta.66					# Failsafe for unexpected bugs or events make Starfish's fleet stoped
		ag_eta.36					# Failsafe for ancient ship stoped for unknown reasons.
		ag_eta.2003					# Reset gateway'sowner
		ag_iota.61					# Checks deals could exists or not.
		ag_wanderer.42				# Failsafe for unexpected bugs or events make wandering ship stoped
		ag_side.11					# Gatekeeper, spawn ancient ship within border
	}
}

# Checked every years
# No Scope
on_yearly_pulse = {
	events = {
		ag_ancient.2				# Count Construction Sections
		ag_spawn.11					# Spawn systems
		ag_epsilon.70				# Failsafe for unexpected bugs or events make Epsilon Titan stoped.
		ag_eta.1025					# Clear event target if no control station
		ag_zeta.40					# Failsafe for Zeta Installation Defensive System Destroyed but ag_zeta.35 didn't fired correctly for any reason
		ag_zeta_crisis.1033			# Destroy Shroud Invaders with less than 25 ships
		ag_theta.151				# Failsafe for starfish's ships destroyed for unknown reason.
		ag_wanderer.11				# Find Riikinak Empire's colony
		ag_side.1					# Gatekeeper of side events expect Starlight II
	}
}

# Checked every 2 years
# No Scope
on_bi_yearly_pulse = {
	events = {
		ag_beta.53					# Checks if system flag need to be remove
		ag_beta.105					# Failsase event for ancient relay station destroyed for unknown reason, end event chain
	}
}

# Checked every months for every country
# Country Scope
on_yearly_pulse_country = {
	events = {
		ag_ancient_knowledge.22		# Ancient Knowledge from iota enclave.
	}
}

# Checked every 1 ~ 2 years
# Country Scope, on global_event_country, fire for every playable country.
ag_on_yearly_pluse_country_random = {
	events = {
		ag_ancient.4				# Delayed ships unlock
		ag_ancient.13				# Technology check
		ag_alpha.61					# Gain tech option after constructed research station.
		ag_zeta_crisis.201			# Spawn Psi Installation Defensive System if Shroud Invaders controlled too many planets
		ag_eta.170					# Ancient gateway special functions.
		ag_theta.40					# Give Special Project to repair Starfish's Prototype Ship
		ag_theta.410				# Give Starfish pop to player who don't want to invade preserved areas.
		ag_side.340					# Repair action aviliable when researched enough technologies
		ag_side.45					# Remove Starlight-II country if ship doesn't exists
		# Reward situations.
		ag_alpha.130
		ag_beta.174
		ag_gamma.174
		ag_delta.80
		ag_epsilon.150
		ag_eta.180
	}
}

# Checked when a country has increased the level of a tech, use last_increased_tech trigger to check tech and level.
# Country Scope, the country that research a technology
on_tech_increased = {
	events = {
		# ag_ancient.11				# Gravity/Psionic Weapon's Technologies' Gateway
		ag_ancient.12				# Give construction designs
		ag_ancient.1250				# Researched ancient tech
		ag_ancient.1260				# Leader Trait effect.
		ag_research.6				# Research buffs
		ag_alpha.34					# Noti: Researched psi container.
		# ag_alpha.62					# Researched psi control theory.
		ag_alpha.66					# Tech effect, colony ascension buff.
		ag_beta.43					# Set country flag if researched technology without flag
		ag_beta.44					# Psionic Inhibition Platforms are available for construction
		ag_beta.45					# Give Special Project to find Psionic Sources
		ag_beta.1311				# Researched ancient station
		ag_gamma.141				# For compatibility.
		ag_delta.420				# Ancient Turrets are available for construction
		ag_epsilon.72				# Notification for researched psionic beacon.
		ag_epsilon.75				# Notification for researched suppression station
		ag_eta.1051					# Ancient Gateway Frames are available for construction
		# ag_theta.21					# Gives Special Project to unlock ancient shield
		ag_wanderer.64				# Researched technology, notification to upgrade anchor station
		ag_side.509					# Research auto starbase technology, show notification
		ag_interaction.114
	}
}

# Checked when ship has surveyed a planet.
# Ship Scope, the ship that surveyed planet
# From(Planet Scope): The planet be surveyed
on_survey = {
	events = {
		ag_primitive.31				# Scanned 4762 Preserved World
		ag_primitive.32				# Scanned Shielded World
		ag_primitive.71				# Scanned 5524 Preserved World
		ag_primitive.121			# Scanned 9102 Preserved World
		ag_alpha.3					# Notification, survey shrouded ringworld.
		ag_alpha.4					# Notification, survey normal ringworld.
		ag_theta.2					# Enable special project for the ancient station
		ag_theta.5					# Give situation of ancient shields
		ag_side.221					# Surveyed Beacon of Prosperity, add archaeological site
		ag_side.222					# Surveyed Beacon of Prosperity, add archaeological site
		ag_side.351					# Survey planet, begins countdown.
		ag_side.401					# Survey planet, found ancient habitat
		ag_side.471					# Discovered ship in gas giant.
	}
}

# A country has gained a surveyed status on a planet. Happens after "on_survey" if a science ship surveyed a planet.
# Root = Country
# From = system
# FromFrom = Science ship that surveyed it, if any(Ship Scope)
on_system_survey = {
	events = {
		ag_ancient.1206				# Auto build Starbases
		ag_ancient_knowledge.21		# Gain Ancient Knowledge on survey ancient systems
	}
}

# Checked when a fkeet entered a system
# Fleet Scope, the fleet that just entered system
# From(System Scope): The system be entered by the fleet
on_entering_system_fleet = {
	events = {
		ag_ancient.1053				# Stop cloaking in special cases.
		
		ag_primitive.301			# Notification for entering 4762 Preserved World's neighbor system
		ag_primitive.302			# Notification for entering 4762 Preserved World's system
		ag_primitive.701			# Notification for entering 5524 Preserved World's system
		ag_primitive.1201			# Notification for entering 9102 Preserved World's system
		
		ag_alpha.2					# Notification for entering the Alpha Area first time
		ag_alpha.60					# Notification for entering the Psionic RIngworld Ssytem first time
		ag_alpha.70					# Notification for entering the Psionic Conduit System first time

		ag_beta.2					# Notification for entering the Beta Area first time
		ag_beta.71					# Notification for entering ancient signal station system first time
		ag_beta.72					# Notification for entering ancient signal station system
		ag_beta.73					# Notification for entering ancient signal station system, but other has triggered its defensive system
		ag_beta.74					# Notification for entering ancient signal station system, but other has destroyed it
		ag_beta.152					# Psionic Station's system effect
		
		ag_gamma.2					# Notification for entering the Gamma Area first time
		
		ag_delta.2					# Notification for entering the Delta Area first time
		ag_delta.21					# Notification for entering the Delta Area first time(Actived turrets in system)

		ag_epsilon.2				# Notification for entering the Epsilon Area first time
		ag_epsilon.622				# Ancient titan actions: planetary bombardment
		ag_epsilon.624				# Ancient titan disable cloaking.

		ag_eta.2					# Notification for entering the Eta Area first time
		
		ag_zeta.2					# Notification for entering the Zeta Area first time
		ag_zeta.5					# Zeta Installation Defensive System turn into a hostile faction if player's ship entered the Zeta Area again
		
		ag_zeta_crisis.1			# Give debuff to those ships enter Zeta Area before crisis appears
		ag_zeta_crisis.52			# Spawn Psionic Storm when too many avatars in a system
		ag_zeta_crisis.61			# Shroud Invaders Action, attack planet in same system
		ag_zeta_crisis.82			# Shroud Invaders Action, Construction Ship check its order when entering system
		ag_zeta_crisis.402			# Fleet takes damage when entering system with a Psionic Storm
		ag_zeta_crisis.422			# Merge avaters' fleet

		ag_eta.34					# Ancient ship system effect
		
		ag_theta.1					# Notification for entering the Theta Area

		ag_iota.2					# Notification for entering the Iota Area first time

		ag_wanderer.1				# Notification for encounter anchor station
		ag_wanderer.2				# Notification for encounter anchor station
		ag_wanderer.3				# Notification for encounter anchor station
		ag_wanderer.36				# Delayed notification for wandering ship
		ag_wanderer.43				# Hostile to Shroud Invaders when entering their systems
		ag_wanderer.45				# Update trackers
		
		ag_side.33					# Change ftl drive after ftl action if didn't be repaired
		ag_side.211					# Notification for entering system
	}
}

# Checked when a fkeet arrived its auto_move_to_planet target ( Will be constantly checked )
# Country Scope, for fleet owner
# From: Fleet
# FromFrom: planet ( if exist )
on_fleet_auto_move_arrival = {
	events = {
		ag_gamma.29					# Reset target when ancient fleet orbiting stars
		ag_epsilon.621				# Ancient titan actions: planetary bombardment/return to epsilon area
		ag_zeta_crisis.63			# Shroud Invaders Action, reset target when orbiting stars
		ag_eta.32					# Eta titan action, found planet to orbit.
		ag_theta.65					# Reset target when Starfish's fleet orbiting stars
		ag_wanderer.41				# Wandering ship arrives its target
		ag_side.15					# Ancient ship entering a gas giant's orbit
		ag_side.381					# Ancient ship attacks guardians
	}
}

# Fired whenever a new owner is set for a planet,
# be it after a war or through a trade
# FromFrom = Former Owner (if any)
# From = Country scope (new owner)
# This = Planet scope
on_planet_transfer = {
	events = {
		ag_alpha.67					# Tech effect, colony ascension buff.
	}
}

# Checked when a building upgraded
# Planet Scope, where the building located
on_building_upgraded = {
	events = {
		ag_alpha.17					# Gain ancient ship.
		ag_alpha.67					# Tech effect, colony ascension buff.
		ag_gamma.15					# Upgraded Ancient Tower
		ag_epsilon.13				# Upgraded Fallen Empire Research Station
	}
}

# Checked when a building's construction completed, won't be checked if this building replaced another building
# Planet Scope, where the building located
on_building_complete = {
	events = {
		ag_ancient.85				# Build ancient fortress, set variable.
		ag_ancient.86				# Destroy ancient fortress, clear variable.
		ag_side.42					# Notification, ancient ship disappeared when building finished
		ag_side.160					# Dimensional_obelisk default settings
		ag_zeta_psionics.1063				# Build eerie obelisk.
	}
}

# Checked when a building's construction completed, only be checked if this building replaced another building
# Planet Scope, where the building located
on_building_replaced = {
	events = {
		ag_ancient.85				# Build ancient fortress, set variable.
		ag_ancient.86				# Destroy ancient fortress, clear variable.
		ag_side.42					# Notification, ancient ship disappeared when building finished
		ag_side.160					# Dimensional_obelisk default settings
		ag_zeta_psionics.1063				# Build eerie obelisk.
	}
}

# A building construction has demolished.
# This = Planet
on_building_demolished = {
	events = {
		ag_ancient.86				# Destroy ancient fortress, clear variable.
	}
}

# Checked when a ship built
# Ship Scope, the ship just be built
# From(Starbase/Megastructure Scope): Shipyard built the ship
on_ship_built = {
	events = {
		ag_ancient.3				# Move construction sections
		ag_ancient.35				# Difficulty Modifier for buildable ancient ships
		ag_ancient.92				# Ship extra life effect.
		ag_ancient.1203				# Science constructor component effects
		ag_ancient_knowledge.27		# Gain Ancient Knowledge from building ancient ships
		ag_alpha.35					# Noti: Build psi container.
		ag_beta.51					# Spawn Psionic Inhibitor Platform platform in system
		ag_beta.133					# Spawn Ancient Relay Station in system
		ag_gamma.161				# Build gamma station's extra shipyards
		ag_delta.77					# Set fleet flag for turrets
		ag_eta.171					# Build first ancient gateway, give research project.
		ag_eta.1002					# Build ancient gateway frame
		ag_zeta_crisis.421			# Building psionic containers
	}
}
# A ship has been upgraded
# Root = Ship
on_ship_upgraded = {
	events = {
		ag_ancient.92				# Ship extra life effect.
		ag_ancient.1203				# Science constructor component effects
	}
}

# Checked when a ship be destroyed, on loser's country
# Country Scope, owner of the destroyed ship
# From(Country Scope), owner of the ship which destroyed another ship
# FromFrom(Ship Scope), the ship be destroyed
# FromFromFrom(Ship Scope), the ship which destroyed another ship
on_ship_destroyed_victim = {
	events = {
		ag_ancient.2004				# Undestructable ship destroyed for unknown reason.
		ag_ancient.2201				# Remove fleet variable when ship destroyed.
		ag_ancient.2300				# Common combat events entry.
		
		ag_subsystem.21				# Structural Protection System

		ag_primitive.139			# Destroy ancient drones
		ag_primitive.151			# Give special project to research monitor system's weakness if lost too many ships
		
		ag_alpha.20					# Ancient ship disappear if kill any ship/killed by other.
		ag_alpha.36					# Psionic Container breaks.
		ag_alpha.93					# Research weakness if lost too many ships, fallen empire defensive system.

		ag_beta.84					# Destroy Ancient Relay Station
		ag_beta.111					# Give Beta Installation Defensive System's weakness research project if player lost too many ships
		ag_beta.114					# Give Ancient Signal Station Defensive System's weakness research project if player lost too many ships
		
		ag_gamma.60					# Give Gamma Installation Defensive System's weakness research project if player lost too many ships
		ag_gamma.111				# Player's Ancient Station destroyed
		ag_gamma.115				# Counter for ancient fleets' ships killed
		
		ag_delta.22					# All turrets in Delta Area destroyed
		ag_delta.35					# Give Delta Installation Defensive System's weakness research project if player lost too many ships
		ag_delta.47					# Ancient Drones destroyed

		ag_epsilon.69				# Ancient titan destroy psionic beacon, reset target.
		ag_epsilon.81				# Research weakness if lost too many ships, fallen empire defensive system.
		ag_epsilon.84				# Research weakness if lost too many ships, obelisk.
		ag_epsilon.87				# Research weakness if lost too many ships, ancient titan.
		ag_epsilon.135				# Remove firing flag if ship destroyed.
		
		ag_zeta.35					# Zeta Installation Defensive System Destroyed
		ag_zeta.41					# Give Zeta Installation Defensive System's weakness research project if player lost too many ships

		ag_eta.121					# Give eta ship's weakness research project if player lost too many ships
		ag_eta.124					# Give gateway guardian's weakness research project if player lost too many ships
		ag_eta.2004					# Destroy a starbase, remove particle effect.
		
		ag_zeta_crisis.32			# Counter for Shroud Invaders' ships killed
		ag_zeta_crisis.35			# Give Shroud Invaders' weakness research project if player lost too many ships
		ag_zeta_crisis.43			# Shroud Invaders' ships split when destroyed
		ag_zeta_crisis.461			# Shroud Invaders' defensive platform tries to rebuilt when destroyed
		ag_zeta_crisis.534			# Psionic Singularity explode
		ag_zeta_crisis.64			# Shroud Invaders Action, move to support friendly if neighbor starbase destroyed
		ag_zeta_crisis.66			# Shroud Invaders Action, Construction Ship's protector find a new target if Construction Ship destroyed
		ag_zeta_crisis.101			# Switch owner of Psionic Portal if all nearby starbase destroyed
		ag_zeta_crisis.316			# Psionic Singularity exploded if it was killed
		ag_zeta_crisis.317			# Psionic Container destroyed, spawn some hostile psionic entities
		ag_zeta_crisis.441			# Shroud Invaders' special ship respawn.
		ag_zeta_psionics.35			# Destroyed psionic science ship.

		ag_theta.91					# Give Starfish fleet's weakness research project if player lost too many ships

		ag_iota.73					# Enclave destroyed

		ag_wanderer.81				# Wandering ship destroyed
		ag_wanderer.91				# Give wandering ship's weakness research project if player lost too many ships
		ag_wanderer.94				# Give anchor station's weakness research project if player lost too many ships

		ag_side.358					# Research weakness if lost too many ships, molten planet ships.
	}
}

# Checked when a ship be destroyed, on winner's country
# Country Scope, owner of the ship which destroyed another ship
# From(Country Scope), owner of the destroyed ship
# FromFrom(Ship Scope), the ship which destroyed another ship
# FromFromFrom(Ship Scope), the ship be destroyed
on_ship_destroyed_perp = {
	events = {
		ag_ancient.41				# Small chance for special technologies when destroy ancient ships
		ag_ancient.102				# Remove primary weapon power
		ag_ancient.1100				# Space mine field effect
		ag_ancient.2200				# Common combat events entry.
		
		ag_subsystem.100			# Gain Zro from destroy ships via alpha psi weapon

		ag_alpha.92					# Destroy psionic ships, alpha event ended.

		ag_beta.79					# Ancient Signal Station destroyed, enable special project for its killer
		
		ag_gamma.40					# Deployed small station destroyed
		ag_gamma.46					# Small station destroyed before it could deploy
		ag_gamma.50					# Ancient Station destroyed
		ag_gamma.53					# All Ancient Ship destroyed
		ag_gamma.114				# Counter for ships destroyed by ancient fleets
		
		ag_delta.71					# Ancient Titan's ability
		
		ag_epsilon.3				# Destroy Defensive Stations, give special projects to unlock ringworlds.
		
		ag_zeta_crisis.31			# Counter for ships destroyed by Shroud Invaders
		ag_zeta_crisis.41			# Shroud Invaders create avaters when destroy other ships
		ag_zeta_crisis.53			# Spawn Psionic Singularity if too many ships killed in a system
		ag_zeta_crisis.204			# Psi Installation Defensive System's counter for Shroud Invaders' ship killed by others
		ag_zeta_crisis.455			# Remove Shroud Invaders' special ship after one kill.

		ag_eta.91					# Counter for ships destroyed by eta titans

		ag_wanderer.72				# Destroy Anchor Station

		ag_side.357					# Destroy ancient fleet, give technology.
	}
}

# Checked when a fleet be destroyed, on loser's country
# Country Scope, owner of the destroyed fleet
# From(Country Scope), owner of the fleet which destroyed another fleet
# FromFrom(Fleet Scope), the fleet be destroyed
# FromFromFrom(Fleet Scope), the fleet which destroyed another fleet
on_fleet_destroyed_victim = {
	events = {
		ag_wanderer.53				# Notification: Wandering ship is invincible befor anchor station deactivated
		ag_side.14					# Lost space battle, remove ancient ship
	}
}

# Checked when a fleet be destroyed, on winner's country
# Country Scope, owner of the fleet which destroyed another fleet
# From(Country Scope), owner of the destroyed fleet
# FromFrom(Fleet Scope), the fleet which destroyed another fleet
# FromFromFrom(Fleet Scope), the fleet be destroyed
on_fleet_destroyed_perp = {
	events = {
		ag_primitive.106			# Primitive fleet destroyed
		ag_gamma.28					# Reset ancient fleet's target after battle
		ag_zeta_crisis.62			# Shroud Invaders Action, reset target after battle
		ag_zeta_crisis.103			# End crisis when all psionic entities destroyed
		ag_theta.71					# A Starfish's fleet destroyed
		ag_side.13					# Destroy ancient ship
	}
}

# Checked when two fleet entering battle
# Country Scope, owner of the first fleet
# From(Country Scope), owner of the second fleet
# FromFrom(Fleet Scope), the first fleet
# FromFromFrom(Fleet Scope), the second fleet
on_entering_battle = {
	events = {
		ag_ancient.2100				# Common combat events entry
		ag_research.5				# Enters battle, end research project
		ag_subsystem.34				# Gamma Station Drones Spawn
		ag_subsystem.51				# Auxiliary Energy System
		ag_subsystem.52				# Computing Network
		ag_subsystem.53				# Auto deployment
		ag_subsystem.71				# Titans' Abilities
		ag_delta.15					# Attacked Ancient Turret
		ag_zeta.6					# Zeta Installation Defensive System turn into a hostile faction if player's ship attacked it
		ag_zeta_crisis.65			# Shroud Invaders Action, move to support friendly if nearby portal underattack
		ag_zeta_crisis.2043			# Psi Installation Defensive System recall ships if player attacked unauthorized targets
		ag_zeta_crisis.412			# Debuff for ancient ships
		ag_zeta_crisis.431			# Fleet leader's skill
		ag_eta.51					# Attack ancient ship, ancient ship's ability.
		ag_iota.71					# Attacked Enclave
	}
}

# This(Starbase Scope, fire starbase_event), starbase being destroyed
# From(Fleet Scope), fleet that destroyed the starbase
on_starbase_destroyed = {
	events = {
		ag_zeta_crisis.92			# Destroy starbase, create new starbase
		# ag_eta.190					# Destroy starbase, create new starbase
	}
}

# A planet has begun the colonization process.
# Planet Scope
# From(Ship Scope), colony ship.
on_colonization_started = {
	events = {
		ag_ancient.81				# Advanced colonizer setup event.
		ag_zeta_crisis.300			# Colonize shrouded planet.
	}
}

# Checked when a new colony established, won't checked if player uses "own" command
# Planet Scope
on_colonized = {
	events = {
		ag_ancient.82				# Advanced colonizer setup event.
		ag_primitive.46				# Failsafe Event for 4762 Preserved Area
		ag_primitive.116			# Failsafe Event for 5524 Preserved Area
		ag_alpha.18					# Colonized Alpha Area's ringworld, failsafe
		ag_alpha.100					# Colonize stabled ringworlds after event ended.
		ag_beta.4					# Colonized Beta Area's ringworld
		ag_gamma.10					# Colonized Gamma Area's ringworld
		ag_delta.40					# Colonized Delta Area's ringworld
		ag_epsilon.6				# Colonize Epsilon Area's ringworld, notification for remove blocker.
		ag_zeta_crisis.301			# Create Relic archaeology site
		ag_eta.143					# Colonized Eta Area's ringworld
		ag_theta.111				# Colonized Theta Area's ringworld
		ag_side.403					# Colonized fallen habitat
	}
}

# Fired whenever a new owner is set for a planet,
# be it after a war or through a trade
# From = Country scope (new owner)
# This = Planet scope
on_planet_transfer = {
	events = {
		ag_primitive.45				# Failsafe Event for 4762 Preserved Area
		ag_primitive.115			# Failsafe Event for 5524 Preserved Area
		ag_side.404					# Occupied fallen habitat.
	}
}

# Checked when ship arrived a system by jump
# Ship Scope, ship just jumped to the target system
on_jump_drive = {
	events = {
		ag_gamma.110				# Ancient Station using jumpdrive
	}
}

# Constantly checked (every tick?) when a planet being bombarded
# Planet Scope, the victim planet
# From(Country Scope), the owner of the ships that bombing the planet
on_planet_bombarded = {
	events = {
		ag_ancient.6				# Orbital bombardment's side effects caused by ancient ships
		ag_ancient.83				# Ancient Foretress's planetary shield effect
		ag_gamma.32					# Ancient fleet destroy a planet
		ag_zeta_crisis.44			# Orbital bombardment's side effects caused by Shroud Invaders' ships
		ag_zeta_crisis.45			# Shroud Invaders destroyed a planet
		ag_zeta_crisis.47			# Shroud Invaders' planet reclaimed by orbital bombardment
		ag_zeta_crisis.48			# Fleet damaged when bomberding Shrouded Planet
		ag_zeta_crisis.2044			# Psi Installation Defensive System recall ships if player bombarded unauthorized planets
		ag_zeta_crisis.205			# Psi Installation Defensive System destroyed
		ag_eta.92					# Eta titan destroy a planet
		ag_theta.61					# Starfish's fleet conquered planet
		ag_theta.63					# Starfish's planet reclaimed
	}
}

# Planet has reached 0 pops from orbital bombardment
# This = Planet
# From = Bombarder
on_planet_zero_pops = {
	events = {
		ag_epsilon.68				# Notification for ancient titan destroyed planet.
	}
}

# Fired when a fleet activates cloaking
# This = Fleet
on_cloaking_activated = {
	events = {
		ag_ancient.1050				# Stop cloaking if crisis ongoing.
	}
}

# Checked when a ship be disabled
# Ship Scope, the ship that be disabled
# From(Ship Scope), the ship that disabled the victim
on_ship_disabled = {
	events = {
		ag_ancient.2001				# Prioritized disable entry.
	}
}
# Sort by priority, when multiple triggers return true, only the top one will be triggered.
# Scopes are same with on_ship_disabled.
# Common is failsafe, shouldn't be used.
ag_on_disabled_common = { events = { } }
ag_on_disabled_invincible = { events = { ag_ancient.2002 } }
ag_on_disabled_extra_life = { events = { ag_ancient.91 } }
ag_on_disabled_difficulty = {
	events = {
		ag_ancient.29				# Ancient ship revives in calamity difficulty.
		ag_zeta_crisis.411			# Shroud Invaders' abilities in Calamity Difficulty
	}
}
ag_on_disabled_gamma_station = { events = { ag_gamma.121 } }
ag_on_disabled_zeta_station = { events = { ag_zeta.32 } }
ag_on_disabled_subsystem_emergency_repair = { events = { ag_subsystem.12 } }
ag_on_disabled_zeta_ship = { events = { ag_zeta.21 } }
ag_on_disabled_event = {
	events = {
		ag_ancient.1204				# Science constructor has chance to survive from attacks
		ag_alpha.21					# Alpha Titan disappear if kill any ship/killed by other.
		ag_alpha.81					# Disable hostile Alpha Titan, going into Phase 2.
		ag_alpha.82					# Disable hostile Alpha Titan, Phase 2.
		ag_beta.83					# Disable Ancient Relay Station, has chance to reactive
		ag_delta.26					# Ancient ship heals itself
		ag_epsilon.41				# Disable obelisk, allows to upgrade again.
		ag_epsilon.61				# Disable ancient titan(station mode), spawn ancient titan ship mode.
		ag_epsilon.63				# Disable ancient titan(ship mode), decide to destroy it or revive it.
		ag_zeta_crisis.102			# Shroud Invaders' Psionic Portal destroyed
		ag_zeta_psionics.83			# Shroud Invaders' Small Psionic Portal destroyed
		ag_eta.52					# Ancient ship disabled, ancient ship ability's effect.
		ag_eta.112					# Ancient gateway disabled, allows to input codes again
		ag_wanderer.51				# Disabled wandering ship
	}
}

# Checked when a fleet disbanded
# Country Scope, the owner of the fleet
# From(Fleet Scope), disbanded fleet
on_fleet_disbanded = {
	events = {
		ag_subsystem.61				# Recycle Station
		ag_epsilon.141				# Psionic beacon disbanded
	}
}

# Checked when attacker wins a ground battle on a planet, when events checked, planet still belongs to its original owner
# Country Scope, attacker
# From(Country Scope), defender
# FromFrom(Planet Scope), the polanet where the ground battle happend
on_planet_attackers_win = {
	events = {
		ag_primitive.41				# Invaded 4762 Preserved World
		ag_primitive.42				# Invaded 4762 Preserved World
		ag_primitive.111			# Invaded 5524 Preserved World
		ag_primitive.112			# Invaded 5524 Preserved World
		ag_alpha.11					# Invaded alpha ringworld.
		ag_zeta_psionics.53			# Shroud Invaders conquered planets
		ag_zeta_psionics.56			# Shroud Invaders' Planets reclaimed
	}
}

# Checked when defender wins a ground battle on a planet
# Country Scope, defender
# From(Country Scope), attacker
# FromFrom(Planet Scope), the polanet where the ground battle happend
on_planet_defenders_win = {
	events = {
		ag_zeta_psionics.55			# Planet defend successful
	}
}

# Checked when a pop purged, victim pop still exist when event checked
# Planet Scope, the planet where victim pop located
# From(Country Scope), the country that victim pop belongs to
# FromFrom(Pop Scope), the victim pop
on_pop_purged = {
	events = {
		ag_zeta_psionics.57			# Accelerate Shroud Invaders' purge progress
		ag_zeta_psionics.58			# Turn planet into a Shrouded Planet
	}
}

# Checked when a country tries to open the diplomatic window to communicate with another country
# Country Scope, the country that send diplomacy request
# From(Country Scope), the country that recived root's diplomacy request
on_custom_diplomacy = {
	events = {
		ag_zeta.11					# Diplomatic event for Zeta Installation Defensive System when it is neutral to the player
		ag_zeta.12					# Diplomatic event for Zeta Installation Defensive System when it is hostile to the player
		ag_zeta_crisis.2021			# Diplomatic event for Psi Installation Defensive System when it is neutral to the player
		ag_zeta_crisis.2022			# Diplomatic event for Psi Installation Defensive System when it is hostile to the player
		ag_zeta_psionics.1000					# Entering Shroud, overwrited.
		ag_iota.10					# Communication with Keepers of Archives
		ag_side.31					# Communication with Starlight-II, battleship form
		# ag_side.32					# Communication with Starlight-II, science ship form
		ag_side.39					# Communication with Starlight-II, destroyed but could be repaired.
	}
}

# Checked when a blocker is cleared
# Planet Scope, the planet where the blocker located
# From: the blocker
on_blocker_cleared = {
	events = {
		ag_beta.5					# Create Ancient Archive
		ag_epsilon.7				# Blocker cleared, add fallen empire's building.
		ag_epsilon.8				# Blocker cleared, add fallen empire's building.
		ag_eta.144					# Clear blocker, add buildings
		ag_eta.145					# Clear blocker, add buildings
		ag_eta.146					# Clear blocker, add buildings
	}
}

# this/root = planet that have been fired upon ( Planet Scope )
# from = fleet that fired
on_destroy_planet_with_ag_ancient_epsilon_planet_killer_weapon = {
	events = {
		ag_planet_killer.1			# Destroy star with superweapon
		ag_planet_killer.2			# Destroyed a planet.
		ag_planet_killer.3			# Destroyed a planet, clean up pops only.
	}
}
on_destroy_planet_with_ag_ancient_alpha_planet_killer_weapon = {
	events = {
		ag_planet_killer.21			# Destroyed a planet, clean up pops only.
	}
}

# a new leader is generated for an empire, to be available for recruitment
# scope: country, from: leader
on_leader_spawned = {
	events = {
		ag_subsystem.81				# Starlight II enhance new leaders
	}
}

#An army has been killed in ground combat
# This = owner
# From = army
# FromFrom = opponent
# FromFromFrom = planet
on_army_killed_in_combat = {
	events = {
		ag_zeta_crisis.56			# Spawn extra armies on avatar killed.
	}
}

# A Megastructure has been built
# Root = Country
# From = Megastructure
# FromFrom = System
# FromFromFrom = Fleet
on_megastructure_built = {
	events = {
		ag_theta.121				# Effects on other megastructures
	}
}

# A Megastructure has been upgraded
# Root = Country
# From = Megastructure
# FromFrom = System
on_megastructure_upgraded = {
	events = {
		ag_theta.121				# Effects on other megastructures
	}
}

# Executed when a megastructure has a new owner
# this = new owner
# from = megastructure
# fromfrom = old owner (if existing)
on_megastructure_change_owner = {
	events = {
		ag_eta.1011					# Gateway closed when change owner.
		ag_eta.1013					# Gateway owner change with control station.
		ag_theta.121				# Effects on other megastructures
	}
}

# Executed when a megastructure is rendered ownerless
# this = solar system containing megastructure
# from = megastructure
# fromfrom = old owner (if existing)
on_megastructure_ownerless = {
	events = {
		ag_eta.1012					# Gateway closed when ownerless.
		ag_eta.1014					# Gateway owner change with control station.
		ag_theta.122				# Effects on other megastructures
	}
}

# Planet has changed planet class in whatever way. Note that this is also called during galaxy creation in some places.
# This = Planet
on_planet_class_changed = {
	events = {
		ag_ancient.87				# Planet is no longer a colony, remove shield effect.
		# ag_ancient.1011				# Planet Class Changed by others
	}
}

# Called when a Starbase changes owner
# THIS = Ship (Starbase)
# FROM = Former Owner (Country)
on_starbase_transfer = {
	events = {
		ag_side.352					# Notification for player if captured shielded molten planet from ai
	}
}

# Executed when a country picks an ascension perk
# THIS = country
on_ascension_perk_picked = {
	events = {
		ag_ancient.51				# Effects for Ascension Perks
	}
}

# This = construction ship
# From = planet it is built on
# Fires when construction is complete,
# immediately before station is created
on_building_observation_station = {
	events = {
		ag_primitive.160			# Auto switch obs station mission.
	}
}

# Scope: Leader (after assignment)
on_leader_assigned = {
	events = {
		ag_ancient.1208
	}
}
# Scope: Leader (just before unassignment)
# Fires if a leader is unassigned from their position for any reason (including being assigned elsewhere)
on_leader_unassigned = {
	events = {
		ag_ancient.1209
	}
}

# Executed when the ruler is ousted and goes back to their pre-ruler class
# From = Previous Ruler, already has the new class
# This = Country
on_ruler_back_to_pre_ruler_class = {
	events = {
		# ag_zeta_psionics.1034			# Chosen rulers gets Chosen trait for their normal leader class.
	}
}

#An army has ceased to exist for any other reason
# This = country
# From = army
on_army_killed_no_combat = {
	events = {
		ag_zeta_crisis.503			# Remove leader if army killed by effect.
	}
}

# Called upon entering FTL (on-action name scripted on the Bypass type)
# This = Fleet(fleet scope)
# From = System jumping to(system/galactic_object scope)
# FromFrom = System jumped from(system/galactic_object scope)
on_entering_gateway = {
	events = {
		ag_subsystem.91				# Ship repair effect after entering bypass via ancient gateway
	}
}
on_entering_lgate = {
	events = {
		ag_subsystem.92				# Ship repair effect after entering bypass via ancient gateway
	}
}
ag_on_entering_ancient_eta_gateway = {
	events = {
		ag_subsystem.93				# Ship repair effect after entering bypass via ancient gateway
	}
}
ag_on_entering_ancient_eta_wormhole_temporary = {
	events = {
		ag_subsystem.94				# Ship repair effect after entering bypass via ancient gateway
	}
}

# Fired when system selector confirm.
ag_on_system_selector_confirm = {
	events = {
		ag_ancient.1202				# Spawn intel ship in remote system.
		ag_subsystem.75				# Eta titan's hallucination
		ag_beta.144					# Beta psionic station's target
		ag_epsilon.131				# Starkiller destroy stars.
		ag_eta.1024					# System selector selected temp wormhole target.
	}
}

# Fired when country selector confirm.
ag_on_country_selector_confirm = {
	events = {
		ag_eta.1022					# Set ancient gateway's white/black list.
	}
}

# Fired when special project of research project completed.
# Ship scope, ship conducted the project.
# From: Project creation location.
ag_on_research_project_round_completed = {
	events = {
		ag_research.3				# Research project round effects
	}
}

# No scope, like on_game_start
# Does not run when loading MP saves due to OOS concerns
on_single_player_save_game_load = {
	events = {
		ag_ancient.9999				# Failsafe, for saved game.
	}
}
