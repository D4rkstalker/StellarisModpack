# Приписки:
# d - обычная империя (не гештальт)
# g - коллективный разум (рой)
# m - механическая империя (машинный разум)



################################################################
##### ФОН

# Для роя
GFX_apsr_enclave_economy_picture_hive = {
	potential = {
		has_authority = auth_hive_mind
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# Для машин
GFX_apsr_enclave_economy_picture_machine = {
	potential = {
		has_authority = auth_machine_intelligence
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# Для мегакорпорации
GFX_apsr_enclave_economy_picture_corp = {
	potential = {
		has_authority = auth_corporate
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# Для остальных
GFX_apsr_enclave_economy_picture_all = {
	potential = {
		AND = {
			NOT = {
				has_authority = auth_hive_mind
			}
			NOT = {
				has_authority = auth_machine_intelligence
			}
			NOT = {
				has_authority = auth_corporate
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}



################################################################
##### УРОВЕНЬ 0

# условие показа пока не выбрано любое улучшение
apsr_enclave_economy_button_00 = {
	potential = {
		NOT = {
			OR = {
				has_country_flag = apsr_enclave_economy_button_01_pressed
				has_country_flag = apsr_enclave_economy_button_02_pressed
				has_country_flag = apsr_enclave_economy_button_03dg_pressed
				has_country_flag = apsr_enclave_economy_button_03m_pressed
				has_country_flag = apsr_enclave_economy_button_03l_pressed
				has_country_flag = apsr_enclave_economy_button_04_pressed
				has_country_flag = apsr_enclave_economy_button_05_pressed
				has_country_flag = apsr_enclave_economy_button_06_pressed
				has_country_flag = apsr_enclave_economy_button_07_pressed
				has_country_flag = apsr_enclave_economy_button_08dg_pressed
				has_country_flag = apsr_enclave_economy_button_08m_pressed
				has_country_flag = apsr_enclave_economy_button_08l_pressed
				has_country_flag = apsr_enclave_economy_button_09_pressed
				has_country_flag = apsr_enclave_economy_button_10d_pressed
				has_country_flag = apsr_enclave_economy_button_10gm_pressed
				has_country_flag = apsr_enclave_economy_button_11d_pressed
				has_country_flag = apsr_enclave_economy_button_11gm_pressed
				has_country_flag = apsr_enclave_economy_button_12d_pressed
				has_country_flag = apsr_enclave_economy_button_12gm_pressed
				has_country_flag = apsr_enclave_economy_button_13_pressed
				has_country_flag = apsr_enclave_economy_button_14_pressed
				has_country_flag = apsr_enclave_economy_button_15_pressed
				has_country_flag = apsr_enclave_economy_button_16_pressed
				has_country_flag = apsr_enclave_economy_button_17_pressed
				has_country_flag = apsr_enclave_economy_button_18_pressed
				has_country_flag = apsr_enclave_economy_button_18ext_pressed
				has_country_flag = apsr_enclave_economy_button_19_pressed
				has_country_flag = apsr_enclave_economy_button_20_pressed
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие показа фона описания
apsr_enclave_economy_button_00_available = {
	potential = {
		OR = {
			has_country_flag = apsr_enclave_economy_button_01_pressed
			has_country_flag = apsr_enclave_economy_button_02_pressed
			has_country_flag = apsr_enclave_economy_button_03dg_pressed
			has_country_flag = apsr_enclave_economy_button_03m_pressed
			has_country_flag = apsr_enclave_economy_button_03l_pressed
			has_country_flag = apsr_enclave_economy_button_04_pressed
			has_country_flag = apsr_enclave_economy_button_05_pressed
			has_country_flag = apsr_enclave_economy_button_06_pressed
			has_country_flag = apsr_enclave_economy_button_07_pressed
			has_country_flag = apsr_enclave_economy_button_08dg_pressed
			has_country_flag = apsr_enclave_economy_button_08m_pressed
			has_country_flag = apsr_enclave_economy_button_08l_pressed
			has_country_flag = apsr_enclave_economy_button_09_pressed
			has_country_flag = apsr_enclave_economy_button_10d_pressed
			has_country_flag = apsr_enclave_economy_button_10gm_pressed
			has_country_flag = apsr_enclave_economy_button_11d_pressed
			has_country_flag = apsr_enclave_economy_button_11gm_pressed
			has_country_flag = apsr_enclave_economy_button_12d_pressed
			has_country_flag = apsr_enclave_economy_button_12gm_pressed
			has_country_flag = apsr_enclave_economy_button_13_pressed
			has_country_flag = apsr_enclave_economy_button_14_pressed
			has_country_flag = apsr_enclave_economy_button_15_pressed
			has_country_flag = apsr_enclave_economy_button_16_pressed
			has_country_flag = apsr_enclave_economy_button_17_pressed
			has_country_flag = apsr_enclave_economy_button_18_pressed
			has_country_flag = apsr_enclave_economy_button_18ext_pressed
			has_country_flag = apsr_enclave_economy_button_19_pressed
			has_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}





################################################################
##### УРОВЕНЬ 1



### КНОПКА 1

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_01_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_01_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_01_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_01_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_01_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_01_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_01_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_01_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_01_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_01_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_01_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_01_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_01_info
	}
}



### КНОПКА 02

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_02_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_02_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_02_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed	
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_02_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_02_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_02_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_02_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_02_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_02_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_02_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_02_pressed	
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_02_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_02_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_02_info
	}
}



### КНОПКА 03dg

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_03dg_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_03dg_purchase
			}
			NOT = {
				has_authority = auth_machine_intelligence
			}
			NOT = {
				is_lithoid_empire = yes 
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_03dg_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_03dg_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_03dg_pressed
			NOT = {
				has_authority = auth_machine_intelligence
			}
			NOT = {
				is_lithoid_empire = yes 
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_03dg_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_03dg_pressed
			NOT = {
				has_authority = auth_machine_intelligence
			}
			NOT = {
				is_lithoid_empire = yes 
			}
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_03dg_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_03dg_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_03dg_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed	
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_03dg_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_03dg_purchase
			NOT = {
				has_authority = auth_machine_intelligence
			}
			NOT = {
				is_lithoid_empire = yes 
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_03dg_info
	}
}



### КНОПКА 03m

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_03m_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_03m_purchase
			}
			has_authority = auth_machine_intelligence
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_03m_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed	
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_03m_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_03m_pressed
			has_authority = auth_machine_intelligence
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_03m_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_03m_pressed
			has_authority = auth_machine_intelligence
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_03m_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_03m_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_03m_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_03m_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_03m_purchase
			has_authority = auth_machine_intelligence
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_03m_info
	}
}



### КНОПКА 03l

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_03l_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_03l_purchase
			}
			is_lithoid_empire = yes 
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_03l_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_03l_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_03l_pressed
			is_lithoid_empire = yes 
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_03l_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_03l_pressed
			is_lithoid_empire = yes 
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_03l_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_03l_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_03l_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_03l_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_03l_purchase
			is_lithoid_empire = yes 
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_03l_info
	}
}



### КНОПКА 04

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_04_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_04_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_04_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed	
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_04_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_04_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_04_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_04_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_04_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_04_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_04_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_04_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_04_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_04_info
	}
}



### КНОПКА 05

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_05_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_05_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_05_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed	
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_05_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_05_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_05_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_05_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_05_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_05_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_05_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_05_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_05_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_05_info
	}
}



### КНОПКА 06

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_06_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_06_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_06_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed	
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_06_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_06_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_06_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_06_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_06_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_06_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_06_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_06_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_06_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_06_info
	}
}



### КНОПКА 07

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_07_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_07_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_07_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed	
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_07_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_07_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_07_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_07_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_07_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_07_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_07_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_07_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_07_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_07_info
	}
}



### КНОПКА 08dg

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_08dg_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_08dg_purchase
			}
			NOT = {
				has_authority = auth_machine_intelligence
			}
			NOT = {
				is_lithoid_empire = yes 
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_08dg_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_08dg_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_08dg_pressed
			NOT = {
				has_authority = auth_machine_intelligence
			}
			NOT = {
				is_lithoid_empire = yes 
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_08dg_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_08dg_pressed
			NOT = {
				has_authority = auth_machine_intelligence
			}
			NOT = {
				is_lithoid_empire = yes 
			}
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_08dg_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_08dg_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_08dg_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_08dg_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_08dg_purchase
			NOT = {
				has_authority = auth_machine_intelligence
			}
			NOT = {
				is_lithoid_empire = yes 
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_08dg_info
	}
}



### КНОПКА 08m

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_08m_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_08m_purchase
			}
			has_authority = auth_machine_intelligence
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_08m_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_08m_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_08m_pressed
			has_authority = auth_machine_intelligence
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_08m_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_08m_pressed
			has_authority = auth_machine_intelligence
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_08m_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_08m_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_08m_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_08m_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_08m_purchase
			has_authority = auth_machine_intelligence
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_08m_info
	}
}



### КНОПКА 08l

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_08l_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_08l_purchase
			}
			is_lithoid_empire = yes 
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_08l_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_08l_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_08l_pressed
			is_lithoid_empire = yes 
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_08l_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_08l_pressed
			is_lithoid_empire = yes 
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_08l_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_08l_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_08l_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_08l_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_08l_purchase
			is_lithoid_empire = yes 
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_08l_info
	}
}



### КНОПКА 09

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_09_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_09_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_09_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_09_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_09_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_09_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_09_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_09_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_09_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_09_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_09_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_09_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_09_info
	}
}



### КНОПКА 10d

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_10d_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_10d_purchase
			}
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_10d_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_10d_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_10d_pressed
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_10d_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_10d_pressed
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_10d_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_10d_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_10d_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_10d_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_10d_purchase
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_10d_info
	}
}



### КНОПКА 10gm

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_10gm_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_10gm_purchase
			}
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_10gm_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_10gm_pressed = {
	potential = {	
		AND = {
			has_country_flag = apsr_enclave_economy_button_10gm_pressed
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_10gm_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_10gm_pressed
			is_gestalt = yes
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_10gm_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 900 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -900 }
			set_country_flag = apsr_enclave_economy_button_10gm_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_10gm_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 1
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 5
					}
				}
				random_list = {
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							has_authority = auth_machine_intelligence
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							is_gestalt = yes
						}
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						set_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 10
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					10 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					1 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
						}
						set_country_flag = apsr_enclave_economy_set_2_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_10gm_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_10gm_purchase
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_10gm_info
	}
}



### КНОПКА 11d

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_11d_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_11d_purchase
			}
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_11d_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_11d_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_11d_pressed
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_11d_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_11d_pressed
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_11d_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 1600 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -1600 }
			set_country_flag = apsr_enclave_economy_button_11d_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_11d_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 3
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 15
					}
				}
				random_list = {
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_01
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_02
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					2 = {
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_11d_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_11d_purchase
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_11d_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_11d_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					has_country_flag = apsr_enclave_economy_button_01_purchase
					has_country_flag = apsr_enclave_economy_button_02_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_03dg_purchase
						has_country_flag = apsr_enclave_economy_button_03m_purchase
						has_country_flag = apsr_enclave_economy_button_03l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_04_purchase
					has_country_flag = apsr_enclave_economy_button_05_purchase
					has_country_flag = apsr_enclave_economy_button_06_purchase
					has_country_flag = apsr_enclave_economy_button_07_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_08dg_purchase
						has_country_flag = apsr_enclave_economy_button_08m_purchase
						has_country_flag = apsr_enclave_economy_button_08l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_09_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_10d_purchase
						has_country_flag = apsr_enclave_economy_button_10gm_purchase
					}
				}
			}
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 11gm

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_11gm_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_11gm_purchase
			}
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_11gm_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_11gm_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_11gm_pressed
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_11gm_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_11gm_pressed
			is_gestalt = yes
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_11gm_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 1600 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -1600 }
			set_country_flag = apsr_enclave_economy_button_11gm_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_11gm_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 3
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 15
					}
				}
				random_list = {
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_01
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_02
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					2 = {
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_11gm_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_11gm_purchase
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_11gm_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_11gm_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					has_country_flag = apsr_enclave_economy_button_01_purchase
					has_country_flag = apsr_enclave_economy_button_02_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_03dg_purchase
						has_country_flag = apsr_enclave_economy_button_03m_purchase
						has_country_flag = apsr_enclave_economy_button_03l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_04_purchase
					has_country_flag = apsr_enclave_economy_button_05_purchase
					has_country_flag = apsr_enclave_economy_button_06_purchase
					has_country_flag = apsr_enclave_economy_button_07_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_08dg_purchase
						has_country_flag = apsr_enclave_economy_button_08m_purchase
						has_country_flag = apsr_enclave_economy_button_08l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_09_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_10d_purchase
						has_country_flag = apsr_enclave_economy_button_10gm_purchase
					}
				}
			}
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 12d

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_12d_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_12d_purchase
			}
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_12d_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_12d_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_12d_pressed
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_12d_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_12d_pressed
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_12d_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 1600 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -1600 }
			set_country_flag = apsr_enclave_economy_button_12d_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_12d_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 3
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 15
					}
				}
				random_list = {
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_01
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_02
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					2 = {
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_12d_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_12d_purchase
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_12d_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_12d_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					has_country_flag = apsr_enclave_economy_button_01_purchase
					has_country_flag = apsr_enclave_economy_button_02_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_03dg_purchase
						has_country_flag = apsr_enclave_economy_button_03m_purchase
						has_country_flag = apsr_enclave_economy_button_03l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_04_purchase
					has_country_flag = apsr_enclave_economy_button_05_purchase
					has_country_flag = apsr_enclave_economy_button_06_purchase
					has_country_flag = apsr_enclave_economy_button_07_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_08dg_purchase
						has_country_flag = apsr_enclave_economy_button_08m_purchase
						has_country_flag = apsr_enclave_economy_button_08l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_09_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_10d_purchase
						has_country_flag = apsr_enclave_economy_button_10gm_purchase
					}
				}
			}
			NOT = {
				is_gestalt = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 12gm

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_12gm_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_12gm_purchase
			}
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_12gm_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_12gm_pressed	
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_12gm_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_12gm_pressed
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_12gm_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_12gm_pressed
			is_gestalt = yes
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_12gm_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 1600 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -1600 }
			set_country_flag = apsr_enclave_economy_button_12gm_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_12gm_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 3
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 15
					}
				}
				random_list = {
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_01
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_02
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					2 = {
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_12gm_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_12gm_purchase
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_12gm_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_12gm_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					has_country_flag = apsr_enclave_economy_button_01_purchase
					has_country_flag = apsr_enclave_economy_button_02_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_03dg_purchase
						has_country_flag = apsr_enclave_economy_button_03m_purchase
						has_country_flag = apsr_enclave_economy_button_03l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_04_purchase
					has_country_flag = apsr_enclave_economy_button_05_purchase
					has_country_flag = apsr_enclave_economy_button_06_purchase
					has_country_flag = apsr_enclave_economy_button_07_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_08dg_purchase
						has_country_flag = apsr_enclave_economy_button_08m_purchase
						has_country_flag = apsr_enclave_economy_button_08l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_09_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_10d_purchase
						has_country_flag = apsr_enclave_economy_button_10gm_purchase
					}
				}
			}
			is_gestalt = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 13

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_13_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_13_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_13_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed	
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_13_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_13_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_13_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_13_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_13_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 1600 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -1600 }
			set_country_flag = apsr_enclave_economy_button_13_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_13_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 3
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 15
					}
				}
				random_list = {
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_01
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_02
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					2 = {
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_13_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_13_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_13_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_13_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					has_country_flag = apsr_enclave_economy_button_01_purchase
					has_country_flag = apsr_enclave_economy_button_02_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_03dg_purchase
						has_country_flag = apsr_enclave_economy_button_03m_purchase
						has_country_flag = apsr_enclave_economy_button_03l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_04_purchase
					has_country_flag = apsr_enclave_economy_button_05_purchase
					has_country_flag = apsr_enclave_economy_button_06_purchase
					has_country_flag = apsr_enclave_economy_button_07_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_08dg_purchase
						has_country_flag = apsr_enclave_economy_button_08m_purchase
						has_country_flag = apsr_enclave_economy_button_08l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_09_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_10d_purchase
						has_country_flag = apsr_enclave_economy_button_10gm_purchase
					}
				}
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 14

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_14_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_14_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_14_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed	
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_14_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_14_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_14_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_14_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_14_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 1600 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -1600 }
			set_country_flag = apsr_enclave_economy_button_14_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_14_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 3
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 15
					}
				}
				random_list = {
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_01
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_02
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					2 = {
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_14_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_14_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_14_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_14_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					has_country_flag = apsr_enclave_economy_button_01_purchase
					has_country_flag = apsr_enclave_economy_button_02_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_03dg_purchase
						has_country_flag = apsr_enclave_economy_button_03m_purchase
						has_country_flag = apsr_enclave_economy_button_03l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_04_purchase
					has_country_flag = apsr_enclave_economy_button_05_purchase
					has_country_flag = apsr_enclave_economy_button_06_purchase
					has_country_flag = apsr_enclave_economy_button_07_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_08dg_purchase
						has_country_flag = apsr_enclave_economy_button_08m_purchase
						has_country_flag = apsr_enclave_economy_button_08l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_09_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_10d_purchase
						has_country_flag = apsr_enclave_economy_button_10gm_purchase
					}
				}
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 15

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_15_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_15_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_15_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed		
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_15_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_15_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_15_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_15_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_15_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 1600 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -1600 }
			set_country_flag = apsr_enclave_economy_button_15_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_15_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 3
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 15
					}
				}
				random_list = {
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_01
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_01
						give_technology = { tech = tech_apsr_enclave_economy_bonus_01 message = no }	
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_02
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_02
						give_technology = { tech = tech_apsr_enclave_economy_bonus_02 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_03
								has_authority = auth_machine_intelligence
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_03
						give_technology = { tech = tech_apsr_enclave_economy_bonus_03 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					2 = {
						set_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_15_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_15_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_15_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_15_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					has_country_flag = apsr_enclave_economy_button_01_purchase
					has_country_flag = apsr_enclave_economy_button_02_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_03dg_purchase
						has_country_flag = apsr_enclave_economy_button_03m_purchase
						has_country_flag = apsr_enclave_economy_button_03l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_04_purchase
					has_country_flag = apsr_enclave_economy_button_05_purchase
					has_country_flag = apsr_enclave_economy_button_06_purchase
					has_country_flag = apsr_enclave_economy_button_07_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_08dg_purchase
						has_country_flag = apsr_enclave_economy_button_08m_purchase
						has_country_flag = apsr_enclave_economy_button_08l_purchase
					}
					has_country_flag = apsr_enclave_economy_button_09_purchase
					OR = {
						has_country_flag = apsr_enclave_economy_button_10d_purchase
						has_country_flag = apsr_enclave_economy_button_10gm_purchase
					}
				}
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 16

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_16_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_16_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_16_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_16_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_16_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_16_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_16_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_16_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 2800 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -2800 }
			set_country_flag = apsr_enclave_economy_button_16_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_16_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 7
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 20
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_16_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_16_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_16_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_16_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					OR = {
						has_country_flag = apsr_enclave_economy_button_11d_purchase
						has_country_flag = apsr_enclave_economy_button_11gm_purchase
					}
					OR = {
						has_country_flag = apsr_enclave_economy_button_12d_purchase
						has_country_flag = apsr_enclave_economy_button_12gm_purchase
					}
					has_country_flag = apsr_enclave_economy_button_13_purchase
					has_country_flag = apsr_enclave_economy_button_14_purchase
					has_country_flag = apsr_enclave_economy_button_15_purchase
				}
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 17

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_17_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_17_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_17_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed	
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_17_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_17_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_17_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_17_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_17_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 2800 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -2800 }
			set_country_flag = apsr_enclave_economy_button_17_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_17_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 7
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 20
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_17_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_17_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_17_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_17_locked = {
	potential = {
		NOT = {
			AND = {
				OR = {
					has_country_flag = apsr_enclave_economy_button_11d_purchase
					has_country_flag = apsr_enclave_economy_button_11gm_purchase
				}
				OR = {
					has_country_flag = apsr_enclave_economy_button_12d_purchase
					has_country_flag = apsr_enclave_economy_button_12gm_purchase
				}
				has_country_flag = apsr_enclave_economy_button_13_purchase
				has_country_flag = apsr_enclave_economy_button_14_purchase
				has_country_flag = apsr_enclave_economy_button_15_purchase
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 18

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_18_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_18_purchase
			}
			NOT = {
				is_unfriendly = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_18_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_18_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_18_pressed
			NOT = {
				is_unfriendly = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_18_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_18_pressed
			NOT = {
				is_unfriendly = yes
			}
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_18_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 2800 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -2800 }
			set_country_flag = apsr_enclave_economy_button_18_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_18_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 7
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 20
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_18_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_18_purchase
			NOT = {
				is_unfriendly = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_18_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_18_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					OR = {
						has_country_flag = apsr_enclave_economy_button_11d_purchase
						has_country_flag = apsr_enclave_economy_button_11gm_purchase
					}
					OR = {
						has_country_flag = apsr_enclave_economy_button_12d_purchase
						has_country_flag = apsr_enclave_economy_button_12gm_purchase
					}
					has_country_flag = apsr_enclave_economy_button_13_purchase
					has_country_flag = apsr_enclave_economy_button_14_purchase
					has_country_flag = apsr_enclave_economy_button_15_purchase
				}
			}
			NOT = {
				is_unfriendly = yes
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 18ext

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_18ext_select = {
	potential = {
		AND = {
			NOT = {
				has_country_flag = apsr_enclave_economy_button_18ext_purchase
			}
			is_unfriendly = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_18ext_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_18ext_pressed = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_18ext_pressed
			is_unfriendly = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_18ext_buy = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_18ext_pressed
			is_unfriendly = yes
		}
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_18ext_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 2800 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -2800 }
			set_country_flag = apsr_enclave_economy_button_18ext_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_18ext_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			add_modifier = {
				modifier = apsr_enclave_economy_18ext_modificator
				days = 18000
			}
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 7
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 20
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_18ext_purchased = {
	potential = {
		AND = {
			has_country_flag = apsr_enclave_economy_button_18ext_purchase
			is_unfriendly = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_18ext_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_18ext_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					OR = {
						has_country_flag = apsr_enclave_economy_button_11d_purchase
						has_country_flag = apsr_enclave_economy_button_11gm_purchase
					}
					OR = {
						has_country_flag = apsr_enclave_economy_button_12d_purchase
						has_country_flag = apsr_enclave_economy_button_12gm_purchase
					}
					has_country_flag = apsr_enclave_economy_button_13_purchase
					has_country_flag = apsr_enclave_economy_button_14_purchase
					has_country_flag = apsr_enclave_economy_button_15_purchase
				}
			}
			is_unfriendly = yes
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 19

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_19_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_19_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_19_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_19_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_20_pressed	
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_19_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_19_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_19_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_19_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_19_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 2800 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -2800 }
			set_country_flag = apsr_enclave_economy_button_19_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_19_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_19_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 7
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 20
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_19_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_19_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_19_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_19_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					OR = {
						has_country_flag = apsr_enclave_economy_button_11d_purchase
						has_country_flag = apsr_enclave_economy_button_11gm_purchase
					}
					OR = {
						has_country_flag = apsr_enclave_economy_button_12d_purchase
						has_country_flag = apsr_enclave_economy_button_12gm_purchase
					}
					has_country_flag = apsr_enclave_economy_button_13_purchase
					has_country_flag = apsr_enclave_economy_button_14_purchase
					has_country_flag = apsr_enclave_economy_button_15_purchase
				}
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}



### КНОПКА 20

# кнопка выбора усиления и открытия описания
apsr_enclave_economy_button_20_select = {
	potential = {
		NOT = {
			has_country_flag = apsr_enclave_economy_button_20_purchase
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_20_info
		hidden_effect = {	
			set_country_flag = apsr_enclave_economy_button_20_pressed
			remove_country_flag = apsr_enclave_economy_button_01_pressed
			remove_country_flag = apsr_enclave_economy_button_02_pressed
			remove_country_flag = apsr_enclave_economy_button_03dg_pressed
			remove_country_flag = apsr_enclave_economy_button_03m_pressed
			remove_country_flag = apsr_enclave_economy_button_03l_pressed
			remove_country_flag = apsr_enclave_economy_button_04_pressed
			remove_country_flag = apsr_enclave_economy_button_05_pressed
			remove_country_flag = apsr_enclave_economy_button_06_pressed
			remove_country_flag = apsr_enclave_economy_button_07_pressed
			remove_country_flag = apsr_enclave_economy_button_08dg_pressed
			remove_country_flag = apsr_enclave_economy_button_08m_pressed
			remove_country_flag = apsr_enclave_economy_button_08l_pressed
			remove_country_flag = apsr_enclave_economy_button_09_pressed
			remove_country_flag = apsr_enclave_economy_button_10d_pressed
			remove_country_flag = apsr_enclave_economy_button_10gm_pressed
			remove_country_flag = apsr_enclave_economy_button_11d_pressed
			remove_country_flag = apsr_enclave_economy_button_11gm_pressed
			remove_country_flag = apsr_enclave_economy_button_12d_pressed
			remove_country_flag = apsr_enclave_economy_button_12gm_pressed
			remove_country_flag = apsr_enclave_economy_button_13_pressed
			remove_country_flag = apsr_enclave_economy_button_14_pressed
			remove_country_flag = apsr_enclave_economy_button_15_pressed
			remove_country_flag = apsr_enclave_economy_button_16_pressed
			remove_country_flag = apsr_enclave_economy_button_17_pressed
			remove_country_flag = apsr_enclave_economy_button_18_pressed
			remove_country_flag = apsr_enclave_economy_button_18ext_pressed
			remove_country_flag = apsr_enclave_economy_button_19_pressed
		}
	}
}

# условие отображения описания слева
apsr_enclave_economy_button_20_pressed = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_20_pressed
	}
	allow = {
		always = yes
	}
	effect = {
	}
}

# условие отображения кнопки покупки
apsr_enclave_economy_button_20_buy = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_20_pressed
	}
	allow = {
		custom_tooltip = {
			fail_text = "apsr_enclave_economy_button_20_failtext"
			resource_stockpile_compare = { resource = apsr_knowledge value >= 2800 }
		}
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_buy_desc
		hidden_effect = {	
			add_resource = { apsr_knowledge = -2800 }
			set_country_flag = apsr_enclave_economy_button_20_purchase
			give_technology = { tech = tech_apsr_enclave_economy_button_20_bonus message = no }	
			remove_country_flag = apsr_enclave_economy_button_20_pressed
			event_target:global_event_country = {
				change_variable = {
					which = apsr_ancients_count
					value = 7
				}
			}
			change_variable = {
				which = apsr_achimod_improvements_purchased_count
				value = 1
			}
			change_variable = {
				which = apsr_enclave_economy_improvements_purchased_count
				value = 1
			}
			if = {
				limit = {
					check_variable = {
						which = apsr_enclave_economy_improvements_purchased_count
						value = 20
					}
				}
				random_list = {
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_04
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_04
						give_technology = { tech = tech_apsr_enclave_economy_bonus_04 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_05
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_05
						give_technology = { tech = tech_apsr_enclave_economy_bonus_05 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_06
								is_gestalt = yes
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_06
						give_technology = { tech = tech_apsr_enclave_economy_bonus_06 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_07
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_07
						give_technology = { tech = tech_apsr_enclave_economy_bonus_07 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_08
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_08
						give_technology = { tech = tech_apsr_enclave_economy_bonus_08 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_09
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_09
						give_technology = { tech = tech_apsr_enclave_economy_bonus_09 message = no }
					}
					10 = {
						modifier = {
							factor = 0
							OR = {
								has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
								has_country_flag = apsr_enclave_economy_set_3_bonus_is_10
							}
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_10
						give_technology = { tech = tech_apsr_enclave_economy_bonus_10 message = no }
					}
					5 = {
						modifier = {
							factor = 0
							has_country_flag = apsr_enclave_economy_set_3_bonus_is_11
						}
						set_country_flag = apsr_enclave_economy_set_4_bonus_is_11
						give_technology = { tech = tech_apsr_enclave_economy_bonus_11 message = no }
					}
				}
			}
		}
	}
}

# кнопка выбора улучшения после покупки
apsr_enclave_economy_button_20_purchased = {
	potential = {
		has_country_flag = apsr_enclave_economy_button_20_purchase
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_button_20_info
	}
}

# кнопка закрыта
apsr_enclave_economy_button_20_locked = {
	potential = {
		AND = {
			NOT = {
				AND = {
					OR = {
						has_country_flag = apsr_enclave_economy_button_11d_purchase
						has_country_flag = apsr_enclave_economy_button_11gm_purchase
					}
					OR = {
						has_country_flag = apsr_enclave_economy_button_12d_purchase
						has_country_flag = apsr_enclave_economy_button_12gm_purchase
					}
					has_country_flag = apsr_enclave_economy_button_13_purchase
					has_country_flag = apsr_enclave_economy_button_14_purchase
					has_country_flag = apsr_enclave_economy_button_15_purchase
				}
			}
		}
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_locked
	}
}





################################################################
##### БОНУСЫ



### БОНУС 1

# вариант 1 (N)
apsr_enclave_economy_bonus_01_N_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_1_bonus_is_01
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_01_info
	}
}

# вариант 2 (M)
apsr_enclave_economy_bonus_01_M_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_1_bonus_is_02
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_02_info
	}
}

# вариант 3 (F)
apsr_enclave_economy_bonus_01_F_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_1_bonus_is_03
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_03_info
	}
}

# вариант 4 (H)
apsr_enclave_economy_bonus_01_H_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_1_bonus_is_04
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_04_info
	}
}

# вариант 5 (U)
apsr_enclave_economy_bonus_01_U_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_1_bonus_is_05
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_05_info
	}
}

# вариант 6 (C)
apsr_enclave_economy_bonus_01_C_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_1_bonus_is_06
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_06_info
	}
}

# вариант 7 (A)
apsr_enclave_economy_bonus_01_A_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_1_bonus_is_07
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_07_info
	}
}

# вариант 8 (V)
apsr_enclave_economy_bonus_01_V_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_1_bonus_is_08
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_08_info
	}
}

# вариант 9 (E)
apsr_enclave_economy_bonus_01_E_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_1_bonus_is_09
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_09_info
	}
}

# вариант 10 (R)
apsr_enclave_economy_bonus_01_R_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_1_bonus_is_10
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_10_info
	}
}



### БОНУС 2

# вариант 1 (N)
apsr_enclave_economy_bonus_02_N_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_2_bonus_is_01
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_01_info
	}
}

# вариант 2 (M)
apsr_enclave_economy_bonus_02_M_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_2_bonus_is_02
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_02_info
	}
}

# вариант 3 (F)
apsr_enclave_economy_bonus_02_F_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_2_bonus_is_03
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_03_info
	}
}

# вариант 4 (H)
apsr_enclave_economy_bonus_02_H_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_2_bonus_is_04
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_04_info
	}
}

# вариант 5 (U)
apsr_enclave_economy_bonus_02_U_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_2_bonus_is_05
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_05_info
	}
}

# вариант 6 (C)
apsr_enclave_economy_bonus_02_C_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_2_bonus_is_06
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_06_info
	}
}

# вариант 7 (A)
apsr_enclave_economy_bonus_02_A_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_2_bonus_is_07
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_07_info
	}
}

# вариант 8 (V)
apsr_enclave_economy_bonus_02_V_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_2_bonus_is_08
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_08_info
	}
}

# вариант 9 (E)
apsr_enclave_economy_bonus_02_E_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_2_bonus_is_09
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_09_info
	}
}

# вариант 10 (R)
apsr_enclave_economy_bonus_02_R_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_2_bonus_is_10
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_10_info
	}
}



### БОНУС 3

# вариант 1 (N)
apsr_enclave_economy_bonus_03_N_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_01
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_01_info
	}
}

# вариант 2 (M)
apsr_enclave_economy_bonus_03_M_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_02
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_02_info
	}
}

# вариант 3 (F)
apsr_enclave_economy_bonus_03_F_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_03
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_03_info
	}
}

# вариант 4 (H)
apsr_enclave_economy_bonus_03_H_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_04
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_04_info
	}
}

# вариант 5 (U)
apsr_enclave_economy_bonus_03_U_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_05
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_05_info
	}
}

# вариант 6 (C)
apsr_enclave_economy_bonus_03_C_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_06
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_06_info
	}
}

# вариант 7 (A)
apsr_enclave_economy_bonus_03_A_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_07
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_07_info
	}
}

# вариант 8 (V)
apsr_enclave_economy_bonus_03_V_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_08
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_08_info
	}
}

# вариант 9 (E)
apsr_enclave_economy_bonus_03_E_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_09
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_09_info
	}
}

# вариант 10 (R)
apsr_enclave_economy_bonus_03_R_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_10
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_10_info
	}
}

# вариант 11 (B)
apsr_enclave_economy_bonus_03_B_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_3_bonus_is_11
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_11_info
	}
}



### БОНУС 4

# вариант 4 (H)
apsr_enclave_economy_bonus_04_H_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_4_bonus_is_04
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_04_info
	}
}

# вариант 5 (U)
apsr_enclave_economy_bonus_04_U_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_4_bonus_is_05
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_05_info
	}
}

# вариант 6 (C)
apsr_enclave_economy_bonus_04_C_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_4_bonus_is_06
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_06_info
	}
}

# вариант 7 (A)
apsr_enclave_economy_bonus_04_A_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_4_bonus_is_07
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_07_info
	}
}

# вариант 8 (V)
apsr_enclave_economy_bonus_04_V_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_4_bonus_is_08
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_08_info
	}
}

# вариант 9 (E)
apsr_enclave_economy_bonus_04_E_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_4_bonus_is_09
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_09_info
	}
}

# вариант 10 (R)
apsr_enclave_economy_bonus_04_R_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_4_bonus_is_10
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_10_info
	}
}

# вариант 11 (B)
apsr_enclave_economy_bonus_04_B_show = {
	potential = {
		has_country_flag = apsr_enclave_economy_set_4_bonus_is_11
	}
	allow = {
		always = yes
	}
	effect = {
		custom_tooltip = apsr_enclave_economy_bonus_11_info
	}
}