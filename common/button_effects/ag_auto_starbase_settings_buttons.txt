
ag_auto_starbase_type_starbase = {
	potential = { hidden_trigger = { from = { has_country_flag = ag_auto_starbase_settings_starbase } } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_type_orbital_ring = {
	potential = { hidden_trigger = { from = { has_country_flag = ag_auto_starbase_settings_orbital_ring } } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_type_starbase_set = {
	potential = { hidden_trigger = { from = { has_country_flag = ag_auto_starbase_settings_orbital_ring } } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = { from = {
		remove_country_flag = ag_auto_starbase_settings_orbital_ring
		set_country_flag = ag_auto_starbase_settings_starbase
	} } }
}
ag_auto_starbase_type_orbital_ring_set = {
	potential = { hidden_trigger = { from = { has_country_flag = ag_auto_starbase_settings_starbase } } }
	allow = { from = { has_technology = "tech_orbital_ring_tier_1" NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } }
	effect = { hidden_effect = { from = {
		remove_country_flag = ag_auto_starbase_settings_starbase
		set_country_flag = ag_auto_starbase_settings_orbital_ring
	} } }
}

ag_auto_starbase_type_starbase_ion_cannon_counter = {
	potential = { hidden_trigger = { from = { has_country_flag = ag_auto_starbase_settings_starbase } } }
	allow = { hidden_trigger = { always = yes } }
	effect = { custom_tooltip = "ag_auto_starbase_dp_ion_cannon" }
}
ag_auto_starbase_type_orbital_ring_ion_cannon_counter = {
	potential = { hidden_trigger = { from = { has_country_flag = ag_auto_starbase_settings_orbital_ring } } }
	allow = { hidden_trigger = { always = yes } }
	effect = { custom_tooltip = "ag_auto_starbase_dp_ion_cannon" }
}
ag_auto_starbase_type_starbase_military_station_small_counter = {
	potential = { hidden_trigger = { from = { has_country_flag = ag_auto_starbase_settings_starbase } } }
	allow = { hidden_trigger = { always = yes } }
	effect = { custom_tooltip = "ag_auto_starbase_dp_military_station_small" }
}
ag_auto_starbase_type_orbital_ring_military_station_small_counter = {
	potential = { hidden_trigger = { from = { has_country_flag = ag_auto_starbase_settings_orbital_ring } } }
	allow = { hidden_trigger = { always = yes } }
	effect = { custom_tooltip = "ag_auto_starbase_dp_military_station_small" }
}

ag_auto_starbase_lvl_prev = {
	potential = { hidden_trigger = { always = yes } }
	allow = { hidden_trigger = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } }
	effect = { hidden_effect = { from = {
		if = {
			limit = { has_country_flag = ag_auto_starbase_settings_starbase }
			subtract_variable = { which = ag_auto_starbase_default_lvl_starbase value = 1 }
			if = {
				limit = { check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 0 } }
				if = { limit = { has_technology = "tech_starbase_5" } set_variable = { which = ag_auto_starbase_default_lvl_starbase value = 4 } }
				else_if = { limit = { has_technology = "tech_starbase_4" } set_variable = { which = ag_auto_starbase_default_lvl_starbase value = 3 } }
				else_if = { limit = { has_technology = "tech_starbase_3" } set_variable = { which = ag_auto_starbase_default_lvl_starbase value = 2 } }
				else_if = { limit = { has_technology = "tech_starbase_2" } set_variable = { which = ag_auto_starbase_default_lvl_starbase value = 1 } }
				else_if = { limit = { always = yes } set_variable = { which = ag_auto_starbase_default_lvl_starbase value = 0 } }
			}
			if = {
				limit = { check_variable = { which = ag_auto_starbase_default_lvl_starbase value = 0 } }
				set_variable = { which = ag_auto_starbase_module_slot_1_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_2_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_3_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_4_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_5_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_6_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_1_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_2_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_3_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_4_starbase value = 0 }
			}
			else_if = {
				limit = { check_variable = { which = ag_auto_starbase_default_lvl_starbase value = 1 } }
				set_variable = { which = ag_auto_starbase_module_slot_3_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_4_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_5_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_6_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_2_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_3_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_4_starbase value = 0 }
			}
			else_if = {
				limit = { check_variable = { which = ag_auto_starbase_default_lvl_starbase value = 2 } }
				set_variable = { which = ag_auto_starbase_module_slot_5_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_6_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_3_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_4_starbase value = 0 }
			}
			else_if = {
				limit = { check_variable = { which = ag_auto_starbase_default_lvl_starbase value = 3 } }
				set_variable = { which = ag_auto_starbase_building_slot_4_starbase value = 0 }
			}
		}
		else = {
			subtract_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value = 1 }
			if = {
				limit = { check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value < 0 } }
				set_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value = 2 }
			}
			if = {
				limit = { check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value = 0 } }
				set_variable = { which = ag_auto_starbase_module_slot_3_orbital_ring value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_4_orbital_ring value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_1_orbital_ring value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_2_orbital_ring value = 0 }
			}
			else_if = {
				limit = { check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value = 1 } }
				set_variable = { which = ag_auto_starbase_module_slot_4_orbital_ring value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_2_orbital_ring value = 0 }
			}
		}
		ag_auto_starbase_dp_cap_check = yes
	} } }
}
ag_auto_starbase_lvl_next = {
	potential = { hidden_trigger = { always = yes } }
	allow = { hidden_trigger = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } }
	effect = { hidden_effect = { from = {
		if = {
			limit = { has_country_flag = ag_auto_starbase_settings_starbase }
			change_variable = { which = ag_auto_starbase_default_lvl_starbase value = 1 }
			if = {
				limit = { OR = {
					AND = { has_technology = "tech_starbase_5" check_variable = { which = ag_auto_starbase_default_lvl_starbase value > 4 } }
					AND = { NOT = { has_technology = "tech_starbase_5" } has_technology = "tech_starbase_4" check_variable = { which = ag_auto_starbase_default_lvl_starbase value > 3 } }
					AND = { NOT = { has_technology = "tech_starbase_4" } has_technology = "tech_starbase_3" check_variable = { which = ag_auto_starbase_default_lvl_starbase value > 2 } }
					AND = { NOT = { has_technology = "tech_starbase_3" } has_technology = "tech_starbase_2" check_variable = { which = ag_auto_starbase_default_lvl_starbase value > 1 } }
					AND = { NOT = { has_technology = "tech_starbase_2" } check_variable = { which = ag_auto_starbase_default_lvl_starbase value > 0 } }
				} }
				set_variable = { which = ag_auto_starbase_default_lvl_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_1_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_2_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_3_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_4_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_5_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_6_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_1_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_2_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_3_starbase value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_4_starbase value = 0 }
			}
		}
		else = {
			change_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value = 1 }
			if = {
				limit = { check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value > 2 } }
				set_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_3_orbital_ring value = 0 }
				set_variable = { which = ag_auto_starbase_module_slot_4_orbital_ring value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_1_orbital_ring value = 0 }
				set_variable = { which = ag_auto_starbase_building_slot_2_orbital_ring value = 0 }
			}
		}
		ag_auto_starbase_dp_cap_check = yes
	} } }
}

ag_auto_starbase_dp_ion_cannon_minus = {
	potential = { hidden_trigger = { always = yes } }
	allow = {
		from = { has_technology = "tech_titans" }
		hidden_trigger = { from = { OR = {
			AND = { has_country_flag = ag_auto_starbase_settings_starbase check_variable = { which = ag_auto_starbase_dp_starbase_num_ion_cannon value > 0 } }
			AND = { has_country_flag = ag_auto_starbase_settings_orbital_ring check_variable = { which = ag_auto_starbase_dp_orbital_ring_num_ion_cannon value > 0 } }
		} } }
	}
	effect = { hidden_effect = {
		if = {
			limit = { has_country_flag = ag_auto_starbase_settings_starbase }
			subtract_variable = { which = ag_auto_starbase_dp_starbase_num_ion_cannon value = 1 }
			subtract_variable = { which = ag_auto_starbase_dp_starbase_use value = 8 }
		}
		else = {
			subtract_variable = { which = ag_auto_starbase_dp_orbital_ring_num_ion_cannon value = 1 }
			subtract_variable = { which = ag_auto_starbase_dp_orbital_ring_use value = 8 }
		}
	} }
}
ag_auto_starbase_dp_ion_cannon_plus = {
	potential = { hidden_trigger = { always = yes } }
	allow = {
		from = { has_technology = "tech_titans" }
		hidden_trigger = { from = { OR = {
			AND = { has_country_flag = ag_auto_starbase_settings_starbase check_variable_arithmetic = { which = ag_auto_starbase_dp_starbase_use add = 8 value <= ag_auto_starbase_dp_starbase_cap } }
			AND = { has_country_flag = ag_auto_starbase_settings_orbital_ring check_variable_arithmetic = { which = ag_auto_starbase_dp_orbital_ring_use add = 8 value <= ag_auto_starbase_dp_orbital_ring_cap } }
		} } }
	}
	effect = { hidden_effect = {
		if = {
			limit = { has_country_flag = ag_auto_starbase_settings_starbase }
			change_variable = { which = ag_auto_starbase_dp_starbase_num_ion_cannon value = 1 }
			change_variable = { which = ag_auto_starbase_dp_starbase_use value = 8 }
		}
		else = {
			change_variable = { which = ag_auto_starbase_dp_orbital_ring_num_ion_cannon value = 1 }
			change_variable = { which = ag_auto_starbase_dp_orbital_ring_use value = 8 }
		}
	} }
}
ag_auto_starbase_dp_military_station_small_minus = {
	potential = { hidden_trigger = { always = yes } }
	allow = { hidden_trigger = { from = { OR = {
		AND = { has_country_flag = ag_auto_starbase_settings_starbase check_variable = { which = ag_auto_starbase_dp_starbase_num_military_station_small value > 0 } }
		AND = { has_country_flag = ag_auto_starbase_settings_orbital_ring check_variable = { which = ag_auto_starbase_dp_orbital_ring_num_military_station_small value > 0 } }
	} } } }
	effect = { hidden_effect = {
		if = {
			limit = { has_country_flag = ag_auto_starbase_settings_starbase }
			subtract_variable = { which = ag_auto_starbase_dp_starbase_num_military_station_small value = 1 }
			subtract_variable = { which = ag_auto_starbase_dp_starbase_use value = 1 }
		}
		else = {
			subtract_variable = { which = ag_auto_starbase_dp_orbital_ring_num_military_station_small value = 1 }
			subtract_variable = { which = ag_auto_starbase_dp_orbital_ring_use value = 1 }
		}
	} }
}
ag_auto_starbase_dp_military_station_small_plus = {
	potential = { hidden_trigger = { always = yes } }
	allow = { hidden_trigger = { from = { OR = {
		AND = { has_country_flag = ag_auto_starbase_settings_starbase check_variable_arithmetic = { which = ag_auto_starbase_dp_starbase_use add = 1 value <= ag_auto_starbase_dp_starbase_cap } }
		AND = { has_country_flag = ag_auto_starbase_settings_orbital_ring check_variable_arithmetic = { which = ag_auto_starbase_dp_orbital_ring_use add = 1 value <= ag_auto_starbase_dp_orbital_ring_cap } }
	} } } }
	effect = { hidden_effect = {
		if = {
			limit = { has_country_flag = ag_auto_starbase_settings_starbase }
			change_variable = { which = ag_auto_starbase_dp_starbase_num_military_station_small value = 1 }
			change_variable = { which = ag_auto_starbase_dp_starbase_use value = 1 }
		}
		else = {
			change_variable = { which = ag_auto_starbase_dp_orbital_ring_num_military_station_small value = 1 }
			change_variable = { which = ag_auto_starbase_dp_orbital_ring_use value = 1 }
		}
	} }
}

#########################################################
###						Locked Icons
#########################################################
ag_auto_starbase_module_slot_1_locked = {
	potential = { hidden_trigger = { from = {
		has_country_flag = ag_auto_starbase_settings_starbase
		is_variable_set = ag_auto_starbase_default_lvl_starbase
		check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 1 }
	} } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_module_slot_2_locked = {
	potential = { hidden_trigger = { from = {
		has_country_flag = ag_auto_starbase_settings_starbase
		is_variable_set = ag_auto_starbase_default_lvl_starbase
		check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 1 }
	} } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_module_slot_3_locked = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 2 }
			}
			AND = {
				has_country_flag = ag_auto_starbase_settings_orbital_ring
				is_variable_set = ag_auto_starbase_default_lvl_orbital_ring
				check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value < 1 }
			}
		}
	} } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_module_slot_4_locked = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 2 }
			}
			AND = {
				has_country_flag = ag_auto_starbase_settings_orbital_ring
				is_variable_set = ag_auto_starbase_default_lvl_orbital_ring
				check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value < 2 }
			}
		}
	} } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_module_slot_5_locked = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 3 }
			}
			has_country_flag = ag_auto_starbase_settings_orbital_ring
		}
	} } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_module_slot_6_locked = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 3 }
			}
			has_country_flag = ag_auto_starbase_settings_orbital_ring
		}
	} } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_building_slot_1_locked = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 1 }
			}
			AND = {
				has_country_flag = ag_auto_starbase_settings_orbital_ring
				is_variable_set = ag_auto_starbase_default_lvl_orbital_ring
				check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value < 1 }
			}
		}
	} } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_building_slot_2_locked = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 2 }
			}
			AND = {
				has_country_flag = ag_auto_starbase_settings_orbital_ring
				is_variable_set = ag_auto_starbase_default_lvl_orbital_ring
				check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value < 2 }
			}
		}
	} } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_building_slot_3_locked = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 3 }
			}
			has_country_flag = ag_auto_starbase_settings_orbital_ring
		}
	} } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_auto_starbase_building_slot_4_locked = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value < 4 }
			}
			has_country_flag = ag_auto_starbase_settings_orbital_ring
		}
	} } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}

#########################################################
###						Empty Icons
#########################################################
ag_auto_starbase_module_slot_1_empty = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value >= 1 }
				is_variable_set = ag_auto_starbase_module_slot_1_starbase
				check_variable = { which = ag_auto_starbase_module_slot_1_starbase value = 0 }
			}
			AND = {
				has_country_flag = ag_auto_starbase_settings_orbital_ring
				is_variable_set = ag_auto_starbase_module_slot_1_orbital_ring
				check_variable = { which = ag_auto_starbase_module_slot_1_orbital_ring value = 0 }
			}
		}
	} } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = {
		from = { set_country_flag = ag_auto_starbase_slot_selector_module set_country_flag = ag_auto_starbase_slot_selector_module_1 country_event = { id = ag_ancient.151 } }
	} }
}
ag_auto_starbase_module_slot_2_empty = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value >= 1 }
				is_variable_set = ag_auto_starbase_module_slot_2_starbase
				check_variable = { which = ag_auto_starbase_module_slot_2_starbase value = 0 }
			}
			AND = {
				has_country_flag = ag_auto_starbase_settings_orbital_ring
				is_variable_set = ag_auto_starbase_module_slot_2_orbital_ring
				check_variable = { which = ag_auto_starbase_module_slot_2_orbital_ring value = 0 }
			}
		}
	} } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = {
		from = { set_country_flag = ag_auto_starbase_slot_selector_module set_country_flag = ag_auto_starbase_slot_selector_module_2 country_event = { id = ag_ancient.151 } }
	} }
}
ag_auto_starbase_module_slot_3_empty = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value >= 2 }
				is_variable_set = ag_auto_starbase_module_slot_3_starbase
				check_variable = { which = ag_auto_starbase_module_slot_3_starbase value = 0 }
			}
			AND = {
				has_country_flag = ag_auto_starbase_settings_orbital_ring
				is_variable_set = ag_auto_starbase_default_lvl_orbital_ring
				check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value >= 1 }
				is_variable_set = ag_auto_starbase_module_slot_3_orbital_ring
				check_variable = { which = ag_auto_starbase_module_slot_3_orbital_ring value = 0 }
			}
		}
	} } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = {
		from = { set_country_flag = ag_auto_starbase_slot_selector_module set_country_flag = ag_auto_starbase_slot_selector_module_3 country_event = { id = ag_ancient.151 } }
	} }
}
ag_auto_starbase_module_slot_4_empty = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value >= 2 }
				is_variable_set = ag_auto_starbase_module_slot_4_starbase
				check_variable = { which = ag_auto_starbase_module_slot_4_starbase value = 0 }
			}
			AND = {
				has_country_flag = ag_auto_starbase_settings_orbital_ring
				is_variable_set = ag_auto_starbase_default_lvl_orbital_ring
				check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value >= 2 }
				is_variable_set = ag_auto_starbase_module_slot_4_orbital_ring
				check_variable = { which = ag_auto_starbase_module_slot_4_orbital_ring value = 0 }
			}
		}
	} } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = {
		from = { set_country_flag = ag_auto_starbase_slot_selector_module set_country_flag = ag_auto_starbase_slot_selector_module_4 country_event = { id = ag_ancient.151 } }
	} }
}
ag_auto_starbase_module_slot_5_empty = {
	potential = { hidden_trigger = { from = {
		has_country_flag = ag_auto_starbase_settings_starbase
		is_variable_set = ag_auto_starbase_default_lvl_starbase
		check_variable = { which = ag_auto_starbase_default_lvl_starbase value >= 3 }
		is_variable_set = ag_auto_starbase_module_slot_5_starbase
		check_variable = { which = ag_auto_starbase_module_slot_5_starbase value = 0 }
	} } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = {
		from = { set_country_flag = ag_auto_starbase_slot_selector_module set_country_flag = ag_auto_starbase_slot_selector_module_5 country_event = { id = ag_ancient.151 } }
	} }
}
ag_auto_starbase_module_slot_6_empty = {
	potential = { hidden_trigger = { from = {
		has_country_flag = ag_auto_starbase_settings_starbase
		is_variable_set = ag_auto_starbase_default_lvl_starbase
		check_variable = { which = ag_auto_starbase_default_lvl_starbase value >= 3 }
		is_variable_set = ag_auto_starbase_module_slot_6_starbase
		check_variable = { which = ag_auto_starbase_module_slot_6_starbase value = 0 }
	} } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = {
		from = { set_country_flag = ag_auto_starbase_slot_selector_module set_country_flag = ag_auto_starbase_slot_selector_module_6 country_event = { id = ag_ancient.151 } }
	} }
}
ag_auto_starbase_building_slot_1_empty = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value >= 1 }
				is_variable_set = ag_auto_starbase_building_slot_1_starbase
				check_variable = { which = ag_auto_starbase_building_slot_1_starbase value = 0 }
			}
			AND = {
				has_country_flag = ag_auto_starbase_settings_orbital_ring
				is_variable_set = ag_auto_starbase_default_lvl_orbital_ring
				check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value >= 1 }
				is_variable_set = ag_auto_starbase_building_slot_1_orbital_ring
				check_variable = { which = ag_auto_starbase_building_slot_1_orbital_ring value = 0 }
			}
		}
	} } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = {
		from = { set_country_flag = ag_auto_starbase_slot_selector_building set_country_flag = ag_auto_starbase_slot_selector_building_1 country_event = { id = ag_ancient.151 } }
	} }
}
ag_auto_starbase_building_slot_2_empty = {
	potential = { hidden_trigger = { from = {
		OR = {
			AND = {
				has_country_flag = ag_auto_starbase_settings_starbase
				is_variable_set = ag_auto_starbase_default_lvl_starbase
				check_variable = { which = ag_auto_starbase_default_lvl_starbase value >= 2 }
				is_variable_set = ag_auto_starbase_building_slot_2_starbase
				check_variable = { which = ag_auto_starbase_building_slot_2_starbase value = 0 }
			}
			AND = {
				has_country_flag = ag_auto_starbase_settings_orbital_ring
				is_variable_set = ag_auto_starbase_default_lvl_orbital_ring
				check_variable = { which = ag_auto_starbase_default_lvl_orbital_ring value >= 2 }
				is_variable_set = ag_auto_starbase_building_slot_2_orbital_ring
				check_variable = { which = ag_auto_starbase_building_slot_2_orbital_ring value = 0 }
			}
		}
	} } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = {
		from = { set_country_flag = ag_auto_starbase_slot_selector_building set_country_flag = ag_auto_starbase_slot_selector_building_2 country_event = { id = ag_ancient.151 } }
	} }
}
ag_auto_starbase_building_slot_3_empty = {
	potential = { hidden_trigger = { from = {
		has_country_flag = ag_auto_starbase_settings_starbase
		is_variable_set = ag_auto_starbase_default_lvl_starbase
		check_variable = { which = ag_auto_starbase_default_lvl_starbase value >= 3 }
		is_variable_set = ag_auto_starbase_building_slot_3_starbase
		check_variable = { which = ag_auto_starbase_building_slot_3_starbase value = 0 }
	} } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = {
		from = { set_country_flag = ag_auto_starbase_slot_selector_building set_country_flag = ag_auto_starbase_slot_selector_building_3 country_event = { id = ag_ancient.151 } }
	} }
}
ag_auto_starbase_building_slot_4_empty = {
	potential = { hidden_trigger = { from = {
		has_country_flag = ag_auto_starbase_settings_starbase
		is_variable_set = ag_auto_starbase_default_lvl_starbase
		check_variable = { which = ag_auto_starbase_default_lvl_starbase value >= 4 }
		is_variable_set = ag_auto_starbase_building_slot_4_starbase
		check_variable = { which = ag_auto_starbase_building_slot_4_starbase value = 0 }
	} } }
	allow = { hidden_trigger = { from = { NOT = { has_country_flag = ag_auto_starbase_slot_selector_opened } } } }
	effect = { hidden_effect = {
		from = { set_country_flag = ag_auto_starbase_slot_selector_building set_country_flag = ag_auto_starbase_slot_selector_building_4 country_event = { id = ag_ancient.151 } }
	} }
}

#########################################################
###						Module Icons
#########################################################
####################################################################################
# New auto starbase support module/building: (3.m) Register module in button effect.
####################################################################################
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "shipyard" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "anchorage" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "gun_battery" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "missile_battery" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "hangar_bay" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "solar_panel_network" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "trading_hub" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "detection_array" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "archaeo_rampart" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "orbital_ring_habitation" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "orbital_ring_shipyard" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "orbital_ring_anchorage" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "orbital_ring_gun_battery" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "orbital_ring_missile_battery" }
inline_script = { script = "buttons/ag_auto_starbase_module_buttons" ag_index = "orbital_ring_hangar_bay" }

#########################################################
###						Building Icons
#########################################################
####################################################################################
# New auto starbase support module/building: (3.b) Register building in button effect.
####################################################################################
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "crew_quarters" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "hydroponics_bay" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "resource_silo" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "nebula_refinery" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "listening_post" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "offworld_trading_company" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "fleet_academy" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "naval_logistics_office" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "titan_yards" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "colossus_yards" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "black_hole_observatory" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "target_uplink_computer" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "defense_grid" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "deep_space_black_site" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "curator_think_tank" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "art_college" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "salvager_workshop" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "shroud_beacon" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "communications_jammer" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "disruption_field" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "warp_fluctuator" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "transit_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "command_center" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "trader_proxy_office" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "dragon_hatchery" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ice_mining_station" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "offspring_outlook" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "mercenary_garrison" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_minerals_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_energy_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_food_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_trade_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_bureaucracy_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_synapse_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_maintenance_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_consumer_goods_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_alloys_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ag_iota_enclave_building" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ag_orbital_ring_building_living_metal" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ag_orbital_ring_building_nanites" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ag_orbital_ring_building_dark_matter" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ag_orbital_ring_building_zro" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "cordyceptic_reanimation_facility" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_psi_corps" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_orbital_shield_generator" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_galactic_stock_exchange" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_embassy_complex" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_noble_estates" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "ring_slave_processing_facility" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "dark_matter_detector" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "dark_matter_listening_post" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "cybrex_mining_hub" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "irassian_naval_yards" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "yuht_detection_array" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "zroni_storm_caster" }
inline_script = { script = "buttons/ag_auto_starbase_building_buttons" ag_index = "archaeo_overcharger" }
