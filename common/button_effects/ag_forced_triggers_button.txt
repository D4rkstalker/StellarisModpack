
ag_forced_triggers_on = {
	potential = { hidden_trigger = { NOT = { has_global_flag = ag_forced_triggers_on } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		hidden_effect = {
			set_global_flag = ag_forced_triggers_on
			from = {
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					change_variable = { which = ag_debug_mode_counter value = 1 }
					if = {
						limit = { check_variable = { which = ag_debug_mode_counter value = 5 } }
						set_global_flag = ag_debug_mode_on
					}
				}
				else = { set_global_flag = ag_debug_mode_on }
			}
		}
	}
}
ag_forced_triggers_off = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		hidden_effect = {
			remove_global_flag = ag_forced_triggers_on
			from = {
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					change_variable = { which = ag_debug_mode_counter value = 1 }
				}
			}
		}
	}
}
ag_forced_triggers_arrow_button = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}

ag_forced_spawn_alpha_area = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_alpha_area_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_alpha_area_effect"
		hidden_effect = {
			from = {
				country_event = { id = ag_alpha.1 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}
ag_forced_spawn_alpha_area_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_alpha_area_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_beta_area = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_beta_area_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_beta_area_effect"
		hidden_effect = {
			from = {
				country_event = { id = ag_beta.1 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}
ag_forced_spawn_beta_area_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_beta_area_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_gamma_area = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_gamma_area_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_gamma_area_effect"
		hidden_effect = {
			from = {
				country_event = { id = ag_gamma.1 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}
ag_forced_trigger_gamma_crisis = {
	potential = {
		hidden_trigger = {
			has_global_flag = ag_forced_triggers_on
			has_global_flag = ag_gamma_area_spawned
			NOT = { has_global_flag = ag_gamma_crisis_began }
			NOT = { has_global_flag = ag_gamma_crisis_forced_trigger }
		}
	}
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_trigger_gamma_crisis_effect"
		hidden_effect = {
			from = {
				set_global_flag = ag_gamma_crisis_forced_trigger
				if = {
					limit = { NOT = { has_global_flag = ag_gamma_security_lock_1_breached } }
					country_event = { id = ag_gamma.12 days = 1 }
				}
				if = {
					limit = { NOT = { has_global_flag = ag_gamma_guardian_awakened } }
					country_event = { id = ag_gamma.20 days = 2 }
				}
				country_event = { id = ag_gamma.22 days = 3 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}
ag_forced_spawn_gamma_area_alt = {
	potential = {
		hidden_trigger = {
			has_global_flag = ag_forced_triggers_on
			OR = {
				has_global_flag = ag_gamma_crisis_forced_trigger
				has_global_flag = ag_gamma_crisis_began
			}
		}
	}
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_delta_area = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_delta_area_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_delta_area_effect"
		hidden_effect = {
			from = {
				country_event = { id = ag_delta.1 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}
ag_forced_spawn_delta_area_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_delta_area_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_epsilon_area = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_epsilon_area_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_epsilon_area_effect"
		hidden_effect = {
			from = {
				country_event = { id = ag_epsilon.1 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}
ag_forced_spawn_epsilon_area_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_epsilon_area_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_zeta_area = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_zeta_area_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_zeta_area_effect"
		hidden_effect = {
			from = {
				country_event = { id = ag_zeta.1 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}
ag_forced_trigger_zeta_crisis = {
	potential = {
		hidden_trigger = {
			has_global_flag = ag_forced_triggers_on
			has_global_flag = ag_zeta_area_spawned
			NOT = { has_global_flag = ag_zeta_crisis_stage_3 }
			NOT = { has_global_flag = ag_zeta_crisis_forced_trigger}
		}
	}
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_trigger_zeta_crisis_effect"
		hidden_effect = {
			set_global_flag = ag_zeta_crisis_forced_trigger
			from = {
				set_global_flag = ag_zeta_crisis_stage_1
				if = {
					limit = { NOT = { has_global_flag = ag_zeta_crisis_stage_2 } }
					country_event = { id = ag_zeta_crisis.11 days = 1 }
				}
				country_event = { id = ag_zeta_crisis.21 days = 2 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}
ag_forced_spawn_zeta_area_alt = {
	potential = {
		hidden_trigger = {
			has_global_flag = ag_forced_triggers_on
			OR = {
				has_global_flag = ag_zeta_crisis_forced_trigger
				has_global_flag = ag_zeta_crisis_stage_3
			}
		}
	}
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}

ag_forced_spawn_eta_area = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_eta_area_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_eta_area_effect"
		hidden_effect = {
			from = {
				country_event = { id = ag_eta.1 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}

ag_forced_spawn_eta_area_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_eta_area_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}

ag_forced_spawn_theta_area = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_theta_area_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_theta_area_effect"
		hidden_effect = {
			from = {
				country_event = { id = ag_primitive.141 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}
ag_forced_spawn_theta_area_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_theta_area_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_iota_area = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_iota_area_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_iota_area_effect"
		hidden_effect = {
			from = {
				country_event = { id = ag_iota.1 }
				if = {
					limit = {
						NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } }
					}
					set_variable = { which = ag_debug_mode_counter value = 0 }
				}
			}
		}
	}
}
ag_forced_spawn_iota_area_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_iota_area_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}

ag_forced_spawn_primitive_1 = {
	potential = { hidden_trigger = {
		has_global_flag = ag_forced_triggers_on
		NOT = { has_global_flag = ag_4762_preserved_world_spawned }
	} }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_primitive_1_effect"
		hidden_effect = { from = {
			save_event_target_as = ag_system_discover_country
			ag_find_spawn_system_source = yes
			event_target:ag_target_system_location = {
				set_star_flag = ag_spawn_system_targe
				spawn_system = {
					min_distance >= 20
					max_distance <= 50
					initializer = "ag_primitive_system"
					hyperlane = yes
				}
			}
			if = {
				limit = { NOT = { has_event_chain = "ag_hidden_system_chain" } }
				begin_event_chain = { event_chain = "ag_hidden_system_chain" target = root.owner }
			}
			create_point_of_interest = {
				id = ag_ancient_location_1_poi
				name = "ag_ancient_location_1_poi"
				desc = "ag_ancient_location_1_desc"
				event_chain = "ag_hidden_system_chain"
				location = event_target:ag_primitive_world.solar_system.star
			}
			every_country = {
				limit = { NOT = { is_same_value = event_target:ag_system_discover_country } }
				country_event = { id = ag_spawn.33 }
			}
			if = {
				limit = { NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } } }
				set_variable = { which = ag_debug_mode_counter value = 0 }
			}
		} }
	}
}
ag_forced_spawn_primitive_2 = {
	potential = { hidden_trigger = {
		has_global_flag = ag_forced_triggers_on
		has_global_flag = ag_4762_preserved_world_spawned
		NOT = { has_global_flag = ag_5524_preserved_world_spawned }
	} }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_primitive_2_effect"
		hidden_effect = { from = {
			set_country_flag = ag_primitive_61_fired
			if = {
				limit = { NOT = { has_country_flag = ag_primitive_world_failsafe_flag } }
				set_country_flag = ag_primitive_research_mission_flag
			}
			set_global_flag = ag_primitive_research_mission_global_flag
			save_event_target_as = ag_system_discover_country
			ag_spawn_ancient_system = { ag_system_to_spawn = "ag_primitive_system_2" }
			if = {
				limit = { NOT = { has_event_chain = "ag_hidden_system_chain" } }
				begin_event_chain = { event_chain = "ag_hidden_system_chain" target = root.owner }
			}
			create_point_of_interest = {
				id = ag_ancient_location_2_poi
				name = "ag_ancient_location_2_poi"
				desc = "ag_ancient_location_2_desc"
				event_chain = "ag_hidden_system_chain"
				location = event_target:ag_primitive_world_2.solar_system.star
			}
			every_country = {
				limit = { NOT = { is_same_value = event_target:ag_system_discover_country } }
				country_event = { id = ag_spawn.33 }
			}
			if = {
				limit = { NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } } }
				set_variable = { which = ag_debug_mode_counter value = 0 }
			}
		} }
	}
}
ag_forced_spawn_primitive_3 = {
	potential = { hidden_trigger = {
		has_global_flag = ag_forced_triggers_on
		has_global_flag = ag_4762_preserved_world_spawned
		has_global_flag = ag_5524_preserved_world_spawned
		NOT = { has_global_flag = ag_9102_preserved_world_spawned }
	} }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_primitive_3_effect"
		hidden_effect = { from = {
			set_country_flag = ag_primitive_91_fired
			if = {
				limit = { NOT = { has_country_flag = ag_primitive_2_research_mission_flag } }
				set_country_flag = ag_primitive_2_research_mission_flag
			}
			set_global_flag = ag_primitive_2_research_mission_global_flag
			save_event_target_as = ag_system_discover_country
			ag_spawn_ancient_system = { ag_system_to_spawn = "ag_primitive_system_3" }
			if = {
				limit = { NOT = { has_event_chain = "ag_hidden_system_chain" } }
				begin_event_chain = { event_chain = "ag_hidden_system_chain" target = root.owner }
			}
			create_point_of_interest = {
				id = ag_ancient_location_3_poi
				name = "ag_ancient_location_3_poi"
				desc = "ag_ancient_location_3_desc"
				event_chain = "ag_hidden_system_chain"
				location = event_target:ag_primitive_broken_world
			}
			every_country = {
				limit = { NOT = { is_same_value = event_target:ag_system_discover_country } }
				country_event = { id = ag_spawn.33 }
			}
			if = {
				limit = { NOT = { check_variable = { which = ag_debug_mode_counter value > 4 } } }
				set_variable = { which = ag_debug_mode_counter value = 0 }
			}
		} }
	}
}
ag_forced_spawn_primitive_alt = {
	potential = { hidden_trigger = {
		has_global_flag = ag_forced_triggers_on
		has_global_flag = ag_4762_preserved_world_spawned
		has_global_flag = ag_5524_preserved_world_spawned
		has_global_flag = ag_9102_preserved_world_spawned
	} }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}

ag_forced_spawn_wandering_ship = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_wanderer_site_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_wandering_ship_effect"
		hidden_effect = {
			set_global_flag = ag_wanderer_site_spawned
			from = {
				if = {
					limit = { NOT = { has_country_flag = ag_encountered_first_anchor_station } }
					set_country_flag = ag_encountered_first_anchor_station
				}
				if = {
					limit = { any_owned_planet = {
						is_capital = no
						solar_system = {
							NOT = { any_system_planet = { is_capital = yes } }
							any_system_planet = {
								OR = {
									is_planet_class = pc_barren
									is_planet_class = pc_barren_cold
									is_planet_class = pc_frozen
									is_planet_class = pc_toxic
								}
							}
						}
					} }
					random_owned_planet = {
						limit = {
							is_capital = no
							solar_system = {
								NOT = { any_system_planet = { is_capital = yes } }
								any_system_planet = {
									OR = {
										is_planet_class = pc_barren
										is_planet_class = pc_barren_cold
										is_planet_class = pc_frozen
										is_planet_class = pc_toxic
									}
								}
							}
						}
						solar_system = { random_system_planet = {
							limit = { OR = {
								is_planet_class = pc_barren
								is_planet_class = pc_barren_cold
								is_planet_class = pc_frozen
								is_planet_class = pc_toxic
							} }
							save_global_event_target_as = ag_riikinak_colony_planet
							enable_special_project = { name = "ag_riikinak_colony_project" location = this owner = root.from }
						} }
					}
				}
				else_if = {
					limit = { any_planet_within_border = {
						OR = {
							is_planet_class = pc_barren
							is_planet_class = pc_barren_cold
							is_planet_class = pc_frozen
							is_planet_class = pc_toxic
						}
					} }
					random_planet_within_border = {
						limit = { OR = {
							is_planet_class = pc_barren
							is_planet_class = pc_barren_cold
							is_planet_class = pc_frozen
							is_planet_class = pc_toxic
						} }
						save_global_event_target_as = ag_riikinak_colony_planet
						enable_special_project = { name = "ag_riikinak_colony_project" location = this owner = root.from }
					}
				}
				else_if = {
					limit = { always = yes }
					random_system_within_border = {
						save_global_event_target_as = ag_riikinak_colony_planet
						enable_special_project = { name = "ag_riikinak_colony_project" location = this owner = root.from }
					}
				}
			}
		}
	}
}
ag_forced_spawn_wandering_ship_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_wanderer_site_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_lost_ancient_ship = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_lost_ancient_ship_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_lost_ancient_ship_effect"
		hidden_effect = {
			set_global_flag = ag_lost_ancient_ship_spawned
			from = {
				if = {
					limit = { NOT = { exists = event_target:ag_lost_ancient_ship_country } }
					ag_create_ancient_guardian = {
						ag_country_name = "NAME_ag_lost_ancient_ship_country_2"
						ag_country_type = ag_lost_ancient_ship_country
					}
					last_created_country = {
						save_global_event_target_as = ag_lost_ancient_ship_country
						establish_communications_no_message = root
						ag_ancient_country_friendly_to_each_other = yes
					}
				}
				if = {
					limit = { exists = event_target:ag_lost_ancient_ship_owner }
					clear_global_event_target = ag_lost_ancient_ship_owner
				}
				save_global_event_target_as = ag_lost_ancient_ship_owner
				set_country_flag = ag_lost_ancient_ship_battleship_form_active
				set_country_flag = ag_lost_ancient_ship_target_guardian_sphere_protected
				create_fleet = {
					name = "NAME_ag_lost_ancient_ship_fleet"
					settings = { spawn_debris = no }
					effect = {
						set_fleet_flag = ag_has_ancient_ship_in_fleet
						set_owner = root
						create_ship = {
							name = "NAME_ag_lost_ancient_ship"
							design = "NAME_ag_lost_ancient_ship_battleship_form"
							prefix = no
							effect = {
								ag_difficulty_bonus = yes
								if = { limit = { exists = event_target:ag_starlight_2_ship } clear_global_event_target = ag_starlight_2_ship }
								save_global_event_target_as = ag_starlight_2_ship
								set_ship_flag = ag_lost_ancient_ship
							}
						}
						set_location = { target = root.capital_scope distance = 45 angle = random }
					}
				}
			}
		}
	}
}
ag_forced_spawn_lost_ancient_ship_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_lost_ancient_ship_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_aura_battleship_site = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_aura_battleship_site_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_aura_battleship_site_effect"
		hidden_effect = {
			set_global_flag = ag_aura_battleship_site_spawned
			from = {
				set_country_flag = ag_precursor_research_facility_site_discovered
				if = {
					limit = { any_planet_within_border = {
						exists = owner
						owner = { is_same_value = prevprev }
						exists = controller
						controller = { is_same_value = prevprev }
						is_colony = yes
						is_capital = no
						num_pops > 5
						has_ground_combat = no
						has_moon = yes
						any_moon = {
							NOT = { exists = archaeological_site }
							OR = {
								is_planet_class = pc_barren
								is_planet_class = pc_barren_cold
							}
						}
					} }
					random_planet_within_border = {
						limit = {
							exists = owner
							owner = { is_same_value = prevprev }
							exists = controller
							controller = { is_same_value = prevprev }
							is_colony = yes
							is_capital = no
							num_pops > 5
							has_ground_combat = no
							has_moon = yes
							any_moon = {
								NOT = { exists = archaeological_site }
								OR = {
									is_planet_class = pc_barren
									is_planet_class = pc_barren_cold
								}
							}
						}
						random_moon = {
							limit = {
								NOT = { exists = archaeological_site }
								OR = {
									is_planet_class = pc_barren
									is_planet_class = pc_barren_cold
								}
							}
							save_event_target_as = ag_target_moon
						}
						create_archaeological_site = ag_precursor_research_facility_site
					}
				}
				else = { random_planet_within_border = { create_archaeological_site = ag_precursor_research_facility_site } }
			}
		}
	}
}
ag_forced_spawn_aura_battleship_site_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_aura_battleship_site_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_dimensional_obelisk_site = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_dimensional_obelisk_site_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_dimensional_obelisk_site_effect"
		hidden_effect = {
			set_global_flag = ag_dimensional_obelisk_site_spawned
			from = {
				set_country_flag = ag_dimensional_obelisk_site_discovered
				if = {
					limit = { any_planet_within_border = {
						is_planet_class = pc_toxic
						NOT = { exists = archaeological_site }
					} }
					random_planet_within_border = {
						limit = {
							is_planet_class = pc_toxic
							NOT = { exists = archaeological_site }
						}
						create_archaeological_site = ag_dimensional_obelisk_site
					}
				}
				else = { random_planet_within_border = { create_archaeological_site = ag_dimensional_obelisk_site } }
			}
		}
	}
}
ag_forced_spawn_dimensional_obelisk_site_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_dimensional_obelisk_site_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_adv_lab_site = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_4662_preserve_area_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_adv_lab_site_effect"
		hidden_effect = {
			set_global_flag = ag_4662_preserve_area_spawned
			from = { enable_special_project = {
				name = "ag_located_primitive_system_4"
				location = capital_scope
			} }
		}
	}
}
ag_forced_spawn_adv_lab_site_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_4662_preserve_area_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_adv_col_site = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_adv_col_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_adv_col_site_effect"
		hidden_effect = {
			set_global_flag = ag_adv_col_spawned
			from = {
				set_country_flag = ag_buried_city_site_discovered
				if = {
					limit = { any_owned_planet = {
						OR = {
							is_planet_class = pc_desert
							is_planet_class = pc_arid
							is_planet_class = pc_gaia		# In some op mods environment, ordinary planets are rare.
						}
						is_capital = no
						has_ground_combat = no
						num_pops > 4
						exists = controller
						controller = { is_same_value = prev.owner }
					} }
					random_owned_planet = {
						limit = {
							OR = {
								is_planet_class = pc_desert
								is_planet_class = pc_arid
								is_planet_class = pc_gaia		# In some op mods environment, ordinary planets are rare.
							}
							is_capital = no
							has_ground_combat = no
							num_pops > 4
							exists = controller
							controller = { is_same_value = prev.owner }
						}
						create_archaeological_site = ag_buried_city_site
					}
				}
				else = { random_planet_within_border = { create_archaeological_site = ag_buried_city_site } }
			}
		}
	}
}
ag_forced_spawn_adv_col_site_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_adv_col_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_space_mine_site = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_abnomal_wreckage_spawned } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_space_mine_site_effect"
		hidden_effect = {
			set_global_flag = ag_abnomal_wreckage_spawned
			from = {
				set_country_flag = ag_abnomal_wreckage_site_discovered
				if = {
					limit = { any_system_within_border = {
						ag_is_ancient_system = no
						OR = {
							is_star_class = sc_g
							is_star_class = sc_k
							is_star_class = sc_m
							is_star_class = sc_m_giant
						}
						any_system_planet = {
							is_primary_star = yes
							OR = {
								is_planet_class = pc_g_star
								is_planet_class = pc_k_star
								is_planet_class = pc_m_star
								is_planet_class = pc_m_giant_star
							}
						}
						any_system_planet = {
							is_asteroid = yes
							OR = {
								is_planet_class = pc_asteroid
								is_planet_class = pc_ice_asteroid
							}
						}
						NOT = { any_system_planet = { OR = {
							is_colony = yes
							is_under_colonization = yes
						} } }
					} }
					random_system_within_border = {
						limit = {
							ag_is_ancient_system = no
							OR = {
								is_star_class = sc_g
								is_star_class = sc_k
								is_star_class = sc_m
								is_star_class = sc_m_giant
							}
							any_system_planet = {
								is_primary_star = yes
								OR = {
									is_planet_class = pc_g_star
									is_planet_class = pc_k_star
									is_planet_class = pc_m_star
									is_planet_class = pc_m_giant_star
								}
							}
							any_system_planet = {
								is_asteroid = yes
								OR = {
									is_planet_class = pc_asteroid
									is_planet_class = pc_ice_asteroid
								}
							}
							NOT = { any_system_planet = { OR = {
								is_colony = yes
								is_under_colonization = yes
							} } }
						}
						star = { create_archaeological_site = ag_abnomal_wreckage_star_site }
					}
				}
				else = { random_planet_within_border = { create_archaeological_site = ag_abnomal_wreckage_star_site } }
			}
		}
	}
}
ag_forced_spawn_space_mine_site_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_abnomal_wreckage_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_science_constructor_project = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_side_471_fired } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_science_constructor_project_effect"
		hidden_effect = {
			set_global_flag = ag_side_471_fired
			if = {
				limit = { any_planet_within_border = { is_planet_class = pc_gas_giant } }
				random_planet_within_border = {
					limit = { is_planet_class = pc_gas_giant }
					enable_special_project = { name = "ag_salvage_gas_giant_ship" owner = root.from location = this }
				}
			}
			else = { random_planet_within_border = {
				enable_special_project = { name = "ag_salvage_gas_giant_ship" owner = root.from location = this }
			} }
		}
	}
}
ag_forced_spawn_science_constructor_project_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_side_471_fired } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_forced_spawn_auto_starbase_site = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_side_471_fired } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_forced_spawn_auto_starbase_site_effect"
		hidden_effect = {
			set_global_flag = ag_auto_starbase_spawned
			if = {
				limit = { any_owned_planet = {
					OR = {
						is_planet_class = pc_ocean
						is_planet_class = pc_continental
						is_planet_class = pc_gaia			# In some op mods environment, ordinary planets are rare.
					}
					is_capital = no
					solar_system = { NOT = { any_system_planet = { is_colony = yes is_capital = yes } } }
					has_ground_combat = no
					num_pops > 4
					exists = controller
					controller = { is_same_value = prev.owner }
					NOT = { exists = archaeological_site }
					has_moon = yes
					# any_moon = {
						# OR = {
							# is_planet_class = pc_barren
							# is_planet_class = pc_barren_cold
						# }
						# NOT = { exists = archaeological_site }
					# }
				} }
				random_owned_planet = {
					limit = {
						OR = {
							is_planet_class = pc_ocean
							is_planet_class = pc_continental
							is_planet_class = pc_gaia			# In some op mods environment, ordinary planets are rare.
						}
						is_capital = no
						solar_system = { NOT = { any_system_planet = { is_colony = yes is_capital = yes } } }
						has_ground_combat = no
						num_pops > 4
						exists = controller
						controller = { is_same_value = prev.owner }
						NOT = { exists = archaeological_site }
						has_moon = yes
						# any_moon = {
							# OR = {
								# is_planet_class = pc_barren
								# is_planet_class = pc_barren_cold
							# }
							# NOT = { exists = archaeological_site }
						# }
					}
					planet_event = { id = ag_side.501 days = 30 random = 30 }
				}
			}
			else = { random_owned_planet = { planet_event = { id = ag_side.501 days = 30 random = 30 } } }
		}
	}
}
ag_forced_spawn_auto_starbase_site_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_auto_starbase_spawned } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}

ag_debug_mod_button = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_debug_mode_on } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		if = {
			limit = { NOT = { has_modifier = ag_debug_modifier_buff_common } }
			custom_tooltip = "ag_debug_mod_button_effect"
		}
		else = { custom_tooltip = "ag_debug_mod_button_effect_alt" }
		hidden_effect = {
			play_sound = choose_ascension_perk
			from = {
				if = {
					limit = { NOT = { has_modifier = "ag_debug_modifier_buff_common" } }
					add_modifier = { modifier = "ag_debug_modifier_buff_common" days = -1 }
					add_resource = {
						energy = 10000000
						minerals = 10000000
						food = 10000000
						alloys = 10000000
						consumer_goods = 10000000
						volatile_motes = 10000000
						exotic_gases = 10000000
						rare_crystals = 10000000
						sr_living_metal = 10000000
						sr_dark_matter = 10000000
						sr_zro = 10000000
						nanites = 10000000
						minor_artifacts = 1000000
						menace = 1000000
						
						ag_ancient_knowledge = 1000000
						ag_class_5_singularity = 1000000
						ag_matter_generator = 1000000
						ag_fabrication_facility = 1000000
						ag_ancient_unknown_building = 1000000
					}
					every_system = { every_system_planet = {
						limit = { is_star = no is_asteroid = no }
						set_planet_flag = ag_ancient_construction_section
						solar_system.star = { change_variable = { which = ag_construction_section_counter value = 1 } }
					} }
				}
				else = { remove_modifier = "ag_debug_modifier_buff_common" }
			}
		}
	}
}
ag_debug_mod_button_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on NOT = { has_global_flag = ag_debug_mode_on } } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}

ag_give_all_ship_designs = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_debug_mode_on from = { NOT = { has_country_flag = ag_all_ship_designs_flag } } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_give_all_ship_designs_effect"
		hidden_effect = { from = { set_country_flag = ag_all_ship_designs_flag country_event = { id = ag_settings.112 } } }
	}
}
ag_give_all_ship_designs_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_debug_mode_on from = { has_country_flag = ag_all_ship_designs_flag } } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_give_all_technologies = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_debug_mode_on from = { NOT = { has_country_flag = ag_all_technologies_flag } } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_give_all_technologies_effect"
		hidden_effect = { from = { set_country_flag = ag_all_technologies_flag country_event = { id = ag_settings.113 } } }
	}
}
ag_give_all_technologies_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_debug_mode_on from = { has_country_flag = ag_all_technologies_flag } } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}
ag_give_all_research_projects = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_debug_mode_on from = { NOT = { has_country_flag = ag_all_research_projects_flag } } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_give_all_research_projects_effect"
		hidden_effect = { from = { set_country_flag = ag_all_research_projects_flag country_event = { id = ag_settings.114 } } }
	}
}
ag_give_all_research_projects_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_debug_mode_on from = { has_country_flag = ag_all_research_projects_flag } } }
	allow = { hidden_trigger = { always = yes } }
	effect = { }
}

ag_test_StarLightII_anim_portrait = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_debug_mode_on from = { NOT = { has_country_flag = SRA_ag_StarLightII_changed } } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_test_anim_portrait_effect"
		hidden_effect = { from = {
			set_country_flag = SRA_ag_StarLightII_changed
			if = {
				limit = { NOT = { has_global_flag = ag_lost_ancient_ship_spawned } }
				set_global_flag = ag_lost_ancient_ship_spawned
				from = {
					if = {
						limit = { NOT = { exists = event_target:ag_lost_ancient_ship_country } }
						ag_create_ancient_guardian = {
							ag_country_name = "NAME_ag_lost_ancient_ship_country_2"
							ag_country_type = ag_lost_ancient_ship_country
						}
						last_created_country = {
							save_global_event_target_as = ag_lost_ancient_ship_country
							establish_communications_no_message = root
							ag_ancient_country_friendly_to_each_other = yes
						}
					}
					if = {
						limit = { exists = event_target:ag_lost_ancient_ship_owner }
						clear_global_event_target = ag_lost_ancient_ship_owner
					}
					save_global_event_target_as = ag_lost_ancient_ship_owner
					set_country_flag = ag_lost_ancient_ship_battleship_form_active
					set_country_flag = ag_lost_ancient_ship_target_guardian_sphere_protected
					create_fleet = {
						name = "NAME_ag_lost_ancient_ship_fleet"
						settings = { spawn_debris = no }
						effect = {
							set_fleet_flag = ag_has_ancient_ship_in_fleet
							set_owner = root
							create_ship = {
								name = "NAME_ag_lost_ancient_ship"
								design = "NAME_ag_lost_ancient_ship_battleship_form"
								prefix = no
								effect = {
									ag_difficulty_bonus = yes
									if = { limit = { exists = event_target:ag_starlight_2_ship } clear_global_event_target = ag_starlight_2_ship }
									save_global_event_target_as = ag_starlight_2_ship
									set_ship_flag = ag_lost_ancient_ship
								}
							}
							set_location = { target = root.capital_scope distance = 45 angle = random }
						}
					}
				}
			}
			ag_lost_ancient_ship_diplo_portrait_check = yes
		} }
	}
}
ag_test_StarLightII_anim_portrait_alt = {
	potential = { hidden_trigger = { has_global_flag = ag_forced_triggers_on has_global_flag = ag_debug_mode_on from = { has_country_flag = SRA_ag_StarLightII_changed } } }
	allow = { hidden_trigger = { always = yes } }
	effect = {
		custom_tooltip = "ag_test_anim_portrait_alt_effect"
		hidden_effect = { from = {
			remove_country_flag = SRA_ag_StarLightII_changed
			if = {
				limit = { NOT = { has_global_flag = ag_lost_ancient_ship_spawned } }
				set_global_flag = ag_lost_ancient_ship_spawned
				from = {
					if = {
						limit = { NOT = { exists = event_target:ag_lost_ancient_ship_country } }
						ag_create_ancient_guardian = {
							ag_country_name = "NAME_ag_lost_ancient_ship_country_2"
							ag_country_type = ag_lost_ancient_ship_country
						}
						last_created_country = {
							save_global_event_target_as = ag_lost_ancient_ship_country
							establish_communications_no_message = root
							ag_ancient_country_friendly_to_each_other = yes
						}
					}
					if = {
						limit = { exists = event_target:ag_lost_ancient_ship_owner }
						clear_global_event_target = ag_lost_ancient_ship_owner
					}
					save_global_event_target_as = ag_lost_ancient_ship_owner
					set_country_flag = ag_lost_ancient_ship_battleship_form_active
					set_country_flag = ag_lost_ancient_ship_target_guardian_sphere_protected
					create_fleet = {
						name = "NAME_ag_lost_ancient_ship_fleet"
						settings = { spawn_debris = no }
						effect = {
							set_fleet_flag = ag_has_ancient_ship_in_fleet
							set_owner = root
							create_ship = {
								name = "NAME_ag_lost_ancient_ship"
								design = "NAME_ag_lost_ancient_ship_battleship_form"
								prefix = no
								effect = {
									ag_difficulty_bonus = yes
									if = { limit = { exists = event_target:ag_starlight_2_ship } clear_global_event_target = ag_starlight_2_ship }
									save_global_event_target_as = ag_starlight_2_ship
									set_ship_flag = ag_lost_ancient_ship
								}
							}
							set_location = { target = root.capital_scope distance = 45 angle = random }
						}
					}
				}
			}
			ag_lost_ancient_ship_diplo_portrait_check = yes
		} }
	}
}
