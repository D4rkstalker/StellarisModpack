# Filename:		scluster_deposits.txt
# Contributors:	SirBlackAxe

@high = 16
@med = 8
@low = 4

@high_rare = 0.5
@mid_rare = 0.25
@low_rare = 0.1

@planet_type_bonus = 1.5

@blocker_high = 10
@blocker_low = 5

#############################
#	Relic World Deposits	#
#############################
# d_city_ruins
# d_radioactive_wasteland
# d_city_ruins
# d_metal_boneyard

###################
##### SPECIAL #####
###################

# d_collapsed_spire_scluster = {
# 	time = 480
# 	icon = d_broken_spire

# 	is_for_colonizable = yes
# 	category = deposit_cat_rare_blocker

# 	potential = { always = no }

# 	planet_modifier = {
# 		planet_max_districts_add = -1
# 	}

# 	use_weights_for_blocker_swap_types = no
# 	blocker_swap_types = {
# 		d_central_spire
# 	}

# 	resources = {
# 		category = deposit_blockers
# 		cost = {
# 			energy = 2000
# 		}
# 	}
# }
# d_central_spire_scluster = {
# 	is_for_colonizable = yes
# 	icon = d_central_spire
# 	category = deposit_cat_rare

# 	potential = { always = no }

# 	planet_modifier = {
# 		planet_jobs_society_research_produces_mult = 0.15
# 		planet_jobs_engineering_research_produces_mult = 0.15
# 		planet_jobs_physics_research_produces_mult = 0.15
# 	}

# 	triggered_planet_modifier = {
# 		potential = {
# 			exists = owner
# 			owner = { is_gestalt = no } # is_regular_empire = yes }
# 		}
# 		modifier = {
# 			job_researcher_add = 8
# 		}
# 	}

# 	triggered_planet_modifier = {
# 		potential = {
# 			exists = owner
# 			owner = { is_hive_empire = yes }
# 		}
# 		modifier = {
# 			job_brain_drone_add = 8
# 		}
# 	}

# 	triggered_planet_modifier = {
# 		potential = {
# 			exists = owner
# 			owner = { is_machine_empire = yes }
# 		}
# 		modifier = {
# 			job_calculator_add = 8
# 		}
# 	}
# }

d_relic_dense_ruins_scluster = {
	is_for_colonizable = yes
	icon = d_ruins_large
	category = deposit_cat_rare

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_mult = -0.30 # planet_max_districts_add = -6
		planet_jobs_society_research_produces_mult = 0.15
		planet_jobs_engineering_research_produces_mult = 0.15
		planet_jobs_physics_research_produces_mult = 0.15
	}
}
# d_former_relic_world_scluster = {
# 	is_for_colonizable = yes
# 	icon = d_central_spire
# 	category = deposit_cat_rare

# 	potential = { always = no }

# 	planet_modifier = {
# 		planet_jobs_society_research_produces_mult = 0.1
# 		planet_jobs_engineering_research_produces_mult = 0.1
# 		planet_jobs_physics_research_produces_mult = 0.1
# 	}
# }

# d_ruined_arcology
# d_city_ruins

# d_failing_infrastructure

####################
####	RARE	####
####################

d_massive_crevice_scluster = {
	time = 270
	icon = d_massive_crevice

	is_for_colonizable = yes
	category = deposit_cat_rare_blocker

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
	}

	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_industrial_sector_scluster
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 1000
		}
	}
}
d_industrial_sector_scluster = {
	is_for_colonizable = yes
	icon = d_ruins_medium
	category = deposit_cat_rare

	potential = { always = no }

	planet_modifier = {
		building_crystal_mines_max = 2
		building_gas_extractors_max = 2
		building_mote_harvesters_max = 2
	}
}

d_ruined_factory_arcology = {
	is_for_colonizable = yes
	icon = d_ruins_medium
	category = deposit_cat_rare

	potential = {
		is_planet_class = pc_relic
		OR = {
			has_global_flag = scluster_in_progress
			solar_system = { has_star_flag = scluster }
		}
	}

	planet_modifier = {
		building_crystal_mines_max = 1
	}

	drop_weight = {
		weight = @high_rare
		modifier = {
			factor = @planet_type_bonus
			is_planet_class = pc_relic
		}
		modifier = {
			factor = 0
			solar_system = { NOT = { has_star_flag = scluster } }
		}
	}
}
d_ruined_foundry_arcology = {
	is_for_colonizable = yes
	icon = d_ruins_medium
	category = deposit_cat_rare

	potential = {
		is_planet_class = pc_relic
		OR = {
			has_global_flag = scluster_in_progress
			solar_system = { has_star_flag = scluster }
		}
	}

	planet_modifier = {
		building_mote_harvesters_max = 1
	}
	
	drop_weight = {
		weight = @high_rare
		modifier = {
			factor = @planet_type_bonus
			is_planet_class = pc_relic
		}
		modifier = {
			factor = 0
			solar_system = { NOT = { has_star_flag = scluster } }
		}
	}
}
d_ruined_leisure_arcology = {
	is_for_colonizable = yes
	icon = d_ruins_medium
	category = deposit_cat_rare

	potential = {
		is_planet_class = pc_relic
		OR = {
			has_global_flag = scluster_in_progress
			solar_system = { has_star_flag = scluster }
		}
	}

	planet_modifier = {
		building_gas_extractors_max = 1
	}
	
	drop_weight = {
		weight = @high_rare
		modifier = {
			factor = @planet_type_bonus
			is_planet_class = pc_relic
		}
		modifier = {
			factor = 0
			solar_system = { NOT = { has_star_flag = scluster } }
		}
	}
}

###############
#### ENERGY ###
###############

d_shattered_solar_array_scluster = {
	icon = d_solar_array
	time = 270

	is_for_colonizable = yes
	category = deposit_cat_rare_blocker

	potential = {
		is_planet_class = pc_relic
		OR = {
			has_global_flag = scluster_in_progress
			solar_system = { has_star_flag = scluster }
		}
	}

	planet_modifier = {
		planet_max_districts_add = -1
	}

	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_immense_solar_array_scluster
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 1000
		}
	}
}
d_immense_solar_array_scluster = {
	is_for_colonizable = yes
	icon = d_solar_array

	category = deposit_cat_energy # Added

	potential = { always = no }

	planet_modifier = {
		district_generator_max = 3
	}

	# drop_weight = {
	# 	weight = @low
	# 	modifier = {
	# 		factor = @planet_type_bonus
	# 		is_planet_class = pc_relic
	# 	}
	# 	modifier = {
	# 		factor = 0
	# 		solar_system = { NOT = { has_star_flag = scluster } }
	# 	}
	# }
}

d_flooded_reactor_pits_scluster = {
	icon = d_reactor
	time = 270

	is_for_colonizable = yes
	category = deposit_cat_rare_blocker

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
	}

	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_ancient_reactor_pits_scluster
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 1000
		}
	}
}
d_ancient_reactor_pits_scluster = {
	is_for_colonizable = yes
	icon = d_reactor

	category = deposit_cat_energy # Added

	potential = { always = no }

	planet_modifier = {
		district_generator_max = 6
	}
}

###################
#### MINERALS #####
###################

d_relic_metal_boneyard_scluster = {
	is_for_colonizable = yes
	icon = d_metal_boneyard

	category = deposit_cat_minerals # Added

	potential = { always = no }

	planet_modifier = {
		district_mining_max = 3
	}

	# drop_weight = {
	# 	weight = @low
	# 	modifier = {
	# 		factor = @planet_type_bonus
	# 		is_planet_class = pc_relic
	# 	}
	# 	modifier = {
	# 		factor = 0
	# 		solar_system = { NOT = { has_star_flag = scluster } }
	# 	}
	# }
}

d_crumbling_mining_tunnels_scluster = {
	icon = d_mining_tunnels
	time = 270

	is_for_colonizable = yes
	category = deposit_cat_rare_blocker

	potential = {
		is_planet_class = pc_relic
		OR = {
			has_global_flag = scluster_in_progress
			solar_system = { has_star_flag = scluster }
		}
	}

	planet_modifier = {
		planet_max_districts_add = -1
	}

	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_abandoned_mining_tunnels_scluster
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 1000
		}
	}
}
d_abandoned_mining_tunnels_scluster = {
	is_for_colonizable = yes
	icon = d_mining_tunnels

	category = deposit_cat_minerals # Added

	potential = { always = no }

	planet_modifier = {
		district_mining_max = 6
	}
}
