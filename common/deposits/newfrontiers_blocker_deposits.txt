## Possible Deposit Variables ##
# resources, resource and amount
# potential trigger (planet scope)
# planet_modifier - applied to planet only when deposit blocker has been cleared
# constant_modifier - applied to planet always
# station = station class in orbit to gather

@blocker_high = 10
@blocker_low = 5
@blocker_rare = 2
@blocker_very_rare = 1

d_impassable_erg = {
	time = 180
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	icon = d_searing_desert
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 500
		}
	}
	
	potential = {
		OR = {
			is_dry = yes
			has_modifier = "pangea"
			has_modifier = "arid_tidally_locked"
		}
	}
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	all_blocker_swap_types = yes

	drop_weight = {
		weight = @blocker_high
		modifier = {
			factor = 3
			is_planet_class = pc_desert
		}
		modifier = {
			factor = 2
			has_modifier = "dune_world"
		}
		modifier = {
			factor = 0
			num_free_districts = {
				type = district_city
				value < 2
			}
		}
		modifier = {
			factor = 0.5
			has_modifier = "oasis_world"
		}
		modifier = {
			factor = 0.25
			has_modifier = "salt_world"
		}
		modifier = {
			factor = 0
			has_modifier = "underground_world"
		}
	}
	
	prerequisites = { "tech_impassable_erg" }
}

d_blocked_tunnell = {
	time = 180
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 500
		}
	}
	
	potential = {
		has_modifier = "underground_world"
	}
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_lava_river
		d_underground_vent
		d_mineral_fields
		d_ore_rich_caverns
		d_fungal_caves
	}

	drop_weight = {
		weight = @blocker_high
		modifier = {
			factor = 0
			num_free_districts = {
				type = district_city
				value < 2
			}
		}
	}
	
	prerequisites = { "tech_blocked_tunnell" }
}

d_saline_lakes = {
	time = 180
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 500
		}
	}
	
	potential = {
		OR = {
			is_dry = yes
			has_modifier = "arid_tidally_locked"
		}
	}
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	all_blocker_swap_types = yes

	drop_weight = {
		weight = @blocker_low
		modifier = {
			factor = 5
			has_modifier = "salt_world"
		}
		modifier = {
			factor = 0.5
			is_planet_class = pc_arid
		}
		modifier = {
			factor = 0.25
			is_planet_class = pc_savannah
		}
		modifier = {
			factor = 0
			num_free_districts = {
				type = district_city
				value < 2
			}
		}
		modifier = {
			factor = 0.25
			has_modifier = "underground_world"
		}
	}
	
	prerequisites = { "tech_saline_lakes" }
}

d_dusty_pit = {
	time = 180
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 500
		}
	}
	
	potential = {
		is_dry = yes
	}
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	all_blocker_swap_types = yes

	drop_weight = {
		weight = @blocker_low
		modifier = {
			factor = 5
			has_modifier = "dust_world"
		}
		modifier = {
			factor = 0.25
			is_planet_class = pc_savannah
			is_planet_class = pc_desert
		}
		modifier = {
			factor = 0
			num_free_districts = {
				type = district_city
				value < 2
			}
		}
		modifier = {
			factor = 0
			has_modifier = "underground_world"
		}
	}
	
	prerequisites = { "tech_dusty_pit" }
}

d_igneous_traps = {
	time = 300
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 1500
		}
	}
	
	potential = {
		can_have_habitable_deposits = yes
	}
	
	planet_modifier = {
		planet_max_districts_add = -3
	}
	
	on_cleared = {
		if = {
			limit = { exists = owner }
			owner = { add_resource = { alloys = 100 } }
		}
	}
	
	all_blocker_swap_types = yes

	drop_weight = {
		weight = @blocker_very_rare
		modifier = {
			factor = 10
			has_modifier = "volcanic_world"
		}
		modifier = {
			factor = 5
			has_modifier = "young_world"
		}
		modifier = {
			factor = 2
			has_modifier = "primal_world"
		}
		modifier = {
			factor = 0
			OR = {
				has_modifier = "underground_world"
				is_planet_class = pc_ocean
			}
		}
	}
	
	prerequisites = { "tech_igneous_traps" }
}

d_viscous_morass = {
	time = 270
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 1000
		}
	}
	
	potential = {
		is_wet = yes
	}
	
	planet_modifier = {
		planet_max_districts_add = -2
	}
	
	drop_weight = {
		weight = @blocker_high
		modifier = {
			factor = 5
			has_modifier = "swamp_world"
		}
		modifier = {
			factor = 4
			OR = {
				has_modifier = "poisonous_world"
				has_modifier = "bog_world"
			}
		}
		modifier = {
			factor = 2
			has_modifier = "monsoon_world"
		}
		modifier = {
			factor = 0.5
			is_planet_class = pc_tropical
		}
		modifier = {
			factor = 0.25
			is_planet_class = pc_continental
		}
		modifier = {
			factor = 0.1
			is_planet_class = pc_ocean
		}
		modifier = {
			factor = 0
			has_modifier = "young_world"
		}
		modifier = {
			factor = 0
			num_free_districts = {
				type = district_city
				value < 2
			}
		}
		modifier = {
			factor = 0
			OR = {
				has_modifier = "boundless_ocean"
				has_modifier = "storm_world"
			}
		}
	}
	
	prerequisites = { "tech_viscous_morass" }
}

d_flooded_plain = {
	time = 180
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 500
		}
	}
	
	potential = {
		is_wet = yes
	}
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	all_blocker_swap_types = yes
	
	drop_weight = {
		weight = @blocker_low
		modifier = {
			factor = 5
			has_modifier = "monsoon_world"
		}
		modifier = {
			factor = 4
			OR = {
				has_modifier = "swamp_world"
				has_modifier = "poisonous_world"
			}
		}
		modifier = {
			factor = 0.5
			is_planet_class = pc_tropical
		}
		modifier = {
			factor = 0.25
			is_planet_class = pc_ocean
		}
		modifier = {
			factor = 0.1
			is_planet_class = pc_continental
		}
		modifier = {
			factor = 0
			has_modifier = "young_world"
		}
		modifier = {
			factor = 0
			num_free_districts = {
				type = district_city
				value < 2
			}
		}
		modifier = {
			factor = 0
			OR = {
				has_modifier = "boundless_ocean"
				has_modifier = "storm_world"
			}
		}
	}
	
	prerequisites = { "tech_flooded_plain" }
}

d_ice_crust = {
	time = 180
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 500
		}
	}
	
	potential = {
		has_modifier = "ice_world"
	}
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_frozen_gas_lake
		d_gas_glacier
		d_underwater_vent
		d_subglacial_ore_veins
		d_fungal_caves
		d_teeming_reef
	}

	drop_weight = {
		weight = @blocker_high
		modifier = {
			factor = 0
			num_free_districts = {
				type = district_city
				value < 2
			}
		}
	}
	
	prerequisites = { "tech_ice_crust" }
}

d_impenetrable_taiga = {
	time = 180
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 500
		}
	}
	
	potential = {
		OR = {
			is_planet_class = pc_tundra
			is_planet_class = pc_alpine
			has_modifier = "boreal_world"
			has_modifier = "temperate_zone"
		}
	}
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	all_blocker_swap_types = yes
	
	drop_weight = {
		weight = @blocker_high
		modifier = {
			factor = 5
			has_modifier = "boreal_world"
		}
		modifier = {
			factor = 3
			has_modifier = "snow_world"
		}
		modifier = {
			factor = 0.5
			has_modifier = "bog_world"
		}
		modifier = {
			factor = 0
			num_free_districts = {
				type = district_city
				value < 2
			}
		}
		modifier = {
			factor = 0
			OR = {
				has_modifier = "cold_desert"
				has_modifier = "tempest_world"
			}
		}
	}
	
	prerequisites = { "tech_impenetrable_taiga" }
}

d_industrial_forest = {
	time = 270
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 700
		}
	}
	
	potential = {
		has_modifier = "industrial_graveyard"
		has_modifier = "volcanic_world"
	}
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	on_cleared = {
		if = {
			limit = { exists = owner }
			owner = { add_resource = { alloys = 100 } }
		}
		if = {
			limit = { owner = { has_origin = origin_scavengers } }			
			owner = { give_random_eng_technology = yes }
		}
	}

	drop_weight = {
		weight = @blocker_high
		modifier = {
			factor = 5
			has_modifier = "industrial_graveyard"
		}
		modifier = {
			factor = 0.25
			has_modifier = "volcanic_world"
		}
		modifier = {
			factor = 0
			num_free_districts = {
				type = district_city
				value < 2
			}
		}
	}
}



d_collapsed_caves = {
	icon = d_blocked_tunnell
	time = 180
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	potential = { always = no }
	
	planet_modifier = {
		planet_max_districts_add = -2
	}
	
	all_blocker_swap_types = yes
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 1000
		}
	}
}

d_sunken_cavity = {
	icon = d_ice_crust
	time = 180
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	potential = { always = no }
	
	planet_modifier = {
		planet_max_districts_add = -2
	}
	
	all_blocker_swap_types = yes
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 1000
		}
	}
}

d_troubled_waters = {
	time = 120
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	potential = { always = no }
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	use_weights_for_blocker_swap_types = yes
	blocker_swap_types = {
		d_underwater_vent
		d_submerged_ore_veins
		d_teeming_reef
		d_crystal_reef
		d_algae_tracts
	}
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}

d_dooms_rift = {
	icon = d_deep_sinkhole
	time = 120
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	potential = { always = no }
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	all_blocker_swap_types = yes
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}

d_destruction_marks = {
	icon = d_burning_settlement
	time = 120
	
	is_for_colonizeable = yes
	category = deposit_cat_blockers
	
	potential = { always = no }
	
	planet_modifier = {
		planet_max_districts_add = -1
	}
	
	all_blocker_swap_types = yes
	
	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}