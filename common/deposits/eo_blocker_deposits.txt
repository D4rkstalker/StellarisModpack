d_radioactive_ruins = {
	icon = d_metal_boneyard
	time = 270

	is_for_colonizable = yes
	category = deposit_cat_blockers

	all_blocker_swap_types = yes

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
	}

	on_cleared = {
		if = {
			limit = {
				has_ancrel = yes
			}
			owner = { add_resource = { minor_artifacts = 50 } }
		}
		else = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = 3
				}
			}
		}
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 800
		}
	}
}

d_repurposed_ancient_settlement = {
	icon = d_city_ruins
	time = 120

	is_for_colonizable = yes
	category = deposit_cat_blockers

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
	}

	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_underwater_vent
		d_submerged_ore_veins
	}

	on_cleared = {
		create_pop = {
			species = owner
		}
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}

d_crowded_burrows = {
	icon = d_mining_tunnels
	time = 120

	is_for_colonizable = yes
	category = deposit_cat_blockers

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
	}

	on_cleared = {
		create_pop = {
			species = owner
		}
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}

d_irreparable_wreckage = {
	icon = d_organic_landfill
	time = 365

	is_for_colonizable = yes
	category = deposit_cat_rare_blocker

	potential = { always = no }

	resources = {
		category = deposit_blockers
		cost = {
			energy = 1000
		}
	}

	planet_modifier = {
		planet_max_districts_add = -1
	}

	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_ancient_scrapyard
	}

	on_cleared = {
		owner = { add_resource = { alloys = 300 } }
	}
}

d_starship_graveyard = {
	icon = d_crashed_ship
	time = 365

	is_for_colonizable = yes
	category = deposit_cat_rare_blocker

	potential = { always = no }

	resources = {
		category = deposit_blockers
		cost = {
			energy = 2000
		}
	}

	planet_modifier = {
		planet_max_districts_add = -1
	}


	on_cleared = {
		custom_tooltip = d_starship_graveyard_clear_effect
		hidden_effect = {
			planet_event = { id = eo_starship_graveyard.1 }
		}
	}
}

d_cryo_facilities = {
	icon = d_cryo_pods
	time = 365

	is_for_colonizable = yes
	category = deposit_cat_rare_blocker

	potential = { always = no }

	resources = {
		category = deposit_blockers
		cost = {
			energy = 2000
		}
		produces = {
			society_research = 1
		}
	}

	on_cleared = {
		random_galaxy_species = {
			limit = {
				has_species_flag = saved_planet_species
				NOT = { is_species_class = MACHINE }
				home_planet = {
					is_same_value = root
				}
			}
			root = {
				create_pop = {
					species = prev
				}
				hibernating_pop_modifier_and_country_bonus_tooltip = yes
				hidden_effect = {
					last_created_pop = {
						hibernating_pop_modifiers = yes
					}
				}
				create_pop = {
					species = prev
				}
				hibernating_pop_modifier_and_country_bonus_tooltip = yes
				hidden_effect = {
					last_created_pop = {
						hibernating_pop_modifiers = yes
					}
				}
			}
		}
		hidden_effect = {
			owner = {
				change_long_sleep_research_and_unity_bonuses = yes
			}
		}
	}
}

d_machine_storage = {
	icon = d_machine_storage
	time = 365

	is_for_colonizable = yes
	category = deposit_cat_rare_blocker

	potential = { always = no }

	resources = {
		category = deposit_blockers
		cost = {
			energy = 2000
		}
		produces = {
			society_research = 1
		}
	}

	on_cleared = {
		random_galaxy_species = {
			limit = {
				has_species_flag = saved_planet_species
				is_species_class = MACHINE
				home_planet = {
					is_same_value = root
				}
			}
			root = {
				create_pop = {
					species = prev
				}
				deactivated_pop_modifier_and_country_bonus_tooltip = yes
				hidden_effect = {
					last_created_pop = {
						deactivated_machine_modifiers = yes
					}
				}
				create_pop = {
					species = prev
				}
				deactivated_pop_modifier_and_country_bonus_tooltip = yes
				hidden_effect = {
					last_created_pop = {
						deactivated_machine_modifiers = yes
					}
				}
			}
		}
		hidden_effect = {
			owner = {
				change_long_sleep_research_and_unity_bonuses = yes
			}
		}
	}
}

d_unassimilated_growth = {
	icon = d_infestation
	time = 365

	is_for_colonizable = yes
	category = deposit_cat_rare_blocker

	potential = { always = no }

	resources = {
		category = deposit_blockers
		cost = {
			energy = 500
		}
	}

	planet_modifier = {
		planet_max_districts_add = -1
	}

	on_cleared = {
		owner = { add_resource = { unity = 50 } }
	}
}

d_unassimilated_drone_settlement = {
	icon = d_slums
	time = 120

	is_for_colonizable = yes
	category = deposit_cat_blockers

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
	}

	on_cleared = {
		create_pop = {
			species = owner
		}
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}

d_organic_holdouts = {
	icon = d_slums
	time = 0

	is_for_colonizable = yes
	category = deposit_cat_blockers

	can_be_cleared = {
		custom_tooltip = {
			fail_text = no_army_in_orbit
			planet = {
				any_fleet_in_orbit = {
					count_owned_ship = {
						limit = {
							is_ship_class = shipclass_transport
						}
						count >= 1
					}
					exists = owner
					owner = {
						is_same_value = root.planet.owner
						is_ai = no
					}
				}
			}
		}

	}

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
		planet_stability_add = -10
	}

	on_cleared = {
		random_galaxy_species = {
			limit = {
				has_species_flag = saved_planet_species
				home_planet = {
					is_same_value = root
				}
			}
			root = {
				create_pop = {
					species = prev
				}
			}
		}
		custom_tooltip = d_organic_holdouts_transport_destroyed
		hidden_effect = {
			random_fleet_in_orbit = {
				limit = {
					exists = owner
					owner = {
						is_same_value = root.planet.owner
						is_ai = no
					}
					is_ship_class = shipclass_transport
				}
				random_owned_ship = {
					limit = {
						is_ship_class = shipclass_transport
					}
					destroy_ship = this
				}
			}
		}
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 500
		}
		cost = {
			trigger = {
				planet.owner = {
					is_ai = yes
				}
			}
			minerals = 100
		}
	}
}

d_organic_battlefield_ruins = {
	icon = d_nanite_corpses
	time = 120

	is_for_colonizable = yes
	category = deposit_cat_blockers

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
	}

	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_metal_boneyard
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}