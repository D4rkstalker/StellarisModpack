# Sector focus: designated
designated = {

	ai_weight = {
		weight = 0
	}

	clear_blockers = yes

	# district: district_city
	district = {
		key = district_city

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and there are free jobs
			modifier = {
				factor = 10.0

				AND = {
					free_housing < 1
					free_jobs > 1
				}

			}


			# Increase priority when out of housing
			modifier = {
				factor = 30.0
				free_housing < 0
			}


			# Disallow when not needed
			modifier = {
				factor = 0.0

				OR = {
					free_housing > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# district: district_hab_housing
	district = {
		key = district_hab_housing

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and there are free jobs
			modifier = {
				factor = 10.0

				AND = {
					free_housing < 1
					free_jobs > 1
				}

			}


			# Increase priority when out of housing
			modifier = {
				factor = 30.0
				free_housing < 0
			}


			# Disallow when not needed
			modifier = {
				factor = 0.0

				OR = {
					free_housing > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# district: district_hive
	district = {
		key = district_hive

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and there are free jobs
			modifier = {
				factor = 10.0

				AND = {
					free_housing < 1
					free_jobs > 1
				}

			}


			# Increase priority when out of housing
			modifier = {
				factor = 30.0
				free_housing < 0
			}


			# Disallow when not needed
			modifier = {
				factor = 0.0

				OR = {
					free_housing > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# district: district_nexus
	district = {
		key = district_nexus

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and there are free jobs
			modifier = {
				factor = 10.0

				AND = {
					free_housing < 1
					free_jobs > 1
				}

			}


			# Increase priority when out of housing
			modifier = {
				factor = 30.0
				free_housing < 0
			}


			# Disallow when not needed
			modifier = {
				factor = 0.0

				OR = {
					free_housing > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# district: district_rw_city
	district = {
		key = district_rw_city

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and there are free jobs
			modifier = {
				factor = 10.0

				AND = {
					free_housing < 1
					free_jobs > 1
				}

			}


			# Increase priority when out of housing
			modifier = {
				factor = 30.0
				free_housing < 0
			}


			# Disallow when not needed
			modifier = {
				factor = 0.0

				OR = {
					free_housing > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# building: building_luxury_residence
	building = {
		key = building_luxury_residence

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and there are free jobs
			modifier = {
				factor = 10.0

				AND = {
					free_housing < 1
					free_jobs > 1
				}

			}


			# Increase priority when out of housing
			modifier = {
				factor = 30.0
				free_housing < 0
			}


			# Disallow when not needed
			modifier = {
				factor = 0.0

				OR = {
					free_district_slots > 0
					free_housing > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# building: building_hive_warren
	building = {
		key = building_hive_warren

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and there are free jobs
			modifier = {
				factor = 10.0

				AND = {
					free_housing < 1
					free_jobs > 1
				}

			}


			# Increase priority when out of housing
			modifier = {
				factor = 30.0
				free_housing < 0
			}


			# Disallow when not needed
			modifier = {
				factor = 0.0

				OR = {
					free_district_slots > 0
					free_housing > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# building: building_drone_storage
	building = {
		key = building_drone_storage

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and there are free jobs
			modifier = {
				factor = 10.0

				AND = {
					free_housing < 1
					free_jobs > 1
				}

			}


			# Increase priority when out of housing
			modifier = {
				factor = 30.0
				free_housing < 0
			}


			# Disallow when not needed
			modifier = {
				factor = 0.0

				OR = {
					free_district_slots > 0
					free_housing > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# building: building_holo_theatres
	building = {
		key = building_holo_theatres

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and not to many free jobs
			modifier = {
				factor = 10.0

				AND = {
					free_amenities < 1
					free_jobs < 5
				}

			}


			# Increase priority when out of amenities
			modifier = {
				factor = 30.0
				free_amenities < 0
			}


			# Increase to crisis status if this gets out of hand
			modifier = {
				factor = 2.0
				free_amenities < -10
			}


			# Disallow when no workers or available or free amenities are present
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 2
					free_amenities > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# building: building_maintenance_depot
	building = {
		key = building_maintenance_depot

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and not to many free jobs
			modifier = {
				factor = 10.0

				AND = {
					free_amenities < 1
					free_jobs < 5
				}

			}


			# Increase priority when out of amenities
			modifier = {
				factor = 30.0
				free_amenities < 0
			}


			# Increase to crisis status if this gets out of hand
			modifier = {
				factor = 2.0
				free_amenities < -10
			}


			# Disallow when no workers or available or free amenities are present
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 2
					free_amenities > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# building: building_hyper_entertainment_forum
	building = {
		key = building_hyper_entertainment_forum

		weight = {
			weight = 1.0

			# Pre-build when approaching threshold and not to many free jobs
			modifier = {
				factor = 11.0

				AND = {
					free_amenities < 1
					free_jobs < 5
				}

			}


			# Increase priority when out of amenities
			modifier = {
				factor = 30.0
				free_amenities < 0
			}


			# Increase to crisis status if this gets out of hand
			modifier = {
				factor = 2.0
				free_amenities < -10
			}


			# Disallow when no workers or available
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 2
					free_amenities > 0

					AND = {
						controller = {
							AND = {
								has_policy_flag = ipa_ignore_upkeep_necessities_no
								has_monthly_income = { resource = energy value <= 2 }
							}
						}
					}

				}

			}

		}

	}


	# building: building_precinct_house
	building = {
		key = building_precinct_house

		weight = {
			weight = 1.1

			# Pre-build when approaching threshold
			modifier = {
				factor = 10.0
				planet_crime >= 8
			}


			# Increase priority when approaching threshold
			modifier = {
				factor = 30.0

				AND = {
					planet_crime > 8
					planet_crime < 15
				}

			}


			# Increase to crisis status if this gets out of hand
			modifier = {
				factor = 2.0
				planet_crime >= 15
			}


			# Disallow when no workers are available or no crime exists
			modifier = {
				factor = 0.0

				OR = {
					planet_crime < 8
					free_jobs > 3
				}

			}

		}

	}


	# building: building_sentinel_posts
	building = {
		key = building_sentinel_posts

		weight = {
			weight = 1.1

			# Pre-build when approaching threshold
			modifier = {
				factor = 10.0
				planet_crime >= 8
			}


			# Increase priority when approaching threshold
			modifier = {
				factor = 30.0

				AND = {
					planet_crime > 8
					planet_crime < 15
				}

			}


			# Increase to crisis status if this gets out of hand
			modifier = {
				factor = 2.0
				planet_crime >= 15
			}


			# Disallow when no workers are available or no crime exists
			modifier = {
				factor = 0.0

				OR = {
					planet_crime < 8
					free_jobs > 3
				}

			}

		}

	}


	# building: building_colony_shelter
	building = {
		key = building_colony_shelter

		weight = {
			weight = 300.0
		}

	}


	# building: building_capital
	building = {
		key = building_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_major_capital
	building = {
		key = building_major_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_system_capital
	building = {
		key = building_system_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_deployment_post
	building = {
		key = building_deployment_post

		weight = {
			weight = 300.0
		}

	}


	# building: building_machine_capital
	building = {
		key = building_machine_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_machine_major_capital
	building = {
		key = building_machine_major_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_machine_system_capital
	building = {
		key = building_machine_system_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_hive_capital
	building = {
		key = building_hive_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_hive_major_capital
	building = {
		key = building_hive_major_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_hab_capital
	building = {
		key = building_hab_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_hab_major_capital
	building = {
		key = building_hab_major_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_resort_capital
	building = {
		key = building_resort_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_slave_capital
	building = {
		key = building_slave_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_slave_major_capital
	building = {
		key = building_slave_major_capital

		weight = {
			weight = 300.0
		}

	}


	# building: building_hive_node
	building = {
		key = building_hive_node

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = food value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has food income limits
						AND = {
							has_policy_flag = ipa_minimum_income_food_5
							has_monthly_income = { resource = food value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_10
							has_monthly_income = { resource = food value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_20
							has_monthly_income = { resource = food value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_30
							has_monthly_income = { resource = food value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_50
							has_monthly_income = { resource = food value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_75
							has_monthly_income = { resource = food value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_100
							has_monthly_income = { resource = food value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_150
							has_monthly_income = { resource = food value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_200
							has_monthly_income = { resource = food value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_250
							has_monthly_income = { resource = food value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_500
							has_monthly_income = { resource = food value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_hive_cluster
	building = {
		key = building_hive_cluster

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = food value < 2 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has food income limits
						AND = {
							has_policy_flag = ipa_minimum_income_food_5
							has_monthly_income = { resource = food value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_10
							has_monthly_income = { resource = food value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_20
							has_monthly_income = { resource = food value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_30
							has_monthly_income = { resource = food value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_50
							has_monthly_income = { resource = food value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_75
							has_monthly_income = { resource = food value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_100
							has_monthly_income = { resource = food value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_150
							has_monthly_income = { resource = food value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_200
							has_monthly_income = { resource = food value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_250
							has_monthly_income = { resource = food value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_500
							has_monthly_income = { resource = food value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_hive_confluence
	building = {
		key = building_hive_confluence

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = food value < 4 }
						has_monthly_income = { resource = rare_crystals value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has food income limits
						AND = {
							has_policy_flag = ipa_minimum_income_food_5
							has_monthly_income = { resource = food value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_10
							has_monthly_income = { resource = food value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_20
							has_monthly_income = { resource = food value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_30
							has_monthly_income = { resource = food value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_50
							has_monthly_income = { resource = food value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_75
							has_monthly_income = { resource = food value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_100
							has_monthly_income = { resource = food value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_150
							has_monthly_income = { resource = food value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_200
							has_monthly_income = { resource = food value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_250
							has_monthly_income = { resource = food value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_500
							has_monthly_income = { resource = food value <= 500 }
						}

						# ensure empire has rare_crystals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = rare_crystals value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = rare_crystals value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = rare_crystals value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = rare_crystals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = rare_crystals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = rare_crystals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = rare_crystals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = rare_crystals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = rare_crystals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = rare_crystals value <= 100 }
						}
					}
				}
			}

		}

	}


	# building: building_autochthon_monument
	building = {
		key = building_autochthon_monument

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = consumer_goods value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has consumer_goods income limits
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_5
							has_monthly_income = { resource = consumer_goods value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_10
							has_monthly_income = { resource = consumer_goods value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_20
							has_monthly_income = { resource = consumer_goods value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_30
							has_monthly_income = { resource = consumer_goods value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_50
							has_monthly_income = { resource = consumer_goods value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_75
							has_monthly_income = { resource = consumer_goods value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_100
							has_monthly_income = { resource = consumer_goods value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_150
							has_monthly_income = { resource = consumer_goods value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_200
							has_monthly_income = { resource = consumer_goods value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_250
							has_monthly_income = { resource = consumer_goods value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_500
							has_monthly_income = { resource = consumer_goods value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_heritage_site
	building = {
		key = building_heritage_site

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = consumer_goods value < 2 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has consumer_goods income limits
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_5
							has_monthly_income = { resource = consumer_goods value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_10
							has_monthly_income = { resource = consumer_goods value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_20
							has_monthly_income = { resource = consumer_goods value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_30
							has_monthly_income = { resource = consumer_goods value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_50
							has_monthly_income = { resource = consumer_goods value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_75
							has_monthly_income = { resource = consumer_goods value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_100
							has_monthly_income = { resource = consumer_goods value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_150
							has_monthly_income = { resource = consumer_goods value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_200
							has_monthly_income = { resource = consumer_goods value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_250
							has_monthly_income = { resource = consumer_goods value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_500
							has_monthly_income = { resource = consumer_goods value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_hypercomms_forum
	building = {
		key = building_hypercomms_forum

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = consumer_goods value < 4 }
						has_monthly_income = { resource = rare_crystals value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has food income limits
						AND = {
							has_policy_flag = ipa_minimum_income_food_5
							has_monthly_income = { resource = food value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_10
							has_monthly_income = { resource = food value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_20
							has_monthly_income = { resource = food value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_30
							has_monthly_income = { resource = food value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_50
							has_monthly_income = { resource = food value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_75
							has_monthly_income = { resource = food value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_100
							has_monthly_income = { resource = food value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_150
							has_monthly_income = { resource = food value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_200
							has_monthly_income = { resource = food value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_250
							has_monthly_income = { resource = food value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_500
							has_monthly_income = { resource = food value <= 500 }
						}

						# ensure empire has rare_crystals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = rare_crystals value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = rare_crystals value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = rare_crystals value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = rare_crystals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = rare_crystals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = rare_crystals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = rare_crystals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = rare_crystals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = rare_crystals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = rare_crystals value <= 100 }
						}
					}
				}
			}

		}

	}


	# building: building_autocurating_vault
	building = {
		key = building_autocurating_vault

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = consumer_goods value < 4 }
						has_monthly_income = { resource = rare_crystals value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has food income limits
						AND = {
							has_policy_flag = ipa_minimum_income_food_5
							has_monthly_income = { resource = food value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_10
							has_monthly_income = { resource = food value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_20
							has_monthly_income = { resource = food value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_30
							has_monthly_income = { resource = food value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_50
							has_monthly_income = { resource = food value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_75
							has_monthly_income = { resource = food value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_100
							has_monthly_income = { resource = food value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_150
							has_monthly_income = { resource = food value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_200
							has_monthly_income = { resource = food value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_250
							has_monthly_income = { resource = food value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_500
							has_monthly_income = { resource = food value <= 500 }
						}

						# ensure empire has rare_crystals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = rare_crystals value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = rare_crystals value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = rare_crystals value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = rare_crystals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = rare_crystals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = rare_crystals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = rare_crystals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = rare_crystals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = rare_crystals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = rare_crystals value <= 100 }
						}
					}
				}
			}

		}

	}


	# building: building_uplink_node
	building = {
		key = building_uplink_node

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 7 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_network_junction
	building = {
		key = building_network_junction

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 7 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_system_conflux
	building = {
		key = building_system_conflux

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 10 }
						has_monthly_income = { resource = rare_crystals value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has rare_crystals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = rare_crystals value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = rare_crystals value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = rare_crystals value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = rare_crystals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = rare_crystals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = rare_crystals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = rare_crystals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = rare_crystals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = rare_crystals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = rare_crystals value <= 100 }
						}
					}
				}
			}

		}

	}


	# building: building_alpha_hub
	building = {
		key = building_alpha_hub

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 10 }
						has_monthly_income = { resource = rare_crystals value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has rare_crystals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = rare_crystals value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = rare_crystals value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = rare_crystals value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = rare_crystals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = rare_crystals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = rare_crystals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = rare_crystals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = rare_crystals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = rare_crystals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = rare_crystals value <= 100 }
						}
					}
				}
			}

		}

	}


	# building: building_temple
	building = {
		key = building_temple

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_holotemple
	building = {
		key = building_holotemple

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_sacred_nexus
	building = {
		key = building_sacred_nexus

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = rare_crystals value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has rare_crystals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = rare_crystals value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = rare_crystals value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = rare_crystals value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = rare_crystals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = rare_crystals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = rare_crystals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = rare_crystals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = rare_crystals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = rare_crystals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = rare_crystals value <= 100 }
						}
					}
				}
			}

		}

	}


	# building: building_citadel_of_faith
	building = {
		key = building_citadel_of_faith

		weight = {
			weight = 170.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = rare_crystals value < 1 }

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has rare_crystals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = rare_crystals value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = rare_crystals value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = rare_crystals value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = rare_crystals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = rare_crystals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = rare_crystals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = rare_crystals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = rare_crystals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = rare_crystals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = rare_crystals value <= 100 }
						}
					}
				}
			}

		}

	}


	# building: building_spawning_pool
	building = {
		key = building_spawning_pool

		weight = {
			weight = 190.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = food value < 10 }
						has_policy_flag = ipa_growth_buildings_no

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has food income limits
						AND = {
							has_policy_flag = ipa_minimum_income_food_5
							has_monthly_income = { resource = food value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_10
							has_monthly_income = { resource = food value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_20
							has_monthly_income = { resource = food value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_30
							has_monthly_income = { resource = food value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_50
							has_monthly_income = { resource = food value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_75
							has_monthly_income = { resource = food value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_100
							has_monthly_income = { resource = food value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_150
							has_monthly_income = { resource = food value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_200
							has_monthly_income = { resource = food value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_250
							has_monthly_income = { resource = food value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_500
							has_monthly_income = { resource = food value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_robot_assembly_plant
	building = {
		key = building_robot_assembly_plant

		weight = {
			weight = 190.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = minerals value < 10 }
						has_policy_flag = ipa_growth_buildings_no

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has minerals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_5
							has_monthly_income = { resource = minerals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_10
							has_monthly_income = { resource = minerals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_20
							has_monthly_income = { resource = minerals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_30
							has_monthly_income = { resource = minerals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_50
							has_monthly_income = { resource = minerals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_75
							has_monthly_income = { resource = minerals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_100
							has_monthly_income = { resource = minerals value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_150
							has_monthly_income = { resource = minerals value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_200
							has_monthly_income = { resource = minerals value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_250
							has_monthly_income = { resource = minerals value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_500
							has_monthly_income = { resource = minerals value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_machine_assembly_plant
	building = {
		key = building_machine_assembly_plant

		weight = {
			weight = 190.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 1 }
						has_monthly_income = { resource = minerals value < 10 }
						has_policy_flag = ipa_growth_buildings_no

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has minerals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_5
							has_monthly_income = { resource = minerals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_10
							has_monthly_income = { resource = minerals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_20
							has_monthly_income = { resource = minerals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_30
							has_monthly_income = { resource = minerals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_50
							has_monthly_income = { resource = minerals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_75
							has_monthly_income = { resource = minerals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_100
							has_monthly_income = { resource = minerals value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_150
							has_monthly_income = { resource = minerals value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_200
							has_monthly_income = { resource = minerals value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_250
							has_monthly_income = { resource = minerals value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_500
							has_monthly_income = { resource = minerals value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_clinic
	building = {
		key = building_clinic

		weight = {
			weight = 190.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 2 }
						has_monthly_income = { resource = consumer_goods value < 2 }
						has_policy_flag = ipa_growth_buildings_no

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}
					}
				}
			}

		}

	}


	# building: building_hospital
	building = {
		key = building_hospital

		weight = {
			weight = 190.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value < 2 }
						has_monthly_income = { resource = exotic_gases value < 1 }
						has_monthly_income = { resource = consumer_goods value < 3 }
						has_policy_flag = ipa_growth_buildings_no

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}

						# ensure empire has exotic_gases income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = exotic_gases value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = exotic_gases value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = exotic_gases value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = exotic_gases value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = exotic_gases value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = exotic_gases value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = exotic_gases value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = exotic_gases value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = exotic_gases value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = exotic_gases value <= 100 }
						}
					}
				}
			}

		}

	}


	# building: building_supercomputer
	building = {
		key = building_supercomputer

		weight = {
			weight = 200.0

			# Disallow when not research designation or to many free jobs
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 5 }

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}
						}
					}

					# exclude non-research worlds
					NOR = {
						has_designation = col_research
						has_designation = col_ecu_research
						has_designation = col_ring_research
						has_designation = col_habitat_research
						has_designation = col_capital
						has_designation = col_capital_hive
						has_designation = col_capital_machine
					}


					# non-gestalt empires require consumer goods for research
					AND = {
						owner = { is_gestalt = no }

						OR = {
							controller = {
								OR = {
									has_monthly_income = { resource = consumer_goods value <= 4 }

									# ensure empire has consumer_goods income limits
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_5
										has_monthly_income = { resource = consumer_goods value <= 5 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_10
										has_monthly_income = { resource = consumer_goods value <= 10 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_20
										has_monthly_income = { resource = consumer_goods value <= 20 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_30
										has_monthly_income = { resource = consumer_goods value <= 30 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_50
										has_monthly_income = { resource = consumer_goods value <= 50 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_75
										has_monthly_income = { resource = consumer_goods value <= 75 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_100
										has_monthly_income = { resource = consumer_goods value <= 100 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_150
										has_monthly_income = { resource = consumer_goods value <= 150 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_200
										has_monthly_income = { resource = consumer_goods value <= 200 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_250
										has_monthly_income = { resource = consumer_goods value <= 250 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_500
										has_monthly_income = { resource = consumer_goods value <= 500 }
									}
								}
							}
						}

					}


					# gestalt empires require consumer goods for research
					AND = {
						owner = { is_gestalt = yes }

						OR = {
							controller = {
								OR = {
									has_monthly_income = { resource = minerals value <= 6 }

									# ensure empire has minerals income limits
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_5
										has_monthly_income = { resource = minerals value <= 5 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_10
										has_monthly_income = { resource = minerals value <= 10 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_20
										has_monthly_income = { resource = minerals value <= 20 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_30
										has_monthly_income = { resource = minerals value <= 30 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_50
										has_monthly_income = { resource = minerals value <= 50 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_75
										has_monthly_income = { resource = minerals value <= 75 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_100
										has_monthly_income = { resource = minerals value <= 100 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_150
										has_monthly_income = { resource = minerals value <= 150 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_200
										has_monthly_income = { resource = minerals value <= 200 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_250
										has_monthly_income = { resource = minerals value <= 250 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_500
										has_monthly_income = { resource = minerals value <= 500 }
									}
								}
							}
						}

					}

				}

			}

		}

	}


	# building: building_institute
	building = {
		key = building_institute

		weight = {
			weight = 200.0

			# Disallow when not research designation or to many free jobs
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 5 }

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}
						}
					}

					# exclude non-research worlds
					NOR = {
						has_designation = col_research
						has_designation = col_ecu_research
						has_designation = col_ring_research
						has_designation = col_habitat_research
						has_designation = col_capital
						has_designation = col_capital_hive
						has_designation = col_capital_machine
					}


					# non-gestalt empires require consumer goods for research
					AND = {
						owner = { is_gestalt = no }

						OR = {
							controller = {
								OR = {
									has_monthly_income = { resource = consumer_goods value <= 4 }

									# ensure empire has consumer_goods income limits
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_5
										has_monthly_income = { resource = consumer_goods value <= 5 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_10
										has_monthly_income = { resource = consumer_goods value <= 10 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_20
										has_monthly_income = { resource = consumer_goods value <= 20 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_30
										has_monthly_income = { resource = consumer_goods value <= 30 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_50
										has_monthly_income = { resource = consumer_goods value <= 50 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_75
										has_monthly_income = { resource = consumer_goods value <= 75 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_100
										has_monthly_income = { resource = consumer_goods value <= 100 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_150
										has_monthly_income = { resource = consumer_goods value <= 150 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_200
										has_monthly_income = { resource = consumer_goods value <= 200 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_250
										has_monthly_income = { resource = consumer_goods value <= 250 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_500
										has_monthly_income = { resource = consumer_goods value <= 500 }
									}
								}
							}
						}

					}


					# gestalt empires require consumer goods for research
					AND = {
						owner = { is_gestalt = yes }

						OR = {
							controller = {
								OR = {
									has_monthly_income = { resource = minerals value <= 6 }

									# ensure empire has minerals income limits
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_5
										has_monthly_income = { resource = minerals value <= 5 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_10
										has_monthly_income = { resource = minerals value <= 10 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_20
										has_monthly_income = { resource = minerals value <= 20 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_30
										has_monthly_income = { resource = minerals value <= 30 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_50
										has_monthly_income = { resource = minerals value <= 50 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_75
										has_monthly_income = { resource = minerals value <= 75 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_100
										has_monthly_income = { resource = minerals value <= 100 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_150
										has_monthly_income = { resource = minerals value <= 150 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_200
										has_monthly_income = { resource = minerals value <= 200 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_250
										has_monthly_income = { resource = minerals value <= 250 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_500
										has_monthly_income = { resource = minerals value <= 500 }
									}
								}
							}
						}

					}

				}

			}

		}

	}


	# building: building_research_lab_1
	building = {
		key = building_research_lab_1

		weight = {
			weight = 150.0

			# Disallow when: not research designation, to many free jobs or not enough income
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 4 }

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}
						}
					}

					# exclude non-research worlds
					NOR = {
						has_designation = col_research
						has_designation = col_ecu_research
						has_designation = col_ring_research
						has_designation = col_habitat_research
						has_designation = col_capital
						has_designation = col_capital_hive
						has_designation = col_capital_machine
					}


					# non-gestalt empires require consumer goods for research
					AND = {
						owner = { is_gestalt = no }

						OR = {
							controller = {
								OR = {
									has_monthly_income = { resource = consumer_goods value <= 4 }

									# ensure empire has consumer_goods income limits
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_5
										has_monthly_income = { resource = consumer_goods value <= 5 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_10
										has_monthly_income = { resource = consumer_goods value <= 10 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_20
										has_monthly_income = { resource = consumer_goods value <= 20 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_30
										has_monthly_income = { resource = consumer_goods value <= 30 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_50
										has_monthly_income = { resource = consumer_goods value <= 50 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_75
										has_monthly_income = { resource = consumer_goods value <= 75 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_100
										has_monthly_income = { resource = consumer_goods value <= 100 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_150
										has_monthly_income = { resource = consumer_goods value <= 150 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_200
										has_monthly_income = { resource = consumer_goods value <= 200 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_250
										has_monthly_income = { resource = consumer_goods value <= 250 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_500
										has_monthly_income = { resource = consumer_goods value <= 500 }
									}
								}
							}
						}

					}


					# gestalt empires require consumer goods for research
					AND = {
						owner = { is_gestalt = yes }

						OR = {
							controller = {
								OR = {
									has_monthly_income = { resource = minerals value <= 12 }

									# ensure empire has minerals income limits
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_5
										has_monthly_income = { resource = minerals value <= 5 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_10
										has_monthly_income = { resource = minerals value <= 10 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_20
										has_monthly_income = { resource = minerals value <= 20 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_30
										has_monthly_income = { resource = minerals value <= 30 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_50
										has_monthly_income = { resource = minerals value <= 50 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_75
										has_monthly_income = { resource = minerals value <= 75 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_100
										has_monthly_income = { resource = minerals value <= 100 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_150
										has_monthly_income = { resource = minerals value <= 150 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_200
										has_monthly_income = { resource = minerals value <= 200 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_250
										has_monthly_income = { resource = minerals value <= 250 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_500
										has_monthly_income = { resource = minerals value <= 500 }
									}
								}
							}
						}

					}

				}

			}

		}

	}


	# building: building_research_lab_2
	building = {
		key = building_research_lab_2

		weight = {
			weight = 151.0

			# Disallow when: not research designation, to many free jobs or not enough income
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 1 }
							has_monthly_income = { resource = exotic_gases value <= 1 }

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has exotic_gases income limits
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_1
								has_monthly_income = { resource = exotic_gases value <= 1 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_2
								has_monthly_income = { resource = exotic_gases value <= 2 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_3
								has_monthly_income = { resource = exotic_gases value <= 3 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_5
								has_monthly_income = { resource = exotic_gases value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_10
								has_monthly_income = { resource = exotic_gases value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_20
								has_monthly_income = { resource = exotic_gases value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_30
								has_monthly_income = { resource = exotic_gases value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_50
								has_monthly_income = { resource = exotic_gases value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_75
								has_monthly_income = { resource = exotic_gases value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_100
								has_monthly_income = { resource = exotic_gases value <= 100 }
							}
						}
					}

					# exclude non-research worlds
					NOR = {
						has_designation = col_research
						has_designation = col_ecu_research
						has_designation = col_ring_research
						has_designation = col_habitat_research
						has_designation = col_capital
						has_designation = col_capital_hive
						has_designation = col_capital_machine
					}


					# non-gestalt empires require consumer goods for research
					AND = {
						owner = { is_gestalt = no }

						OR = {
							controller = {
								OR = {
									has_monthly_income = { resource = consumer_goods value <= 6 }

									# ensure empire has consumer_goods income limits
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_5
										has_monthly_income = { resource = consumer_goods value <= 5 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_10
										has_monthly_income = { resource = consumer_goods value <= 10 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_20
										has_monthly_income = { resource = consumer_goods value <= 20 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_30
										has_monthly_income = { resource = consumer_goods value <= 30 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_50
										has_monthly_income = { resource = consumer_goods value <= 50 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_75
										has_monthly_income = { resource = consumer_goods value <= 75 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_100
										has_monthly_income = { resource = consumer_goods value <= 100 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_150
										has_monthly_income = { resource = consumer_goods value <= 150 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_200
										has_monthly_income = { resource = consumer_goods value <= 200 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_250
										has_monthly_income = { resource = consumer_goods value <= 250 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_500
										has_monthly_income = { resource = consumer_goods value <= 500 }
									}
								}
							}
						}

					}


					# gestalt empires require consumer goods for research
					AND = {
						owner = { is_gestalt = yes }

						OR = {
							controller = {
								OR = {
									has_monthly_income = { resource = minerals value <= 18 }

									# ensure empire has minerals income limits
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_5
										has_monthly_income = { resource = minerals value <= 5 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_10
										has_monthly_income = { resource = minerals value <= 10 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_20
										has_monthly_income = { resource = minerals value <= 20 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_30
										has_monthly_income = { resource = minerals value <= 30 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_50
										has_monthly_income = { resource = minerals value <= 50 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_75
										has_monthly_income = { resource = minerals value <= 75 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_100
										has_monthly_income = { resource = minerals value <= 100 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_150
										has_monthly_income = { resource = minerals value <= 150 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_200
										has_monthly_income = { resource = minerals value <= 200 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_250
										has_monthly_income = { resource = minerals value <= 250 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_500
										has_monthly_income = { resource = minerals value <= 500 }
									}
								}
							}
						}

					}

				}

			}

		}

	}


	# building: building_research_lab_3
	building = {
		key = building_research_lab_3

		weight = {
			weight = 153.0

			# Disallow when: not research designation, to many free jobs or not enough income
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 1 }
							has_monthly_income = { resource = exotic_gases value <= 1 }

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has exotic_gases income limits
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_1
								has_monthly_income = { resource = exotic_gases value <= 1 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_2
								has_monthly_income = { resource = exotic_gases value <= 2 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_3
								has_monthly_income = { resource = exotic_gases value <= 3 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_5
								has_monthly_income = { resource = exotic_gases value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_10
								has_monthly_income = { resource = exotic_gases value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_20
								has_monthly_income = { resource = exotic_gases value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_30
								has_monthly_income = { resource = exotic_gases value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_50
								has_monthly_income = { resource = exotic_gases value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_75
								has_monthly_income = { resource = exotic_gases value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_100
								has_monthly_income = { resource = exotic_gases value <= 100 }
							}
						}
					}

					# exclude non-research worlds
					NOR = {
						has_designation = col_research
						has_designation = col_ecu_research
						has_designation = col_ring_research
						has_designation = col_habitat_research
						has_designation = col_capital
						has_designation = col_capital_hive
						has_designation = col_capital_machine
					}


					# non-gestalt empires require consumer goods for research
					AND = {
						owner = { is_gestalt = no }

						OR = {
							controller = {
								OR = {
									has_monthly_income = { resource = consumer_goods value <= 6 }

									# ensure empire has consumer_goods income limits
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_5
										has_monthly_income = { resource = consumer_goods value <= 5 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_10
										has_monthly_income = { resource = consumer_goods value <= 10 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_20
										has_monthly_income = { resource = consumer_goods value <= 20 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_30
										has_monthly_income = { resource = consumer_goods value <= 30 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_50
										has_monthly_income = { resource = consumer_goods value <= 50 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_75
										has_monthly_income = { resource = consumer_goods value <= 75 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_100
										has_monthly_income = { resource = consumer_goods value <= 100 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_150
										has_monthly_income = { resource = consumer_goods value <= 150 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_200
										has_monthly_income = { resource = consumer_goods value <= 200 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_250
										has_monthly_income = { resource = consumer_goods value <= 250 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_consumer_goods_500
										has_monthly_income = { resource = consumer_goods value <= 500 }
									}
								}
							}
						}

					}


					# gestalt empires require consumer goods for research
					AND = {
						owner = { is_gestalt = yes }

						OR = {
							controller = {
								OR = {
									has_monthly_income = { resource = minerals value <= 18 }

									# ensure empire has minerals income limits
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_5
										has_monthly_income = { resource = minerals value <= 5 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_10
										has_monthly_income = { resource = minerals value <= 10 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_20
										has_monthly_income = { resource = minerals value <= 20 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_30
										has_monthly_income = { resource = minerals value <= 30 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_50
										has_monthly_income = { resource = minerals value <= 50 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_75
										has_monthly_income = { resource = minerals value <= 75 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_100
										has_monthly_income = { resource = minerals value <= 100 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_150
										has_monthly_income = { resource = minerals value <= 150 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_200
										has_monthly_income = { resource = minerals value <= 200 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_250
										has_monthly_income = { resource = minerals value <= 250 }
									}
									AND = {
										has_policy_flag = ipa_minimum_income_minerals_500
										has_monthly_income = { resource = minerals value <= 500 }
									}
								}
							}
						}

					}

				}

			}

		}

	}


	# district: district_generator
	district = {
		key = district_generator

		weight = {
			weight = 110.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.02
				controller = {
					OR = {

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}
					}
				}
			}


			# increase priority for planets with matching focus, slightly stronger than missing income to ensure districts are build by designations first
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_generator
					has_designation = col_habitat_energy
					has_designation = col_ring_generator
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
				}

			}

		}

	}


	# district: district_rw_generator
	district = {
		key = district_rw_generator

		weight = {
			weight = 110.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.02
				controller = {
					OR = {

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}
					}
				}
			}


			# increase priority for planets with matching focus, slightly stronger than missing income to ensure districts are build by designations first
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_generator
					has_designation = col_habitat_energy
					has_designation = col_ring_generator
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
				}

			}

		}

	}


	# district: district_hab_energy
	district = {
		key = district_hab_energy

		weight = {
			weight = 110.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.02
				controller = {
					OR = {

						# ensure empire has energy income limits
						AND = {
							has_policy_flag = ipa_minimum_income_energy_5
							has_monthly_income = { resource = energy value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_10
							has_monthly_income = { resource = energy value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_20
							has_monthly_income = { resource = energy value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_30
							has_monthly_income = { resource = energy value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_50
							has_monthly_income = { resource = energy value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_75
							has_monthly_income = { resource = energy value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_100
							has_monthly_income = { resource = energy value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_150
							has_monthly_income = { resource = energy value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_200
							has_monthly_income = { resource = energy value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_250
							has_monthly_income = { resource = energy value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_energy_500
							has_monthly_income = { resource = energy value <= 500 }
						}
					}
				}
			}


			# increase priority for planets with matching focus, slightly stronger than missing income to ensure districts are build by designations first
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_generator
					has_designation = col_habitat_energy
					has_designation = col_ring_generator
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
				}

			}

		}

	}


	# district: district_farming
	district = {
		key = district_farming

		weight = {
			weight = 110.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.02
				controller = {
					OR = {

						# ensure empire has food income limits
						AND = {
							has_policy_flag = ipa_minimum_income_food_5
							has_monthly_income = { resource = food value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_10
							has_monthly_income = { resource = food value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_20
							has_monthly_income = { resource = food value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_30
							has_monthly_income = { resource = food value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_50
							has_monthly_income = { resource = food value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_75
							has_monthly_income = { resource = food value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_100
							has_monthly_income = { resource = food value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_150
							has_monthly_income = { resource = food value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_200
							has_monthly_income = { resource = food value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_250
							has_monthly_income = { resource = food value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_500
							has_monthly_income = { resource = food value <= 500 }
						}
					}
				}
			}


			# increase priority for planets with matching focus, slightly stronger than missing income to ensure districts are build by designations first
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_farming
					has_designation = col_ring_farming
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_authority = auth_machine_intelligence
							has_country_flag = synthetic_empire
						}
					}
				}

			}

		}

	}


	# district: district_rw_farming
	district = {
		key = district_rw_farming

		weight = {
			weight = 110.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.02
				controller = {
					OR = {

						# ensure empire has food income limits
						AND = {
							has_policy_flag = ipa_minimum_income_food_5
							has_monthly_income = { resource = food value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_10
							has_monthly_income = { resource = food value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_20
							has_monthly_income = { resource = food value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_30
							has_monthly_income = { resource = food value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_50
							has_monthly_income = { resource = food value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_75
							has_monthly_income = { resource = food value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_100
							has_monthly_income = { resource = food value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_150
							has_monthly_income = { resource = food value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_200
							has_monthly_income = { resource = food value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_250
							has_monthly_income = { resource = food value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_food_500
							has_monthly_income = { resource = food value <= 500 }
						}
					}
				}
			}


			# increase priority for planets with matching focus, slightly stronger than missing income to ensure districts are build by designations first
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_farming
					has_designation = col_ring_farming
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_authority = auth_machine_intelligence
							has_country_flag = synthetic_empire
						}
					}
				}

			}

		}

	}


	# district: district_mining
	district = {
		key = district_mining

		weight = {
			weight = 110.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.02
				controller = {
					OR = {

						# ensure empire has minerals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_5
							has_monthly_income = { resource = minerals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_10
							has_monthly_income = { resource = minerals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_20
							has_monthly_income = { resource = minerals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_30
							has_monthly_income = { resource = minerals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_50
							has_monthly_income = { resource = minerals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_75
							has_monthly_income = { resource = minerals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_100
							has_monthly_income = { resource = minerals value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_150
							has_monthly_income = { resource = minerals value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_200
							has_monthly_income = { resource = minerals value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_250
							has_monthly_income = { resource = minerals value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_500
							has_monthly_income = { resource = minerals value <= 500 }
						}
					}
				}
			}


			# increase priority for planets with matching focus, slightly stronger than missing income to ensure districts are build by designations first
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_mining
					has_designation = col_habitat_mining
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
				}

			}

		}

	}


	# district: district_hab_mining
	district = {
		key = district_hab_mining

		weight = {
			weight = 110.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.02
				controller = {
					OR = {

						# ensure empire has minerals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_5
							has_monthly_income = { resource = minerals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_10
							has_monthly_income = { resource = minerals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_20
							has_monthly_income = { resource = minerals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_30
							has_monthly_income = { resource = minerals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_50
							has_monthly_income = { resource = minerals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_75
							has_monthly_income = { resource = minerals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_100
							has_monthly_income = { resource = minerals value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_150
							has_monthly_income = { resource = minerals value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_200
							has_monthly_income = { resource = minerals value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_250
							has_monthly_income = { resource = minerals value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_minerals_500
							has_monthly_income = { resource = minerals value <= 500 }
						}
					}
				}
			}


			# increase priority for planets with matching focus, slightly stronger than missing income to ensure districts are build by designations first
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_mining
					has_designation = col_habitat_mining
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
				}

			}

		}

	}


	# district: district_rw_science
	district = {
		key = district_rw_science

		weight = {
			weight = 110.0

			# increase priority for planets with matching focus
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_research
					has_designation = col_ecu_research
					has_designation = col_ring_research
					has_designation = col_habitat_research
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
					controller = {
						OR = {

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has minerals income limits
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_5
								has_monthly_income = { resource = minerals value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_10
								has_monthly_income = { resource = minerals value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_20
								has_monthly_income = { resource = minerals value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_30
								has_monthly_income = { resource = minerals value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_50
								has_monthly_income = { resource = minerals value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_75
								has_monthly_income = { resource = minerals value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_100
								has_monthly_income = { resource = minerals value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_150
								has_monthly_income = { resource = minerals value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_200
								has_monthly_income = { resource = minerals value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_250
								has_monthly_income = { resource = minerals value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_500
								has_monthly_income = { resource = minerals value <= 500 }
							}
						}
					}
				}

			}

		}

	}


	# district: district_hab_science
	district = {
		key = district_hab_science

		weight = {
			weight = 110.0

			# increase priority for planets with matching focus
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_research
					has_designation = col_ecu_research
					has_designation = col_ring_research
					has_designation = col_habitat_research
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
					controller = {
						OR = {

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has minerals income limits
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_5
								has_monthly_income = { resource = minerals value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_10
								has_monthly_income = { resource = minerals value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_20
								has_monthly_income = { resource = minerals value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_30
								has_monthly_income = { resource = minerals value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_50
								has_monthly_income = { resource = minerals value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_75
								has_monthly_income = { resource = minerals value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_100
								has_monthly_income = { resource = minerals value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_150
								has_monthly_income = { resource = minerals value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_200
								has_monthly_income = { resource = minerals value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_250
								has_monthly_income = { resource = minerals value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_500
								has_monthly_income = { resource = minerals value <= 500 }
							}
						}
					}
				}

			}

		}

	}


	# district: district_hab_cultural
	district = {
		key = district_hab_cultural

		weight = {
			weight = 110.0

			# increase priority for planets with matching focus
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_habitat_leisure
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
					controller = {
						OR = {

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has consumer_goods income limits
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_5
								has_monthly_income = { resource = consumer_goods value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_10
								has_monthly_income = { resource = consumer_goods value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_20
								has_monthly_income = { resource = consumer_goods value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_30
								has_monthly_income = { resource = consumer_goods value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_50
								has_monthly_income = { resource = consumer_goods value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_75
								has_monthly_income = { resource = consumer_goods value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_100
								has_monthly_income = { resource = consumer_goods value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_150
								has_monthly_income = { resource = consumer_goods value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_200
								has_monthly_income = { resource = consumer_goods value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_250
								has_monthly_income = { resource = consumer_goods value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_500
								has_monthly_income = { resource = consumer_goods value <= 500 }
							}
						}
					}
				}

			}

		}

	}


	# district: district_arcology_leisure
	district = {
		key = district_arcology_leisure

		weight = {
			weight = 110.0

			# increase priority for planets with matching focus
			modifier = {
				factor = 1.04

				OR = {
					has_designation = col_habitat_leisure
				}

			}


			modifier = {
				factor = 0.0

				# Disallow for various conditions
				OR = {
					free_jobs > 0
					controller = {
						OR = {

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has consumer_goods income limits
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_5
								has_monthly_income = { resource = consumer_goods value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_10
								has_monthly_income = { resource = consumer_goods value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_20
								has_monthly_income = { resource = consumer_goods value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_30
								has_monthly_income = { resource = consumer_goods value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_50
								has_monthly_income = { resource = consumer_goods value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_75
								has_monthly_income = { resource = consumer_goods value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_100
								has_monthly_income = { resource = consumer_goods value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_150
								has_monthly_income = { resource = consumer_goods value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_200
								has_monthly_income = { resource = consumer_goods value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_250
								has_monthly_income = { resource = consumer_goods value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_consumer_goods_500
								has_monthly_income = { resource = consumer_goods value <= 500 }
							}
						}
					}
				}

			}

		}

	}


	# building: building_foundry_1
	building = {
		key = building_foundry_1

		weight = {
			weight = 140.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has alloys income limits
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_5
							has_monthly_income = { resource = alloys value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_10
							has_monthly_income = { resource = alloys value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_20
							has_monthly_income = { resource = alloys value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_30
							has_monthly_income = { resource = alloys value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_50
							has_monthly_income = { resource = alloys value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_75
							has_monthly_income = { resource = alloys value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_100
							has_monthly_income = { resource = alloys value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_150
							has_monthly_income = { resource = alloys value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_200
							has_monthly_income = { resource = alloys value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_250
							has_monthly_income = { resource = alloys value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_500
							has_monthly_income = { resource = alloys value <= 500 }
						}
					}
				}
			}


			# Disallow for various conditions
			modifier = {
				factor = 0.0

				OR = {
					has_designation = col_research
					has_designation = col_ecu_research
					has_designation = col_ring_research
					has_designation = col_habitat_research
					has_designation = col_refinery
					has_designation = col_habitat_refinery
					has_designation = col_factory
					has_designation = col_mac_factory
					has_designation = col_habitat_factory
					has_designation = col_ecu_factory
					has_designation = col_habitat_leisure
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 4 }
							has_monthly_income = { resource = minerals value <= 12 }
							has_policy_flag = ipa_manage_alloys_no

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has minerals income limits
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_5
								has_monthly_income = { resource = minerals value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_10
								has_monthly_income = { resource = minerals value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_20
								has_monthly_income = { resource = minerals value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_30
								has_monthly_income = { resource = minerals value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_50
								has_monthly_income = { resource = minerals value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_75
								has_monthly_income = { resource = minerals value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_100
								has_monthly_income = { resource = minerals value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_150
								has_monthly_income = { resource = minerals value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_200
								has_monthly_income = { resource = minerals value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_250
								has_monthly_income = { resource = minerals value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_500
								has_monthly_income = { resource = minerals value <= 500 }
							}
						}
					}

					NOT = {
						controller = {
							OR = {

								# ensure empire has alloys income limits
								has_policy_flag = ipa_manage_alloys_unlimited
								AND = {
									has_policy_flag = ipa_manage_alloys_5
									has_monthly_income = { resource = alloys value <= 5 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_10
									has_monthly_income = { resource = alloys value <= 10 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_20
									has_monthly_income = { resource = alloys value <= 20 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_30
									has_monthly_income = { resource = alloys value <= 30 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_50
									has_monthly_income = { resource = alloys value <= 50 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_75
									has_monthly_income = { resource = alloys value <= 75 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_100
									has_monthly_income = { resource = alloys value <= 100 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_150
									has_monthly_income = { resource = alloys value <= 150 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_200
									has_monthly_income = { resource = alloys value <= 200 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_250
									has_monthly_income = { resource = alloys value <= 250 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_500
									has_monthly_income = { resource = alloys value <= 500 }
								}
							}
						}
					}

				}

			}

		}

	}


	# building: building_foundry_2
	building = {
		key = building_foundry_2

		weight = {
			weight = 141.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has alloys income limits
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_5
							has_monthly_income = { resource = alloys value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_10
							has_monthly_income = { resource = alloys value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_20
							has_monthly_income = { resource = alloys value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_30
							has_monthly_income = { resource = alloys value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_50
							has_monthly_income = { resource = alloys value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_75
							has_monthly_income = { resource = alloys value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_100
							has_monthly_income = { resource = alloys value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_150
							has_monthly_income = { resource = alloys value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_200
							has_monthly_income = { resource = alloys value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_250
							has_monthly_income = { resource = alloys value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_500
							has_monthly_income = { resource = alloys value <= 500 }
						}
					}
				}
			}


			# Disallow for various conditions
			modifier = {
				factor = 0.0

				OR = {
					has_designation = col_research
					has_designation = col_ecu_research
					has_designation = col_ring_research
					has_designation = col_habitat_research
					has_designation = col_refinery
					has_designation = col_habitat_refinery
					has_designation = col_factory
					has_designation = col_mac_factory
					has_designation = col_habitat_factory
					has_designation = col_ecu_factory
					has_designation = col_habitat_leisure
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 1 }
							has_monthly_income = { resource = minerals value <= 18 }
							has_monthly_income = { resource = volatile_motes value <= 1 }
							has_policy_flag = ipa_manage_alloys_no

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has minerals income limits
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_5
								has_monthly_income = { resource = minerals value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_10
								has_monthly_income = { resource = minerals value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_20
								has_monthly_income = { resource = minerals value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_30
								has_monthly_income = { resource = minerals value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_50
								has_monthly_income = { resource = minerals value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_75
								has_monthly_income = { resource = minerals value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_100
								has_monthly_income = { resource = minerals value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_150
								has_monthly_income = { resource = minerals value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_200
								has_monthly_income = { resource = minerals value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_250
								has_monthly_income = { resource = minerals value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_500
								has_monthly_income = { resource = minerals value <= 500 }
							}

							# ensure empire has volatile_motes income limits
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_1
								has_monthly_income = { resource = volatile_motes value <= 1 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_2
								has_monthly_income = { resource = volatile_motes value <= 2 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_3
								has_monthly_income = { resource = volatile_motes value <= 3 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_5
								has_monthly_income = { resource = volatile_motes value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_10
								has_monthly_income = { resource = volatile_motes value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_20
								has_monthly_income = { resource = volatile_motes value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_30
								has_monthly_income = { resource = volatile_motes value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_50
								has_monthly_income = { resource = volatile_motes value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_75
								has_monthly_income = { resource = volatile_motes value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_100
								has_monthly_income = { resource = volatile_motes value <= 100 }
							}
						}
					}

					NOT = {
						controller = {
							OR = {

								# ensure empire has alloys income limits
								has_policy_flag = ipa_manage_alloys_unlimited
								AND = {
									has_policy_flag = ipa_manage_alloys_5
									has_monthly_income = { resource = alloys value <= 5 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_10
									has_monthly_income = { resource = alloys value <= 10 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_20
									has_monthly_income = { resource = alloys value <= 20 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_30
									has_monthly_income = { resource = alloys value <= 30 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_50
									has_monthly_income = { resource = alloys value <= 50 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_75
									has_monthly_income = { resource = alloys value <= 75 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_100
									has_monthly_income = { resource = alloys value <= 100 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_150
									has_monthly_income = { resource = alloys value <= 150 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_200
									has_monthly_income = { resource = alloys value <= 200 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_250
									has_monthly_income = { resource = alloys value <= 250 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_500
									has_monthly_income = { resource = alloys value <= 500 }
								}
							}
						}
					}

				}

			}

		}

	}


	# building: building_foundry_3
	building = {
		key = building_foundry_3

		weight = {
			weight = 141.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has alloys income limits
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_5
							has_monthly_income = { resource = alloys value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_10
							has_monthly_income = { resource = alloys value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_20
							has_monthly_income = { resource = alloys value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_30
							has_monthly_income = { resource = alloys value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_50
							has_monthly_income = { resource = alloys value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_75
							has_monthly_income = { resource = alloys value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_100
							has_monthly_income = { resource = alloys value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_150
							has_monthly_income = { resource = alloys value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_200
							has_monthly_income = { resource = alloys value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_250
							has_monthly_income = { resource = alloys value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_alloys_500
							has_monthly_income = { resource = alloys value <= 500 }
						}
					}
				}
			}


			# Disallow for various conditions
			modifier = {
				factor = 0.0

				OR = {
					has_designation = col_research
					has_designation = col_ecu_research
					has_designation = col_ring_research
					has_designation = col_habitat_research
					has_designation = col_refinery
					has_designation = col_habitat_refinery
					has_designation = col_factory
					has_designation = col_mac_factory
					has_designation = col_habitat_factory
					has_designation = col_ecu_factory
					has_designation = col_habitat_leisure
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 1 }
							has_monthly_income = { resource = minerals value <= 18 }
							has_monthly_income = { resource = volatile_motes value <= 1 }
							has_policy_flag = ipa_manage_alloys_no

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has minerals income limits
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_5
								has_monthly_income = { resource = minerals value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_10
								has_monthly_income = { resource = minerals value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_20
								has_monthly_income = { resource = minerals value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_30
								has_monthly_income = { resource = minerals value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_50
								has_monthly_income = { resource = minerals value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_75
								has_monthly_income = { resource = minerals value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_100
								has_monthly_income = { resource = minerals value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_150
								has_monthly_income = { resource = minerals value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_200
								has_monthly_income = { resource = minerals value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_250
								has_monthly_income = { resource = minerals value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_500
								has_monthly_income = { resource = minerals value <= 500 }
							}

							# ensure empire has volatile_motes income limits
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_1
								has_monthly_income = { resource = volatile_motes value <= 1 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_2
								has_monthly_income = { resource = volatile_motes value <= 2 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_3
								has_monthly_income = { resource = volatile_motes value <= 3 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_5
								has_monthly_income = { resource = volatile_motes value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_10
								has_monthly_income = { resource = volatile_motes value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_20
								has_monthly_income = { resource = volatile_motes value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_30
								has_monthly_income = { resource = volatile_motes value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_50
								has_monthly_income = { resource = volatile_motes value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_75
								has_monthly_income = { resource = volatile_motes value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_100
								has_monthly_income = { resource = volatile_motes value <= 100 }
							}
						}
					}

					NOT = {
						controller = {
							OR = {

								# ensure empire has alloys income limits
								has_policy_flag = ipa_manage_alloys_unlimited
								AND = {
									has_policy_flag = ipa_manage_alloys_5
									has_monthly_income = { resource = alloys value <= 5 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_10
									has_monthly_income = { resource = alloys value <= 10 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_20
									has_monthly_income = { resource = alloys value <= 20 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_30
									has_monthly_income = { resource = alloys value <= 30 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_50
									has_monthly_income = { resource = alloys value <= 50 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_75
									has_monthly_income = { resource = alloys value <= 75 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_100
									has_monthly_income = { resource = alloys value <= 100 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_150
									has_monthly_income = { resource = alloys value <= 150 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_200
									has_monthly_income = { resource = alloys value <= 200 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_250
									has_monthly_income = { resource = alloys value <= 250 }
								}
								AND = {
									has_policy_flag = ipa_manage_alloys_500
									has_monthly_income = { resource = alloys value <= 500 }
								}
							}
						}
					}

				}

			}

		}

	}


	# building: building_factory_1
	building = {
		key = building_factory_1

		weight = {
			weight = 130.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has consumer_goods income limits
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_5
							has_monthly_income = { resource = consumer_goods value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_10
							has_monthly_income = { resource = consumer_goods value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_20
							has_monthly_income = { resource = consumer_goods value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_30
							has_monthly_income = { resource = consumer_goods value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_50
							has_monthly_income = { resource = consumer_goods value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_75
							has_monthly_income = { resource = consumer_goods value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_100
							has_monthly_income = { resource = consumer_goods value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_150
							has_monthly_income = { resource = consumer_goods value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_200
							has_monthly_income = { resource = consumer_goods value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_250
							has_monthly_income = { resource = consumer_goods value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_500
							has_monthly_income = { resource = consumer_goods value <= 500 }
						}
					}
				}
			}


			# Disallow for various conditions
			modifier = {
				factor = 0.0

				OR = {
					has_designation = col_research
					has_designation = col_ecu_research
					has_designation = col_ring_research
					has_designation = col_habitat_research
					has_designation = col_refinery
					has_designation = col_habitat_refinery
					has_designation = col_foundry
					has_designation = col_hiv_foundry
					has_designation = col_mac_foundry
					has_designation = col_habitat_foundry
					has_designation = col_ecu_foundry
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 4 }
							has_monthly_income = { resource = minerals value <= 12 }
							has_policy_flag = ipa_manage_consumer_goods_no

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has minerals income limits
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_5
								has_monthly_income = { resource = minerals value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_10
								has_monthly_income = { resource = minerals value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_20
								has_monthly_income = { resource = minerals value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_30
								has_monthly_income = { resource = minerals value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_50
								has_monthly_income = { resource = minerals value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_75
								has_monthly_income = { resource = minerals value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_100
								has_monthly_income = { resource = minerals value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_150
								has_monthly_income = { resource = minerals value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_200
								has_monthly_income = { resource = minerals value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_250
								has_monthly_income = { resource = minerals value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_500
								has_monthly_income = { resource = minerals value <= 500 }
							}
						}
					}

					NOT = {
						controller = {
							OR = {

								# ensure empire has consumer_goods income limits
								has_policy_flag = ipa_manage_consumer_goods_unlimited
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_5
									has_monthly_income = { resource = consumer_goods value <= 5 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_10
									has_monthly_income = { resource = consumer_goods value <= 10 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_20
									has_monthly_income = { resource = consumer_goods value <= 20 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_30
									has_monthly_income = { resource = consumer_goods value <= 30 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_50
									has_monthly_income = { resource = consumer_goods value <= 50 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_75
									has_monthly_income = { resource = consumer_goods value <= 75 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_100
									has_monthly_income = { resource = consumer_goods value <= 100 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_150
									has_monthly_income = { resource = consumer_goods value <= 150 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_200
									has_monthly_income = { resource = consumer_goods value <= 200 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_250
									has_monthly_income = { resource = consumer_goods value <= 250 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_500
									has_monthly_income = { resource = consumer_goods value <= 500 }
								}
							}
						}
					}

				}

			}

		}

	}


	# building: building_factory_2
	building = {
		key = building_factory_2

		weight = {
			weight = 131.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has consumer_goods income limits
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_5
							has_monthly_income = { resource = consumer_goods value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_10
							has_monthly_income = { resource = consumer_goods value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_20
							has_monthly_income = { resource = consumer_goods value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_30
							has_monthly_income = { resource = consumer_goods value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_50
							has_monthly_income = { resource = consumer_goods value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_75
							has_monthly_income = { resource = consumer_goods value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_100
							has_monthly_income = { resource = consumer_goods value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_150
							has_monthly_income = { resource = consumer_goods value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_200
							has_monthly_income = { resource = consumer_goods value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_250
							has_monthly_income = { resource = consumer_goods value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_500
							has_monthly_income = { resource = consumer_goods value <= 500 }
						}
					}
				}
			}


			# Disallow for various conditions
			modifier = {
				factor = 0.0

				OR = {
					has_designation = col_research
					has_designation = col_ecu_research
					has_designation = col_ring_research
					has_designation = col_habitat_research
					has_designation = col_refinery
					has_designation = col_habitat_refinery
					has_designation = col_foundry
					has_designation = col_hiv_foundry
					has_designation = col_mac_foundry
					has_designation = col_habitat_foundry
					has_designation = col_ecu_foundry
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 1 }
							has_monthly_income = { resource = minerals value <= 18 }
							has_monthly_income = { resource = rare_crystals value <= 1 }
							has_policy_flag = ipa_manage_consumer_goods_no

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has minerals income limits
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_5
								has_monthly_income = { resource = minerals value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_10
								has_monthly_income = { resource = minerals value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_20
								has_monthly_income = { resource = minerals value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_30
								has_monthly_income = { resource = minerals value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_50
								has_monthly_income = { resource = minerals value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_75
								has_monthly_income = { resource = minerals value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_100
								has_monthly_income = { resource = minerals value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_150
								has_monthly_income = { resource = minerals value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_200
								has_monthly_income = { resource = minerals value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_250
								has_monthly_income = { resource = minerals value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_500
								has_monthly_income = { resource = minerals value <= 500 }
							}

							# ensure empire has rare_crystals income limits
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_1
								has_monthly_income = { resource = rare_crystals value <= 1 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_2
								has_monthly_income = { resource = rare_crystals value <= 2 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_3
								has_monthly_income = { resource = rare_crystals value <= 3 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_5
								has_monthly_income = { resource = rare_crystals value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_10
								has_monthly_income = { resource = rare_crystals value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_20
								has_monthly_income = { resource = rare_crystals value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_30
								has_monthly_income = { resource = rare_crystals value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_50
								has_monthly_income = { resource = rare_crystals value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_75
								has_monthly_income = { resource = rare_crystals value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_100
								has_monthly_income = { resource = rare_crystals value <= 100 }
							}
						}
					}

					NOT = {
						controller = {
							OR = {

								# ensure empire has consumer_goods income limits
								has_policy_flag = ipa_manage_consumer_goods_unlimited
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_5
									has_monthly_income = { resource = consumer_goods value <= 5 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_10
									has_monthly_income = { resource = consumer_goods value <= 10 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_20
									has_monthly_income = { resource = consumer_goods value <= 20 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_30
									has_monthly_income = { resource = consumer_goods value <= 30 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_50
									has_monthly_income = { resource = consumer_goods value <= 50 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_75
									has_monthly_income = { resource = consumer_goods value <= 75 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_100
									has_monthly_income = { resource = consumer_goods value <= 100 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_150
									has_monthly_income = { resource = consumer_goods value <= 150 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_200
									has_monthly_income = { resource = consumer_goods value <= 200 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_250
									has_monthly_income = { resource = consumer_goods value <= 250 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_500
									has_monthly_income = { resource = consumer_goods value <= 500 }
								}
							}
						}
					}

				}

			}

		}

	}


	# building: building_factory_3
	building = {
		key = building_factory_3

		weight = {
			weight = 131.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has consumer_goods income limits
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_5
							has_monthly_income = { resource = consumer_goods value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_10
							has_monthly_income = { resource = consumer_goods value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_20
							has_monthly_income = { resource = consumer_goods value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_30
							has_monthly_income = { resource = consumer_goods value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_50
							has_monthly_income = { resource = consumer_goods value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_75
							has_monthly_income = { resource = consumer_goods value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_100
							has_monthly_income = { resource = consumer_goods value <= 100 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_150
							has_monthly_income = { resource = consumer_goods value <= 150 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_200
							has_monthly_income = { resource = consumer_goods value <= 200 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_250
							has_monthly_income = { resource = consumer_goods value <= 250 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_consumer_goods_500
							has_monthly_income = { resource = consumer_goods value <= 500 }
						}
					}
				}
			}


			# Disallow for various conditions
			modifier = {
				factor = 0.0

				OR = {
					has_designation = col_research
					has_designation = col_ecu_research
					has_designation = col_ring_research
					has_designation = col_habitat_research
					has_designation = col_refinery
					has_designation = col_habitat_refinery
					has_designation = col_foundry
					has_designation = col_hiv_foundry
					has_designation = col_mac_foundry
					has_designation = col_habitat_foundry
					has_designation = col_ecu_foundry
					free_jobs > 0
					controller = {
						OR = {
							has_monthly_income = { resource = energy value <= 1 }
							has_monthly_income = { resource = minerals value <= 18 }
							has_monthly_income = { resource = rare_crystals value <= 1 }
							has_policy_flag = ipa_manage_consumer_goods_no

							# ensure empire has energy income limits
							AND = {
								has_policy_flag = ipa_minimum_income_energy_5
								has_monthly_income = { resource = energy value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_10
								has_monthly_income = { resource = energy value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_20
								has_monthly_income = { resource = energy value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_30
								has_monthly_income = { resource = energy value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_50
								has_monthly_income = { resource = energy value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_75
								has_monthly_income = { resource = energy value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_100
								has_monthly_income = { resource = energy value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_150
								has_monthly_income = { resource = energy value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_200
								has_monthly_income = { resource = energy value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_250
								has_monthly_income = { resource = energy value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_energy_500
								has_monthly_income = { resource = energy value <= 500 }
							}

							# ensure empire has minerals income limits
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_5
								has_monthly_income = { resource = minerals value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_10
								has_monthly_income = { resource = minerals value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_20
								has_monthly_income = { resource = minerals value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_30
								has_monthly_income = { resource = minerals value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_50
								has_monthly_income = { resource = minerals value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_75
								has_monthly_income = { resource = minerals value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_100
								has_monthly_income = { resource = minerals value <= 100 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_150
								has_monthly_income = { resource = minerals value <= 150 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_200
								has_monthly_income = { resource = minerals value <= 200 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_250
								has_monthly_income = { resource = minerals value <= 250 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_minerals_500
								has_monthly_income = { resource = minerals value <= 500 }
							}

							# ensure empire has rare_crystals income limits
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_1
								has_monthly_income = { resource = rare_crystals value <= 1 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_2
								has_monthly_income = { resource = rare_crystals value <= 2 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_3
								has_monthly_income = { resource = rare_crystals value <= 3 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_5
								has_monthly_income = { resource = rare_crystals value <= 5 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_10
								has_monthly_income = { resource = rare_crystals value <= 10 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_20
								has_monthly_income = { resource = rare_crystals value <= 20 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_30
								has_monthly_income = { resource = rare_crystals value <= 30 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_50
								has_monthly_income = { resource = rare_crystals value <= 50 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_75
								has_monthly_income = { resource = rare_crystals value <= 75 }
							}
							AND = {
								has_policy_flag = ipa_minimum_income_strategic_100
								has_monthly_income = { resource = rare_crystals value <= 100 }
							}
						}
					}

					NOT = {
						controller = {
							OR = {

								# ensure empire has consumer_goods income limits
								has_policy_flag = ipa_manage_consumer_goods_unlimited
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_5
									has_monthly_income = { resource = consumer_goods value <= 5 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_10
									has_monthly_income = { resource = consumer_goods value <= 10 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_20
									has_monthly_income = { resource = consumer_goods value <= 20 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_30
									has_monthly_income = { resource = consumer_goods value <= 30 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_50
									has_monthly_income = { resource = consumer_goods value <= 50 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_75
									has_monthly_income = { resource = consumer_goods value <= 75 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_100
									has_monthly_income = { resource = consumer_goods value <= 100 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_150
									has_monthly_income = { resource = consumer_goods value <= 150 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_200
									has_monthly_income = { resource = consumer_goods value <= 200 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_250
									has_monthly_income = { resource = consumer_goods value <= 250 }
								}
								AND = {
									has_policy_flag = ipa_manage_consumer_goods_500
									has_monthly_income = { resource = consumer_goods value <= 500 }
								}
							}
						}
					}

				}

			}

		}

	}


	# building: building_chemical_plant
	building = {
		key = building_chemical_plant

		weight = {
			weight = 120.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has volatile_motes income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = volatile_motes value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = volatile_motes value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = volatile_motes value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = volatile_motes value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = volatile_motes value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = volatile_motes value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = volatile_motes value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = volatile_motes value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = volatile_motes value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = volatile_motes value <= 100 }
						}
					}
				}
			}


			# Disallow if to many free jobs or above desired income
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_policy_flag = ipa_desired_income_strategic_no
						}
					}

					NOT = {
						controller = {
							OR = {

								# ensure empire has volatile_motes income limits
								has_policy_flag = ipa_desired_income_strategic_unlimited
								AND = {
									has_policy_flag = ipa_desired_income_strategic_1
									has_monthly_income = { resource = volatile_motes value <= 1 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_2
									has_monthly_income = { resource = volatile_motes value <= 2 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_3
									has_monthly_income = { resource = volatile_motes value <= 3 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_5
									has_monthly_income = { resource = volatile_motes value <= 5 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_10
									has_monthly_income = { resource = volatile_motes value <= 10 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_20
									has_monthly_income = { resource = volatile_motes value <= 20 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_30
									has_monthly_income = { resource = volatile_motes value <= 30 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_50
									has_monthly_income = { resource = volatile_motes value <= 50 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_75
									has_monthly_income = { resource = volatile_motes value <= 75 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_100
									has_monthly_income = { resource = volatile_motes value <= 100 }
								}
							}
						}
					}

				}

			}

		}

	}


	# building: building_refinery
	building = {
		key = building_refinery

		weight = {
			weight = 120.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has exotic_gases income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = exotic_gases value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = exotic_gases value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = exotic_gases value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = exotic_gases value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = exotic_gases value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = exotic_gases value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = exotic_gases value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = exotic_gases value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = exotic_gases value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = exotic_gases value <= 100 }
						}
					}
				}
			}


			# Disallow for various conditions
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_policy_flag = ipa_desired_income_strategic_no
						}
					}

					NOT = {
						controller = {
							OR = {

								# ensure empire has exotic_gases income limits
								has_policy_flag = ipa_desired_income_strategic_unlimited
								AND = {
									has_policy_flag = ipa_desired_income_strategic_1
									has_monthly_income = { resource = exotic_gases value <= 1 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_2
									has_monthly_income = { resource = exotic_gases value <= 2 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_3
									has_monthly_income = { resource = exotic_gases value <= 3 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_5
									has_monthly_income = { resource = exotic_gases value <= 5 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_10
									has_monthly_income = { resource = exotic_gases value <= 10 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_20
									has_monthly_income = { resource = exotic_gases value <= 20 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_30
									has_monthly_income = { resource = exotic_gases value <= 30 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_50
									has_monthly_income = { resource = exotic_gases value <= 50 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_75
									has_monthly_income = { resource = exotic_gases value <= 75 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_100
									has_monthly_income = { resource = exotic_gases value <= 100 }
								}
							}
						}
					}

				}

			}

		}

	}


	# building: building_crystal_plant
	building = {
		key = building_crystal_plant

		weight = {
			weight = 120.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has rare_crystals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = rare_crystals value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = rare_crystals value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = rare_crystals value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = rare_crystals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = rare_crystals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = rare_crystals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = rare_crystals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = rare_crystals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = rare_crystals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = rare_crystals value <= 100 }
						}
					}
				}
			}


			# Disallow for various conditions
			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_policy_flag = ipa_desired_income_strategic_no
						}
					}

					NOT = {
						controller = {
							OR = {

								# ensure empire has rare_crystals income limits
								has_policy_flag = ipa_desired_income_strategic_unlimited
								AND = {
									has_policy_flag = ipa_desired_income_strategic_1
									has_monthly_income = { resource = rare_crystals value <= 1 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_2
									has_monthly_income = { resource = rare_crystals value <= 2 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_3
									has_monthly_income = { resource = rare_crystals value <= 3 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_5
									has_monthly_income = { resource = rare_crystals value <= 5 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_10
									has_monthly_income = { resource = rare_crystals value <= 10 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_20
									has_monthly_income = { resource = rare_crystals value <= 20 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_30
									has_monthly_income = { resource = rare_crystals value <= 30 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_50
									has_monthly_income = { resource = rare_crystals value <= 50 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_75
									has_monthly_income = { resource = rare_crystals value <= 75 }
								}
								AND = {
									has_policy_flag = ipa_desired_income_strategic_100
									has_monthly_income = { resource = rare_crystals value <= 100 }
								}
							}
						}
					}

				}

			}

		}

	}


	# building: building_mote_harvesters
	building = {
		key = building_mote_harvesters

		weight = {
			weight = 160.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has volatile_motes income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = volatile_motes value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = volatile_motes value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = volatile_motes value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = volatile_motes value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = volatile_motes value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = volatile_motes value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = volatile_motes value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = volatile_motes value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = volatile_motes value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = volatile_motes value <= 100 }
						}
					}
				}
			}


			# Disallow if to many free jobs
			modifier = {
				factor = 0.0
				free_jobs > 0
			}

		}

	}


	# building: building_gas_extractors
	building = {
		key = building_gas_extractors

		weight = {
			weight = 160.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has exotic_gases income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = exotic_gases value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = exotic_gases value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = exotic_gases value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = exotic_gases value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = exotic_gases value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = exotic_gases value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = exotic_gases value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = exotic_gases value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = exotic_gases value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = exotic_gases value <= 100 }
						}
					}
				}
			}


			# Disallow if to many free jobs
			modifier = {
				factor = 0.0
				free_jobs > 0
			}

		}

	}


	# building: building_crystal_mines
	building = {
		key = building_crystal_mines

		weight = {
			weight = 160.0

			# increase priority slightly if below desired resource income
			modifier = {
				factor = 1.01
				controller = {
					OR = {

						# ensure empire has rare_crystals income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = rare_crystals value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = rare_crystals value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = rare_crystals value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = rare_crystals value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = rare_crystals value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = rare_crystals value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = rare_crystals value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = rare_crystals value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = rare_crystals value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = rare_crystals value <= 100 }
						}
					}
				}
			}


			# Disallow if to many free jobs
			modifier = {
				factor = 0.0
				free_jobs > 0
			}

		}

	}


	# building: building_mineral_purification_plant
	building = {
		key = building_mineral_purification_plant

		weight = {
			weight = 200.0

			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0

					# Disallow if not enough districts build
					NOR = {
						num_districts = { type = district_mining value >= 1 }
						num_districts = { type = district_hab_mining value >= 1 }
					}


					# Disallow on invalid types
					NOR = {
						has_designation = col_mining
						has_designation = col_habitat_mining
					}

				}

			}

		}

	}


	# building: building_mineral_purification_hub
	building = {
		key = building_mineral_purification_hub

		weight = {
			weight = 201.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value <= 1 }
						has_monthly_income = { resource = volatile_motes value <= 1 }

						# ensure empire has volatile_motes income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = volatile_motes value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = volatile_motes value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = volatile_motes value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = volatile_motes value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = volatile_motes value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = volatile_motes value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = volatile_motes value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = volatile_motes value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = volatile_motes value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = volatile_motes value <= 100 }
						}
					}
				}
			}

		}

	}


	# building: building_energy_grid
	building = {
		key = building_energy_grid

		weight = {
			weight = 200.0

			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0

					# Disallow if not enough districts build
					NOR = {
						num_districts = { type = district_generator value >= 1 }
						num_districts = { type = district_rw_generator value >= 1 }
						num_districts = { type = district_hab_energy value >= 1 }
					}


					# Disallow on invalid types
					NOR = {
						has_designation = col_generator
						has_designation = col_habitat_energy
						has_designation = col_ring_generator
					}

				}

			}

		}

	}


	# building: building_energy_nexus
	building = {
		key = building_energy_nexus

		weight = {
			weight = 201.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value <= 1 }
						has_monthly_income = { resource = exotic_gases value <= 1 }

						# ensure empire has exotic_gases income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = exotic_gases value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = exotic_gases value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = exotic_gases value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = exotic_gases value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = exotic_gases value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = exotic_gases value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = exotic_gases value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = exotic_gases value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = exotic_gases value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = exotic_gases value <= 100 }
						}
					}
				}
			}

		}

	}


	# building: building_food_processing_facility
	building = {
		key = building_food_processing_facility

		weight = {
			weight = 200.0

			modifier = {
				factor = 0.0

				OR = {
					free_jobs > 0
					controller = {
						OR = {
							has_authority = auth_machine_intelligence
							has_country_flag = synthetic_empire
						}
					}

					# Disallow if not enough districts build
					NOR = {
						num_districts = { type = district_farming value >= 1 }
						num_districts = { type = district_rw_farming value >= 1 }
					}


					# Disallow on invalid types
					NOR = {
						has_designation = col_farming
						has_designation = col_ring_farming
					}

				}

			}

		}

	}


	# building: building_food_processing_center
	building = {
		key = building_food_processing_center

		weight = {
			weight = 201.0

			modifier = {
				factor = 0.0
				controller = {
					OR = {
						has_monthly_income = { resource = energy value <= 1 }
						has_monthly_income = { resource = volatile_motes value <= 1 }

						# ensure empire has volatile_motes income limits
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_1
							has_monthly_income = { resource = volatile_motes value <= 1 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_2
							has_monthly_income = { resource = volatile_motes value <= 2 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_3
							has_monthly_income = { resource = volatile_motes value <= 3 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_5
							has_monthly_income = { resource = volatile_motes value <= 5 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_10
							has_monthly_income = { resource = volatile_motes value <= 10 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_20
							has_monthly_income = { resource = volatile_motes value <= 20 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_30
							has_monthly_income = { resource = volatile_motes value <= 30 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_50
							has_monthly_income = { resource = volatile_motes value <= 50 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_75
							has_monthly_income = { resource = volatile_motes value <= 75 }
						}
						AND = {
							has_policy_flag = ipa_minimum_income_strategic_100
							has_monthly_income = { resource = volatile_motes value <= 100 }
						}
					}
				}
			}

		}

	}

}

