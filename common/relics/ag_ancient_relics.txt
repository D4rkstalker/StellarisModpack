@activation_cost = 3000
@triumph_duration = 3600

ag_gamma_crisis_relic = {
	activation_duration = @triumph_duration
	portrait = "GFX_relic_ag_gamma_crisis_relic"
	sound = "ag_ancient_data_core_relic"

	score = 10000

	resources = {
		category = relics
		cost = { energy = 8000 unity = @activation_cost }
	}
	
	triggered_country_modifier = {
		potential = { always = yes }
		planet_jobs_sr_living_metal_produces_mult = 0.05
		planet_jobs_nanites_produces_mult = 0.05
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_relic_no_cooldown"
			NOT = { has_modifier = relic_activation_cooldown }
		}
	}

	active_effect = {
		hidden_effect = {
			if = {
				limit = { has_country_flag = ag_gamma_102_fired }
				if = {
					limit = { ag_has_ship_design = { ag_design = ag_gamma_battlecruiser_0 } }
					ag_remove_ship_design = { ag_design = ag_gamma_battlecruiser_0 }
				}
				if = {
					limit = { ag_has_ship_design = { ag_design = ag_gamma_escort_0 } }
					ag_remove_ship_design = { ag_design = ag_gamma_escort_0 }
				}
				ag_add_ship_design = { ag_design = ag_gamma_battlecruiser_1 }
				ag_add_ship_design = { ag_design = ag_gamma_escort_1 }
			}
			else = {
				ag_add_ship_design = { ag_design = ag_gamma_battlecruiser_0 }
				ag_add_ship_design = { ag_design = ag_gamma_escort_0 }
			}
		}
		if = {
			limit = { has_global_flag = ag_no_relic_ship_building }
			add_modifier = { modifier = "ag_gamma_relic_buff" days = 3600 }
			if = {
				limit = { NOT = { has_country_flag = ag_gamma_crisis_relic_actived } }
				custom_tooltip = ag_relic_first_active_effect
				custom_tooltip = ag_gamma_titan_megastructure_effect
				if = {
					limit = { has_global_flag = ag_ancient_empire_mod_shipyard_building }
					custom_tooltip = ag_gamma_battlecruiser_ship_effect
					custom_tooltip = ag_gamma_escort_ship_effect
				}
				else = {
					custom_tooltip = ag_gamma_battlecruiser_megastructure_effect
					custom_tooltip = ag_gamma_escort_megastructure_effect
				}
				custom_tooltip = ag_settings_construction_type
			}
			custom_tooltip = relic_triumph_cooldown
			hidden_effect = {
				add_modifier = { modifier = "relic_activation_cooldown" days = 3600 }
				set_country_flag = ag_gamma_crisis_relic_actived
			}
		}
		else = {
			custom_tooltip = ag_gamma_titan_megastructure_effect
			if = {
				limit = { has_global_flag = ag_ancient_empire_mod_shipyard_building }
				custom_tooltip = ag_gamma_battlecruiser_ship_effect
				custom_tooltip = ag_gamma_escort_ship_effect
			}
			else = {
				custom_tooltip = ag_gamma_battlecruiser_megastructure_effect
				custom_tooltip = ag_gamma_escort_megastructure_effect
			}
			custom_tooltip = ag_settings_construction_type
			custom_tooltip = relic_triumph_cooldown
			hidden_effect = {
				add_modifier = { modifier = "relic_activation_cooldown" days = 3600 }
				set_timed_country_flag = { flag = ag_gamma_crisis_relic_actived days = 3600 }
			}
		}
	}

	ai_weight = { weight = 0 }
}
ag_zeta_crisis_relic = {
	activation_duration = @triumph_duration
	portrait = "GFX_relic_ag_zeta_crisis_relic"
	sound = "ag_ancient_data_core_relic"

	score = 10000

	resources = {
		category = relics
		cost = { energy = 8000 unity = @activation_cost }
	}
	
	triggered_country_modifier = {
		potential = { always = yes }
		ship_hull_mult = 0.10
		ship_shield_mult = 0.20
		ship_shield_regen_add_static = 50
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_relic_no_cooldown"
			NOT = { has_modifier = relic_activation_cooldown }
		}
	}

	active_effect = {
		if = {
			limit = { has_global_flag = ag_no_relic_ship_building }
			add_modifier = { modifier = "ag_zeta_relic_buff" days = 3600 }
			if = {
				limit = { NOT = { has_country_flag = ag_zeta_crisis_relic_actived } }
				custom_tooltip = ag_relic_first_active_effect
				custom_tooltip = ag_zeta_titan_megastructure_effect
				if = {
					limit = { has_global_flag = ag_ancient_empire_mod_shipyard_building }
					custom_tooltip = ag_zeta_battleship_ship_effect
					custom_tooltip = ag_zeta_destroyer_ship_effect
				}
				else = {
					custom_tooltip = ag_zeta_battleship_megastructure_effect
					custom_tooltip = ag_zeta_destroyer_megastructure_effect
				}
				custom_tooltip = ag_settings_construction_type
			}
			custom_tooltip = relic_triumph_cooldown
			hidden_effect = {
				ag_add_ship_design = { ag_design = ag_zeta_battleship }
				ag_add_ship_design = { ag_design = ag_zeta_destroyer }
				# if = {
					# limit = { NOT = { has_country_flag = ag_has_zeta_relic_design } }
					# set_country_flag = ag_has_zeta_relic_design
					# create_ship_design = { design = "NAME_ag_zeta_battleship" }
					# add_ship_design = last_created_design
					# create_ship_design = { design = "NAME_ag_zeta_destroyer" }
					# add_ship_design = last_created_design
				# }
				add_modifier = { modifier = "relic_activation_cooldown" days = 3600 }
				set_country_flag = ag_zeta_crisis_relic_actived
			}
		}
		else = {
			custom_tooltip = ag_zeta_titan_megastructure_effect
			if = {
				limit = { has_global_flag = ag_ancient_empire_mod_shipyard_building }
				custom_tooltip = ag_zeta_battleship_ship_effect
				custom_tooltip = ag_zeta_destroyer_ship_effect
			}
			else = {
				custom_tooltip = ag_zeta_battleship_megastructure_effect
				custom_tooltip = ag_zeta_destroyer_megastructure_effect
			}
			custom_tooltip = ag_settings_construction_type
			custom_tooltip = relic_triumph_cooldown
			hidden_effect = {
				ag_add_ship_design = { ag_design = ag_zeta_battleship }
				ag_add_ship_design = { ag_design = ag_zeta_destroyer }
				# if = {
					# limit = { NOT = { has_country_flag = ag_has_zeta_relic_design } }
					# set_country_flag = ag_has_zeta_relic_design
					# create_ship_design = { design = "NAME_ag_zeta_battleship" }
					# add_ship_design = last_created_design
					# create_ship_design = { design = "NAME_ag_zeta_destroyer" }
					# add_ship_design = last_created_design
				# }
				add_modifier = { modifier = "relic_activation_cooldown" days = 3600 }
				set_timed_country_flag = { flag = ag_zeta_crisis_relic_actived days = 3600 }
			}
		}
	}

	ai_weight = { weight = 0 }
}

ag_auto_starbase_relic = {
	activation_duration = @triumph_duration
	portrait = "GFX_relic_ag_auto_construction_template"
	sound = "ag_ancient_data_core_relic"

	score = 500

	resources = {
		category = relics
		cost = { energy = 5000 unity = @activation_cost }
	}

	triggered_country_modifier = {
		potential = { always = yes }
		custom_tooltip = "ag_auto_starbase_relic_tooltip"
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_relic_no_cooldown"
			NOT = { has_modifier = relic_activation_cooldown }
		}
	}

	active_effect = {
		add_modifier = { modifier = "ag_auto_starbase_relic_activated" days = @triumph_duration }
		custom_tooltip = relic_triumph_cooldown
		hidden_effect = { add_modifier = { modifier = "relic_activation_cooldown" days = @triumph_duration } }
	}

	ai_weight = { weight = 0 }
}

ag_key_relic = {
	activation_duration = @triumph_duration
	portrait = "GFX_relic_ag_key_relic"
	sound = "ag_ancient_data_core_relic"
	score = 233
	resources = { category = relics cost = { energy = 1 } }
	triggered_country_modifier = {
		potential = { always = yes }
		custom_tooltip = ag_key_relic_passive_tooltip
	}
	possible = {
		custom_tooltip = {
			fail_text = "requires_relic_no_cooldown"
			NOT = { has_modifier = relic_activation_cooldown }
		}
	}
	active_effect = {
		custom_tooltip = ag_key_relic_active_tooltip
		custom_tooltip = relic_triumph_cooldown
		hidden_effect = { add_modifier = { modifier = "relic_activation_cooldown" days = 3600 } }
	}
	ai_weight = { weight = 0 }
}
