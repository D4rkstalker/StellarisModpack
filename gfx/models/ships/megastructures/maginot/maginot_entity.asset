
#Machine ship models, used with permission. Thanks Erin!
##gun##
entity = {
	name = "maginot_gun_entity"
	pdxmesh = "giga_machine_01_spyorb_part_2_mesh"
	
	default_state = "idle"
	state = { name = "idle" animation = "idle" 
		#start_event = { time = 0 node = "effect_01" particle = "matde_platform_beam_effect" keep_particle = yes trigger_once = yes }
		start_event = { time = 0 node = "effect_02" particle = "matde_core_small_beam_effect" keep_particle = yes trigger_once = yes }
		start_event = { time = 0 node = "effect_03" particle = "matde_core_small_beam_effect" keep_particle = yes trigger_once = yes }
		start_event = { trigger_once = yes sound = { soundeffect = "spy_orb_hum_spire" } }
	}
	scale = 5
}

entity = {
	name = "maginot_gun_cover_entity"
	pdxmesh = "machine_01_construction_platform_01_mesh"
	
	 state = { name = "construction"
    }
		
		default_state = "idle"
		state = { name = "idle"
		start_event = { trigger_once = yes sound = { soundeffect = "construction_platform_hum" } }
	}
	scale = 1.6
}

entity = {
	name = "maginot_gun_frame_entity"
	pdxmesh = "machine_01_matter_decompressor_01_stage_1_mesh"
	
	####matde_black_hole_effect
	
	default_state = "idle"
	state = { name = "idle" 
		start_event = { node = "light_locator_01" particle = "ship_light_blue_effect" keep_particle = yes trigger_once = yes }
		start_event = { node = "light_locator_02" particle = "ship_light_blue_effect" keep_particle = yes trigger_once = yes }
		start_event = { node = "light_locator_03" particle = "ship_light_blue_effect" keep_particle = yes trigger_once = yes }

		start_event = { trigger_once = yes sound = { soundeffect = "sfx_matter_decompressor_hum" } }
		start_event = { trigger_once = yes sound = { soundeffect = "sfx_matter_decompressor_hum_treble" } }
	}

	scale = 1.7
}

entity = {
	name = "maginot_gun_back_entity"
	pdxmesh = "machine_01_spyorb_part_1_mesh"
	#scale = @spyorb_scale
	
	default_state = "idle"
	state = { name = "idle" animation = "idle" 
		event = { time = 0 node = "core" particle = "avian_01_colossus_inner_core_effect" keep_particle = yes trigger_once = yes }
		start_event = { trigger_once = yes sound = { soundeffect = "spy_orb_hum_dome" } }
	}
	scale = 3.7
}

entity = {
	name = "maginot_black_hole_entity"
	
	####matde_black_hole_effect
	
	default_state = "idle"
	state = { name = "idle" 		
		start_event = { node = "core" particle = "matde_black_hole_effect" keep_particle = yes trigger_once = yes }
		event = { time = 0 node = "core" particle = "ion_cannon_core_effect" keep_particle = yes trigger_once = yes  }
		event = { time = 0 node = "core" particle = "ion_cannon_core_effect" keep_particle = yes trigger_once = yes  }
		event = { time = 0 node = "core" particle = "ion_cannon_core_effect" keep_particle = yes trigger_once = yes  }
		event = { time = 0 node = "core" particle = "ion_cannon_core_effect" keep_particle = yes trigger_once = yes  }
		event = { time = 0 node = "core" particle = "lithoid_01_collosus_core" keep_particle = yes trigger_once = yes sound = { soundeffect = "megastructure_gate_way_portal_hum" } }
		event = { time = 0 node = "core" particle = "lithoid_01_science_core" keep_particle = yes trigger_once = yes  }
		event = { time = 0 node = "core" particle = "lithoid_01_science_core" keep_particle = yes trigger_once = yes  }
		event = { time = 0 node = "core" particle = "lithoid_01_science_core" keep_particle = yes trigger_once = yes  }
	}

	scale = 5
}

entity = {
	name = "maginot_gun_bits_entity"
	pdxmesh = "machine_01_strategic_coordination_center_stage_1_mesh"

	
	default_state = "idle"
	state = { name = "idle" state_time = 5 
		event = { time = 0 node = "light_locator_01" particle = "ship_light_blue_effect" trigger_once = yes keep_particle = yes }
		event = { time = 0 node = "light_locator_02" particle = "ship_light_blue_effect" trigger_once = yes keep_particle = yes }
		event = { time = 0 node = "light_locator_03" particle = "ship_light_blue_effect" trigger_once = yes keep_particle = yes }
		event = { time = 0 node = "light_locator_04" particle = "ship_light_blue_effect" trigger_once = yes keep_particle = yes }

		start_event = { trigger_once = yes sound = { soundeffect = "sfx_strategic_coordination_center_hum" } }
	}

	scale = 0.5
}


##ring##

entity = {
	name = "maginot_ring_part_entity"
	cull_radius = 500.0
	pdxmesh = "machine_01_ringworld_tech_01_mesh"
	
	default_state = "idle"
	state = { name = "idle"	state_time = 5 }
	state = { name = "construction" }
	
	meshsettings = {
		shader = "PdxMeshTerra"
	}
	game_data = {
		size = 20
	}
}

entity = {
	name = "maginot_ring_edge_entity"
	pdxmesh = "machine_01_starport_mesh"
	
	default_state = "idle"
	state = { name = "idle" state_time = 5
		event = { time = 0 node = "light_locator_01" particle = "ship_light_blue_effect" keep_particle = yes trigger_once = yes }
		event = { time = 0 node = "light_locator_02" particle = "ship_light_blue_effect" keep_particle = yes trigger_once = yes }
		
		start_event = { trigger_once = yes sound = { soundeffect = "starbase_hum_stage_01" } }
	}

	scale = 3
}

entity = {
	name = "maginot_ring_top_entity"
	pdxmesh = "machine_01_mega_art_upper_mesh"

	scale = 3
	
	default_state = "idle"
	state = { name = "idle"
		start_event = { node = "effect_01" particle = "mega_art_core_2_effect" keep_particle = yes trigger_once = yes }
	}
	
	attach = { effect_02 = "mega_art_fountain_splash_entity" }
}

#Complex structure
entity = {
	name = "maginot_ring_mega_entity"
	cull_radius = 1000
	
	locator = { name = "loc101" position = { 0 10 0 } rotation = { 0 0 0 } }
	locator = { name = "loc102" position = { 0 0 0 } rotation = { 90 0 0 } }
	locator = { name = "loc103" position = { 0 30 0 } rotation = { 0 0 0 } }

	attach = { "loc101" = "maginot_ring_part_entity" }
	attach = { "loc102" = "maginot_ring_edge_entity" }
	attach = { "loc103" = "maginot_ring_top_entity" }

	scale = 5
}

entity = {
	name = "maginot_gun_tilted_entity"
	cull_radius = 1000
	
	locator = { name = "loc101" position = { 0 0 0 } rotation = { 0 90 0 } }

	attach = { "loc101" = "maginot_gun_entity" }

	scale = 1
}

entity = {
	name = "maginot_gun_bits_tilted_entity"
	cull_radius = 1000
	
	locator = { name = "loc101" position = { -29 0 0 } rotation = { -120 0 90 } }
	locator = { name = "loc102" position = { 29 0 0 } rotation = { 120 0 -90 } }

	attach = { "loc101" = "maginot_gun_bits_entity" }
	attach = { "loc102" = "maginot_gun_bits_entity" }

	scale = 1
}

entity = {
	name = "maginot_gun_big_entity"
	cull_radius = 1000
	
	locator = { name = "loc101" position = { 0 0 40 } rotation = { 0 0 0 } }
	locator = { name = "loc102" position = { 0 0 30 } rotation = { 0 0 180 } }
	locator = { name = "loc103" position = { 0 0 15 } rotation = { 0 0 0 } }
	locator = { name = "loc104" position = { 0 0 50 } rotation = { 0 90 0 } }
	locator = { name = "loc105" position = { 0 0 40 } rotation = { 0 90 0 } }
	locator = { name = "loc106" position = { 0 0 32 } rotation = { 0 -90 0 } }
	locator = { name = "loc107" position = { 0 0 35 } rotation = { 0 0 0 } }
	locator = { name = "loc108" position = { 0 0 10 } rotation = { 0 0 0 } }

	attach = { "loc101" = "maginot_gun_tilted_entity" }
	attach = { "loc102" = "maginot_gun_frame_entity" }
	attach = { "loc103" = "maginot_gun_frame_entity" }
	attach = { "loc104" = "maginot_gun_back_entity" }
	attach = { "loc105" = "maginot_black_hole_entity" }
	attach = { "loc106" = "maginot_gun_back_entity" }
	attach = { "loc107" = "maginot_gun_cover_entity" }
	attach = { "loc108" = "maginot_gun_bits_tilted_entity" }

	scale = 25
}