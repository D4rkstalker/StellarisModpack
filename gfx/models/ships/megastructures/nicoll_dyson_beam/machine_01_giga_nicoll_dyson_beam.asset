@giga_ndb_scale = 1.5

#########################################
### Nicoll Dyson Beam ###################
#########################################
# Components
entity = {
	name = "machine_01_giga_ndb_p2_component_entity"
	cull_radius = 1000

	locator = { name = "loc107" position = { -250 0 0 }			rotation = { -90 0 0 } }
	locator = { name = "loc108" position = { -216.5 0 -125 }	rotation = { -120 0 0 } }
	locator = { name = "loc109" position = { -125 0 -216.5 }	rotation = { -150 0 0 } }
	locator = { name = "loc110" position = { 0 0 -250 }			rotation = { -180 0 0 } }
	locator = { name = "loc111" position = { 125 0 -216.5 }		rotation = { -210 0 0 } }

	attach = { loc107 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc108 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc109 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc110 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc111 = "machine_01_ringworld_sphere_tech_entity" }
}

entity = {
	name = "machine_01_giga_ndb_p3_component_entity"
	cull_radius = 1000

	locator = { name = "loc101" position = { 250 0 0 }			rotation = { 90 0 0 } }
	locator = { name = "loc102" position = { 216.5 0 125 }		rotation = { 60 0 0 } }
	locator = { name = "loc103" position = { 125 0 216.5 }		rotation = { 30 0 0 } }
	locator = { name = "loc104" position = { 0 0 250 }			rotation = { 0 0 0 } }
	locator = { name = "loc105" position = { -125 0 216.5 }		rotation = { -30 0 0 } }
	locator = { name = "loc106" position = { -216.5 0 125 }		rotation = { -60 0 0 } }
	locator = { name = "loc107" position = { -250 0 0 }			rotation = { -90 0 0 } }
	locator = { name = "loc108" position = { -216.5 0 -125 }	rotation = { -120 0 0 } }
	locator = { name = "loc109" position = { -125 0 -216.5 }	rotation = { -150 0 0 } }
	locator = { name = "loc110" position = { 0 0 -250 }			rotation = { -180 0 0 } }
	locator = { name = "loc111" position = { 125 0 -216.5 }		rotation = { -210 0 0 } }
	locator = { name = "loc112" position = { 216.5 0 -125 }		rotation = { -240 0 0 } }

	attach = { loc101 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc102 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc103 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc104 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc105 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc106 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc107 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc108 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc109 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc110 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc111 = "machine_01_ringworld_sphere_seam_entity" }
	attach = { loc112 = "machine_01_ringworld_sphere_seam_entity" }
}

entity = {
	name = "machine_01_giga_ndb_p4_component_entity"
	cull_radius = 1000

	locator = { name = "loc101" position = { 250 0 0 }			rotation = { 90 0 0 } }
	locator = { name = "loc102" position = { 216.5 0 125 }		rotation = { 60 0 0 } }
	locator = { name = "loc103" position = { 125 0 216.5 }		rotation = { 30 0 0 } }
	locator = { name = "loc104" position = { 0 0 250 }			rotation = { 0 0 0 } }
	locator = { name = "loc105" position = { -125 0 216.5 }		rotation = { -30 0 0 } }
	locator = { name = "loc106" position = { -216.5 0 125 }		rotation = { -60 0 0 } }
	locator = { name = "loc107" position = { -250 0 0 }			rotation = { -90 0 0 } }
	locator = { name = "loc108" position = { -216.5 0 -125 }	rotation = { -120 0 0 } }
	locator = { name = "loc109" position = { -125 0 -216.5 }	rotation = { -150 0 0 } }
	locator = { name = "loc110" position = { 0 0 -250 }			rotation = { -180 0 0 } }
	locator = { name = "loc111" position = { 125 0 -216.5 }		rotation = { -210 0 0 } }
	locator = { name = "loc112" position = { 216.5 0 -125 }		rotation = { -240 0 0 } }

	attach = { loc101 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc102 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc103 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc104 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc105 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc106 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc107 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc108 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc109 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc110 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc111 = "machine_01_ringworld_sphere_tech_entity" }
	attach = { loc112 = "machine_01_ringworld_sphere_tech_entity" }
}

# Phase assembly
entity = {
	name = "machine_01_giga_ndb_phase1_construction_entity"
	pdxmesh = "machine_01_dyson_sphere_frame_mesh"
	scale = @giga_ndb_scale

	default_state = "idle"
	state = { name = "idle" state_time = 10
		start_event = { trigger_once = yes sound = { soundeffect = "dyson_sphere_treble_hum" } }
	}

	game_data = {
		size = 50
		emissive_recolor_crunch = 5.0
		shader_type = ship
	}
}

entity = {
	name = "machine_01_giga_ndb_phase2_construction_entity"
	cull_radius = 1000
	scale = @giga_ndb_scale

	locator = { name = "loc101" position = { 50 0 0 } rotation = { 60 0 0 } }
	locator = { name = "loc102" position = { 50 0 0 } rotation = { 60 22.5 0 } }
	locator = { name = "loc103" position = { 50 0 0 } rotation = { 60 45 0 } }
	locator = { name = "loc104" position = { 50 0 0 } rotation = { 60 67.5 0 } }
	locator = { name = "loc105" position = { 50 0 0 } rotation = { 60 90 0 } }
	locator = { name = "loc106" position = { 50 0 0 } rotation = { 60 112.5 0 } }
	locator = { name = "loc107" position = { 50 0 0 } rotation = { 60 135 0 } }
	locator = { name = "loc108" position = { 50 0 0 } rotation = { 60 157.5 0 } }

	attach = { loc101 = "machine_01_giga_ndb_p2_component_entity" }
	attach = { loc102 = "machine_01_giga_ndb_p2_component_entity" }
	attach = { loc103 = "machine_01_giga_ndb_p2_component_entity" }
	attach = { loc104 = "machine_01_giga_ndb_p2_component_entity" }
	attach = { loc105 = "machine_01_giga_ndb_p2_component_entity" }
	attach = { loc106 = "machine_01_giga_ndb_p2_component_entity" }
	attach = { loc107 = "machine_01_giga_ndb_p2_component_entity" }
	attach = { loc108 = "machine_01_giga_ndb_p2_component_entity" }
}

entity = {
	name = "machine_01_giga_ndb_phase3_construction_entity"
	cull_radius = 1000
	scale = @giga_ndb_scale

	locator = { name = "loc109" position = { -7.5 0 0 } rotation = { 0 90 90 } scale = 0.975 }
	locator = { name = "loc111" position = { -125 0 0 } rotation = { 0 90 90 } scale = 0.75 }
	attach = { loc109 = "machine_01_giga_ndb_p3_component_entity" }
	attach = { loc111 = "machine_01_giga_ndb_p3_component_entity" }
}

entity = {
	name = "machine_01_giga_ndb_phase4_construction_entity"
	cull_radius = 1000
	scale = @giga_ndb_scale

	locator = { name = "l10" position = { 110 0 0 } rotation = { 180 90 90 } scale = 0.95 }
	locator = { name = "l11" position = { 210 0 0 } rotation = { 180 90 90 } scale = 0.70 }
	locator = { name = "l12" position = { 310 0 0 } rotation = { 180 90 90 } scale = 0.45 }
	locator = { name = "l13" position = { 410 0 0 } rotation = { 180 90 90 } scale = 0.25 }

	attach = { l10 = "machine_01_giga_ndb_p4_component_entity" }
	attach = { l11 = "machine_01_giga_ndb_p4_component_entity" }
	attach = { l12 = "machine_01_giga_ndb_p4_component_entity" }
	attach = { l13 = "machine_01_giga_ndb_p4_component_entity" }
}

# Phase completed
entity = {
	name = "machine_01_giga_ndb_phase1_entity"
	cull_radius = 1000

	locator = { name = "root" position = { 0 0 0 } }
	attach = { root = "machine_01_giga_ndb_phase1_construction_entity" }
}

entity = {
	name = "machine_01_giga_ndb_phase2_entity"
	cull_radius = 1000
	locator = { name = "root" position = { 0 0 0 } }
	attach = { root = "machine_01_giga_ndb_phase1_construction_entity" }
	attach = { root = "machine_01_giga_ndb_phase2_construction_entity" }
}

entity = {
	name = "machine_01_giga_ndb_phase3_entity"
	cull_radius = 1000

	locator = { name = "root" position = { 0 0 0 } }
	attach = { root = "machine_01_giga_ndb_phase1_construction_entity" }
	attach = { root = "machine_01_giga_ndb_phase2_construction_entity" }
	attach = { root = "machine_01_giga_ndb_phase3_construction_entity" }
	attach = { root = "machine_01_giga_ndb_phase2_entity" }
}

entity = {
	name = "machine_01_giga_ndb_phase4_entity"
	cull_radius = 1000

	locator = { name = "root" position = { 0 0 0 } }
	attach = { root = "machine_01_giga_ndb_phase1_construction_entity" }
	attach = { root = "machine_01_giga_ndb_phase2_construction_entity" }
	attach = { root = "machine_01_giga_ndb_phase3_construction_entity" }
	attach = { root = "machine_01_giga_ndb_phase4_construction_entity" }
}

#########################################
### Nicoll Dyson Beam Gate ##############
#########################################

entity = {
	name = "machine_01_giga_ndb_enemy_gate_entity"
	cull_radius = 1000
	scale = 0.1

	locator = { name = "loc101" position = { 0 0 0 } rotation = { 0 90 0 } }
	attach = { loc101 = "machine_01_giga_ndb_p4_component_entity" }
}

# Assembly
entity = {
	name = "machine_01_giga_ndb_gate_closed_entity"
	cull_radius = 1000
	scale = 0.4

	locator = { name = "loc101" position = { 0 0 0 }	rotation = { 0 90 0 } }
	locator = { name = "loc102" position = { 0 0 -15 }	rotation = { 0 90 0 } }
	locator = { name = "loc103" position = { 0 0 15 }	rotation = { 0 90 0 } }
	locator = { name = "loc104" position = { -250 0 0 }	rotation = { 90 90 90 } }
	locator = { name = "loc105" position = { 250 0 0 }	rotation = { -90 -90 -90 } }
	attach = { loc101 = "machine_01_giga_ndb_p4_component_entity" }
	attach = { loc102 = "machine_01_giga_ndb_p4_component_entity" }
	attach = { loc103 = "machine_01_giga_ndb_p4_component_entity" }
	attach = { loc104 = "giga_ndb_capacitors_entity" }
	attach = { loc105 = "giga_ndb_capacitors_entity" }
}

entity = {
	name = "machine_01_giga_ndb_gate_open_entity"
	cull_radius = 1000
	scale = 0.4

	locator = { name = "loc101" position = { 0 0 0 }	rotation = { 0 90 0 } }
	locator = { name = "loc102" position = { 0 0 -15 }	rotation = { 0 90 0 } }
	locator = { name = "loc103" position = { 0 0 15 }	rotation = { 0 90 0 } }
	locator = { name = "loc104" position = { -250 0 0 }	rotation = { 90 90 90 } }
	locator = { name = "loc105" position = { 250 0 0 }	rotation = { -90 -90 -90 } }
	locator = { name = "loc106" position = { 0 0 -80 }	rotation = { 0 -90 0 } }

	attach = { loc101 = "machine_01_giga_ndb_p4_component_entity" }
	attach = { loc102 = "machine_01_giga_ndb_p4_component_entity" }
	attach = { loc103 = "machine_01_giga_ndb_p4_component_entity" }
	attach = { loc104 = "giga_ndb_capacitors_entity" }
	attach = { loc105 = "giga_ndb_capacitors_entity" }
	attach = { loc106 = "giga_ndb_portal_entity" }
}

# Assembly Complete
entity = {
	name = "machine_01_giga_ndb_enemy_gate_closed_entity"
	cull_radius = 1000
	scale = 2

	locator = { name = "loc101" position = { 0 0 0 } rotation = { 0 0 0 } }
	locator = { name = "loc102" position = { 0 0 0 } rotation = { 0 0 90 } }
	locator = { name = "loc103" position = { 0 0 0 } rotation = { 0 0 180 } }
	locator = { name = "loc104" position = { 0 0 0 } rotation = { 0 0 270 } }
	locator = { name = "loc105" position = { 0 0 0 } rotation = { 0 0 0 } }

	attach = { loc101 = "giga_ndb_gate_center_entity" }
	attach = { loc102 = "giga_ndb_gate_center_entity" }
	attach = { loc103 = "giga_ndb_gate_center_entity" }
	attach = { loc104 = "giga_ndb_gate_center_entity" }
	attach = { loc105 = "machine_01_giga_ndb_enemy_gate_entity" }
}

entity = {
	name = "machine_01_giga_ndb_enemy_gate_open_entity"
	cull_radius = 1000

	locator = { name = "loc105" position = { 0 0 0 } rotation = { 0 0 0 } }
	locator = { name = "loc106" position = { 0 0 -80 } rotation = { 0 -90 0 } scale = 0.3 }

	attach = { loc105 = "machine_01_giga_ndb_enemy_gate_closed_entity" }
	attach = { loc106 = "giga_ndb_portal_entity" }
}

entity = {
	name = "machine_01_giga_ndb_enemy_gate_firing_entity"
	cull_radius = 1000

	locator = { name = "m1"		position = { 0 10 -10 }	rotation = { 0 180 0 }		scale = 0.3 }
	locator = { name = "m2"		position = { 0 10 -10 }	rotation = { 0 180 0 }		scale = 0.3 }
	locator = { name = "m3"		position = { 0 -10 10 }	rotation = { 0 180 0 }		scale = 0.3 }
	locator = { name = "m4"		position = { 0 -10 10 }	rotation = { 0 180 0 }		scale = 0.3 }
	locator = { name = "pew"	position = { 0 10 -10 }	rotation = { 180 180 90 }	scale = 0.2 }
	locator = { name = "pew1"	position = { 0 10 -10 }	rotation = { 180 180 90 }	scale = 0.2 }
	locator = { name = "pew2"	position = { 0 -10 10 }	rotation = { 180 180 90 }	scale = 0.2 }
	locator = { name = "pew3"	position = { 0 -10 10 }	rotation = { 180 180 90 }	scale = 0.2 }
	locator = { name = "loc102"	position = { 0 10 -10 }	rotation = { 180 180 90 }	scale = 7.5 }
	locator = { name = "loc103"	position = { 0 10 -10 }	rotation = { 180 180 90 }	scale = 7.5 }
	locator = { name = "loc104"	position = { 0 -10 10 }	rotation = { 180 180 90 }	scale = 7.5 }
	locator = { name = "loc105"	position = { 0 -10 10 }	rotation = { 180 180 90 }	scale = 7.5 }
	locator = { name = "loc107"	position = { 0 0 0 }	rotation = { 0 180 0 } }

	attach = { m1 = "giga_ndb_megabeam_entity" }
	attach = { m2 = "giga_ndb_megabeam_entity" }
	attach = { m3 = "giga_ndb_megabeam_entity" }
	attach = { m4 = "giga_ndb_megabeam_entity" }
	attach = { pew = "fme01_titan_laser_muzzle_entity" }
	attach = { pew1 = "fme01_titan_laser_muzzle_entity" }
	attach = { pew2 = "titan_laser_hit_entity" }
	attach = { pew3 = "titan_laser_hit_entity" }
	attach = { loc102 = "giga_ndb_energy_entity" }
	attach = { loc103 = "giga_ndb_energy_entity" }
	attach = { loc104 = "giga_ndb_energy_entity" }
	attach = { loc105 = "giga_ndb_energy_entity" }
	attach = { loc107 = "machine_01_giga_ndb_enemy_gate_open_entity" }
}

entity = {
	name = "machine_01_giga_ndb_owner_gate_open_entity"
	cull_radius = 1000

	locator = { name = "loc101" position = { 0 0 0 } rotation = { 0 0 0 } }
	locator = { name = "loc102" position = { 0 0 0 } rotation = { 0 0 0 }	scale = 7.5 }
	locator = { name = "loc103" position = { 0 0 0 } rotation = { 0 0 0 }	scale = 7.5 }
	locator = { name = "loc104" position = { 0 0 0 } rotation = { 0 0 0 }	scale = 7.5 }
	locator = { name = "loc105" position = { 0 0 0 } rotation = { 0 0 0 }	scale = 7.5 }

	attach = { loc101 = "machine_01_giga_ndb_gate_open_entity" }
	attach = { loc102 = "giga_ndb_energy_entity" }
	attach = { loc103 = "giga_ndb_energy_entity" }
	attach = { loc104 = "giga_ndb_energy_entity" }
	attach = { loc105 = "giga_ndb_energy_entity" }
}