namespace = AAR_evt_TECH
#	aar奇点循环init/aar奇点弹窗/aar奇点cycle
#	aar奇点峰会




###	aar奇点循环init
#_ap	<AP技术奇点>
country_event = {
	id = AAR_evt_TECH.1
	title = adevent
	desc = adevent_desc
	picture = GFX_AAR_EP_tech_summit
	show_sound = event_celebration
	location = root
	is_triggered_only = yes

	immediate = {
		set_country_flag = AAR_flg_cntr_TECH_summit_READY
		country_event = { id = AAR_evt_TECH.2 days = 1080 }
	}

	option = {
		name = eata
		custom_tooltip = eata.tooltip 
	}
}
###	aar奇点弹窗
#_evt	<aar奇点循环init>
country_event = {
	id = AAR_evt_TECH.2
	title = adevent
	desc = adevent_desc
	picture = GFX_AAR_EP_tech_summit
	show_sound = event_celebration
	location = root
	is_triggered_only = yes

	immediate = {
		set_country_flag = AAR_flg_cntr_TECH_summit_READY
	}

	option = {
		name = eata
		custom_tooltip = eata.tooltip 
		hidden_effect = {
			country_event = { id = AAR_evt_TECH.2 days = 1080 }
		}
	}
	option = {
		name = eata2
		custom_tooltip = eata2.tooltip 
		hidden_effect = {
			country_event = { id = AAR_evt_TECH.3 days = 1080 }
		}
	}
}
###	aar奇点cycle
#_evt	<aar奇点循环init>
country_event = {
	id = AAR_evt_TECH.3
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		NOT = { has_country_flag = AAR_flg_cntr_TECH_cycle_COUNT }	# 防止奇怪的重复触发
	}

	immediate = {
		set_timed_country_flag = { flag = AAR_flg_cntr_TECH_cycle_COUNT days = 1 }	# |触发flg|
		country_event = { id = AAR_evt_TECH.3 days = 1080 }	# 自循环
		
		set_country_flag = AAR_flg_cntr_TECH_summit_READY
	}
}




###	aar奇点峰会
#_<VOP_on_monthly_pulse>
event = {
	id = AAR_evt_TECH.4
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		#	半年
		OR = {
			has_global_flag = FW_MONTH_1
			has_global_flag = FW_MONTH_7
		}
		#	科技峰会准备
		any_country = { has_country_flag = AAR_flg_cntr_TECH_summit_READY }
	}

	immediate = {
		every_country = {
			limit = { has_country_flag = AAR_flg_cntr_TECH_summit_READY }

			remove_country_flag = AAR_flg_cntr_TECH_summit_READY
			add_monthly_resource_mult = {
				resource = physics_research
				value = 6
				min = 3
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = 6
				min = 3
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = 6
				min = 3
			}
		}
	}
}

