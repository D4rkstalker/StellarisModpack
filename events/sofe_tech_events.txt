##############################
#### 	   	Tech Event Sir
####			By Greetings from Beyond
##############################


namespace = origin_tech


#Arkship Rebuild Event
country_event = {
	id = origin_tech.1
	hide_window = yes
	
	trigger = {
		has_country_flag = winner_of_sofe
		NOT = { has_global_flag = active_origin_crisis }
		is_progenitor_empires = no
		NOR = {
			is_at_war_with = event_target:origin_crisis_country
			has_country_flag = origin_flagship_start
		}
		NOR = { 
			has_valid_civic = "civic_fanatic_purifiers"
			has_valid_civic = "civic_hive_devouring_swarm"
			has_valid_civic = "civic_machine_terminator"
		} 
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	immediate = {
		set_country_flag = origin_flagship_start
		country_event = { id = origin_tech.6500 }
	}
}

# ARKSHIP GIFF
country_event = {
	id = origin_tech.6500
	title = "origin_diplo_header_2"
	desc = origin_tech.6500.desc
	
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:origin_crisis_country
		room = "personality_original_empire_room"
	}
	
	is_triggered_only = yes
	
	immediate = {
	}

	option = {
		name = origin.6500.ask.a
		trigger = {
			NOT = {
				has_country_flag = ask_about_shadow
			}	
		}
		set_country_flag = ask_about_shadow
		response_text = origin.6500.ask.a.explain
		is_dialog_only = yes
	}
	option = {
		name = origin.6500.ask.b
		trigger = {
			NOT = {
				has_country_flag = ask_about_doing_yourself
			}	
		}
		set_country_flag = ask_about_doing_yourself
		response_text = origin.6500.ask.b.explain
		is_dialog_only = yes
	}
	option = {
		name = origin.6500.ask.c
		trigger = {
			event_target:origin_crisis_country = {
				is_country_type = original_empire_active
			}
			NOT = {
				has_country_flag = ask_about_consequence
			}	
		}
		set_country_flag = ask_about_consequence
		response_text = origin.6500.ask.c.explain
		is_dialog_only = yes
	}

	option = {
		name = origin_tech.6500.a
		response_text = origin_tech.6500.a.response
		capital_scope = {
			enable_special_project = {
				name = "ORIGINAL_ARKSHIP_REBUILD"
				location = this
				owner = root.owner
			}			
		}
		save_event_target_as = owner_country
		ai_chance = {                                        # AI chance
			factor = 1000
		}
	}
}

# TECH GIFF
country_event = {
	id = origin_tech.6501
	title = "origin_diplo_header_2"
	desc = {
		text =  origin_tech.651.desc
		trigger = {
			is_machine_empire = no
		}
	}
	desc = {
		text =  origin_tech.651.desc.machine
		trigger = {
			is_machine_empire = yes
			NOT = {
				has_valid_civic = civic_machine_servitor				
			}
		}
	}
	desc = {
		text =  origin_tech.651.desc.servitor
		trigger = {
			is_machine_empire = yes
			has_valid_civic = civic_machine_servitor
		}
	}

	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:origin_crisis_country
		room = "personality_original_empire_room"
	}
	
	is_triggered_only = yes
	
	immediate = {
	}

	option = {
		name = origin.6500.ask.a
		response_text = origin.6500.ask.a.explain
		trigger = {
			NOT = {
				has_country_flag = ask_about_shadow
			}
		}
		is_dialog_only = yes
		set_country_flag = ask_about_shadow
	}
	option = {
		name = origin.6500.ask.c
		trigger = {
			event_target:origin_crisis_country = {
				is_country_type = original_empire_active
			}
			NOT = {
				has_country_flag = ask_about_consequence
			}			
		}
		response_text = origin.6500.ask.c.explain
		is_dialog_only = yes
		set_country_flag = ask_about_consequence
	}

	option = {
		name = origin_tech.651.a
		response_text = origin_tech.651.a.response
		custom_tooltip = origin_tech.651.a.desc
		trigger = {
			is_machine_empire = no
		}
		capital_scope = {
			enable_special_project = {
					name = "PROJECT_ALL_ORIGIN_TECH"
					location = this
					owner = root.owner
			}
		}
		ai_chance = {                                        # AI chance
			factor = 1000
		}
	}

	option = {
		name = origin_tech.651.a.machine
		response_text = origin_tech.651.a.response
		custom_tooltip = origin_tech.651.a.desc
		trigger = {
			is_machine_empire = yes
			NOT = {
				has_valid_civic = civic_machine_servitor				
			}
		}
		capital_scope = {
			enable_special_project = {
					name = "PROJECT_ALL_ORIGIN_TECH"
					location = this
					owner = root.owner
			}
		}
		ai_chance = {                                        # AI chance
			factor = 1000
		}
	}

	option = {
		name = origin_tech.651.a.servitor
		response_text = origin_tech.651.a.response
		custom_tooltip = origin_tech.651.a.desc
		trigger = {
			is_machine_empire = yes
			has_valid_civic = civic_machine_servitor	
		}
		capital_scope = {
			enable_special_project = {
					name = "PROJECT_ALL_ORIGIN_TECH"
					location = this
					owner = root.owner
			}
		}
		ai_chance = {                                        # AI chance
			factor = 0
		}
	}

	option = {
		name = origin_tech.651.b.servitor
		response_text = origin_tech.651.b.response
		custom_tooltip = origin_tech.651.b.servitor.desc
		set_country_flag = servitor_no_fun
		trigger = {
			is_machine_empire = yes
			has_valid_civic = civic_machine_servitor	
		}
		capital_scope = {
			enable_special_project = {
					name = "PROJECT_ALL_ORIGIN_TECH"
					location = this
					owner = root.owner
			}
		}
		ai_chance = {                                        # AI chance
			factor = 0
		}
	}

	option = {
		name = origin_tech.651.c
		response_text = origin_tech.651.c.response
		ai_chance = {                                       # AI chance
			factor = 0
		}
	}
}



#Arkship spawn
ship_event = {
	id = origin_tech.100
	title = origin_tech.100.name
	desc = origin_tech.100.desc
	picture = GFX_evt_origin_flagship
	#show_sound = event_arkship_roar
	
	is_triggered_only = yes

	immediate = {
		create_fleet = {
			name = "NAME_NEW_KAISER"
			settings = {
				spawn_debris = no
				can_upgrade = no 
				can_disband = no
				can_change_composition = no 
				is_boss = yes
				uses_naval_capacity = no
			}
			effect = {
				set_owner = event_target:owner_country
				create_ship = {
					name = "ORIGIN_GAIA_SECOND"
					design = "ORIGIN_GAIA_SECOND"
					upgradable = no
				}
				set_location = FROMFROM
			}
		}
		create_fleet = {
			name = "NAME_GOLDEN_ARMADA"
			settings = {
				spawn_debris = no
				can_upgrade = no 
				can_disband = no
				can_change_composition = no 
				is_boss = yes
				uses_naval_capacity = no
			}
			effect = {
				set_owner = event_target:owner_country
				create_origin_special_project_ships = yes
				set_location = FROMFROM
			}
		}
		create_fleet = {
			name = "NAME_NEW_COLOSSUS"
			settings = {
				spawn_debris = no
				can_upgrade = no 
				can_disband = no
				can_change_composition = no 
				is_boss = yes
				uses_naval_capacity = no
			}
			effect = {
				set_owner = event_target:owner_country
				create_origin_colossus = yes
				set_location = FROMFROM
			}
		}	
	}
	
	option = {
		name = origin_tech.100.a
	}
	option = {
		name = origin_tech.100.b
	}
	option = {
		name = origin_tech.100.c
	}
	option = {
		name = origin_tech.100.d
	}
	option = {
		name = origin_tech.100.e
	}
}

#ALL TECH
country_event = {
	id = origin_tech.2
	hide_window = yes
	
	trigger = {
		has_country_flag = winner_of_sofe
		is_progenitor_empires = no
		NOR = { 
			has_valid_civic = "civic_fanatic_purifiers"
			has_valid_civic = "civic_hive_devouring_swarm"
			has_valid_civic = "civic_machine_terminator"
		} 
		NOR = {
			has_country_flag = origin_ready_for_tech
			is_at_war_with = event_target:origin_crisis_country
		}
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	immediate = {
		set_country_flag = origin_ready_for_tech
		country_event = { id = origin_tech.6501	}
	}
}

planet_event = {
	id = origin_tech.6
	title = origin_tech.final.name
	desc = {
		text = origin_tech.final.desc
		trigger = {
			owner = {
				is_regular_empire = yes
			}
		}
	}
	desc = {
		text = origin_tech.final.desc.hive
		trigger = {
			owner = {
				is_hive_empire = yes
			}
		}
	}
	desc = {
		text = origin_tech.final.desc.machine
		trigger = {
			owner = {
				is_machine_empire = yes
				NOT = {
					has_country_flag = servitor_no_fun
				}
			}
		}
	}
	desc = {
		text = origin_tech.final.desc.servitor
		trigger = {
			owner = {
				is_machine_empire = yes
				has_country_flag = servitor_no_fun
			}
		}
	}
	picture = GFX_evt_origin_ascension
	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
	
	immediate = {
		IF = {
			limit = {
				owner = {
					NOT = {
						has_country_flag =  servitor_no_fun
					}					
				}
			}
			root.owner = {
				change_government = {
					civics = {
						civic = civic_champion_empire
						civic = civic_champion_fleet
						civic = civic_champion_knowledge
					}
				}
				add_resource = {
					minerals = 1000000
					energy = 1000000
					alloys = 1000000
					food = 1000000
					consumer_goods = 1000000
					sr_dark_matter = 100000
					acot_sr_dark_energy = 100000
					acot_sr_stellarite = 100000
					acot_sr_light_matter = 100000				
					influence = 1000
					unity = 100000
				}
				every_owned_pop = {
					modify_species = {
						species = this
						ideal_planet_class = pc_omega_ringworld_habitable
			  		}
				}	
				every_owned_pop = {
					modify_species = {
						species = this
							add_trait = trait_pc_all_preference
							add_trait = trait_sofe_champion
					}
				}
			}
		}
	}

	option = {
		name = origin_tech.final.a
		custom_tooltip = origin_tech.final.a.desc
		root.owner = {
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						is_country_type = default
						is_country_type = fallen_empire
						is_country_type = awakened_fallen_empire
						is_country_type = ascended_empire
						is_country_type = lost_empire			
					}
				}
				add_opinion_modifier = {
					who = root.owner
					modifier = opinion_new_orginal_empire
				}				
			}
			#####################MISC################

				if = {
					limit = { 
						NOT = { has_technology = tech_precursor_escort } 
						is_country_type = default
					}
					add_research_option = tech_precursor_escort		
				}
				if = {
					limit = { 
						NOT = { has_technology = tech_omega_escort } 
						is_country_type = default
					}
					add_research_option = tech_omega_escort				
				}
				if = {
					limit = { 
						NOT = { has_technology = tech_precursor_escort_cost } 
						is_country_type = default
					}
					add_research_option = tech_precursor_escort_cost		
				}

				####

				if = {
					limit = { 
						NOT = { has_technology = tech_precursor_bc } 
						is_country_type = default
					}
					add_research_option = tech_precursor_bc				
				}
				if = {
					limit = { 
						NOT = { has_technology = tech_omega_battlecruiser } 
						is_country_type = default
					}
					add_research_option = tech_omega_battlecruiser				
				}
				if = {
					limit = { 
						NOT = { has_technology = tech_precursor_bc_cost } 
						is_country_type = default
					}
					add_research_option = tech_precursor_bc_cost		
				}

				#####

				if = {
					limit = { NOT = { has_technology = tech_gatekeepers } }
					add_research_option = tech_gatekeepers				
				}
				if = {
					limit = { NOT = { has_technology = tech_omega_gatekeeper } }
					add_research_option = tech_omega_gatekeeper				
				}
				if = {
					limit = { NOT = { has_technology = tech_gatekeepers_cost } }
					add_research_option = tech_gatekeepers_cost				
				}

				#####

				if = {
					limit = { NOT = { has_technology = tech_fe_assault_carrier } }
					add_research_option = tech_fe_assault_carrier				
				}
				if = {
					limit = { NOT = { has_technology = tech_omega_carrier } }
					add_research_option = tech_omega_carrier				
				}
				if = {
					limit = { NOT = { has_technology = tech_fe_assault_carrier_cost } }
					add_research_option = tech_fe_assault_carrier_cost				
				}


				#####

				if = {
					limit = { NOT = { has_technology = tech_fe_tower_offense } }
					add_research_option = tech_fe_tower_offense				
				}
				if = {
					limit = { NOT = { has_technology = tech_omege_sentinel } }
					add_research_option = tech_omege_sentinel				
				}
				if = {
					limit = { NOT = { has_technology = tech_fe_tower_offense_cost } }
					add_research_option = tech_fe_tower_offense_cost				
				}

				#####

				if = {
					limit = { 
						NOT = { has_technology = tech_precursor_titan } 
						is_country_type = default
					}
					add_research_option = tech_precursor_titan				
				}
				if = {
					limit = { 
						NOT = { has_technology = tech_omega_titan } 
						is_country_type = default
					}
					add_research_option = tech_omega_titan			
				}
				if = {
					limit = { 
						NOT = { has_technology = tech_precursor_titan_cost } 
						is_country_type = default
					}
					add_research_option = tech_precursor_titan_cost		
				}
				
				#####

				if = {
					limit = { 
						NOT = { has_technology = tech_precursor_guardian } 
						is_country_type = default
					}
					add_research_option = tech_precursor_guardian				
				}
				if = {
					limit = { 
						NOT = { has_technology = tech_omega_guardian } 
						is_country_type = default
					}
					add_research_option = tech_omega_guardian			
				}
				if = {
					limit = { 
						NOT = { has_technology = tech_precursor_guardian_cost } 
						is_country_type = default
					}
					add_research_option = tech_precursor_guardian_cost		
				}

				#####

				if = {
					limit = { 
						NOT = { has_technology = tech_precursor_colossus } 
						is_country_type = default
					}
					add_research_option = tech_precursor_colossus				
				}
				if = {
					limit = { 
						NOT = { has_technology = tech_omega_colossus } 
						is_country_type = default
					}
					add_research_option = tech_omega_colossus		
				}
				
			#####################OFFENSE################

				if = {
					limit = { NOT = { has_technology = tech_lightmatter_artillery } }
					add_research_option = tech_lightmatter_artillery				
				}
				if = {
					limit = { NOT = { has_technology = tech_warp_lightmatter_cannon } }
					add_research_option = tech_warp_lightmatter_cannon				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_disruptor } }
					add_research_option = tech_lightmatter_disruptor				
				}
				if = {
					limit = { NOT = { has_technology = tech_warp_lightmatter_cannon } }
					add_research_option = tech_warp_lightmatter_cannon				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_plasma_cannon } }
					add_research_option = tech_lightmatter_plasma_cannon				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_lance } }
					add_research_option = tech_lightmatter_lance				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_emitter } }
					add_research_option = tech_lightmatter_emitter				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_titan_beam } }
					add_research_option = tech_lightmatter_titan_beam				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_missile } }
					add_research_option = tech_lightmatter_missile				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_gunship } }
					add_research_option = tech_lightmatter_gunship				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_bomber } }
					add_research_option = tech_lightmatter_bomber				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_weapon_core } }
					add_research_option = tech_lightmatter_weapon_core				
				}

				if = {
					limit = { NOT = { has_technology = tech_lightmatter_titan_accelerator } }
					add_research_option = tech_lightmatter_titan_accelerator 				
				}	

			
			#####################DEFENCE################

				if = {
					limit = { NOT = { has_technology = tech_lightmatter_flak } }
					add_research_option = tech_lightmatter_flak				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_point_defence } }
					add_research_option = tech_lightmatter_point_defence				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_autocannon } }
					add_research_option = tech_lightmatter_autocannon				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_gauss } }
					add_research_option = tech_lightmatter_gauss				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_laser } }
					add_research_option = tech_lightmatter_laser				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_photon } }
					add_research_option = tech_lightmatter_photon				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_fighter } }
					add_research_option = tech_lightmatter_fighter				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_armor } }
					add_research_option = tech_lightmatter_armor				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_shield } }
					add_research_option = tech_lightmatter_shield				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_reactive_drone } }
					add_research_option = tech_lightmatter_reactive_drone				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_shield_supercharger } }
					add_research_option = tech_lightmatter_shield_supercharger				
				}

			#####################UTILITY################
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_thruster } }
					add_research_option = tech_lightmatter_thruster				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_reactor } }
					add_research_option = tech_lightmatter_reactor				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_sensors } }
					add_research_option = tech_lightmatter_sensors				
				}
				if = {
					limit = { NOT = { has_technology = tech_computer_lightmatter } }
					add_research_option = tech_computer_lightmatter				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_jump_drive } }
					add_research_option = tech_lightmatter_jump_drive				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_afterburners } }
					add_research_option = tech_lightmatter_afterburners				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_hyper_jump_drive } }
					add_research_option = tech_lightmatter_hyper_jump_drive				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_analyzer_ai } }
					add_research_option = tech_lightmatter_analyzer_ai				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_inspire_aura } }
					add_research_option = tech_lightmatter_inspire_aura				
				}
				if = {
					limit = { NOT = { has_technology = tech_lightmatter_aura_energy_drainer } }
					add_research_option = tech_lightmatter_aura_energy_drainer				
				}
				if = {
					limit = { NOT = { has_technology = tech_omega_warmech } }
					add_research_option = tech_omega_warmech				
				}
			}
		}	
	}
}

# Light Matter Tech
planet_event = {
	id = origin_tech.3
	title = "origin_tech.3"
	desc = "origin_tech.3.desc"
	show_sound = event_mystic_reveal
	diplomatic = yes
	
	pre_triggers = {
		is_capital = yes
	}

	picture_event_data = {
		portrait = event_target:origin_crisis_country
		room = "personality_original_empire_room"
	}
	

	trigger = {
		has_global_flag = active_origin_crisis
		owner = {
			is_progenitor_empires = no		
			check_variable = {
				which = "origin_fleet_kills" 
				value > 200
			}
			NOR = { 
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
			} 
			NOT = { has_country_flag = learned_light_matter }
			NOT = { has_technology = tech_lightmatter_reactor }
		}
	}
	
	
	mean_time_to_happen = {
		months = 3
	}

	immediate = {
		owner = {
			set_country_flag = learned_light_matter
		}
	}

	option = {
		name = origin_tech.3.a
		custom_tooltip = origin_tech.3.a.desc
		root.owner = {
			add_resource = {
				influence = 100			
			}
		}
		enable_special_project = {
				name = "PROJECT_LIGHT_MATTER"
				location = this
				owner = root.owner
		}
		ai_chance = {                                        # AI chance
			factor = 1000
		}
	}

	option = {
		name = origin_tech.3.b
		custom_tooltip = origin_tech.3.b.desc
		root.owner = {
			add_modifier = {
				modifier = challenger_original	
			}
			add_resource = {
				society_research = 500000
				engineering_research = 500000
				physics_research = 500000
				influence = 500
				unity = 1000000
			}
		}
	}
}

# Light Matter Tech Acquired
planet_event = {
	id = origin_tech.4
	title = origin_tech.4.name
	desc = {
		text = origin_tech.4.desc
		trigger = {
			NOT = {
				has_technology = tech_precursor_design				
			}
		}
	}
	desc = {
		text = origin_tech.4.desc.precursor
		trigger = {
			has_technology = tech_precursor_design
		}
	}
	show_sound = event_mystic_reveal
	picture = GFX_evt_origin_empire
	
	is_triggered_only = yes
	
	option = {
		name = origin_tech.4.a
		hidden_effect = {
		}
		root.owner = {
		set_country_flag = acquired_light_matter
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_reactor } }
				add_research_option = tech_lightmatter_reactor				
			}
			add_resource = {
				acot_sr_light_matter = 1000
			}	

			if = {
				limit = { has_technology = tech_precursor_escort }
				add_research_option = tech_omega_escort				
			}
			if = {
				limit = { has_technology = tech_precursor_bc }
				add_research_option = tech_omega_battlecruiser				
			}
			if = {
				limit = { has_technology = tech_fe_tower_offense }
				add_research_option = tech_omege_sentinel				
			}
			if = {
				limit = { has_technology = tech_fe_assault_carrier }
				add_research_option = tech_omega_carrier				
			}
			if = {
				limit = { has_technology = tech_gatekeepers }
				add_research_option = tech_omega_gatekeeper				
			}
			if = {
				limit = { has_technology = tech_precursor_titan }
				add_research_option = tech_omega_titan			
			}			
			if = {
				limit = { has_technology = tech_precursor_guardian }
				add_research_option = tech_omega_guardian				
			}	
			if = {
				limit = { has_technology = tech_precursor_colossus }
				add_research_option = tech_omega_colossus				
			}		
		}
	}
}

# Light Matter Tech Options
planet_event = {
	id = origin_tech.5
	title = origin_tech.5.name
	desc = origin_tech.4.desc.origin
	show_sound = event_mystic_reveal

	pre_triggers = {
		is_capital = yes		
	}

	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:origin_crisis_country
		room = "personality_original_empire_room"
	}
	
	trigger = {
		owner = {
			is_progenitor_empires = no
			has_country_flag = acquired_light_matter
			check_variable = {
				which = "origin_fleet_kills" 
				value > 400
			}
			NOR = { 
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
			} 
			NOT = { has_country_flag = light_matter_option_selected }
		}
	}
	
	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		root.owner = {
		set_country_flag = light_matter_option_selected
		}
	}

	option = {
		name = origin_tech.4.desc.origin.ask1
		response_text = origin_tech.4.desc.origin.explain1
		is_dialog_only = yes
	}
	option = {
		name = origin_tech.4.desc.origin.ask2
		response_text = origin_tech.4.desc.origin.explain2
		is_dialog_only = yes
	}
	
	option = {
		name = origin_tech.5.a
		custom_tooltip = origin_tech.5.a.desc
			enable_special_project = {
				name = "PROJECT_OFFENSE_ORIGIN_TECH"
				location = this
				owner = root.owner
		}
	}

	option = {
		name = origin_tech.5.b
		custom_tooltip = origin_tech.5.b.desc
			enable_special_project = {
				name = "PROJECT_DEFENSE_ORIGIN_TECH"
				location = this
				owner = root.owner
		}
	}

	option = {
		name = origin_tech.5.c
		custom_tooltip = origin_tech.5.c.desc
			enable_special_project = {
				name = "PROJECT_UTILITY_ORIGIN_TECH"
				location = this
				owner = root.owner
		}
	}
}

# Light Matter Tech Options Second Time
planet_event = {
	id = origin_tech.501
	title = origin_tech.501.name
	desc = origin_tech.501.desc
	show_sound = event_mystic_reveal
	
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:origin_crisis_country
		room = "personality_original_empire_room"
	}

	pre_triggers = {
		is_capital = yes		
	}

	trigger = {
		owner = {
			is_progenitor_empires = no
			check_variable = {
				which = "origin_fleet_kills" 
				value > 800 
			}
			OR = {
				has_country_flag = acquired_light_matter_offense		
				has_country_flag = acquired_light_matter_defense	
				has_country_flag = acquired_light_matter_utility			
			}
			NOR = { 
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
			} 
			NOT = { has_country_flag = light_matter_option_selected_second }
		}
	}
	
	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		root.owner = {
		set_country_flag = light_matter_option_selected_second
		}
	}
	
	option = {
		trigger = {
			owner = {
				NOT = {
					has_country_flag = acquired_light_matter_offense
				}
			}
		}
		name = origin_tech.5.a
		custom_tooltip = origin_tech.5.a.desc
			enable_special_project = {
				name = "PROJECT_OFFENSE_ORIGIN_TECH"
				location = this
				owner = root.owner
		}
	}

	option = {
		trigger = {
			owner = {
				NOT = {
					has_country_flag = acquired_light_matter_defense
				}
			}
		}
		name = origin_tech.5.b
		custom_tooltip = origin_tech.5.b.desc
			enable_special_project = {
				name = "PROJECT_DEFENSE_ORIGIN_TECH"
				location = this
				owner = root.owner
		}
	}

	option = {
		trigger = {
			owner = {
				NOT = {
					has_country_flag = acquired_light_matter_utility
				}
			}
		}
		name = origin_tech.5.c
		custom_tooltip = origin_tech.5.c.desc
			enable_special_project = {
				name = "PROJECT_UTILITY_ORIGIN_TECH"
				location = this
				owner = root.owner
		}
	}
}

# Light Matter Tech Acquired - Weapons
planet_event = {
	id = origin_tech.11
	title = origin_tech.11.name
	desc = origin_tech.11.desc
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:origin_crisis_country
		room = "personality_original_empire_room"
	}

	pre_triggers = {
		is_capital = yes		
	}

	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
	
	option = {
		name = origin_tech.11.a
		root.owner = {
			set_country_flag = acquired_light_matter_offense
			#####################OFFENSE################

			if = {
				limit = { NOT = { has_technology = tech_lightmatter_artillery } }
				add_research_option = tech_lightmatter_artillery				
			}
			if = {
				limit = { NOT = { has_technology = tech_warp_lightmatter_cannon } }
				add_research_option = tech_warp_lightmatter_cannon				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_disruptor } }
				add_research_option = tech_lightmatter_disruptor				
			}
			if = {
				limit = { NOT = { has_technology = tech_warp_lightmatter_cannon } }
				add_research_option = tech_warp_lightmatter_cannon				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_plasma_cannon } }
				add_research_option = tech_lightmatter_plasma_cannon				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_lance } }
				add_research_option = tech_lightmatter_lance				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_emitter } }
				add_research_option = tech_lightmatter_emitter				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_titan_beam } }
				add_research_option = tech_lightmatter_titan_beam				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_missile } }
				add_research_option = tech_lightmatter_missile				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_gunship } }
				add_research_option = tech_lightmatter_gunship				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_bomber } }
				add_research_option = tech_lightmatter_bomber				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_weapon_core } }
				add_research_option = tech_lightmatter_weapon_core				
			}

			if = {
				limit = { NOT = { has_technology = tech_lightmatter_titan_accelerator } }
				add_research_option = tech_lightmatter_titan_accelerator 				
			}				
		
		}
	}
}

# Light Matter Tech Acquired - Defenses
planet_event = {
	id = origin_tech.12
	title = origin_tech.12.name
	desc = origin_tech.12.desc
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:origin_crisis_country
		room = "personality_original_empire_room"
	}

	pre_triggers = {
		is_capital = yes		
	}

	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
	
	option = {
		name = origin_tech.12.a
		root.owner = {
		set_country_flag = acquired_light_matter_defense
			#####################DEFENCE################

			if = {
				limit = { NOT = { has_technology = tech_lightmatter_flak } }
				add_research_option = tech_lightmatter_flak				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_point_defence } }
				add_research_option = tech_lightmatter_point_defence				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_autocannon } }
				add_research_option = tech_lightmatter_autocannon				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_gauss } }
				add_research_option = tech_lightmatter_gauss				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_laser } }
				add_research_option = tech_lightmatter_laser				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_photon } }
				add_research_option = tech_lightmatter_photon				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_fighter } }
				add_research_option = tech_lightmatter_fighter				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_armor } }
				add_research_option = tech_lightmatter_armor				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_shield } }
				add_research_option = tech_lightmatter_shield				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_reactive_drone } }
				add_research_option = tech_lightmatter_reactive_drone				
			}
			if = {
				limit = { NOT = { has_technology = tech_lightmatter_shield_supercharger } }
				add_research_option = tech_lightmatter_shield_supercharger				
			}
		}
	}
}


# Light Matter Tech Acquired - Utility
planet_event = {
	id = origin_tech.13
	title = origin_tech.13.name
	desc = origin_tech.13.desc
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:origin_crisis_country
		room = "personality_original_empire_room"
	}

	pre_triggers = {
		is_capital = yes		
	}

	show_sound = event_mystic_reveal
	
	is_triggered_only = yes
	
	option = {
		name = origin_tech.13.a
		root.owner = {
		set_country_flag = acquired_light_matter_utility
		if = {
			limit = { NOT = { has_technology = tech_lightmatter_thruster } }
			add_research_option = tech_lightmatter_thruster				
		}
		if = {
			limit = { NOT = { has_technology = tech_lightmatter_reactor } }
			add_research_option = tech_lightmatter_reactor				
		}
		if = {
			limit = { NOT = { has_technology = tech_lightmatter_sensors } }
			add_research_option = tech_lightmatter_sensors				
		}
		if = {
			limit = { NOT = { has_technology = tech_computer_lightmatter } }
			add_research_option = tech_computer_lightmatter				
		}
		if = {
			limit = { NOT = { has_technology = tech_lightmatter_jump_drive } }
			add_research_option = tech_lightmatter_jump_drive				
		}
		if = {
			limit = { NOT = { has_technology = tech_lightmatter_afterburners } }
			add_research_option = tech_lightmatter_afterburners				
		}
		if = {
			limit = { NOT = { has_technology = tech_lightmatter_hyper_jump_drive } }
			add_research_option = tech_lightmatter_hyper_jump_drive				
		}
		if = {
			limit = { NOT = { has_technology = tech_lightmatter_analyzer_ai } }
			add_research_option = tech_lightmatter_analyzer_ai				
		}
		if = {
			limit = { NOT = { has_technology = tech_lightmatter_inspire_aura } }
			add_research_option = tech_lightmatter_inspire_aura				
		}
		if = {
			limit = { NOT = { has_technology = tech_lightmatter_aura_energy_drainer } }
			add_research_option = tech_lightmatter_aura_energy_drainer				
		}
		if = {
			limit = { NOT = { has_technology = tech_omega_warmech } }
			add_research_option = tech_omega_warmech				
			}
		}
	}
}

# Assign Leader Traits Here

country_event = {
    id = origin_tech.101
    hide_window = yes
 	is_triggered_only = yes
    
    immediate = {
        every_country = {
            limit = {
                species = { has_trait = trait_ancient_knowledge }
			}
			every_owned_leader = {
                limit = {
                    is_same_species = root
                    NOR = {
                        has_trait =    leader_trait_admiral_ancient_knowledge
                        has_trait =    leader_trait_general_ancient_knowledge
                        has_trait =    leader_trait_governor_ancient_knowledge
                        has_trait =    leader_trait_scientist_ancient_knowledge
                        has_trait =    leader_trait_ruler_ancient_knowledge
                    }
                }
                if = {
                    limit = { leader_class = admiral }
                    add_trait = leader_trait_admiral_ancient_knowledge
                    add_ruler_trait = leader_trait_ruler_ancient_knowledge
                }
                if = {
                    limit = { leader_class = general }
                    add_trait = leader_trait_general_ancient_knowledge
                    add_ruler_trait = leader_trait_ruler_ancient_knowledge
                }
                if = {
                    limit = { leader_class = governor }
                    add_trait = leader_trait_governor_ancient_knowledge
                    add_ruler_trait = leader_trait_ruler_ancient_knowledge
                }
                if = {
                    limit = { leader_class = scientist }
					add_trait = leader_trait_scientist_ancient_knowledge
                    add_trait = leader_trait_curator
                    add_ruler_trait = leader_trait_ruler_ancient_knowledge
                }
                if = {
                    limit = { leader_class = ruler }
                    add_trait = leader_trait_ruler_ancient_knowledge
				}
				set_skill = 10
            }
			every_pool_leader = {
                limit = {
                    is_same_species = root
                    NOR = {
                        has_trait =    leader_trait_admiral_ancient_knowledge
                        has_trait =    leader_trait_general_ancient_knowledge
                        has_trait =    leader_trait_governor_ancient_knowledge
                        has_trait =    leader_trait_scientist_ancient_knowledge
                        has_trait =    leader_trait_ruler_ancient_knowledge
                    }
                }
                if = {
                    limit = { leader_class = admiral }
                    add_trait = leader_trait_admiral_ancient_knowledge
                    add_ruler_trait = leader_trait_ruler_ancient_knowledge
                }
                if = {
                    limit = { leader_class = general }
                    add_trait = leader_trait_general_ancient_knowledge
                    add_ruler_trait = leader_trait_ruler_ancient_knowledge
                }
                if = {
                    limit = { leader_class = governor }
                    add_trait = leader_trait_governor_ancient_knowledge
                    add_ruler_trait = leader_trait_ruler_ancient_knowledge
                }
                if = {
                    limit = { leader_class = scientist }
                    add_trait = leader_trait_scientist_ancient_knowledge
                    add_ruler_trait = leader_trait_ruler_ancient_knowledge
                }
                if = {
                    limit = { leader_class = ruler }
                    add_trait = leader_trait_ruler_ancient_knowledge
				}
				set_skill = 10
            }
    	}
	}
}

country_event = {
    id = origin_tech.102
    hide_window = yes
 	is_triggered_only = yes
    
    immediate = {
        every_country = {
            limit = {
                species = { has_trait = trait_bionic_implants }
			}
			every_owned_leader = {
                limit = {
                    is_same_species = root
                    NOR = {
                        has_trait =    leader_trait_admiral_bionic_implant
                        has_trait =    leader_trait_general_bionic_implant
                        has_trait =    leader_trait_governor_bionic_implant
                        has_trait =    leader_trait_scientist_bionic_implant
                        has_trait =    leader_trait_ruler_bionic_implant
                    }
                }
                if = {
                    limit = { leader_class = admiral }
                    add_trait = leader_trait_admiral_bionic_implant
                    add_ruler_trait = leader_trait_ruler_bionic_implant
                }
                if = {
                    limit = { leader_class = general }
                    add_trait = leader_trait_general_bionic_implant
                    add_ruler_trait = leader_trait_ruler_bionic_implant
                }
                if = {
                    limit = { leader_class = governor }
                    add_trait = leader_trait_governor_bionic_implant
                    add_ruler_trait = leader_trait_ruler_bionic_implant
                }
                if = {
                    limit = { leader_class = scientist }
                    add_trait = leader_trait_scientist_bionic_implant
                    add_ruler_trait = leader_trait_ruler_bionic_implant
                }
                if = {
                    limit = { leader_class = ruler }
                    add_trait = leader_trait_ruler_bionic_implant
				}
				set_skill = 10
            }
			every_owned_leader = {
                limit = {
                    is_same_species = root
                    NOR = {
                        has_trait =    leader_trait_admiral_bionic_implant
                        has_trait =    leader_trait_general_bionic_implant
                        has_trait =    leader_trait_governor_bionic_implant
                        has_trait =    leader_trait_scientist_bionic_implant
                        has_trait =    leader_trait_ruler_bionic_implant
                    }
                }
                if = {
                    limit = { leader_class = admiral }
                    add_trait = leader_trait_admiral_bionic_implant
                    add_ruler_trait = leader_trait_ruler_bionic_implant
                }
                if = {
                    limit = { leader_class = general }
                    add_trait = leader_trait_general_bionic_implant
                    add_ruler_trait = leader_trait_ruler_bionic_implant
                }
                if = {
                    limit = { leader_class = governor }
                    add_trait = leader_trait_governor_bionic_implant
                    add_ruler_trait = leader_trait_ruler_bionic_implant
                }
                if = {
                    limit = { leader_class = scientist }
                    add_trait = leader_trait_scientist_bionic_implant
                    add_ruler_trait = leader_trait_ruler_bionic_implant
                }
                if = {
                    limit = { leader_class = ruler }
                    add_trait = leader_trait_ruler_bionic_implant
				}
				set_skill = 10
            }
    	}
	}
}

country_event = {
    id = origin_tech.103
    hide_window = yes
 	is_triggered_only = yes
    
    immediate = {
        every_country = {
            limit = {
                species = { has_trait = trait_master_mind }
			}
			every_owned_leader = {
                limit = {
                    is_same_species = root
                    NOR = {
                        has_trait =    leader_trait_admiral_master_mind
                        has_trait =    leader_trait_general_master_mind
                        has_trait =    leader_trait_governor_master_mind
                        has_trait =    leader_trait_scientist_master_mind
                        has_trait =    leader_trait_ruler_master_mind
                    }
                }
                if = {
                    limit = { leader_class = admiral }
                    add_trait = leader_trait_admiral_master_mind
                    add_ruler_trait = leader_trait_ruler_master_mind
                }
                if = {
                    limit = { leader_class = general }
                    add_trait = leader_trait_general_master_mind
                    add_ruler_trait = leader_trait_ruler_master_mind
                }
                if = {
                    limit = { leader_class = governor }
                    add_trait = leader_trait_governor_master_mind
                    add_ruler_trait = leader_trait_ruler_master_mind
                }
                if = {
                    limit = { leader_class = scientist }
                    add_trait = leader_trait_scientist_master_mind
                    add_ruler_trait = leader_trait_ruler_master_mind
                }
                if = {
                    limit = { leader_class = ruler }
                    add_trait = leader_trait_ruler_master_mind
				}
				set_skill = 10
            }
			every_owned_leader = {
                limit = {
                    is_same_species = root
                    NOR = {
                        has_trait =    leader_trait_admiral_bionic_implant
                        has_trait =    leader_trait_general_bionic_implant
                        has_trait =    leader_trait_governor_bionic_implant
                        has_trait =    leader_trait_scientist_bionic_implant
                        has_trait =    leader_trait_ruler_master_mind
                    }
                }
                if = {
                    limit = { leader_class = admiral }
                    add_trait = leader_trait_admiral_bionic_implant
                    add_ruler_trait = leader_trait_ruler_master_mind
                }
                if = {
                    limit = { leader_class = general }
                    add_trait = leader_trait_general_bionic_implant
                    add_ruler_trait = leader_trait_ruler_master_mind
                }
                if = {
                    limit = { leader_class = governor }
                    add_trait = leader_trait_governor_bionic_implant
                    add_ruler_trait = leader_trait_ruler_master_mind
                }
                if = {
                    limit = { leader_class = scientist }
                    add_trait = leader_trait_scientist_bionic_implant
                    add_ruler_trait = leader_trait_ruler_master_mind
                }
                if = {
                    limit = { leader_class = ruler }
                    add_trait = leader_trait_ruler_master_mind
				}
				set_skill = 10
            }
    	}
	}
}

# Planet Colonized
planet_event = {
	id = origin_tech.105
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = { 
			OR = {
				is_country_type = original_empire
				is_country_type = original_empire_passive
				is_country_type = original_empire_active	
			}
		}
	}
	
	immediate = {
		if = {
			limit = { 
				NOR = {
					habitable_structure = yes
				}
			}
			change_pc = pc_goodman_gaia_world
			change_planet_size = 100
			remove_all_districts = yes
			while = {
				count = 50
				add_district = district_sofe_omega_city
			}
			while = {
				count = 25
				add_district = district_sofe_omega_logistics
			}
			while = {
				count = 25
				add_district = district_sofe_omega_progression
			}
			if = {
				limit = {
					has_building = building_colony_shelter
				 }
				 remove_building = building_colony_shelter
				 add_building = building_heaven_sanctuary			
			}
			if = {
				limit = {
					has_building = building_capital
				 }
				 remove_building = building_capital
				 add_building = building_heaven_sanctuary			
			}
			if = {
				limit = {
					has_building = building_major_capital
				 }
				 remove_building = building_major_capital
				 add_building = building_heaven_sanctuary			
			}
			if = {
				limit = {
					has_building = building_system_capital
				 }
				 remove_building = building_system_capital
				 add_building = building_heaven_sanctuary			
			}
			if = {
				limit = {
					has_building = building_hab_capital
				 }
				 remove_building = building_hab_capital
				 add_building = building_heaven_sanctuary			
			}
			if = {
				limit = {
					has_building = building_hab_major_capital
				 }
				 remove_building = building_hab_major_capital
				 add_building = building_heaven_sanctuary			
			}		
			
			
			if = {
				limit = {
					has_building = building_deployment_post
				 }
				 remove_building = building_deployment_post
				 add_building = building_heaven_sanctuary			
			}
			if = {
				limit = {
					has_building = building_machine_capital
				 }
				 remove_building = building_machine_capital
				 add_building = building_heaven_sanctuary
			}
			if = {
				limit = {
					has_building = building_machine_major_capital
				 }
				 remove_building = building_machine_major_capital
				 add_building = building_heaven_sanctuary			
			}
			if = {
				limit = {
					has_building = building_machine_system_capital
				 }
				 remove_building = building_machine_system_capital
				 add_building = building_heaven_sanctuary			
			}

			if = {
				limit = {
					has_building = building_hive_capital
				 }
				 remove_building = building_hive_capital
				 add_building = building_heaven_sanctuary			
			}
			if = {
				limit = {
					has_building = building_hive_major_capital
				 }
				 remove_building = building_hive_major_capital
				 add_building = building_heaven_sanctuary			
			}
		}
		hidden_effect = {

		}
	}
}

#LIght Matter Supply
country_event = {
	id = origin_tech.7
	title = origin_tech.7.name
	desc = origin_tech.7.desc
	picture = GFX_evt_origin_ascension
	show_sound = event_mystic_reveal
	
	trigger = {
		has_country_flag = winner_of_sofe
		has_technology = tech_lightmatter_reactor
		NOT = { has_global_flag = active_origin_crisis }
		NOR = {
			is_at_war_with = event_target:origin_crisis_country
			has_country_flag = delay_before_lm_supply
		}
		NOR = { 
			has_valid_civic = "civic_fanatic_purifiers"
			has_valid_civic = "civic_hive_devouring_swarm"
			has_valid_civic = "civic_machine_terminator"
		} 
		has_country_resource = {
			type = acot_sr_light_matter
			amount <= 5000
		}
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	immediate = {
		set_timed_country_flag = {
			flag = delay_before_lm_supply
			days = 1800
		}
	}

	option = {
		name = EXCELLENT
		add_resource = {
			acot_sr_light_matter = 2500
		}
	}
}