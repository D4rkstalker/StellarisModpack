
###############################
### Civil Wars by MrFunEGUY ###
###############################

namespace = civcom

##################
# Communications #
##################

# Planetary Rebellion - Without Vassalization Option
country_event = {
	id = civcom.4000
	title = civcom.4000.name
	desc = civcom.4000.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		hidden_effect = { country_event = { id = civcom.4001 } }
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		hidden_effect = { country_event = { id = civcom.4002 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			95 = {
				hidden_effect = { country_event = { id = civcom.4001 } }
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.4002 } }
			}
		}
	}
}

# Planetary Rebellion - Declared War
country_event = {
	id = civcom.4001
	title = civcom.4000.name
	desc = civcom.4001.desc
	location = event_target:rebellion_planet
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4001.a
		hidden_effect = { country_event = { id = civwar.1031 } }
		ai_chance = {
			factor = 1
		}
	}
}

# Planetary Rebellion - Granted Independence
country_event = {
	id = civcom.4002
	title = civcom.4000.name
	desc = civcom.4002.desc
	location = event_target:rebellion_planet
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4002.a
		ai_chance = {
			factor = 1
		}
	}
}

# Planetary Rebellion - With Vassalization Option
country_event = {
	id = civcom.4100
	title = civcom.4000.name
	desc = civcom.4100.desc
	location = event_target:rebellion_planet
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4100.a
		hidden_effect = { country_event = { id = civcom.4001 } }
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.4103 } }
	}

	# Let them be fully independent
	option = {
		name = civcom.4100.c
		hidden_effect = { country_event = { id = civcom.4102 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			85 = {
				hidden_effect = { country_event = { id = civcom.4001 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.4103 } }
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.4102 } }
			}
		}
	}
}

# Planetary Rebellion - Granted Independence (even though they offered vassalization)
country_event = {
	id = civcom.4102
	title = civcom.4000.name
	desc = civcom.4102.desc
	location = event_target:rebellion_planet
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4102.a
		ai_chance = {
			factor = 1
		}
	}
}

# Planetary Rebellion - Accepted Vassalization Offer
country_event = {
	id = civcom.4103
	title = civcom.4000.name
	desc = civcom.4103.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4103.a
		ai_chance = {
			factor = 1
		}
		event_target:current_civwar_rebels = {
			hidden_effect = {
				set_country_type = default
			}
			set_subject_of = {
				who = root
				subject_type = devstate
			}
		}
	}
}

####################
####################

# Civil War - Governor - Without Vassalization Option
country_event = {
	id = civcom.5000
	title = civcom.4000.name
	desc = civcom.5000.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		hidden_effect = { country_event = { id = civcom.5001 } }
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		hidden_effect = { country_event = { id = civcom.5002 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			90 = {
				hidden_effect = { country_event = { id = civcom.5001 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5002 } }
			}
		}
	}
}

# Civil War - Scientist - Without Vassalization Option
country_event = {
	id = civcom.5010
	title = civcom.4000.name
	desc = civcom.5010.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		hidden_effect = { country_event = { id = civcom.5001 } }
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		hidden_effect = { country_event = { id = civcom.5002 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			90 = {
				hidden_effect = { country_event = { id = civcom.5001 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5002 } }
			}
		}
	}
}

# Civil War - General - Without Vassalization Option
country_event = {
	id = civcom.5020
	title = civcom.4000.name
	desc = civcom.5020.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		hidden_effect = { country_event = { id = civcom.5001 } }
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		hidden_effect = { country_event = { id = civcom.5002 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			90 = {
				hidden_effect = { country_event = { id = civcom.5001 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5002 } }
			}
		}
	}
}

# Civil War - Admiral - Without Vassalization Option
country_event = {
	id = civcom.5030
	title = civcom.4000.name
	desc = civcom.5030.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = pc_asteroid
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.5030.a
		hidden_effect = { country_event = { id = civcom.5031 } }
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		hidden_effect = { country_event = { id = civcom.5032 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			90 = {
				hidden_effect = { country_event = { id = civcom.5001 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5002 } }
			}
		}
	}
}

# Civil War - Corrupt Governor - Without Vassalization Option
country_event = {
	id = civcom.5040
	title = civcom.4000.name
	desc = civcom.5040.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		hidden_effect = { country_event = { id = civcom.5041 } }
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		hidden_effect = { country_event = { id = civcom.5042 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			90 = {
				hidden_effect = { country_event = { id = civcom.5041 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5042 } }
			}
		}
	}
}

# Civil War - Declared War
country_event = {
	id = civcom.5001
	title = civcom.4000.name
	desc = civcom.4001.desc
	location = event_target:civil_war_capital
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4001.a
		ai_chance = {
			factor = 1
		}
		if = {
			limit = {
				event_target:civil_war_leader = {
					NOT = { has_leader_flag = civil_war_leader_admiral_faction }
				}
			}
			hidden_effect = { country_event = { id = civwar.1032 } }
		}
		else = {
			hidden_effect = { country_event = { id = civwar.1033 } }
		}
	}
}

# Civil War - Declared War - Admiral
country_event = {
	id = civcom.5031
	title = civcom.4000.name
	desc = civcom.5031.desc
	location = event_target:civil_war_capital
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = pc_asteroid
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4001.a
		ai_chance = {
			factor = 1
		}
		if = {
			limit = {
				event_target:civil_war_leader = {
					NOT = { has_leader_flag = civil_war_leader_admiral_faction }
				}
			}
			hidden_effect = { country_event = { id = civwar.1032 } }
		}
		else = {
			hidden_effect = { country_event = { id = civwar.1033 } }
		}
	}
}

# Civil War - Declared War - Corrupt Governor
country_event = {
	id = civcom.5041
	title = civcom.4000.name
	desc = civcom.5041.desc
	location = event_target:civil_war_capital
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4001.a
		ai_chance = {
			factor = 1
		}
		hidden_effect = { country_event = { id = civwar.1032 } }
	}
}

# Civil War - Granted Independence
country_event = {
	id = civcom.5002
	title = civcom.4000.name
	desc = civcom.4002.desc
	location = event_target:civil_war_capital
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4002.a
		ai_chance = {
			factor = 1
		}
	}
}

# Civil War - Granted Independence - Admiral
country_event = {
	id = civcom.5032
	title = civcom.4000.name
	desc = civcom.4002.desc
	location = event_target:civil_war_capital
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = pc_asteroid
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4002.a
		ai_chance = {
			factor = 1
		}
	}
}

# Civil War - Granted Independence - Corrupt Governor
country_event = {
	id = civcom.5042
	title = civcom.4000.name
	desc = civcom.5042.desc
	location = event_target:civil_war_capital
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4002.a
		ai_chance = {
			factor = 1
		}
	}
}

# Civil War - Governor - With Vassalization Option
country_event = {
	id = civcom.5100
	title = civcom.4000.name
	desc = civcom.5100.desc
	location = event_target:civil_war_capital
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4100.a
		hidden_effect = { country_event = { id = civcom.5001 } }
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.5103 } }
	}

	# Let them be fully independent
	option = {
		name = civcom.4100.c
		hidden_effect = { country_event = { id = civcom.5102 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			85 = {
				hidden_effect = { country_event = { id = civcom.5001 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5103 } }
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.5102 } }
			}
		}
	}
}

# Civil War - Scientist - With Vassalization Option
country_event = {
	id = civcom.5110
	title = civcom.4000.name
	desc = civcom.5110.desc
	location = event_target:civil_war_capital
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4100.a
		hidden_effect = { country_event = { id = civcom.5001 } }
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.5103 } }
	}

	# Let them be fully independent
	option = {
		name = civcom.4100.c
		hidden_effect = { country_event = { id = civcom.5102 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			85 = {
				hidden_effect = { country_event = { id = civcom.5001 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5103 } }
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.5102 } }
			}
		}
	}	
}

# Civil War - General - With Vassalization Option
country_event = {
	id = civcom.5120
	title = civcom.4000.name
	desc = civcom.5120.desc
	location = event_target:civil_war_capital
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4100.a
		hidden_effect = { country_event = { id = civcom.5001 } }
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.5103 } }
	}

	# Let them be fully independent
	option = {
		name = civcom.4100.c
		hidden_effect = { country_event = { id = civcom.5102 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			85 = {
				hidden_effect = { country_event = { id = civcom.5001 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5103 } }
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.5102 } }
			}
		}
	}	
}

# Civil War - Corrupt Governor - With Vassalization Option
country_event = {
	id = civcom.5140
	title = civcom.4000.name
	desc = civcom.5140.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4100.a
		hidden_effect = { country_event = { id = civcom.5041 } }
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.5143 } }
	}

	# Let them be fully independent
	option = {
		name = civcom.4100.c
		hidden_effect = { country_event = { id = civcom.5142 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			factor = 1
		}
		random_list = {
			85 = {
				hidden_effect = { country_event = { id = civcom.5041 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5143 } }
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.5142 } }
			}
		}
	}
}

# Civil War - Granted Independence (even though they offered vassalization)
country_event = {
	id = civcom.5102
	title = civcom.4000.name
	desc = civcom.5102.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4102.a
		ai_chance = {
			factor = 1
		}
	}
}

# Civil War - Granted Independence - Corrupt Governor - (even though they offered vassalization)
country_event = {
	id = civcom.5142
	title = civcom.4000.name
	desc = civcom.5102.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4102.a
		ai_chance = {
			factor = 1
		}
	}
}

# Civil War - Accepted Vassalization Offer
country_event = {
	id = civcom.5103
	title = civcom.4000.name
	desc = civcom.4103.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4103.a
		ai_chance = {
			factor = 1
		}
		event_target:current_civwar_rebels = {
			set_subject_of = {
				who = root
				subject_type = devstate
			}
		}
	}
}

# Civil War - Accepted Vassalization Offer - Corrupt Governor
country_event = {
	id = civcom.5143
	title = civcom.4000.name
	desc = civcom.5103.desc
	location = event_target:current_civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civil_war_leader_ruler
		planet_background = event_target:civil_war_capital
		graphical_culture = event_target:current_civwar_rebels
		city_level = event_target:civil_war_capital
		room = event_target:current_civwar_rebels.ruler
	}

	option = {
		name = civcom.4103.a
		ai_chance = {
			factor = 1
		}
		event_target:current_civwar_rebels = {
			set_subject_of = {
				who = root
				subject_type = devstate
			}
		}
	}
}