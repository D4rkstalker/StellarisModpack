namespace = stargate_pulse_event

event = {
    id = stargate_pulse_event.10
    is_triggered_only = yes
	hide_window = yes

    immediate = {
        every_country = {
            limit = {
                is_ai = no
                is_regular_empire = yes
                NOT = { has_country_flag = stargate_pulse_start }
                capital_scope = {
                    NOT = { is_planet_class = pc_habitat }
                    NOT = { is_planet_class = pc_ringworld_habitable }
                }
            }
            country_event = { id = stargate_pulse_event.11 }
        }
    }
}
country_event = {
    id = stargate_pulse_event.11
    is_triggered_only = yes
	hide_window = yes

    immediate = {
        set_country_flag = stargate_pulse_start
        country_event = { id = stargate_immersion_event.100 days = 600 random = 12000 }
    }
}



event = {
    id = stargate_pulse_event.20
    is_triggered_only = yes
	hide_window = yes

    immediate = {
        every_country = {
            limit = {
                is_ai = no
                is_regular_empire = yes
                has_country_flag = stargate_immersion_archaeology
                has_technology = tech_stargates_archaeology
                NOT = { has_country_flag = stargate_pulse_archaeology }
            }
            country_event = { id = stargate_pulse_event.21 }
        }
    }
}
country_event = {
    id = stargate_pulse_event.21
    is_triggered_only = yes
	hide_window = yes

    immediate = {
        set_country_flag = stargate_pulse_archaeology
        country_event = { id = stargate_immersion_event.200 days = 600 random = 900 }
    }
}



event = {
    id = stargate_pulse_event.30
    is_triggered_only = yes
	hide_window = yes

    immediate = {
        every_country = {
            limit = {
                is_ai = no
                is_regular_empire = yes
                has_country_flag = stargate_immersion_stargate_active
                has_technology = tech_stargates_archaeology
                has_technology = tech_wormhole_stabilization
                NOT = { has_country_flag = stargate_pulse_stargate_active }
            }
            country_event = { id = stargate_pulse_event.31 }
        }
    }
}
country_event = {
    id = stargate_pulse_event.31
    is_triggered_only = yes
	hide_window = yes

    immediate = {
        set_country_flag = stargate_pulse_stargate_active
        country_event = { id = stargate_immersion_event.8 days = 600 random = 900 }
    }
}



event = {
    id = stargate_pulse_event.40
    is_triggered_only = yes
	hide_window = yes

    immediate = {
        every_country = {
            limit = {
                is_ai = no
                is_regular_empire = yes
                has_country_flag = stargate_immersion_experimentation
                has_technology = tech_stargates_experimentation
                has_technology = tech_mine_living_metal
                NOT = { has_country_flag = stargate_pulse_experimentation }
            }
            country_event = { id = stargate_pulse_event.41 }
        }
    }
}
country_event = {
    id = stargate_pulse_event.41
    is_triggered_only = yes
	hide_window = yes

    immediate = {
        set_country_flag = stargate_pulse_experimentation
        country_event = { id = stargate_immersion_event.9 days = 600 random = 900 }
    }
}



event = {
    id = stargate_pulse_event.50
    is_triggered_only = yes
	hide_window = yes

    immediate = {
        every_country = {
            limit = {
                is_ai = no
                is_regular_empire = yes
                has_country_flag = stargate_immersion_breakthrough
                has_technology = tech_stargates_breakthrough
                NOT = { has_country_flag = stargate_pulse_breakthrough }
            }
            country_event = { id = stargate_pulse_event.51 }
        }
    }
}
country_event = {
    id = stargate_pulse_event.51
    is_triggered_only = yes
	hide_window = yes

    immediate = {
        set_country_flag = stargate_pulse_breakthrough
        country_event = { id = stargate_immersion_event.10 }
    }
}
