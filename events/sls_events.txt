namespace = sls

####GIVE SLS TRAITS WHEN NEW SCI PPL APPEARS###
country_event = {
	id = sls.1
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
	}
	
	immediate = {
		from = {
			if = {
				limit = {
					leader_class = scientist
					NOT = {
						has_leader_flag = sls_have_traits
					}
				}
				set_leader_flag = sls_have_traits
	###GIVE SURVEY CROP TRAITS###
				if = {
					limit = {
						NOR = {
							has_trait = sls_trait_survey_physics
							has_trait = sls_trait_survey_society
							has_trait = sls_trait_survey_engineering
							has_trait = sls_trait_survey_star
							has_trait = sls_trait_survey_asteroid
							has_trait = sls_trait_survey_planet
							has_trait = sls_trait_survey_space_creature
							has_trait = sls_trait_survey_combat
							has_trait = sls_trait_survey_unity
						}
						NOT = { has_leader_flag = sls_have_crops }
					}
					random_list = {
						1 = {
							add_trait = sls_trait_survey_physics
							set_leader_flag = sls_survey_crop_physics
						}
						1 = {
							add_trait = sls_trait_survey_society
							set_leader_flag = sls_survey_crop_society
						}
						1 = {
							add_trait = sls_trait_survey_engineering
							set_leader_flag = sls_survey_crop_engineering
						}
						1 = {
							add_trait = sls_trait_survey_star
							set_leader_flag = sls_survey_crop_star
						}
						1 = {
							add_trait = sls_trait_survey_asteroid
							set_leader_flag = sls_survey_crop_asteroid
						}
						1 = {
							add_trait = sls_trait_survey_planet
							set_leader_flag = sls_survey_crop_planet
						}
						1 = {
							add_trait = sls_trait_survey_unity
							set_leader_flag = sls_survey_crop_unity
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									num_communications < 2
								}
							}
							add_trait = sls_trait_survey_space_creature
							set_leader_flag = sls_survey_crop_space_creature
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									num_communications < 2
								}
							}
							add_trait = sls_trait_survey_combat
							set_leader_flag = sls_survey_crop_combat
						}
					}
					set_leader_flag = sls_have_crops
				}
			}
		}
		country_event = { id = sls.21 days = 1 }
	}
}
###SET SKILLS###
country_event = {
	id = sls.21
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		any_owned_leader = {
			leader_class = scientist
			NOT = {
				has_leader_flag = sls_have_skill_set
			}
		}
	}
	
	immediate = {
		every_owned_leader = {
			limit = {
				leader_class = scientist
				NOT = {
					has_leader_flag = sls_have_skill_set
				}
			}
			set_leader_flag = sls_have_skill_set
			
####
###RANDOM POINTS###
			random_list = {
				4 = { 
					change_variable = { which = sls_leader_random_points value = 1 } 
				}
				3 = { 
					change_variable = { which = sls_leader_random_points value = 2 } 
				}
				2 = {
					change_variable = { which = sls_leader_random_points value = 3 } 
				}
				1 = {
					change_variable = { which = sls_leader_random_points value = 4 } 
				}
			}
			
###FOR ONGOING GAME LEADERS###
			if = {
				limit = {
					has_skill = 2
				}
				change_variable = { which = sls_leader_random_points value = 1 }
			}
			if = {
				limit = {
					has_skill = 3
				}
				change_variable = { which = sls_leader_random_points value = 2 }
			}
			if = {
				limit = {
					has_skill = 4
				}
				change_variable = { which = sls_leader_random_points value = 3 }
			}
			if = {
				limit = {
					has_skill = 5
				}
				change_variable = { which = sls_leader_random_points value = 5 }
			}
			if = {
				limit = {
					has_skill = 6
				}
				change_variable = { which = sls_leader_random_points value = 7 }
			}
			if = {
				limit = {
					has_skill = 7
				}
				change_variable = { which = sls_leader_random_points value = 9 }
			}
			if = {
				limit = {
					has_skill = 8
				}
				change_variable = { which = sls_leader_random_points value = 11 }
			}
			if = {
				limit = {
					has_skill = 9
				}
				change_variable = { which = sls_leader_random_points value = 13 }
			}
			if = {
				limit = {
					has_skill = 10
				}
				change_variable = { which = sls_leader_random_points value = 15 }
			}
			if = {
				limit = {
					has_skill > 10
				}
				change_variable = { which = sls_leader_random_points value = 17 }
			}
###CHECK TRAITS THEY HAD###
			
			if = {
				limit = {
					OR = {
						has_trait = leader_trait_expertise_materials
						has_trait = leader_trait_expertise_propulsion
						has_trait = leader_trait_expertise_voidcraft
						has_trait = leader_trait_expertise_industry
						species = {
							has_trait = trait_robot_recurrent_neural_network
							has_trait = trait_machine_introspective
						}
					}
				}
				change_variable = { which = sls_leader_eng_points value = 2 }
			}
			if = {
				limit = {
					OR = {
						has_trait = leader_trait_expertise_field_manipulation
						has_trait = leader_trait_expertise_particles
						has_trait = leader_trait_expertise_computing
						species = {
							has_trait = trait_robot_modular_neural_network
						}
					}
				}
				change_variable = { which = sls_leader_phy_points value = 2 }
			}
			if = {
				limit = {
					has_trait = leader_trait_scientist_brainslug
				}
				change_variable = { which = sls_leader_random_points value = 2 }
			}
			if = {
				limit = {
					OR = {
						has_trait = leader_trait_expertise_new_worlds
						has_trait = leader_trait_expertise_statecraft
						has_trait = leader_trait_expertise_biology
						has_trait = leader_trait_expertise_military_theory
						has_trait = leader_trait_expertise_psionics
						has_trait = leader_trait_expertise_good_trading
						species = {
							has_trait = trait_robot_dynamic_neural_network
						}
					}
				}
				change_variable = { which = sls_leader_soc_points value = 2 }
			}
			if = {
				limit = {
					OR = {
						has_trait = leader_trait_curator
					}
				}
				change_variable = { which = sls_leader_random_points value = 15 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_robot_engineer2
						}
					}
				}
				change_variable = { which = sls_leader_eng_points value = 3 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_robot_sociologist2
						}
					}
				}
				change_variable = { which = sls_leader_soc_points value = 3 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_robot_physicist2
						}
					}
				}
				change_variable = { which = sls_leader_phy_points value = 3 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_robot_matrioshka_brain
							has_trait = trait_robot_engineer2
							has_trait = trait_robot_sociologist2
							has_trait = trait_robot_physicist2
							has_trait = trait_machine_advanced_logic_algorithm
						}
					}
				}
				change_variable = { which = sls_leader_random_points value = 6 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_erudite
							has_trait = trait_cybernetic
							has_trait = trait_robot_organic_logic
						}
					}
				}
				change_variable = { which = sls_leader_random_points value = 4 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_psionic
							has_trait = trait_machinedlcmod_psionic
							
						}	
					}
				}
				change_variable = { which = sls_leader_random_points value = 5 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_mechanical
						}	
					}
				}
				change_variable = { which = sls_leader_random_points value = 5 }
			}
			if = {
				limit = {
					has_trait = leader_trait_custom_AI_assistant
				}
				change_variable = { which = sls_leader_random_points value = 2 }
			}
			if = {
				limit = {
					OR = {
						has_trait = leader_trait_maniacal
						has_trait = leader_trait_spark_of_genius
						has_trait = leader_trait_sapient_AI_assistant
						species = {
							OR = {
								has_trait = trait_robot_improved_logic
								has_trait = trait_robot_engineer
								has_trait = trait_robot_sociologist
								has_trait = trait_robot_physicist
							}
						}	
					}
				}
				change_variable = { which = sls_leader_random_points value = 3 }
			}
			if = {
				limit = {
					root = {
						OR = {
							has_ethic = ethic_materialist
							has_ethic = ethic_fanatic_materialist
						}						
					}
				}
				change_variable = { which = sls_leader_random_points value = 1 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_just-more-traits_curious
							has_trait = trait_latent_psionic
						}
					}
				}
				change_variable = { which = sls_leader_random_points value = 1 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_intelligent
							has_trait = trait_robot_logic_engines
							has_trait = trait_latent_psionic
							has_trait = trait_robot_shifters
						}
					}
				}
				change_variable = { which = sls_leader_random_points value = 2 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_additrait_presapient_natural_inventors
							has_trait = trait_natural_engineers
							has_trait = trait_robot_engineer
						}	
					}
				}
				change_variable = { which = sls_leader_eng_points value = 1 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_natural_physicists
							has_trait = trait_additrait_presapient_natural_savants
							has_trait = trait_robot_physicist
						}
					}
				}
				change_variable = { which = sls_leader_phy_points value = 1 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_natural_sociologists
							has_trait = trait_robot_sociologist
						}
					}
				}
				change_variable = { which = sls_leader_soc_points value = 1 }
			}
			if = {
				limit = {
					species = {
						has_trait = trait_analytical
					}
				}
				change_variable = { which = sls_leader_phy_points value = 4 }
				subtract_variable = { which = sls_leader_random_points value = 2 }
			}
			if = {
				limit = {
					species = {
						has_trait = trait_scholarly
					}
				}
				change_variable = { which = sls_leader_soc_points value = 4 }
				subtract_variable = { which = sls_leader_random_points value = 2 }
			}
			if = {
				limit = {
					species = {
						has_trait = trait_additrait_unfit_engineers
					}
				}
				subtract_variable = { which = sls_leader_eng_points value = 1 }
			}
			if = {
				limit = {
					species = {
						has_trait = trait_additrait_unfit_physicists
					}
				}
				subtract_variable = { which = sls_leader_phy_points value = 1 }
			}
			if = {
				limit = {
					species = {
						has_trait = trait_additrait_unfit_sociologists
					}
				}
				subtract_variable = { which = sls_leader_soc_points value = 1 }
			}
			if = {
				limit = {
					species = {
						has_trait = trait_machine_unit
					}
				}
				change_variable = { which = sls_leader_random_points value = 1 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_just-more-traits_robot_rapidrouting
							has_trait = trait_inquisitive
							has_trait = trait_additrait_multitasking
							has_trait = trait_additrait_multithreading
						}
					}
				}
				change_variable = { which = sls_leader_random_points value = 1 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_xte_presapient_natural_intellectuals
							has_trait = trait_presapient_natural_intellectuals
							has_trait = trait_just-more-traits_dull
							has_trait = trait_additrait_easily_distracted
							has_trait = trait_additrait_slow_processors
						}
					}
				}
				subtract_variable = { which = sls_leader_random_points value = 1 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_just-more-traits_addled
							has_trait = trait_simple
							has_trait = trait_robot_factotums
							has_trait = trait_xte_presapient_proles
							has_trait = trait_presapient_proles
							has_trait = trait_additrait_simple_minded
							has_trait = trait_additrait_erratic_processors
						}
					}
				}
				subtract_variable = { which = sls_leader_random_points value = 2 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_moronic
							has_trait = trait_presapient_docile_livestock
							has_trait = trait_additrait_swarm
						}
					}
				}
				subtract_variable = { which = sls_leader_random_points value = 4 }
			}
			if = {
				limit = {
					is_researching_area = engineering
					check_variable = {
						which = sls_leader_eng_points
						value < 2
					}
					days_passed < 5
				}
				change_variable = { which = sls_leader_eng_points value = 2 }
				subtract_variable = {
					which = sls_leader_random_points
					value = 2
				}
			}
			if = {
				limit = {
					is_researching_area = society
					check_variable = {
						which = sls_leader_soc_points
						value < 2
					}
					days_passed < 5
				}
				change_variable = { which = sls_leader_soc_points value = 2 }
				subtract_variable = {
					which = sls_leader_random_points
					value = 2
				}
			}
			if = {
				limit = {
					is_researching_area = physics
					check_variable = {
						which = sls_leader_phy_points
						value < 2
					}
					days_passed < 5
				}
				change_variable = { which = sls_leader_phy_points value = 2 }
				subtract_variable = {
					which = sls_leader_random_points
					value = 2
				}
			}
			if = {
				limit = {
					check_variable = { which = sls_leader_random_points value < 1 }
				}
				set_variable = { which = sls_leader_random_points value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = sls_leader_phy_points value < 1 }
				}
				set_variable = { which = sls_leader_phy_points value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = sls_leader_soc_points value < 1 }
				}
				set_variable = { which = sls_leader_soc_points value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = sls_leader_eng_points value < 1 }
				}
				set_variable = { which = sls_leader_eng_points value = 0 }
			}
###COUNT WHAT THEY HAD###
			while = {
				count = sls_leader_random_points
				random_list = {
					1 = {
						modifier = {
							factor = 2
							OR = {
								is_researching_area = physics
								has_trait = leader_trait_expertise_field_manipulation
								has_trait = leader_trait_expertise_particles
								has_trait = leader_trait_expertise_computing
							}
						}
						if = {
							limit = {
								check_variable = { which = sls_leader_phy_points value < 15 }
							}
							change_variable = { which = sls_leader_phy_points value = 1 }
						}
						else = {
							change_variable = { which = sls_leader_soc_points value = 0.5 }
							change_variable = { which = sls_leader_eng_points value = 0.5 }
						}
					}
					1 = { 
						modifier = {
							factor = 2
							OR = {
								is_researching_area = society
								has_trait = leader_trait_expertise_new_worlds
								has_trait = leader_trait_expertise_statecraft
								has_trait = leader_trait_expertise_biology
								has_trait = leader_trait_expertise_military_theory
								has_trait = leader_trait_expertise_good_trading
							}
						}
						if = {
							limit = {
								check_variable = { which = sls_leader_soc_points value < 15 }
							}
							change_variable = { which = sls_leader_soc_points value = 1 }
						}
						else = {
							change_variable = { which = sls_leader_eng_points value = 0.5 }
							change_variable = { which = sls_leader_phy_points value = 0.5 }
						}
					}
					1 = {
						modifier = {
							factor = 2
							OR = {
								is_researching_area = engineering
								has_trait = leader_trait_expertise_materials
								has_trait = leader_trait_expertise_propulsion
								has_trait = leader_trait_expertise_voidcraft
								has_trait = leader_trait_expertise_industry
							}
						}
						if = {
							limit = {
								check_variable = { which = sls_leader_eng_points value < 15 }
							}
							change_variable = { which = sls_leader_eng_points value = 1 }
						}
						else = {
							change_variable = { which = sls_leader_phy_points value = 0.5 }
							change_variable = { which = sls_leader_soc_points value = 0.5 }
						}
					}
				}
			}
#
###IT'S DONE SO SET THEIR RANDOMS TO 0###
			set_variable = { which = sls_leader_random_points value = 0 }
		}
	}
}

###WHEN LEADER LEVELS UP###
country_event = {
	id = sls.2
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		from = {
			leader_class = scientist
			has_leader_flag = sls_have_traits
		}
	}
	immediate = {
		from = {
			if = {
				limit = {
					OR = {
						is_researching_area = engineering
						has_trait = leader_trait_expertise_materials
						has_trait = leader_trait_expertise_propulsion
						has_trait = leader_trait_expertise_voidcraft
						has_trait = leader_trait_expertise_industry
					}
				}
				change_variable = { which = sls_leader_eng_points value = 0.5 }
			}
			if = {
				limit = {
					OR = {
						is_researching_area = physics
						has_trait = leader_trait_expertise_field_manipulation
						has_trait = leader_trait_expertise_particles
						has_trait = leader_trait_expertise_computing
					}
				}
				change_variable = { which = sls_leader_phy_points value = 0.5 }
			}
			if = {
				limit = {
					OR = {
						is_researching_area = society
						has_trait = leader_trait_expertise_new_worlds
						has_trait = leader_trait_expertise_statecraft
						has_trait = leader_trait_expertise_biology
						has_trait = leader_trait_expertise_military_theory
						has_trait = leader_trait_expertise_psionics
						has_trait = leader_trait_expertise_good_trading
					}
				}
				change_variable = { which = sls_leader_soc_points value = 0.5 }
			}
			change_variable = { which = sls_leader_random_points value = 1 }
			if = {
				limit = {
					has_skill > 4
				}
				change_variable = { which = sls_leader_random_points value = 1 }
			}
			while = {
				count = sls_leader_random_points
				random_list = {
					1 = { 
						if = {
							limit = {
								check_variable = { which = sls_leader_phy_points value < 15 }
							}
							change_variable = { which = sls_leader_phy_points value = 1 }
						}
						else = {
							change_variable = { which = sls_leader_soc_points value = 0.5 }
							change_variable = { which = sls_leader_eng_points value = 0.5 }
						}
					}
					1 = { 
						if = {
							limit = {
								check_variable = { which = sls_leader_soc_points value < 15 }
							}
							change_variable = { which = sls_leader_soc_points value = 1 }
						}
						else = {
							change_variable = { which = sls_leader_eng_points value = 0.5 }
							change_variable = { which = sls_leader_phy_points value = 0.5 }
						}
					}
					1 = { 
						if = {
							limit = {
								check_variable = { which = sls_leader_eng_points value < 15 }
							}
							change_variable = { which = sls_leader_eng_points value = 1 }
						}
						else = {
							change_variable = { which = sls_leader_phy_points value = 0.5 }
							change_variable = { which = sls_leader_soc_points value = 0.5 }
						}
					}
				}
			}
			set_variable = { which = sls_leader_random_points value = 0 }
			root = {
				country_event = { id = sls.3 }
			}
		}
	}
}
###MOVE TRAITS TO RIGHT###
country_event = {
	id = sls.3
	hide_window = yes
	
	mean_time_to_happen = {
		days = 45
	}
	
	trigger = {
		any_owned_leader = {
			leader_class = scientist
			has_leader_flag = sls_have_traits
			NOT = {
				has_leader_flag = sls_have_moved_traits
			}
			NOR = {
				is_researching_area = physics
				is_researching_area = society
				is_researching_area = engineering
			}
		}
	}
	
	immediate = {
		random_owned_leader = {
			limit = {
				leader_class = scientist
				has_leader_flag = sls_have_traits
				NOT = {
					has_leader_flag = sls_have_moved_traits
				}
				NOR = {
					is_researching_area = physics
					is_researching_area = society
					is_researching_area = engineering
				}
			}
			effect_sls_move_base_traits_to_right = yes
		}
	}
}
###SET GLOBAL FLAG###
event = {
	id = sls.4
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		NOT = {
			has_global_flag = sls_started
		}
	}
	immediate = {
		set_global_flag = sls_started
	}
}

event = {
	id = sls.5
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		every_playable_country = {
			country_event = { id = sls.6 }
		}
	}
}

###ADD MODIFIER TOWARD EMPIRE EVERY YEAR###
country_event = {
	id = sls.6
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		random_owned_leader = {
			limit = {
				leader_class = scientist
				has_leader_flag = sls_have_traits
				is_researching_area = physics
#				is_researching_area = society
#				is_researching_area = engineering
			}
			sls_run_check_research_level_bar_effect = yes
			sls_run_check_research_corps_effect = yes
			set_timed_leader_flag = { flag = sls_is_modifier_provider days = 360 }
			if = {
				limit = {
					has_trait = leader_trait_spark_of_genius
					NOT = {
						has_leader_flag = sls_scientist_has_spark_of_genius
					}
				}
				set_leader_flag = sls_scientist_has_spark_of_genius
			}
			if = {
				limit = {
					has_trait = leader_trait_maniacal
					NOT = {
						has_leader_flag = sls_scientist_has_maniacal
					}
				}
				set_leader_flag = sls_scientist_has_maniacal
			}
			if = {
				limit = {
					has_trait = leader_trait_custom_AI_assistant
					NOT = {
						has_leader_flag = sls_scientist_has_custom_AI_assistant
					}
				}
				set_leader_flag = sls_scientist_has_custom_AI_assistant
			}
			if = {
				limit = {
					has_trait = leader_trait_sapient_AI_assistant
					NOT = {
						has_leader_flag = sls_scientist_has_sapient_AI_assistant
					}
				}
				set_leader_flag = sls_scientist_has_sapient_AI_assistant
			}
		}
		random_owned_leader = {
			limit = {
				leader_class = scientist
				has_leader_flag = sls_have_traits
#				is_researching_area = physics
				is_researching_area = society
#				is_researching_area = engineering
			}
			sls_run_check_research_level_bar_effect = yes
			sls_run_check_research_corps_effect = yes
			set_timed_leader_flag = { flag = sls_is_modifier_provider days = 360 }
			if = {
				limit = {
					has_trait = leader_trait_spark_of_genius
					NOT = {
						has_leader_flag = sls_scientist_has_spark_of_genius
					}
				}
				set_leader_flag = sls_scientist_has_spark_of_genius
			}
			if = {
				limit = {
					has_trait = leader_trait_maniacal
					NOT = {
						has_leader_flag = sls_scientist_has_maniacal
					}
				}
				set_leader_flag = sls_scientist_has_maniacal
			}
			if = {
				limit = {
					has_trait = leader_trait_custom_AI_assistant
					NOT = {
						has_leader_flag = sls_scientist_has_custom_AI_assistant
					}
				}
				set_leader_flag = sls_scientist_has_custom_AI_assistant
			}
			if = {
				limit = {
					has_trait = leader_trait_sapient_AI_assistant
					NOT = {
						has_leader_flag = sls_scientist_has_sapient_AI_assistant
					}
				}
				set_leader_flag = sls_scientist_has_sapient_AI_assistant
			}
		}
		random_owned_leader = {
			limit = {
				leader_class = scientist
				has_leader_flag = sls_have_traits
#				is_researching_area = physics
#				is_researching_area = society
				is_researching_area = engineering
			}
			sls_run_check_research_level_bar_effect = yes
			sls_run_check_research_corps_effect = yes
			set_timed_leader_flag = { flag = sls_is_modifier_provider days = 360 }
			if = {
				limit = {
					has_trait = leader_trait_spark_of_genius
					NOT = {
						has_leader_flag = sls_scientist_has_spark_of_genius
					}
				}
				set_leader_flag = sls_scientist_has_spark_of_genius
			}
			if = {
				limit = {
					has_trait = leader_trait_maniacal
					NOT = {
						has_leader_flag = sls_scientist_has_maniacal
					}
				}
				set_leader_flag = sls_scientist_has_maniacal
			}
			if = {
				limit = {
					has_trait = leader_trait_custom_AI_assistant
					NOT = {
						has_leader_flag = sls_scientist_has_custom_AI_assistant
					}
				}
				set_leader_flag = sls_scientist_has_custom_AI_assistant
			}
			if = {
				limit = {
					has_trait = leader_trait_sapient_AI_assistant
					NOT = {
						has_leader_flag = sls_scientist_has_sapient_AI_assistant
					}
				}
				set_leader_flag = sls_scientist_has_sapient_AI_assistant
			}
		}
        every_owned_leader = {
			limit = {
				leader_class = scientist
				has_leader_flag = sls_have_traits
                OR = {
                    is_researching_area = physics
                    is_researching_area = society
                    is_researching_area = engineering
                }
			}
			remove_trait = sls_trait_survey_asteroid
            remove_trait = sls_trait_survey_star
            remove_trait = sls_trait_survey_physics
            remove_trait = sls_trait_survey_society
            remove_trait = sls_trait_survey_engineering
            remove_trait = sls_trait_survey_combat
            remove_trait = sls_trait_survey_planet
            remove_trait = sls_trait_survey_space_creature
			remove_trait = sls_trait_survey_unity
		}
        every_owned_leader = {
			limit = {
				leader_class = scientist
				has_leader_flag = sls_have_traits
                NOR = {
                    is_researching_area = physics
                    is_researching_area = society
                    is_researching_area = engineering
                }
			}
            if = {
                limit = {
                    has_leader_flag = sls_survey_crop_asteroid
                }
                if = {
                    limit = {
                        NOT = {
                            has_trait = sls_trait_survey_asteroid
                        }
                    }
                    add_trait = sls_trait_survey_asteroid
                }
            }
            if = {
                limit = {
                    has_leader_flag = sls_survey_crop_combat
                }
                if = {
                    limit = {
                        NOT = {
                            has_trait = sls_trait_survey_combat
                        }
                    }
                    add_trait = sls_trait_survey_combat
                }
            }
            if = {
                limit = {
                    has_leader_flag = sls_survey_crop_engineering
                }
                if = {
                    limit = {
                        NOT = {
                            has_trait = sls_trait_survey_engineering
                        }
                    }
                    add_trait = sls_trait_survey_engineering
                }
            }
            if = {
                limit = {
                    has_leader_flag = sls_survey_crop_physics
                }
                if = {
                    limit = {
                        NOT = {
                            has_trait = sls_trait_survey_physics
                        }
                    }
                    add_trait = sls_trait_survey_physics
                }
            }
            if = {
                limit = {
                    has_leader_flag = sls_survey_crop_planet
                }
                if = {
                    limit = {
                        NOT = {
                            has_trait = sls_trait_survey_planet
                        }
                    }
                    add_trait = sls_trait_survey_planet
                }
            }
            if = {
                limit = {
                    has_leader_flag = sls_survey_crop_society
                }
                if = {
                    limit = {
                        NOT = {
                            has_trait = sls_trait_survey_society
                        }
                    }
                    add_trait = sls_trait_survey_society
                }
            }
            if = {
                limit = {
                    has_leader_flag = sls_survey_crop_space_creature
                }
                if = {
                    limit = {
                        NOT = {
                            has_trait = sls_trait_survey_space_creature
                        }
                    }
                    add_trait = sls_trait_survey_space_creature
                }
            }
            if = {
                limit = {
                    has_leader_flag = sls_survey_crop_star
                }
                if = {
                    limit = {
                        NOT = {
                            has_trait = sls_trait_survey_star
                        }
                    }
                    add_trait = sls_trait_survey_star
                }
            }
            if = {
                limit = {
                    has_leader_flag = sls_survey_crop_unity
                }
                if = {
                    limit = {
                        NOT = {
                            has_trait = sls_trait_survey_unity
                        }
                    }
                    add_trait = sls_trait_survey_unity
                }
            }
		}
	}
}

###EDITED FROM LEADER.20 SO YOUR SCIENTIST CAN GAIN TRAIT FROM LEVEL UP WITH TONS OF TRAITS ON THEM(I KNOW)###
country_event = {
	id = sls.7
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		from = {
			if = {
				limit = {
					leader_class = scientist
						num_traits > 2
						num_traits < 10
					NOR = {
						has_leader_flag = has_gained_level_trait
						is_researching_area = society
						is_researching_area = engineering
						is_researching_area = physics
					}
				}
				random_list = {
					90 = { }
					10 = {
						modifier = {
							factor = 1.5
							has_level = 3
						}
						modifier = {
							factor = 2.5
							has_level = 4
						}						
						modifier = {
							factor = 5
							has_level > 4
						}
						add_random_leader_trait = yes
						set_leader_flag = has_gained_level_trait
					}
				}
			}
		}
	}
}
###SURVEY CROP'S###
ship_event = {
	id = sls.8
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_physics
			NOT = {
				has_leader_flag = sls_is_modifier_provider
			}
		}
	}
	
	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = 0.5
				min = 10
				max = 99999
			}
		}
	}
}

ship_event = {
	id = sls.9
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_society
			NOT = {
				has_leader_flag = sls_is_modifier_provider
			}
		}
	}
	
	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = 0.5
				min = 10
				max = 99999
			}
		}
	}
}

ship_event = {
	id = sls.10
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_engineering
			NOT = {
				has_leader_flag = sls_is_modifier_provider
			}
		}
	}
	
	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = 0.5
				min = 10
				max = 99999
			}
		}
	}
}
###
ship_event = {
	id = sls.11
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_star
			NOT = {
				has_leader_flag = sls_is_modifier_provider
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				FROM = {
				is_star = yes
				}
			}
			owner = {
				random_list = {
					1 = {
						add_resource = { energy = 30 }
					}
					1 = {
						add_resource = { energy = 35 }
					}
					1 = {
						add_resource = { energy = 40 }
					}
					1 = {
						add_resource = { energy = 45 }
					}
					1 = {
						add_resource = { energy = 50 }
					}
					1 = {
						add_resource = { energy = 55 }
					}
					1 = {
						add_resource = { energy = 60 }
					}
				}
			}
		}
		owner = {
			random_list = {
				1 = {
					add_resource = { energy = 2 }
				}
				1 = {
					add_resource = { energy = 4 }
				}
				1 = {
					add_resource = { energy = 6 }
				}
				1 = {
					add_resource = { energy = 8 }
				}
				1 = {
					add_resource = { energy = 10 }
				}
			}
		}		
	}
}
###
ship_event = {
	id = sls.12
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_asteroid
			NOT = {
				has_leader_flag = sls_is_modifier_provider
			}
		}
	}
	
	immediate = {
		owner = {
			random_list = {
				1 = {
					add_resource = { minerals = 2 }
				}
				1 = {
					add_resource = { minerals = 4 }
				}
				1 = {
					add_resource = { minerals = 6 }
				}
				1 = {
					add_resource = { minerals = 8 }
				}
				1 = {
					add_resource = { minerals = 10 }
				}
			}
		}
		if = {
			limit = {
				FROM = {
					is_asteroid = yes
				}			
			}
			owner = {
				random_list = {
					1 = {
						add_resource = { minerals = 20 }
					}
					1 = {
						add_resource = { minerals = 30 }
					}
					1 = {
						add_resource = { minerals = 40 }
					}
					1 = {
						add_resource = { minerals = 50 }
					}
				}
			}
		}
	}
}
###GAIN RESEARCH POINTS FOR SURVEY A COLONIZABLE PLANET###
ship_event = {
	id = sls.13
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_planet
			NOT = {
				has_leader_flag = sls_is_modifier_provider
			}
		}

	}
	
	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = 0.1
				min = 3
				max = 99999
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = 0.1
				min = 3
				max = 99999
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = 0.1
				min = 3
				max = 99999
			}
		}
		if = {
			limit = {
				FROM = {
					is_colonizable = yes
				}			
			}
			owner = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = 6
					min = 30
					max = 99999
				}
				add_monthly_resource_mult = {
					resource = society_research
					value = 6
					min = 30
					max = 99999
				}
				add_monthly_resource_mult = {
					resource = engineering_research
					value = 6
					min = 30
					max = 99999
				}
			}
		}
		
	}
}

ship_event = {
	id = sls.14
	hide_window = yes
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_space_creature
			NOT = {
				has_leader_flag = sls_is_modifier_provider
				has_leader_flag = sls_leader_survey_space_creature_triggered
			}
		}
		any_system = {
			exists = root
			any_ship_in_system = { 
				OR = {
					is_ship_size = space_whale_1
					is_ship_size = space_whale_2
					is_ship_size = space_whale_3
					is_ship_size = space_amoeba_mother
					is_ship_size = space_amoeba
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		random_system = {
			limit = {
				any_ship_in_system = {
					exists = root
				}
			}
			save_event_target_as = sls_system
		}
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = 0.05
				min = 20
				max = 99999
			}
		}
		leader = {
			add_experience = 2
			set_timed_leader_flag = { flag = sls_leader_survey_space_creature_triggered days = 10 }
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 		
							OR = {
								is_ship_size = space_whale_1
								is_ship_size = space_whale_2
								is_ship_size = space_whale_3
								is_ship_size = space_amoeba_mother
								is_ship_size = space_amoeba
							}
						}
						count > 2
					}
				}
			}
			owner = {
				add_resource = { society_research = 30 }
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 		
							OR = {
								is_ship_size = space_whale_1
								is_ship_size = space_whale_2
								is_ship_size = space_whale_3
								is_ship_size = space_amoeba_mother
								is_ship_size = space_amoeba
							}
						}
						count > 4
					}
				}
			}
			owner = {
				add_resource = { society_research = 30 }
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 		
							OR = {
								is_ship_size = space_whale_1
								is_ship_size = space_whale_2
								is_ship_size = space_whale_3
								is_ship_size = space_amoeba_mother
								is_ship_size = space_amoeba
							}
						}
						count > 8
					}
				}
			}
			owner = {
				add_resource = { society_research = 30 }
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 		
							OR = {
								is_ship_size = space_whale_1
								is_ship_size = space_whale_2
								is_ship_size = space_whale_3
								is_ship_size = space_amoeba_mother
								is_ship_size = space_amoeba
							}
						}
						count > 16
					}
				}
			}
			owner = {
				add_resource = { society_research = 30 }
			}
			leader = {
				add_experience = 1
			}
		}
	}
}

ship_event = {
	id = sls.15
	hide_window = yes
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_combat
			NOT = {
				has_leader_flag = sls_is_modifier_provider
				has_leader_flag = sls_leader_survey_combat_triggered
			}
		}
		any_system = {
			any_ship_in_system = {
				exists = root
				is_in_combat = yes 
			}		
		}
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		random_system = {
			limit = {
				any_ship_in_system = {
					exists = root
					is_in_combat = yes 
				}
			}
			save_event_target_as = sls_system
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 
							is_in_combat = yes 
							is_ship_class = shipclass_military
						} 
						count > 0
					}
				}
			}
			owner = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = 0.1
					min = 30
					max = 99999
				}
				add_monthly_resource_mult = {
					resource = engineering_research
					value = 0.1
					min = 30
					max = 99999
				}
			}
			leader = {
				set_timed_leader_flag = { flag = sls_leader_survey_combat_triggered days = 5 }
				add_experience = 5
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 
							is_in_combat = yes 
							is_ship_class = shipclass_military
						} 
						count > 5
					}
				}
			}
			owner = {
				add_resource = { physics_research = 30 }
				add_resource = { engineering_research = 30 }
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 
							is_in_combat = yes 
							is_ship_class = shipclass_military
						}
						count > 10						
					}
				}
			}
			owner = {
				add_resource = { physics_research = 45 }
				add_resource = { engineering_research = 45 }
			}
			leader = {
				add_experience = 1
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 
							is_in_combat = yes 
							is_ship_class = shipclass_military
						}
						count > 20
					}
				}
			}
			owner = {
				add_resource = { physics_research = 60 }
				add_resource = { engineering_research = 60 }
			}
			leader = {
				add_experience = 1
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 
							is_in_combat = yes 
							is_ship_class = shipclass_military
						}
						count > 30
					}
				}
			}
			owner = {
				add_resource = { physics_research = 75 }
				add_resource = { engineering_research = 75 }
			}
			leader = {
				add_experience = 1
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 
							is_in_combat = yes 
							is_ship_class = shipclass_military
						}
						count > 45
					}
				}
			}
			owner = {
				add_resource = { physics_research = 90 }
				add_resource = { engineering_research = 90 }
			}
			leader = {
				add_experience = 1
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 
							is_in_combat = yes 
							is_ship_class = shipclass_military
						}
						count > 60
					}
				}
			}
			owner = {
				add_resource = { physics_research = 125 }
				add_resource = { engineering_research = 125 }
			}
			leader = {
				add_experience = 1
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 
							is_in_combat = yes 
							is_ship_class = shipclass_military
						}
						count > 75
					}
				}
			}
			owner = {
				add_resource = { physics_research = 150 }
				add_resource = { engineering_research = 150 }
			}
			leader = {
				add_experience = 1
			}
		}
		if = {
			limit = {
				event_target:sls_system = {
					count_system_ships = { 
						limit = { 
							is_in_combat = yes 
							is_ship_class = shipclass_military
						}
						count > 100
					}
				}
			}
			owner = {
				add_resource = { physics_research = 250 }
				add_resource = { engineering_research = 250 }
			}
			leader = {
				add_experience = 1
			}
		}
	}
}

ship_event = {
	id = sls.16
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_unity
			NOT = {
				has_leader_flag = sls_is_modifier_provider
			}
		}
	}
	
	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 0.1
				min = 10
				max = 99999
			}
		}
	}
}
###FULLY SURVEY A SYSTEM###
ship_event = {
	id = sls.17
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_unity
			NOT = {
				has_leader_flag = sls_is_modifier_provider
			}
		}		
	}
	
	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 1
				min = 10
				max = 99999
			}
		}		
	}
}
###CAN'T FULFILL SURVEY CORP###
ship_event = {
	id = sls.18
	title = sls.18.name
	desc = sls.18.desc.a
	desc = sls.18.desc.b
	desc = sls.18.desc.c
	desc = sls.18.desc.d
	desc = sls.18.desc.e
	picture = GFX_evt_society_research
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	location = THIS
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_leader_flag = sls_is_modifier_provider
		}
		NOT = {
			owner = {
				has_country_flag = sls_has_triggered_sls18
			}	
		}
	}
	
	immediate = {
		leader = {
			save_event_target_as = sls_swap_leader_name
		}
		owner = {
			set_timed_country_flag = { flag = sls_has_triggered_sls18 days = 1080 }
		}
	}
	
	option = {
		name = OK
		custom_tooltip = sls.18.tooltip
	}
}

###
ship_event = {
	id = sls.19
	title = sls.18.name
	desc = sls.18.desc.a
	desc = sls.18.desc.b
	desc = sls.18.desc.c
	desc = sls.18.desc.d
	desc = sls.18.desc.e
	picture = GFX_evt_society_research
	show_sound = event_laboratory_sound
#	is_triggered_only = yes
	location = THIS
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_combat
			has_leader_flag = sls_is_modifier_provider
		}
		SOLAR_SYSTEM = {
			any_ship_in_system = {
				is_in_combat = yes 
			}		
		}
		NOT = {
			owner = {
				has_country_flag = sls_has_triggered_sls18
			}	
		}
	}
	
	mean_time_to_happen = {
		days = 10
	}
	
	immediate = {
		leader = {
			save_event_target_as = sls_swap_leader_name
		}
		owner = {
			set_timed_country_flag = { flag = sls_has_triggered_sls18 days = 1080 }
		}
	}
	
	option = {
		name = OK
		custom_tooltip = sls.18.tooltip
	}
}
###
ship_event = {
	id = sls.20
	title = sls.18.name
	desc = sls.18.desc.a
	desc = sls.18.desc.b
	desc = sls.18.desc.c
	desc = sls.18.desc.d
	desc = sls.18.desc.e
	picture = GFX_evt_society_research
	show_sound = event_laboratory_sound
#	is_triggered_only = yes
	location = THIS
	
	trigger = {
		exists = leader
		leader = {
			leader_class = scientist
			has_trait = sls_trait_survey_space_creature
			has_leader_flag = sls_is_modifier_provider
		}
		solar_system = {
			any_ship_in_system = { 
				OR = {
					is_ship_size = space_whale_1
					is_ship_size = space_whale_2
					is_ship_size = space_whale_3
					is_ship_size = space_amoeba_mother
					is_ship_size = space_amoeba
				}
			}
		}
		NOT = {
			owner = {
				has_country_flag = sls_has_triggered_sls18
			}	
		}
	}
	
	mean_time_to_happen = {
		days = 10
	}
	
	immediate = {
		leader = {
			save_event_target_as = sls_swap_leader_name
		}
		owner = {
			set_timed_country_flag = { flag = sls_has_triggered_sls18 days = 1080 }
		}
	}
	
	option = {
		name = OK
		custom_tooltip = sls.18.tooltip
	}
}

country_event = {
	id = sls.49
	hide_window = yes
	trigger = {
		any_owned_leader = {
			leader_class = scientist
			NOR = {
				has_trait = sls_trait_research_unknown
				has_leader_flag = sls_have_research_crops
				has_leader_flag = sls_have_research_crops_owned
			}
		}
	}
	
	mean_time_to_happen = {
		days = 5
	}
	
	immediate = {
		random_owned_leader = {
			limit = {
				leader_class = scientist
				NOR = {
					has_trait = sls_trait_research_unknown
					has_leader_flag = sls_have_research_crops
					has_leader_flag = sls_have_research_crops_owned
				}			
			}
			add_trait = sls_trait_research_unknown
			set_leader_flag = sls_have_research_crops
			remove_leader_flag = sls_have_moved_traits
		}
		country_event = { id = sls.3 }
	}
}
country_event = {
	id = sls.50
	hide_window = yes
	trigger = {
		any_owned_leader = {
			leader_class = scientist
			has_leader_flag = sls_have_crops
			NOR = {
				has_trait = sls_trait_survey_physics
				has_trait = sls_trait_survey_society
				has_trait = sls_trait_survey_engineering
				has_trait = sls_trait_survey_planet
				has_trait = sls_trait_survey_star
				has_trait = sls_trait_survey_asteroid
				has_trait = sls_trait_survey_space_creature
				has_trait = sls_trait_survey_combat
				has_trait = sls_trait_survey_unity
			}
		}
	}
	
	mean_time_to_happen = {
		days = 10
	}
	
	immediate = {
		random_owned_leader = {
			limit = {
				leader_class = scientist
				has_leader_flag = sls_have_crops
				NOR = {
					has_trait = sls_trait_survey_physics
					has_trait = sls_trait_survey_society
					has_trait = sls_trait_survey_engineering
					has_trait = sls_trait_survey_planet
					has_trait = sls_trait_survey_star
					has_trait = sls_trait_survey_asteroid
					has_trait = sls_trait_survey_space_creature
					has_trait = sls_trait_survey_combat
					has_trait = sls_trait_survey_unity
				}
                NOR = {
					has_leader_flag = sls_survey_crop_asteroid
                    has_leader_flag = sls_survey_crop_combat
                    has_leader_flag = sls_survey_crop_engineering
                    has_leader_flag = sls_survey_crop_physics
                    has_leader_flag = sls_survey_crop_planet
                    has_leader_flag = sls_survey_crop_society
                    has_leader_flag = sls_survey_crop_space_creature
                    has_leader_flag = sls_survey_crop_star
                    has_leader_flag = sls_survey_crop_unity
				}
			}
			random_list = {
				1 = {
					add_trait = sls_trait_survey_physics
                    set_leader_flag = sls_survey_crop_physics
				}
				1 = {
					add_trait = sls_trait_survey_society
                    set_leader_flag = sls_survey_crop_society
				}
				1 = {
					add_trait = sls_trait_survey_engineering
                    set_leader_flag = sls_survey_crop_engineering
				}
				1 = {
					add_trait = sls_trait_survey_star
                    set_leader_flag = sls_survey_crop_star
				}
				1 = {
					add_trait = sls_trait_survey_asteroid
                    set_leader_flag = sls_survey_crop_asteroid
				}
				1 = {
					add_trait = sls_trait_survey_planet
                    set_leader_flag = sls_survey_crop_planet
				}
				1 = {
					add_trait = sls_trait_survey_unity
                    set_leader_flag = sls_survey_crop_unity
				}
				1 = {
					modifier = {
						factor = 0
						root = {
							num_communications < 2
						}
					}
					add_trait = sls_trait_survey_space_creature
                    set_leader_flag = sls_survey_crop_space_creature
				}
				1 = {
					modifier = {
						factor = 0
						root = {
							num_communications < 2
						}
					}
					add_trait = sls_trait_survey_combat
                    set_leader_flag = sls_survey_crop_combat
				}
			}
		}
	}
}
####GIVE RESEARCH CROP####
country_event = {
	id = sls.51
	title = sls.51.name
	desc = {
		trigger = {
			event_target:sls_swap_leader_name = {
				NOR = {
					is_researching_area = physics
					is_researching_area = society
					is_researching_area = engineering
				}
			}
		}
		text = sls.51.desc
	}
	desc = {
		trigger = {
			event_target:sls_swap_leader_name = {
				is_researching_area = physics
			}
		}
		text = sls.51.desc.head_researcher_phy
	}
	desc = {
		trigger = {
			event_target:sls_swap_leader_name = {
				is_researching_area = society
			}
		}
		text = sls.51.desc.head_researcher_soc
	}
	desc = {
		trigger = {
			event_target:sls_swap_leader_name = {
				is_researching_area = engineering
			}
		}
		text = sls.51.desc.head_researcher_eng
	}
	picture = GFX_evt_society_research
	show_sound = event_laboratory_sound
	location = event_target:sls_swap_leader_name.fleet
	auto_opens = no
	trigger = {
		any_owned_leader = {
			leader_class = scientist
			has_trait = sls_trait_research_unknown
			has_leader_flag = sls_have_research_crops
			has_skill > 4
			NOT = {
				has_leader_flag = sls_have_research_crops_owned
			}
		}
		NOT = {
			has_country_flag = sls_research_crop_swaping
		}
	}
	
	mean_time_to_happen = {
		days = 50
	}
	
	after = {
		remove_country_flag = sls_research_crop_swaping
		event_target:sls_swap_leader_name = {
			remove_leader_flag = sls_have_moved_traits
		}
		hidden_effect = {
			country_event = { id = sls.3 }
		}
	}
	
	immediate = {
		set_country_flag = sls_research_crop_swaping
		random_owned_leader = {
			limit = {
				leader_class = scientist
				has_trait = sls_trait_research_unknown
				has_leader_flag = sls_have_research_crops
				has_skill > 4
				NOT = {
					has_leader_flag = sls_have_research_crops_owned
				}				
			}
			save_event_target_as = sls_swap_leader_name
		}
	}
	
	option = {
		name = sls_trait_research_industry_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_industry
			}
		}
		custom_tooltip = sls_trait_research_industry_tooltip
		custom_tooltip = sls_check_scientist_engineering_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_eng_points value > 7.5 }
					}
					random_list = {
						1 = { add_trait = sls_trait_research_industry_1_lv2 }
						1 = { add_trait = sls_trait_research_industry_2_lv2 }
						1 = { add_trait = sls_trait_research_industry_3_lv2 }
						1 = { 
							modifier = {
								factor = 0
								root = {
									OR = {
										AND = {
											NOT = { has_technology = tech_robotic_workers }
											has_policy_flag = robots_outlawed
										}
										NOR = { 
											has_authority = auth_hive_mind
											has_authority = auth_machine_intelligence
										}
									}									
								}
							}
							add_trait = sls_trait_research_industry_4_lv2
						}
						1 = { 
							modifier = {
								factor = 0
								root = {
									OR = {
										AND = {
											NOT = { has_technology = tech_robotic_workers }
											has_policy_flag = robots_outlawed
										}
										NOR = { 
											has_authority = auth_hive_mind
											has_authority = auth_machine_intelligence
										}
									}									
								}
							}
							add_trait = sls_trait_research_industry_5_lv2
						}
						1 = { add_trait = sls_trait_research_industry_6_lv2 }
						1 = { add_trait = sls_trait_research_industry_7_lv2 }
					}
				}
				else = {
					random_list = {
						1 = { add_trait = sls_trait_research_industry_1_lv1 }
						1 = { add_trait = sls_trait_research_industry_2_lv1 }
						1 = { add_trait = sls_trait_research_industry_3_lv1 }
						1 = { 
							modifier = {
								factor = 0
								root = {
									OR = {
										AND = {
											NOT = { has_technology = tech_robotic_workers }
											has_policy_flag = robots_outlawed
										}
										NOR = { 
											has_authority = auth_hive_mind
											has_authority = auth_machine_intelligence
										}
									}									
								}
							}
							add_trait = sls_trait_research_industry_4_lv1
						}
						1 = { 
							modifier = {
								factor = 0
								root = {
									OR = {
										AND = {
											NOT = { has_technology = tech_robotic_workers }
											has_policy_flag = robots_outlawed
										}
										NOR = { 
											has_authority = auth_hive_mind
											has_authority = auth_machine_intelligence
										}
									}									
								}
							}
							add_trait = sls_trait_research_industry_5_lv1
						}
						1 = { add_trait = sls_trait_research_industry_6_lv1 }
						1 = { add_trait = sls_trait_research_industry_7_lv1 }
					}
				}					
			}
		}
	}

	option = {
		name = sls_trait_research_materials_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_materials
			}
		}
		custom_tooltip = sls_trait_research_materials_tooltip
		custom_tooltip = sls_check_scientist_engineering_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_eng_points value > 7.5 }
					}
					random_list = {
						1 = { add_trait = sls_trait_research_materials_1_lv2 }
						1 = { add_trait = sls_trait_research_materials_2_lv2 }
						1 = { add_trait = sls_trait_research_materials_3_lv2 }
						1 = { add_trait = sls_trait_research_materials_4_lv2 }
						1 = { add_trait = sls_trait_research_materials_5_lv2 }
						1 = { add_trait = sls_trait_research_materials_6_lv2 }
						1 = { add_trait = sls_trait_research_materials_7_lv2 }
					}
				}
				else = {
					random_list = {
						1 = { add_trait = sls_trait_research_materials_1_lv1 }
						1 = { add_trait = sls_trait_research_materials_2_lv1 }
						1 = { add_trait = sls_trait_research_materials_3_lv1 }
						1 = { add_trait = sls_trait_research_materials_4_lv1 }
						1 = { add_trait = sls_trait_research_materials_5_lv1 }
						1 = { add_trait = sls_trait_research_materials_6_lv1 }
						1 = { add_trait = sls_trait_research_materials_7_lv1 }
					}
				}				
			}
		}
	}

	option = {
		name = sls_trait_research_propulsion_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_propulsion
			}
		}
		custom_tooltip = sls_trait_research_propulsion_tooltip
		custom_tooltip = sls_check_scientist_engineering_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_eng_points value > 7.5 }
					}
					random_list = {
						1 = { add_trait = sls_trait_research_propulsion_1_lv2 }
						1 = { add_trait = sls_trait_research_propulsion_2_lv2 }
						1 = { add_trait = sls_trait_research_propulsion_3_lv2 }
						1 = { add_trait = sls_trait_research_propulsion_4_lv2 }
						1 = { add_trait = sls_trait_research_propulsion_5_lv2 }
						1 = { add_trait = sls_trait_research_propulsion_6_lv2 }
					}
				}
				else = {
					random_list = {
						1 = { add_trait = sls_trait_research_propulsion_1_lv1 }
						1 = { add_trait = sls_trait_research_propulsion_2_lv1 }
						1 = { add_trait = sls_trait_research_propulsion_3_lv1 }
						1 = { add_trait = sls_trait_research_propulsion_4_lv1 }
						1 = { add_trait = sls_trait_research_propulsion_5_lv1 }
						1 = { add_trait = sls_trait_research_propulsion_6_lv1 }
					}
				}
			}
		}
	}
	
	option = {
		name = sls_trait_research_voidcraft_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_voidcraft
			}
		}
		custom_tooltip = sls_trait_research_voidcraft_tooltip
		custom_tooltip = sls_check_scientist_engineering_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_eng_points value > 7.5 }
					}
					random_list = {
						1 = { add_trait = sls_trait_research_voidcraft_1_lv2 }
						1 = { add_trait = sls_trait_research_voidcraft_2_lv2 }
						1 = { add_trait = sls_trait_research_voidcraft_3_lv2 }
						1 = { add_trait = sls_trait_research_voidcraft_4_lv2 }
						1 = { add_trait = sls_trait_research_voidcraft_5_lv2 }
						1 = { 
							modifier = {
								factor = 0
								root = {
									NOR = {
										has_technology = tech_cruisers
										has_technology = tech_battleships
										has_technology = tech_titans
									}
								}
							}
							add_trait = sls_trait_research_voidcraft_6_lv2
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									NOR = {
										has_technology = tech_mega_engineering
										has_technology = tech_gateway_activation
										has_ascension_perk = ap_voidborn
									}									
								}
							}
							add_trait = sls_trait_research_voidcraft_7_lv2
						}
					}
				}
				else = {
					random_list = {
						1 = { add_trait = sls_trait_research_voidcraft_1_lv1 }
						1 = { add_trait = sls_trait_research_voidcraft_2_lv1 }
						1 = { add_trait = sls_trait_research_voidcraft_3_lv1 }
						1 = { add_trait = sls_trait_research_voidcraft_4_lv1 }
						1 = { add_trait = sls_trait_research_voidcraft_5_lv1 }
						1 = { 
							modifier = {
								factor = 0
								root = {
									NOR = {
										has_technology = tech_cruisers
										has_technology = tech_battleships
										has_technology = tech_titans
									}
								}
							}
							add_trait = sls_trait_research_voidcraft_6_lv1
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									NOR = {
										has_technology = tech_mega_engineering
										has_technology = tech_gateway_activation
										has_ascension_perk = ap_voidborn
									}									
								}
							}
							add_trait = sls_trait_research_voidcraft_7_lv1
						}
					}
				}
			}
		}
	}
	
	option = {
		name = sls_trait_research_computing_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_computing
			}
		}
		custom_tooltip = sls_trait_research_computing_tooltip
		custom_tooltip = sls_check_scientist_physics_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_phy_points value > 7.5 }
					}
					random_list = {
						1 = { add_trait = sls_trait_research_computing_1_lv2 }
						1 = { add_trait = sls_trait_research_computing_2_lv2 }
						1 = { add_trait = sls_trait_research_computing_3_lv2 }
						1 = { add_trait = sls_trait_research_computing_4_lv2 }
						1 = { add_trait = sls_trait_research_computing_5_lv2 }
						1 = { add_trait = sls_trait_research_computing_6_lv2 }
					}
				}
				else = {
					random_list = {
						1 = { add_trait = sls_trait_research_computing_1_lv1 }
						1 = { add_trait = sls_trait_research_computing_2_lv1 }
						1 = { add_trait = sls_trait_research_computing_3_lv1 }
						1 = { add_trait = sls_trait_research_computing_4_lv1 }
						1 = { add_trait = sls_trait_research_computing_5_lv1 }
						1 = { add_trait = sls_trait_research_computing_6_lv1 }
					}
				}
			}
		}
	}
	
	option = {
		name = sls_trait_research_field_manipulation_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_field_manipulation
			}
		}
		custom_tooltip = sls_trait_research_field_manipulation_tooltip
		custom_tooltip = sls_check_scientist_physics_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_phy_points value > 7.5 }
					}
					random_list = {
						1 = { add_trait = sls_trait_research_field_manipulation_1_lv2 }
						1 = { add_trait = sls_trait_research_field_manipulation_2_lv2 }
						1 = { add_trait = sls_trait_research_field_manipulation_3_lv2 }
						1 = { add_trait = sls_trait_research_field_manipulation_4_lv2 }
						1 = { add_trait = sls_trait_research_field_manipulation_5_lv2 }
						1 = { add_trait = sls_trait_research_field_manipulation_6_lv2 }
					}
				}
				else = {
					random_list = {
						1 = { add_trait = sls_trait_research_field_manipulation_1_lv1 }
						1 = { add_trait = sls_trait_research_field_manipulation_2_lv1 }
						1 = { add_trait = sls_trait_research_field_manipulation_3_lv1 }
						1 = { add_trait = sls_trait_research_field_manipulation_4_lv1 }
						1 = { add_trait = sls_trait_research_field_manipulation_5_lv1 }
						1 = { add_trait = sls_trait_research_field_manipulation_6_lv1 }
					}
				}
			}
		}
	}
	
	option = {
		name = sls_trait_research_particles_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_particles
			}
		}
		custom_tooltip = sls_trait_research_particles_tooltip
		custom_tooltip = sls_check_scientist_physics_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_phy_points value > 7.5 }
					}
					random_list = {
						1 = { add_trait = sls_trait_research_particles_1_lv2 }
						1 = { add_trait = sls_trait_research_particles_2_lv2 }
						1 = { add_trait = sls_trait_research_particles_3_lv2 }
						1 = { add_trait = sls_trait_research_particles_4_lv2 }
						1 = { add_trait = sls_trait_research_particles_5_lv2 }
						1 = { add_trait = sls_trait_research_particles_6_lv2 }
					}
				}
				else = {
					random_list = {
						1 = { add_trait = sls_trait_research_particles_1_lv1 }
						1 = { add_trait = sls_trait_research_particles_2_lv1 }
						1 = { add_trait = sls_trait_research_particles_3_lv1 }
						1 = { add_trait = sls_trait_research_particles_4_lv1 }
						1 = { add_trait = sls_trait_research_particles_5_lv1 }
						1 = { add_trait = sls_trait_research_particles_6_lv1 }
					}
				}
			}
		}
	}

	option = {
		name = sls_trait_research_biology_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_biology
			}
		}
		custom_tooltip = sls_trait_research_biology_tooltip
		custom_tooltip = sls_check_scientist_society_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_soc_points value > 7.5 }
					}
					random_list = {
						1 = { 
							modifier = {
								factor = 0
								root = {
									NOT = {
										has_technology = tech_gene_tailoring
									}									
								}
							}
							add_trait = sls_trait_research_biology_1_lv2
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									has_authority = auth_machine_intelligence
								}
							}
							add_trait = sls_trait_research_biology_2_lv2
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									has_authority = auth_machine_intelligence
								}
							}
							add_trait = sls_trait_research_biology_3_lv2
						}
						1 = {
							add_trait = sls_trait_research_biology_4_lv2
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									has_authority = auth_machine_intelligence
								}
							}
							add_trait = sls_trait_research_biology_5_lv2
						}
						1 = { add_trait = sls_trait_research_biology_6_lv2 }
					}
				}
				else = {
					random_list = {
						1 = { 
							modifier = {
								factor = 0
								root = {
									NOT = {
										has_technology = tech_gene_tailoring
									}									
								}
							}
							add_trait = sls_trait_research_biology_1_lv1
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									has_authority = auth_machine_intelligence
								}
							}
							add_trait = sls_trait_research_biology_2_lv1
						}
						1 = {
							modifier = {
								factor = 0
								OR = {
									root = {
										has_authority = auth_machine_intelligence
									}
									species = {
										has_trait = trait_lithoid
									}
								}
							}
							add_trait = sls_trait_research_biology_3_lv1
						}
						1 = {
							add_trait = sls_trait_research_biology_4_lv1
						}
						1 = {
							modifier = {
								factor = 0
									root = {
									has_authority = auth_machine_intelligence
								}
							}
							add_trait = sls_trait_research_biology_5_lv1
						}
						1 = { add_trait = sls_trait_research_biology_6_lv1 }
					}
				}
			}
		}
	}

	option = {
		name = sls_trait_research_military_theory_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_military_theory
			}
		}
		custom_tooltip = sls_trait_research_military_theory_tooltip
		custom_tooltip = sls_check_scientist_society_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_soc_points value > 7.5 }
					}
					random_list = {
						1 = { add_trait = sls_trait_research_military_theory_1_lv2 }
						1 = { add_trait = sls_trait_research_military_theory_2_lv2 }
						1 = { add_trait = sls_trait_research_military_theory_3_lv2 }
						1 = { add_trait = sls_trait_research_military_theory_4_lv2 }
						1 = { add_trait = sls_trait_research_military_theory_5_lv2 }
						1 = { add_trait = sls_trait_research_military_theory_6_lv2 }
					}
				}
				else = {
					random_list = {
						1 = { add_trait = sls_trait_research_military_theory_1_lv1 }
						1 = { add_trait = sls_trait_research_military_theory_2_lv1 }
						1 = { add_trait = sls_trait_research_military_theory_3_lv1 }
						1 = { add_trait = sls_trait_research_military_theory_4_lv1 }
						1 = { add_trait = sls_trait_research_military_theory_5_lv1 }
						1 = { add_trait = sls_trait_research_military_theory_6_lv1 }
					}
				}
			}
		}
	}
	
	option = {
		name = sls_trait_research_new_worlds_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_new_worlds
			}
		}
		custom_tooltip = sls_trait_research_new_worlds_tooltip
		custom_tooltip = sls_check_scientist_society_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_soc_points value > 7.5 }
					}
					random_list = {
						1 = { add_trait = sls_trait_research_new_worlds_1_lv2 }
						1 = { add_trait = sls_trait_research_new_worlds_2_lv2 }
						1 = { add_trait = sls_trait_research_new_worlds_3_lv2 }
						1 = { 
							modifier = {
								factor = 0
								root = {
									OR = {
										has_authority = auth_hive_mind
										has_authority = auth_machine_intelligence
									}									
								}
							}
							add_trait = sls_trait_research_new_worlds_4_lv2
						}
						1 = { 
							modifier = {
								factor = 0
								root = {
									has_authority = auth_machine_intelligence
								}
							}							
							add_trait = sls_trait_research_new_worlds_5_lv2
						}
						1 = { 
							modifier = {
								factor = 0
								root = {
									OR = {
										has_authority = auth_hive_mind
										has_authority = auth_machine_intelligence
									}									
								}
							}							
							add_trait = sls_trait_research_new_worlds_6_lv2
						}
					}
				}
				else = {
					random_list = {
						1 = { add_trait = sls_trait_research_new_worlds_1_lv1 }
						1 = { add_trait = sls_trait_research_new_worlds_2_lv1 }
						1 = { add_trait = sls_trait_research_new_worlds_3_lv1 }
						1 = { 
							modifier = {
								factor = 0
								root = {
									OR = {
										has_authority = auth_hive_mind
										has_authority = auth_machine_intelligence
									}									
								}
							}
							add_trait = sls_trait_research_new_worlds_4_lv1
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									has_authority = auth_machine_intelligence
								}
							}							
							add_trait = sls_trait_research_new_worlds_5_lv1
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									OR = {
										has_authority = auth_hive_mind
										has_authority = auth_machine_intelligence
									}									
								}
							}
							add_trait = sls_trait_research_new_worlds_6_lv1
						}
					}
				}
			}
		}
	}
	
	option = {
		name = sls_trait_research_statecraft_1_lv1
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_statecraft
			}
		}
		custom_tooltip = sls_trait_research_statecraft_tooltip
		custom_tooltip = sls_check_scientist_society_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_soc_points value > 7.5 }
					}
					random_list = {
						1 = { add_trait = sls_trait_research_statecraft_1_lv2 }
						1 = { add_trait = sls_trait_research_statecraft_2_lv2 }
						1 = { add_trait = sls_trait_research_statecraft_3_lv2 }
						1 = { add_trait = sls_trait_research_statecraft_4_lv2 }
						1 = { add_trait = sls_trait_research_statecraft_5_lv2 }
						1 = {
							modifier = {
								factor = 0
								root = {
									OR = {
										has_valid_civic = "civic_fanatic_purifiers"
										has_valid_civic = "civic_hive_devouring_swarm"
										has_valid_civic = "civic_machine_terminator"
									}									
								}
							}
							add_trait = sls_trait_research_statecraft_6_lv2
						}
						1 = { 
							modifier = {
								factor = 0
								root = {
									OR = {
										has_valid_civic = "civic_fanatic_purifiers"
										has_valid_civic = "civic_hive_devouring_swarm"
										has_valid_civic = "civic_machine_terminator"
									}									
								}
							}
							add_trait = sls_trait_research_statecraft_7_lv2
						}
					}
				}
				else = {
					random_list = {
						1 = { add_trait = sls_trait_research_statecraft_1_lv1 }
						1 = { add_trait = sls_trait_research_statecraft_2_lv1 }
						1 = { add_trait = sls_trait_research_statecraft_3_lv1 }
						1 = { add_trait = sls_trait_research_statecraft_4_lv1 }
						1 = { add_trait = sls_trait_research_statecraft_5_lv1 }
						1 = { 
							modifier = {
								factor = 0
								root = {
									OR = {
										has_valid_civic = "civic_fanatic_purifiers"
										has_valid_civic = "civic_hive_devouring_swarm"
										has_valid_civic = "civic_machine_terminator"
									}									
								}
							}
							add_trait = sls_trait_research_statecraft_6_lv1
						}
						1 = {
							modifier = {
								factor = 0
								root = {
									OR = {
										has_valid_civic = "civic_fanatic_purifiers"
										has_valid_civic = "civic_hive_devouring_swarm"
										has_valid_civic = "civic_machine_terminator"
									}									
								}
							}
							add_trait = sls_trait_research_statecraft_7_lv1
						}
					}
				}
			}
		}
	}
	
	option = {
		name = sls_trait_research_psionics_1 
		trigger = {
			event_target:sls_swap_leader_name = {
				has_trait = leader_trait_expertise_psionics
			}
		}
		custom_tooltip = sls_trait_research_psionics_tooltip
		custom_tooltip = sls_check_scientist_society_points_tooltip
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				random_list = {
					1 = { add_trait = sls_trait_research_psionics_1 }
					1 = { add_trait = sls_trait_research_psionics_2 }
					1 = { add_trait = sls_trait_research_psionics_3 }
					1 = { add_trait = sls_trait_research_psionics_4 }
					1 = { add_trait = sls_trait_research_psionics_5 }
					1 = { add_trait = sls_trait_research_psionics_6 }
					1 = { add_trait = sls_trait_research_psionics_7 }
				}
			}
		}
	}
	
	option = {
		name = sls_trait_research_options_r
		custom_tooltip = sls.51.r.tooltip
		trigger = {
			event_target:sls_swap_leader_name = {
				OR = {
					has_trait = leader_trait_spark_of_genius
					has_trait = leader_trait_maniacal
					has_trait = leader_trait_curator
				}
				
			}
		}
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				add_trait = sls_trait_research_options_r
			}
		}
	}

	option = {
		name = sls_trait_research_adaptable_r
		trigger = {
			event_target:sls_swap_leader_name = {
				OR = {
					has_trait = leader_trait_adaptable
					has_trait = leader_trait_flexible_programming
				}
				
			}
		}
		event_target:sls_swap_leader_name = {
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				add_trait = sls_trait_research_adaptable_r
			}
		}
	}
	
	option = {
		name = sls.51.a
		trigger = {
			event_target:sls_swap_leader_name = {
				NOR = {
					has_trait = leader_trait_expertise_industry
					has_trait = leader_trait_expertise_materials
					has_trait = leader_trait_expertise_propulsion
					has_trait = leader_trait_expertise_voidcraft
					has_trait = leader_trait_expertise_computing
					has_trait = leader_trait_expertise_field_manipulation
					has_trait = leader_trait_expertise_particles
					has_trait = leader_trait_expertise_biology
					has_trait = leader_trait_expertise_military_theory
					has_trait = leader_trait_expertise_new_worlds
					has_trait = leader_trait_expertise_statecraft
					has_trait = leader_trait_expertise_psionics
					has_trait = leader_trait_adaptable
					has_trait = leader_trait_flexible_programming
					has_trait = leader_trait_spark_of_genius
					has_trait = leader_trait_maniacal
					has_trait = leader_trait_curator
				}
			}
		}
		event_target:sls_swap_leader_name = {
			custom_tooltip = sls.51.a.tooltip
			hidden_effect = {
				set_leader_flag = sls_have_research_crops_owned
				remove_trait = sls_trait_research_unknown
				if = {
					limit = {
						check_variable = { which = sls_leader_phy_points value > 5 }
						check_variable = { which = sls_leader_soc_points value < 6 }
						check_variable = { which = sls_leader_eng_points value < 6 }
					}
					add_trait = sls_trait_research_physics_r
				}
				if = {
					limit = {
						check_variable = { which = sls_leader_soc_points value > 5 }
						check_variable = { which = sls_leader_phy_points value < 6 }
						check_variable = { which = sls_leader_eng_points value < 6 }
					}
					add_trait = sls_trait_research_society_r
				}
				if = {
					limit = {
						check_variable = { which = sls_leader_eng_points value > 5 }
						check_variable = { which = sls_leader_phy_points value < 6 }
						check_variable = { which = sls_leader_soc_points value < 6 }
					}
					add_trait = sls_trait_research_engineering_r
				}
				if = {
					limit = {
						NOR = {
							has_trait = sls_trait_research_physics_r
							has_trait = sls_trait_research_society_r
							has_trait = sls_trait_research_engineering_r
						}
					}
					random_list = {
						1 = { add_trait = sls_trait_research_physics_r }
						1 = { add_trait = sls_trait_research_society_r }
						1 = { add_trait = sls_trait_research_engineering_r }
					}
				}
			}
		}
	}
}
###For game start scientist guys (for early game balance)###
event = {
	id = sls.90
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_playable_country = {
			save_event_target_as = sls_country
			every_owned_leader = {
				limit = {
					leader_class = scientist
					NOR = {
						is_researching_area = physics
						is_researching_area = society
						is_researching_area = engineering
					}
				}
				remove_trait = sls_trait_survey_asteroid
				remove_trait = sls_trait_survey_star
				remove_trait = sls_trait_survey_physics
				remove_trait = sls_trait_survey_society
				remove_trait = sls_trait_survey_engineering
				remove_trait = sls_trait_survey_combat
				remove_trait = sls_trait_survey_planet
				remove_trait = sls_trait_survey_space_creature
				remove_trait = sls_trait_survey_unity
                remove_leader_flag = sls_survey_crop_asteroid
                remove_leader_flag = sls_survey_crop_combat
                remove_leader_flag = sls_survey_crop_engineering
                remove_leader_flag = sls_survey_crop_physics
                remove_leader_flag = sls_survey_crop_planet
                remove_leader_flag = sls_survey_crop_society
                remove_leader_flag = sls_survey_crop_space_creature
                remove_leader_flag = sls_survey_crop_star
                remove_leader_flag = sls_survey_crop_unity
				random_list = {
					1 = { 
                        add_trait = sls_trait_survey_asteroid
                        set_leader_flag = sls_survey_crop_asteroid
                    }
					1 = {
                        add_trait = sls_trait_survey_star
                        set_leader_flag = sls_survey_crop_star
                    }
				}
				remove_leader_flag = sls_have_skill_set
				event_target:sls_country = {
					country_event = { id = sls.21 }
				}
			}
			every_owned_leader = {
				limit = {
					leader_class = scientist
					OR = {
						is_researching_area = physics
						is_researching_area = society
						is_researching_area = engineering
					}
				}
				switch = {
					trigger = has_leader_flag
					sls_survey_crop_asteroid = {
						add_trait = sls_survey_crop_asteroid
					}
					sls_survey_crop_combat = {
						add_trait = sls_trait_survey_combat
					}
					sls_survey_crop_engineering = {
						add_trait = sls_trait_survey_engineering
					}
					sls_survey_crop_physics = {
						add_trait = sls_trait_survey_physics
					}
					sls_survey_crop_planet = {
						add_trait = sls_trait_survey_planet
					}
					sls_survey_crop_society = {
						add_trait = sls_trait_survey_society
					}
					sls_survey_crop_space_creature = {
						add_trait = sls_trait_survey_space_creature
					}
					sls_survey_crop_star = {
						add_trait = sls_trait_survey_star
					}
					sls_survey_crop_unity = {
						add_trait = sls_trait_survey_unity
					}
				}
				effect_sls_set_eureka_status = yes
			}
		}
	}
}
event = {
	id = sls.200
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		every_playable_country = {
			limit = {
				any_owned_leader = {
					leader_class = scientist
					OR = {
						is_researching_area = physics
						is_researching_area = society
						is_researching_area = engineering
					}
				}
			}
			country_event = { id = sls.201 }
			country_event = { id = sls.202 days = 1 }
		}
		every_playable_country = {
			limit = {
				any_owned_leader = {
					leader_class = scientist
					has_leader_flag = sls_have_eureka_status
					NOR = {
						is_researching_area = physics
						is_researching_area = society
						is_researching_area = engineering
					}
				}
			}
			country_event = { id = sls.203 }
		}
	}
}


###Set eureka status for research scientists if they don't have it
country_event = {
	id = sls.201
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		any_owned_leader = {
			leader_class = scientist
			OR = {
				is_researching_area = physics
				is_researching_area = society
				is_researching_area = engineering
			}
		}
	}
	immediate = {
		every_owned_leader = {
			limit = {
				leader_class = scientist
				OR = {
					is_researching_area = physics
					is_researching_area = society
					is_researching_area = engineering
				}
			}
			switch = {
				trigger = is_researching_area
				physics = {
					if = {
						limit = {
							NOT = {
								has_leader_flag = sls_scientist_leader_physics
							}
						}
						if = {
							limit = {
								OR = {
									has_leader_flag = sls_scientist_leader_society
									has_leader_flag = sls_scientist_leader_engineering
								}
							}
							create_message = { 
								type = DIPLO_ACTION_BREAK_RESEARCH_AGREEMENT
								localization = sls_message_eureka_removed
								days = 60
								target = root
								variable = {
									type = name
									localization = LEADER
									scope = this 
								}
							}
						}
						remove_leader_flag = sls_scientist_leader_physics
						remove_leader_flag = sls_scientist_leader_society
						remove_leader_flag = sls_scientist_leader_engineering
						effect_sls_set_eureka_status = yes
						
					}
					set_leader_flag = sls_scientist_leader_physics
					
				}
				society = {
					if = {
						limit = {
							NOT = {
								has_leader_flag = sls_scientist_leader_society
							}
						}
						if = {
							limit = {
								OR = {
									has_leader_flag = sls_scientist_leader_physics
									has_leader_flag = sls_scientist_leader_engineering
								}
							}
							create_message = { 
								type = DIPLO_ACTION_BREAK_RESEARCH_AGREEMENT
								localization = sls_message_eureka_removed
								days = 60
								target = root
								variable = {
									type = name
									localization = LEADER
									scope = this 
								}
							}
						}
						remove_leader_flag = sls_scientist_leader_physics
						remove_leader_flag = sls_scientist_leader_society
						remove_leader_flag = sls_scientist_leader_engineering
						effect_sls_set_eureka_status = yes
					}
					set_leader_flag = sls_scientist_leader_society
					
				}
				engineering = {
					if = {
						limit = {
							NOT = {
								has_leader_flag = sls_scientist_leader_engineering
							}
						}
						if = {
							limit = {
								OR = {
									has_leader_flag = sls_scientist_leader_society
									has_leader_flag = sls_scientist_leader_physics
								}
							}
							create_message = { 
								type = DIPLO_ACTION_BREAK_RESEARCH_AGREEMENT
								localization = sls_message_eureka_removed
								days = 60
								target = root
								variable = {
									type = name
									localization = LEADER
									scope = this 
								}
							}
						}
						remove_leader_flag = sls_scientist_leader_physics
						remove_leader_flag = sls_scientist_leader_society
						remove_leader_flag = sls_scientist_leader_engineering
						effect_sls_set_eureka_status = yes
					}
					set_leader_flag = sls_scientist_leader_engineering
					
				}
			}
		}
	}
}

###Increase eureka status every month###
country_event = {
	id = sls.202
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		any_owned_leader = {
			leader_class = scientist
			OR = {
				is_researching_area = physics
				is_researching_area = society
				is_researching_area = engineering
			}
			has_leader_flag = sls_have_eureka_status
		}
	}
	immediate = {
		every_owned_leader = {
			limit = {
				leader_class = scientist
				OR = {
					is_researching_area = physics
					is_researching_area = society
					is_researching_area = engineering
				}
				has_leader_flag = sls_have_eureka_status
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_just-more-traits_robot_rapidrouting
							has_trait = trait_inquisitive
							has_trait = trait_additrait_multitasking
							has_trait = trait_additrait_multithreading
							has_trait = trait_just-more-traits_curious
						}
					}
				}
				change_variable = { which = sls_eureka_points value = 1.5 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_robot_matrioshka_brain
						}
					}
				}
				change_variable = { which = sls_eureka_points value = 3.75 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_mechanical
						}
					}
				}
				change_variable = { which = sls_eureka_points value = 3 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_psionic
							has_trait = trait_machinedlcmod_psionic
						}
					}
				}
				change_variable = { which = sls_eureka_points value = 3 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_machine_advanced_logic_algorithm
						}
					}
				}
				change_variable = { which = sls_eureka_points value = 3 }
			}
			if = {
				limit = {
					OR = {
						species = {
							OR = {
								has_trait = trait_robot_improved_logic
								has_trait = trait_erudite
							}
						}	
					}
				}
				change_variable = { which = sls_eureka_points value = 2.25 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_intelligent
						}
					}
				}
				change_variable = { which = sls_eureka_points value = 1.5 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_cybernetic
						}
					}
				}
				change_variable = { which = sls_eureka_points value = 1.5 }
			}
			if = {
				limit = {
					species = {
						OR = {
							has_trait = trait_robot_logic_engines
							has_trait = trait_robot_shifters
							has_trait = trait_robot_organic_logic
						}
					}
				}
				change_variable = { which = sls_eureka_points value = 1.5 }
			}
			if = {
				limit = {
					OR = {
						has_trait = leader_trait_spark_of_genius 
						has_leader_flag = sls_scientist_has_spark_of_genius
					}
				}
				change_variable = {
					which = sls_eureka_points
					value = 3
				}
			}
			if = {
				limit = {
					OR = {
						has_trait = leader_trait_maniacal
						has_trait = leader_trait_sapient_AI_assistant
						has_leader_flag = sls_scientist_has_maniacal
						has_leader_flag = sls_scientist_has_sapient_AI_assistant
					}
				}
				change_variable = {
					which = sls_eureka_points
					value = 2.25
				}
			}
			if = {
				limit = {
					OR = {
						has_trait = leader_trait_adaptable
						has_trait = leader_trait_flexible_programming 
						has_trait = leader_trait_custom_AI_assistant
						has_leader_flag = sls_scientist_has_custom_AI_assistant
					}
					
				}
				change_variable = {
					which = sls_eureka_points
					value = 1.5
				}
			}
			if = {
				limit = {
					OR = {
						has_trait = leader_trait_stubborn
						has_trait = leader_trait_rigid_programming 
						has_trait = leader_trait_paranoid
					}
				}
				subtract_variable = {
					which = sls_eureka_points
					value = 1
				}
			}
			random_list = {
				150 = {
				}
				0 = {
					modifier = {
						add = 1
						OR = {
							has_trait = leader_trait_maniacal
							has_leader_flag = sls_scientist_has_maniacal
						}
					}
					modifier = {
						add = 1
						OR = {
							has_trait = leader_trait_spark_of_genius
							has_leader_flag = sls_scientist_has_spark_of_genius
						}
					}
					multiply_variable = {
						which = sls_eureka_points
						value = 1.5
					}
				}
				3 = {
					modifier = {
						add = 12
						is_researching_area = physics
						OR = {
							has_trait = leader_trait_expertise_computing
							has_trait = leader_trait_expertise_field_manipulation
							has_trait = leader_trait_expertise_particles
						}
					}
					modifier = {
						add = 12
						is_researching_area = society
						OR = {
							has_trait = leader_trait_expertise_biology
							has_trait = leader_trait_expertise_military_theory
							has_trait = leader_trait_expertise_new_worlds
							has_trait = leader_trait_expertise_psionics
							has_trait = leader_trait_expertise_statecraft
							has_trait = leader_trait_expertise_good_trading
						}
					}
					modifier = {
						add = 12
						is_researching_area = engineering
						OR = {
							has_trait = leader_trait_expertise_industry
							has_trait = leader_trait_expertise_materials
							has_trait = leader_trait_expertise_propulsion
							has_trait = leader_trait_expertise_voidcraft
						}
					}
					change_variable = {
						which = sls_eureka_points
						value = 7.5
					}
				}
			}
			if = {
				limit = {
					is_researching_area = physics
				}
				switch = {
					trigger = has_trait
					sls_trait_research_physics_lv0 = {
						change_variable = {
							which = sls_eureka_points
							value = 2
						}
					}
					sls_trait_research_physics_lv1 = {
						change_variable = {
							which = sls_eureka_points
							value = 3
						}
					}
					sls_trait_research_physics_lv2 = {
						change_variable = {
							which = sls_eureka_points
							value = 4
						}
					}
					sls_trait_research_physics_lv3 = {
						change_variable = {
							which = sls_eureka_points
							value = 5
						}
					}
					sls_trait_research_physics_lv4 = {
						change_variable = {
							which = sls_eureka_points
							value = 6
						}
					}
					sls_trait_research_physics_lv5 = {
						change_variable = {
							which = sls_eureka_points
							value = 7
						}
					}
					sls_trait_research_physics_lv6 = {
						change_variable = {
							which = sls_eureka_points
							value = 8
						}
					}
					sls_trait_research_physics_lv7 = {
						change_variable = {
							which = sls_eureka_points
							value = 8.5
						}
					}
					sls_trait_research_physics_lv8 = {
						change_variable = {
							which = sls_eureka_points
							value = 9
						}
					}
					sls_trait_research_physics_lv9 = {
						change_variable = {
							which = sls_eureka_points
							value = 9.5
						}
					}
					sls_trait_research_physics_lv10 = {
						change_variable = {
							which = sls_eureka_points
							value = 10
						}
					}
					sls_trait_research_physics_lv11 = {
						change_variable = {
							which = sls_eureka_points
							value = 12
						}
					}
					sls_trait_research_physics_lv12 = {
						change_variable = {
							which = sls_eureka_points
							value = 14
						}
					}
					sls_trait_research_physics_lv13 = {
						change_variable = {
							which = sls_eureka_points
							value = 16
						}
					}
					sls_trait_research_physics_lv14 = {
						change_variable = {
							which = sls_eureka_points
							value = 18
						}
					}
					sls_trait_research_physics_lv15 = {
						change_variable = {
							which = sls_eureka_points
							value = 20
						}
					}
				}
				if = {
					limit = {
						has_trait = sls_trait_eureka_100
					}
					set_variable = {
						which = sls_eureka_points
						value = 1
					}
					save_event_target_as = sls_scientist
					root = {
						country_event = {
							id = sls.204
						}
					}
				}
				effect_sls_remove_eureka_status = yes
				effect_sls_check_eureka_status = yes
				effect_sls_move_base_traits_to_right = yes
			}
			if = {
				limit = {
					is_researching_area = society
				}
				switch = {
					trigger = has_trait
					sls_trait_research_society_lv0 = {
						change_variable = {
							which = sls_eureka_points
							value = 2
						}
					}
					sls_trait_research_society_lv1 = {
						change_variable = {
							which = sls_eureka_points
							value = 3
						}
					}
					sls_trait_research_society_lv2 = {
						change_variable = {
							which = sls_eureka_points
							value = 4
						}
					}
					sls_trait_research_society_lv3 = {
						change_variable = {
							which = sls_eureka_points
							value = 5
						}
					}
					sls_trait_research_society_lv4 = {
						change_variable = {
							which = sls_eureka_points
							value = 6
						}
					}
					sls_trait_research_society_lv5 = {
						change_variable = {
							which = sls_eureka_points
							value = 7
						}
					}
					sls_trait_research_society_lv6 = {
						change_variable = {
							which = sls_eureka_points
							value = 8
						}
					}
					sls_trait_research_society_lv7 = {
						change_variable = {
							which = sls_eureka_points
							value = 8.5
						}
					}
					sls_trait_research_society_lv8 = {
						change_variable = {
							which = sls_eureka_points
							value = 9
						}
					}
					sls_trait_research_society_lv9 = {
						change_variable = {
							which = sls_eureka_points
							value = 9.5
						}
					}
					sls_trait_research_society_lv10 = {
						change_variable = {
							which = sls_eureka_points
							value = 10
						}
					}
					sls_trait_research_society_lv11 = {
						change_variable = {
							which = sls_eureka_points
							value = 12
						}
					}
					sls_trait_research_society_lv12 = {
						change_variable = {
							which = sls_eureka_points
							value = 14
						}
					}
					sls_trait_research_society_lv13 = {
						change_variable = {
							which = sls_eureka_points
							value = 16
						}
					}
					sls_trait_research_society_lv14 = {
						change_variable = {
							which = sls_eureka_points
							value = 18
						}
					}
					sls_trait_research_society_lv15 = {
						change_variable = {
							which = sls_eureka_points
							value = 20
						}
					}
				}
				if = {
					limit = {
						has_trait = sls_trait_eureka_100
					}
					set_variable = {
						which = sls_eureka_points
						value = 1
					}
					save_event_target_as = sls_scientist
					root = {
						country_event = {
							id = sls.204
						}
					}
				}
				effect_sls_remove_eureka_status = yes
				effect_sls_check_eureka_status = yes
				effect_sls_move_base_traits_to_right = yes
			}
			if = {
				limit = {
					is_researching_area = engineering
				}
				switch = {
					trigger = has_trait
					sls_trait_research_engineering_lv0 = {
						change_variable = {
							which = sls_eureka_points
							value = 2
						}
					}
					sls_trait_research_engineering_lv1 = {
						change_variable = {
							which = sls_eureka_points
							value = 3
						}
					}
					sls_trait_research_engineering_lv2 = {
						change_variable = {
							which = sls_eureka_points
							value = 4
						}
					}
					sls_trait_research_engineering_lv3 = {
						change_variable = {
							which = sls_eureka_points
							value = 5
						}
					}
					sls_trait_research_engineering_lv4 = {
						change_variable = {
							which = sls_eureka_points
							value = 6
						}
					}
					sls_trait_research_engineering_lv5 = {
						change_variable = {
							which = sls_eureka_points
							value = 7
						}
					}
					sls_trait_research_engineering_lv6 = {
						change_variable = {
							which = sls_eureka_points
							value = 8
						}
					}
					sls_trait_research_engineering_lv7 = {
						change_variable = {
							which = sls_eureka_points
							value = 8.5
						}
					}
					sls_trait_research_engineering_lv8 = {
						change_variable = {
							which = sls_eureka_points
							value = 9
						}
					}
					sls_trait_research_engineering_lv9 = {
						change_variable = {
							which = sls_eureka_points
							value = 9.5
						}
					}
					sls_trait_research_engineering_lv10 = {
						change_variable = {
							which = sls_eureka_points
							value = 10
						}
					}
					sls_trait_research_engineering_lv11 = {
						change_variable = {
							which = sls_eureka_points
							value = 12
						}
					}
					sls_trait_research_engineering_lv12 = {
						change_variable = {
							which = sls_eureka_points
							value = 14
						}
					}
					sls_trait_research_engineering_lv13 = {
						change_variable = {
							which = sls_eureka_points
							value = 16
						}
					}
					sls_trait_research_engineering_lv14 = {
						change_variable = {
							which = sls_eureka_points
							value = 18
						}
					}
					sls_trait_research_engineering_lv15 = {
						change_variable = {
							which = sls_eureka_points
							value = 20
						}
					}
				}
				if = {
					limit = {
						has_trait = sls_trait_eureka_100
					}
					set_variable = {
						which = sls_eureka_points
						value = 1
					}
					save_event_target_as = sls_scientist
					root = {
						country_event = {
							id = sls.204
						}
					}
				}
				effect_sls_remove_eureka_status = yes
				effect_sls_check_eureka_status = yes
				effect_sls_move_base_traits_to_right = yes
			}
		}
	}
}
###Remove eureka status while not leading research###
country_event = {
	id = sls.203
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		any_owned_leader = {
			leader_class = scientist
			NOR = {
				is_researching_area = physics
				is_researching_area = society
				is_researching_area = engineering
			}
			has_leader_flag = sls_have_eureka_status
		}
	}

	immediate = {
		every_owned_leader = {
			limit = {
				leader_class = scientist
				NOR = {
					is_researching_area = physics
					is_researching_area = society
					is_researching_area = engineering
				}
				has_leader_flag = sls_have_eureka_status
			}
			remove_leader_flag = sls_scientist_leader_physics
			remove_leader_flag = sls_scientist_leader_society
			remove_leader_flag = sls_scientist_leader_engineering
			effect_sls_remove_eureka_status = yes
			remove_leader_flag = sls_have_eureka_status
			create_message = { 
				type = DIPLO_ACTION_BREAK_RESEARCH_AGREEMENT
				localization = sls_message_eureka_removed
				days = 60
				target = root
				variable = {
					type = name
					localization = LEADER
					scope = this 
				}
			}
		}
	}
}
#EUREKA!
country_event = {
	id = sls.204
	title = sls.204.name
	desc = {
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = physics
			}
			NOT = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		text = sls.204.desc.head_researcher_phy
	}
	desc = {
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = society
			}
			NOT = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		text = sls.204.desc.head_researcher_soc
	}
	desc = {
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = engineering
			}
			NOT = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		text = sls.204.desc.head_researcher_eng
	}
	desc = {
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = physics
			}
			has_ethic = ethic_gestalt_consciousness
			OR = {
				has_authority = auth_machine_intelligence
				has_authority = auth_ancient_machine_intelligence
			}
		}
		text = sls.204.desc.head_researcher_phy_machine
	}
	desc = {
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = society
			}
			has_ethic = ethic_gestalt_consciousness
			OR = {
				has_authority = auth_machine_intelligence
				has_authority = auth_ancient_machine_intelligence
			}
		}
		text = sls.204.desc.head_researcher_soc_machine
	}
	desc = {
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = engineering
			}
			has_ethic = ethic_gestalt_consciousness
			OR = {
				has_authority = auth_machine_intelligence
				has_authority = auth_ancient_machine_intelligence
			}
		}
		text = sls.204.desc.head_researcher_eng_machine
	}
	desc = {
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = physics
			}
			has_ethic = ethic_gestalt_consciousness
			OR = {
				has_authority = auth_hive_mind
			}
		}
		text = sls.204.desc.head_researcher_phy_hive
	}
	desc = {
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = society
			}
			has_ethic = ethic_gestalt_consciousness
			OR = {
				has_authority = auth_hive_mind
			}
		}
		text = sls.204.desc.head_researcher_soc_hive
	}
	desc = {
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = engineering
			}
			has_ethic = ethic_gestalt_consciousness
			OR = {
				has_authority = auth_hive_mind
			}
		}
		text = sls.204.desc.head_researcher_eng_hive
	}
	picture = GFX_evt_strategic_resources
	show_sound = event_sls_eureka
	is_triggered_only = yes
	immediate = {
		event_target:sls_scientist = {
			if = {
				limit = {
					OR = {
						AND = {
							has_trait = leader_trait_expertise_computing
							OR = {
								has_trait = leader_trait_expertise_field_manipulation
								has_trait = leader_trait_expertise_particles
							}
						}
						AND = {
							has_trait = leader_trait_expertise_field_manipulation
							OR = {
								has_trait = leader_trait_expertise_computing
								has_trait = leader_trait_expertise_particles
							}
						}
						AND = {
							has_trait = leader_trait_expertise_particles
							OR = {
								has_trait = leader_trait_expertise_computing
								has_trait = leader_trait_expertise_field_manipulation
							}
						}
					}
				}
				set_leader_flag = sls_scientist_leader_has_mulit_physics_expert
			}
			if = {
				limit = {
					OR = {
						AND = {
							has_trait = leader_trait_expertise_biology
							OR = {
								has_trait = leader_trait_expertise_military_theory
								has_trait = leader_trait_expertise_new_worlds
								has_trait = leader_trait_expertise_statecraft
								has_trait = leader_trait_expertise_psionics
								has_trait = leader_trait_expertise_good_trading
							}
						}
						AND = {
							has_trait = leader_trait_expertise_military_theory
							OR = {
								has_trait = leader_trait_expertise_biology
								has_trait = leader_trait_expertise_new_worlds
								has_trait = leader_trait_expertise_statecraft
								has_trait = leader_trait_expertise_psionics
								has_trait = leader_trait_expertise_good_trading
							}
						}
						AND = {
							has_trait = leader_trait_expertise_new_worlds
							OR = {
								has_trait = leader_trait_expertise_biology
								has_trait = leader_trait_expertise_military_theory
								has_trait = leader_trait_expertise_statecraft
								has_trait = leader_trait_expertise_psionics
								has_trait = leader_trait_expertise_good_trading
							}
						}
						AND = {
							has_trait = leader_trait_expertise_statecraft
							OR = {
								has_trait = leader_trait_expertise_biology
								has_trait = leader_trait_expertise_military_theory
								has_trait = leader_trait_expertise_new_worlds
								has_trait = leader_trait_expertise_psionics
								has_trait = leader_trait_expertise_good_trading
							}
						}
						AND = {
							has_trait = leader_trait_expertise_psionics
							OR = {
								has_trait = leader_trait_expertise_biology
								has_trait = leader_trait_expertise_military_theory
								has_trait = leader_trait_expertise_new_worlds
								has_trait = leader_trait_expertise_statecraft
								has_trait = leader_trait_expertise_good_trading
							}
						}
						AND = {
							has_trait = leader_trait_expertise_good_trading
							OR = {
								has_trait = leader_trait_expertise_biology
								has_trait = leader_trait_expertise_military_theory
								has_trait = leader_trait_expertise_new_worlds
								has_trait = leader_trait_expertise_statecraft
								has_trait = leader_trait_expertise_psionics
							}
						}
					}
				}
				set_leader_flag = sls_scientist_leader_has_mulit_society_expert
			}
			if = {
				limit = {
					OR = {
						AND = {
							has_trait = leader_trait_expertise_industry
							OR = {
								has_trait = leader_trait_expertise_materials
								has_trait = leader_trait_expertise_propulsion
								has_trait = leader_trait_expertise_voidcraft
							}
						}
						AND = {
							has_trait = leader_trait_expertise_materials
							OR = {
								has_trait = leader_trait_expertise_industry
								has_trait = leader_trait_expertise_propulsion
								has_trait = leader_trait_expertise_voidcraft
							}
						}
						AND = {
							has_trait = leader_trait_expertise_propulsion
							OR = {
								has_trait = leader_trait_expertise_industry
								has_trait = leader_trait_expertise_materials
								has_trait = leader_trait_expertise_voidcraft
							}
						}
						AND = {
							has_trait = leader_trait_expertise_voidcraft
							OR = {
								has_trait = leader_trait_expertise_industry
								has_trait = leader_trait_expertise_materials
								has_trait = leader_trait_expertise_propulsion
							}
						}
					}
				}
				set_leader_flag = sls_scientist_leader_has_mulit_engineering_expert
			}
		}
	}
	after = {
		event_target:sls_scientist = {
			remove_leader_flag = sls_scientist_leader_has_mulit_physics_expert
			remove_leader_flag = sls_scientist_leader_has_mulit_society_expert
			remove_leader_flag = sls_scientist_leader_has_mulit_engineering_expert
			switch = {
				trigger = is_researching_area
				physics = {
					root = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = 6
						}
					}
					switch = {
						trigger = has_trait
						sls_trait_research_physics_lv0 = {
							add_experience = 1000
						}
						sls_trait_research_physics_lv1 = {
							add_experience = 750
						}
						sls_trait_research_physics_lv2 = {
							add_experience = 500
						}
						sls_trait_research_physics_lv3 = {
							add_experience = 300
						}
						sls_trait_research_physics_lv4 = {
							add_experience = 150
						}
						sls_trait_research_physics_lv5 = {
							add_experience = 100
						}
						sls_trait_research_physics_lv6 = {
							add_experience = 90
						}
						sls_trait_research_physics_lv7 = {
							add_experience = 80
						}
						sls_trait_research_physics_lv8 = {
							add_experience = 70
						}
						sls_trait_research_physics_lv9 = {
							add_experience = 60
						}
						sls_trait_research_physics_lv10 = {
							add_experience = 50
						}
						sls_trait_research_physics_lv11 = {
							add_experience = 50
						}
						sls_trait_research_physics_lv12 = {
							add_experience = 50
						}
						sls_trait_research_physics_lv13 = {
							add_experience = 50
						}
						sls_trait_research_physics_lv14 = {
							add_experience = 50
						}
						sls_trait_research_physics_lv15 = {
							add_experience = 50
						}
					}	
				}
				society = {
					root = {
						add_monthly_resource_mult = {
							resource = society_research
							value = 6
						}
					}
					switch = {
						trigger = has_trait
						sls_trait_research_society_lv0 = {
							add_experience = 1000
						}
						sls_trait_research_society_lv1 = {
							add_experience = 750
						}
						sls_trait_research_society_lv2 = {
							add_experience = 500
						}
						sls_trait_research_society_lv3 = {
							add_experience = 300
						}
						sls_trait_research_society_lv4 = {
							add_experience = 150
						}
						sls_trait_research_society_lv5 = {
							add_experience = 100
						}
						sls_trait_research_society_lv6 = {
							add_experience = 90
						}
						sls_trait_research_society_lv7 = {
							add_experience = 80
						}
						sls_trait_research_society_lv8 = {
							add_experience = 70
						}
						sls_trait_research_society_lv9 = {
							add_experience = 60
						}
						sls_trait_research_society_lv10 = {
							add_experience = 50
						}
						sls_trait_research_society_lv11 = {
							add_experience = 50
						}
						sls_trait_research_society_lv12 = {
							add_experience = 50
						}
						sls_trait_research_society_lv13 = {
							add_experience = 50
						}
						sls_trait_research_society_lv14 = {
							add_experience = 50
						}
						sls_trait_research_society_lv15 = {
							add_experience = 50
						}
					}
				}
				engineering = {
					root = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = 6
						}
					}
					switch = {
						trigger = has_trait
						sls_trait_research_engineering_lv0 = {
							add_experience = 1000
						}
						sls_trait_research_engineering_lv1 = {
							add_experience = 750
						}
						sls_trait_research_engineering_lv2 = {
							add_experience = 500
						}
						sls_trait_research_engineering_lv3 = {
							add_experience = 300
						}
						sls_trait_research_engineering_lv4 = {
							add_experience = 150
						}
						sls_trait_research_engineering_lv5 = {
							add_experience = 100
						}
						sls_trait_research_engineering_lv6 = {
							add_experience = 90
						}
						sls_trait_research_engineering_lv7 = {
							add_experience = 80
						}
						sls_trait_research_engineering_lv8 = {
							add_experience = 70
						}
						sls_trait_research_engineering_lv9 = {
							add_experience = 60
						}
						sls_trait_research_engineering_lv10 = {
							add_experience = 50
						}
						sls_trait_research_engineering_lv11 = {
							add_experience = 50
						}
						sls_trait_research_engineering_lv12 = {
							add_experience = 50
						}
						sls_trait_research_engineering_lv13 = {
							add_experience = 50
						}
						sls_trait_research_engineering_lv14 = {
							add_experience = 50
						}
						sls_trait_research_engineering_lv15 = {
							add_experience = 50
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = physics
				has_trait = leader_trait_expertise_computing
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_physics_expert
					has_trait = leader_trait_expertise_field_manipulation
					has_trait = leader_trait_expertise_particles
				}
			}
		}
		add_random_research_option = {
			category = computing
			area = physics
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = computing
					area = physics
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = computing
							area = physics
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = computing
									area = physics
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = physics
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = physics_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = physics
				has_trait = leader_trait_expertise_field_manipulation
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_physics_expert
					has_trait = leader_trait_expertise_computing
					has_trait = leader_trait_expertise_particles
				}
			}
		}
		add_random_research_option = {
			category = field_manipulation
			area = physics
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = field_manipulation
					area = physics
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = field_manipulation
							area = physics
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = field_manipulation
									area = physics
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = physics
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = physics_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = physics
				has_trait = leader_trait_expertise_particles
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_physics_expert
					has_trait = leader_trait_expertise_computing
					has_trait = leader_trait_expertise_field_manipulation
				}
			}
		}
		add_random_research_option = {
			category = particles
			area = physics
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = particles
					area = physics
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = particles
							area = physics
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = particles
									area = physics
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = physics
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = physics_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = physics
				OR = {
					has_leader_flag = sls_scientist_leader_has_mulit_physics_expert
					NOR = {
						has_trait = leader_trait_expertise_computing
						has_trait = leader_trait_expertise_field_manipulation
						has_trait = leader_trait_expertise_particles
					}
				}
			}
		}
		add_random_research_option = {
			area = physics
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					area = physics
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							area = physics
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									area = physics
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = physics
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = physics_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
####
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = society
				
				OR = {
					has_leader_flag = sls_scientist_leader_has_mulit_society_expert
					NOR = {
						has_trait = leader_trait_expertise_biology
						has_trait = leader_trait_expertise_military_theory
						has_trait = leader_trait_expertise_new_worlds
						has_trait = leader_trait_expertise_psionics
						has_trait = leader_trait_expertise_statecraft
						has_trait = leader_trait_expertise_good_trading
					}
				}
			}
		}
		add_random_research_option = {
			area = society
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					area = society
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							area = society
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									area = society
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = society
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = society_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = society
				has_trait = leader_trait_expertise_biology
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_society_expert
					has_trait = leader_trait_expertise_military_theory
					has_trait = leader_trait_expertise_new_worlds
					has_trait = leader_trait_expertise_statecraft
					has_trait = leader_trait_expertise_good_trading
					has_trait = leader_trait_expertise_psionics
				}
			}
		}
		add_random_research_option = {
			category = biology
			area = society
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = biology
					area = society
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = biology
							area = society
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = biology
									area = society
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = society
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = society_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = society
				has_trait = leader_trait_expertise_military_theory
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_society_expert
					has_trait = leader_trait_expertise_biology
					has_trait = leader_trait_expertise_new_worlds
					has_trait = leader_trait_expertise_statecraft
					has_trait = leader_trait_expertise_good_trading
					has_trait = leader_trait_expertise_psionics
				}
			}
		}
		add_random_research_option = {
			category = military_theory
			area = society
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = military_theory
					area = society
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = military_theory
							area = society
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = military_theory
									area = society
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = society
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = society_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = society
				has_trait = leader_trait_expertise_new_worlds
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_society_expert
					has_trait = leader_trait_expertise_biology
					has_trait = leader_trait_expertise_military_theory
					has_trait = leader_trait_expertise_statecraft
					has_trait = leader_trait_expertise_good_trading
					has_trait = leader_trait_expertise_psionics
				}
			}
		}
		add_random_research_option = {
			category = new_worlds
			area = society
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = new_worlds
					area = society
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = new_worlds
							area = society
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = new_worlds
									area = society
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = society
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = society_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = society
				has_trait = leader_trait_expertise_statecraft
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_society_expert
					has_trait = leader_trait_expertise_biology
					has_trait = leader_trait_expertise_military_theory
					has_trait = leader_trait_expertise_new_worlds
					has_trait = leader_trait_expertise_good_trading
					has_trait = leader_trait_expertise_psionics
				}
			}
		}
		add_random_research_option = {
			category = statecraft
			area = society
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = statecraft
					area = society
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = statecraft
							area = society
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = statecraft
									area = society
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = society
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = society_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = society
				has_trait = leader_trait_expertise_psionics
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_society_expert
					has_trait = leader_trait_expertise_biology
					has_trait = leader_trait_expertise_military_theory
					has_trait = leader_trait_expertise_new_worlds
					has_trait = leader_trait_expertise_statecraft
					has_trait = leader_trait_expertise_good_trading
				}
			}
		}
		add_random_research_option = {
			category = psionics
			area = society
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = psionics
					area = society
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = psionics
							area = society
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = psionics
									area = society
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = society
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = society_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = society
				has_trait = leader_trait_expertise_good_trading
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_society_expert
					has_trait = leader_trait_expertise_biology
					has_trait = leader_trait_expertise_military_theory
					has_trait = leader_trait_expertise_new_worlds
					has_trait = leader_trait_expertise_statecraft
					has_trait = leader_trait_expertise_psionics
				}
			}
		}
		add_random_research_option = {
			category = good_trading
			area = society
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = good_trading
					area = society
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = good_trading
							area = society
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = good_trading
									area = society
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = society
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = society_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
###
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = engineering		
				OR = {
					has_leader_flag = sls_scientist_leader_has_mulit_engineering_expert
					NOR = {
						has_trait = leader_trait_expertise_industry
						has_trait = leader_trait_expertise_materials
						has_trait = leader_trait_expertise_propulsion
						has_trait = leader_trait_expertise_voidcraft
					}
				}
			}
		}
		add_random_research_option = {
			area = engineering
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					area = engineering
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							area = engineering
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									area = engineering
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = engineering
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = engineering_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = engineering
				has_trait = leader_trait_expertise_industry
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_engineering_expert
					has_trait = leader_trait_expertise_materials
					has_trait = leader_trait_expertise_propulsion
					has_trait = leader_trait_expertise_voidcraft
				}
			}
		}
		add_random_research_option = {
			category = industry
			area = engineering
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = industry
					area = engineering
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = industry
							area = engineering
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = industry
									area = engineering
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = engineering
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = engineering_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = engineering
				has_trait = leader_trait_expertise_materials
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_engineering_expert
					has_trait = leader_trait_expertise_industry
					has_trait = leader_trait_expertise_propulsion
					has_trait = leader_trait_expertise_voidcraft
				}
			}
		}
		add_random_research_option = {
			category = materials
			area = engineering
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = materials
					area = engineering
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = materials
							area = engineering
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = materials
									area = engineering
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = engineering
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = engineering_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = engineering
				has_trait = leader_trait_expertise_propulsion
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_engineering_expert
					has_trait = leader_trait_expertise_industry
					has_trait = leader_trait_expertise_materials
					has_trait = leader_trait_expertise_voidcraft
				}
			}
		}
		add_random_research_option = {
			category = propulsion
			area = engineering
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = propulsion
					area = engineering
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = propulsion
							area = engineering
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = propulsion
									area = engineering
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = engineering
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = engineering_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = {
			text = BREAKTHROUGH
			trigger = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		name = {
			text = ACKNOWLEDGED
			trigger = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		trigger = {
			event_target:sls_scientist = {
				is_researching_area = engineering
				has_trait = leader_trait_expertise_voidcraft
				NOR = {
					has_leader_flag = sls_scientist_leader_has_mulit_engineering_expert
					has_trait = leader_trait_expertise_industry
					has_trait = leader_trait_expertise_materials
					has_trait = leader_trait_expertise_propulsion
				}
			}
		}
		add_random_research_option = {
			category = voidcraft
			area = engineering
			tier = 2
			ignore_prereqs = no
			ignore_rare = yes
			fail_effects = {
				add_random_research_option = {
					category = voidcraft
					area = engineering
					tier = 3
					ignore_prereqs = no
					ignore_rare = yes
					fail_effects = {
						add_random_research_option = {
							category = voidcraft
							area = engineering
							tier = 4
							ignore_prereqs = no
							ignore_rare = yes
							fail_effects = {
								add_random_research_option = {
									category = voidcraft
									area = engineering
									ignore_prereqs = no
									ignore_rare = no
									fail_effects = {
										add_random_research_option = {
											area = engineering
											ignore_prereqs = no
											ignore_rare = no
											fail_effects = {
												add_monthly_resource_mult = {
													resource = engineering_research
													value = 6
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}