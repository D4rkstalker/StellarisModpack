### Survey reward rules
# gpm_discovery_reward_1 === empire bonus modifier 1
# gpm_discovery_reward_2 === empire bonus modifier 2
# gpm_discovery_reward_3 === unique tech 1
# gpm_discovery_reward_4 === unique tech 2
# gpm_discovery_reward_5 === special reward 1
# gpm_discovery_reward_6 === special reward 2


@lootboxInfluenceCost = 20
@lootboxInfluenceCost_Add = -20

namespace = gpm_survey

# ROOT = ship scope
# FROM = planet scope

# find hot core -> give bonus to terraforming. First find.  100% bonus
ship_event = {
	id = gpm_survey.1
	hide_window = yes
	location = ROOT
	
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Very_Hot_Core"
				root = {
					owner = {
						NOT = {
							has_modifier = gpm_terraform_speed_three
						}
					}
				}
			}
		}
	}

	immediate = {	
		FROM = { save_event_target_as = "hot_core_world"}	
		owner = {
			if = {
				limit = { has_modifier = gpm_terraform_speed_two }
				country_event = { id = gpm_survey.4 }	
			}
			if = {
				limit = { has_modifier = gpm_terraform_speed_one }
				country_event = { id = gpm_survey.3 }	
			}
			if = {
				limit = {
					NOR = {
						has_modifier = gpm_terraform_speed_one
						has_modifier = gpm_terraform_speed_two
						has_modifier = gpm_terraform_speed_three
					}
				}
				country_event = { id = gpm_survey.2 }
			}	
		}
	}
}
# give terraform 1/3 bonus
country_event = {
	id = gpm_survey.2
	title = "gpm_survey.2.name"
	desc = {
		trigger = {
			NOR = { 
				has_authority = auth_hive_mind
				has_authority = auth_machine_intelligence
			} 
		}
		text = "gpm_survey.2.desc"
	}
	desc = {
		trigger = {	has_authority = auth_hive_mind } 
		text = "gpm_survey.2.hive.desc"
	}
	desc = {
		trigger = {	has_authority = auth_machine_intelligence } 
		text = "gpm_survey.2.mach.desc"
	}
	picture = GFX_evt_gpm_hot_core
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	option = {
		name = gpm_survey.INTERESTING
		add_monthly_resource_mult = {
			resource = society_research
			value = @tier1researchreward
			min = @tier1researchmin
			max = @tier1researchmax
		}
		custom_tooltip = gpm_survey.2.b
		hidden_effect = {
			add_modifier = {
				modifier = "gpm_terraform_speed_one"
				days = -1
			}
		}
	}
	option = {
		trigger = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } }
		allow = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } }
		name =  gpm_survey.2.c
		add_resource = { influence = @lootboxInfluenceCost_Add }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.2.b
		custom_tooltip = gpm_survey.2.spec_project
		hidden_effect = {
			enable_special_project = {
				name = "GPM_DISCOVERY_TERRAFORM_1"
				location = event_target:hot_core_world
				owner = root
			}
			add_modifier = {
				modifier = "gpm_terraform_speed_one"
				days = -1
			}
		}
	}
}
# give terraform 2/3 bonus
country_event = {
	id = gpm_survey.3
	title = "gpm_survey.3.name"
	desc = {
		trigger = {
			NOR = { 
				has_authority = auth_hive_mind
				has_authority = auth_machine_intelligence
			} 
		}
		text = "gpm_survey.3.desc"
	}
	desc = {
		trigger = {	has_authority = auth_hive_mind } 
		text = "gpm_survey.3.hive.desc"
	}
	desc = {
		trigger = {	has_authority = auth_machine_intelligence } 
		text = "gpm_survey.3.mach.desc"
	}
	picture = GFX_evt_gpm_hot_core
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	option = {
		name = gpm_survey.FASCINATING
		add_monthly_resource_mult = {
			resource = physics_research
			value = @tier1researchreward
			min = @tier1researchmin
			max = @tier1researchmax
		}
		custom_tooltip = gpm_survey.3.b
		hidden_effect = {
			remove_modifier = gpm_terraform_speed_one
			add_modifier = {
				modifier = "gpm_terraform_speed_two"
				days = -1
			}
		}
	}
	option = {
		trigger = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } }
		allow = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } }
		name =  gpm_survey.2.c
		add_resource = { influence = @lootboxInfluenceCost_Add }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.3.b
		custom_tooltip = gpm_survey.3.spec_project
		hidden_effect = {
			enable_special_project = {
				name = "GPM_DISCOVERY_TERRAFORM_2"
				location = event_target:hot_core_world
				owner = root
			}
			remove_modifier = gpm_terraform_speed_one
			add_modifier = {
				modifier = "gpm_terraform_speed_two"
				days = -1
			}
		}
	}
}
# give terraform 3/3 bonus
country_event = {
	id = gpm_survey.4
	title = "gpm_survey.4.name"
	desc = {
		trigger = {
			NOR = { 
				has_authority = auth_hive_mind
				has_authority = auth_machine_intelligence
			} 
		}
		text = "gpm_survey.4.desc"
	}
	desc = {
		trigger = {	has_authority = auth_hive_mind } 
		text = "gpm_survey.4.hive.desc"
	}
	desc = {
		trigger = {	has_authority = auth_machine_intelligence } 
		text = "gpm_survey.4.mach.desc"
	}
	picture = GFX_evt_gpm_hot_core
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	option = {
		name = gpm_survey.4.a
		add_monthly_resource_mult = {
			resource = engineering_research
			value = @tier1researchreward
			min = @tier1researchmin
			max = @tier1researchmax
		}
		custom_tooltip = gpm_survey.4.b
		hidden_effect = {
			remove_modifier = gpm_terraform_speed_two
			add_modifier = {
				modifier = "gpm_terraform_speed_three"
				days = -1
			}
		}
	}
	option = {
		trigger = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } }
		allow = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } }
		name =  gpm_survey.2.c
		add_resource = { influence = @lootboxInfluenceCost_Add }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.4.b
		custom_tooltip = gpm_survey.4.spec_project
		hidden_effect = {
			enable_special_project = {
				name = "GPM_DISCOVERY_TERRAFORM_3"
				location = event_target:hot_core_world
				owner = root
			}
			remove_modifier = gpm_terraform_speed_two
			add_modifier = {
				modifier = "gpm_terraform_speed_three"
				days = -1
			}
		}
	}
}
# give terraform discovery bonuses
ship_event = {
	id = gpm_survey.2999
	title = "gpm_survey.2.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence	} }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_hot_core
	show_sound = event_scanner
	location = THIS

	is_triggered_only = yes
	
	option = {
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
		owner = {
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Very_Hot_Core_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Very_Hot_Core_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Very_Hot_Core_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Very_Hot_Core_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				if = {
					limit = {
						NAND = {
							has_technology = "tech_terrestrial_sculpting" 
							has_technology = "tech_ecological_adaptation" 
						}
					}
					add_research_option = tech_terrestrial_sculpting
				}
				if = {
					limit = {
						has_technology = "tech_terrestrial_sculpting" 
						NOT = { has_technology = "tech_ecological_adaptation" }
					}
					add_research_option = tech_ecological_adaptation
				}
				if = {
					limit = {
						has_technology = "tech_terrestrial_sculpting" 
						has_technology = "tech_ecological_adaptation" 
					}
					add_research_option = tech_climate_restoration
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_modifier = {
					modifier = science_inspiration
					days = 720
				}
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# gaia_world
ship_event = {
	id = gpm_survey.18
	title = "gpm_survey.18.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.18.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.18.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.18.mach.desc"
	}
	picture = GFX_evt_gpm_gaia_world
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				is_planet_class = pc_gaia
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_gaia
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_gaia
			}
		}
	}
	
	option = {
		name = gpm_survey.BEAUTY
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.7
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.18.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_GAIA"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# gaia_world discovery bonuses
ship_event = {
	id = gpm_survey.18999
	title = "gpm_survey.18.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_gaia_world
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Gaia_World_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Gaia_World_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Gaia_World_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Gaia_World_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_resource = { volatile_motes = 50 }
				add_resource = { exotic_gases = 50 }
				add_resource = { rare_crystals = 50 }
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 3000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		
	}
}
# holy_planet
ship_event = {
	id = gpm_survey.19
	title = "gpm_survey.19.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.19.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.19.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.19.mach.desc"
	}
	picture = GFX_evt_gpm_holy_world
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "holy_planet"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_holy_world
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_holy_world
			}
		}
	}
	
	option = {
		name = gpm_survey.OMEN
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.6
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.19.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_HOLY_PLANET"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# holy planet discovery bonuses
ship_event = {
	id = gpm_survey.19999
	title = "gpm_survey.19.name"
	desc = {
		trigger = {
			owner = { NAND = { has_authority = auth_machine_intelligence has_country_flag = "gpm_discovery_reward_3" } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {
			owner = { AND = { NOT ={ has_authority = auth_machine_intelligence } has_country_flag = "gpm_discovery_reward_3" } }
		}
		text = "gpm_survey.REWARDS.HOLYWORLD_TT"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_holy_world
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Holy_World_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Holy_World_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Holy_World_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Holy_World_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				custom_tooltip = gpm_survey.holyplanetTT
				hidden_effect = {
					FROMFROMFROM = {
						remove_modifier = "holy_planet"
						add_modifier = { modifier = "gpm_holy_planet_redeemed" }
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				PREVPREV = { 
					if = {
						limit = {
							leader = { not = { has_trait = leader_trait_scientist_psionic } }
						}
						leader = { add_trait = leader_trait_scientist_psionic }
					}
					else_if = {
						limit = {
							leader = { not = { has_trait = leader_trait_carefree } }
						}
						leader = { add_trait = leader_trait_carefree }
					}
					else_if = {
						limit = {
							leader = { not = { has_trait = leader_trait_roamer } }
						}
						leader = { add_trait = leader_trait_roamer }
					}
				}
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Floating_Islands
ship_event = {
	id = gpm_survey.20
	title = "gpm_survey.20.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.20.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.20.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.20.mach.desc"
	}
	picture = GFX_evt_gpm_floating_islands
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Floating_Islands"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_floating_islands
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_floating_islands
			}
		}
	}
	
	option = {
		name = gpm_survey.UNBELIEVABLE
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.7
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.20.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_FLOATING_ISLANDS"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# Floating islands discovery bonuses
ship_event = {
	id = gpm_survey.20999
	title = "gpm_survey.20.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_floating_islands
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Floating_Islands_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Floating_Islands_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Floating_Islands_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Floating_Islands_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = minerals
					value = @tier3materialreward
					min = @tier3materialmin
					max = @tier3materialmax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Ruined_Battlefield
ship_event = {
	id = gpm_survey.21
	title = "gpm_survey.21.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.21.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.21.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.21.mach.desc"
	}
	picture = GFX_evt_gpm_ruined_battlefield
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Ruined_Battlefield"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_ruined_battlefield
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_ruined_battlefield
			}
		}
	}
	
	option = {
		name = gpm_survey.HORROR
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.8
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.21.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_BATTLEFIELD"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# ruined battlefield discovery bonuses
ship_event = {
	id = gpm_survey.21999
	title = "gpm_survey.21.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_ruined_battlefield
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Ruined_Battlefield_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Ruined_Battlefield_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Ruined_Battlefield_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Ruined_Battlefield_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier2unityreward
					min = @tier2unitymin
					max = @tier2unitymax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Spaceship_Graveyard
ship_event = {
	id = gpm_survey.22
	title = "gpm_survey.22.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.22.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.22.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.22.mach.desc"
	}
	picture = GFX_evt_gpm_spaceship_graveyard2
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Spaceship_Graveyard"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_spaceship_graveyard
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_spaceship_graveyard
			}
		}
	}
	
	option = {
		name = gpm_survey.MASSIVE
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = engineering_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.1
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.22.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_SHIP_GRAVEYARD"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# spaceship graveyard discovery bonuses
ship_event = {
	id = gpm_survey.22999
	title = "gpm_survey.22.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_spaceship_graveyard2
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Spaceship_Graveyard_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Spaceship_Graveyard_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Spaceship_Graveyard_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Spaceship_Graveyard_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = alloys
					value = @tier5materialreward
					min = @tier5materialmin
					max = @tier5materialmax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Artificial_Water
ship_event = {
	id = gpm_survey.23
	title = "gpm_survey.23.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.23.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.23.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.23.mach.desc"
	}
	picture = GFX_evt_gpm_artificial_water
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Artificial_Water"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_artificial_water
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_artificial_water
			}
		}
	}
	
	option = {
		name = gpm_survey.FASCINATING
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = engineering_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.2
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.23.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARTIFICIAL_WATER"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# artificial water discovery bonuses
ship_event = {
	id = gpm_survey.23999
	title = "gpm_survey.23.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_artificial_water
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Artificial_Water_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Artificial_Water_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Artificial_Water_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Artificial_Water_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = engineering_research
					value = @tier3researchreward
					min = @tier3researchmin
					max = @tier3researchmax
				}
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier3researchreward
					min = @tier3researchmin
					max = @tier3researchmax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Android_Pleasure_Palace
ship_event = {
	id = gpm_survey.24
	title = "gpm_survey.24.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.24.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.24.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.24.mach.desc"
	}
	picture = GFX_evt_gpm_pleasure_palace
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Android_Pleasure_Palace"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_pleasure_palace
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_pleasure_palace
			}
		}
	}
	
	option = {
		name = gpm_survey.NEAT
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.3
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.24.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PLEASURE_PALACE"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# android pleasure palace discovery bonuses
ship_event = {
	id = gpm_survey.24999
	title = "gpm_survey.24.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_pleasure_palace
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Android_Pleasure_Palace_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Android_Pleasure_Palace_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Android_Pleasure_Palace_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Android_Pleasure_Palace_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				PREVPREV = { 
					leader = {
						if = {
							limit = { NOT = { has_trait = leader_trait_custom_AI_assistant } }
							add_trait = leader_trait_custom_AI_assistant 
						}
						else_if = {
							limit = { NOT = { has_trait = leader_trait_sapient_AI_assistant } }
							add_trait = leader_trait_sapient_AI_assistant 
						}
						else = { add_trait = leader_trait_towel }
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Ancient_Temple
ship_event = {
	id = gpm_survey.25
	title = "gpm_survey.25.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.25.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.25.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.25.mach.desc"
	}
	picture = GFX_evt_gpm_ancient_temple
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Ancient_Temple"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_ancient_temple
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_ancient_temple
			}
		}
	}
	
	option = {
		name = gpm_survey.INSPIRING
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.4
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.25.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ANCIENT_TEMPLE"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# ancient temple discovery bonuses
ship_event = {
	id = gpm_survey.25999
	title = "gpm_survey.25.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_ancient_temple
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Ancient_Temple_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Ancient_Temple_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Ancient_Temple_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Ancient_Temple_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_resource = { rare_crystals = 150 }
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Crystal_Moon_Palace
ship_event = {
	id = gpm_survey.26
	title = "gpm_survey.26.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.26.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.26.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.26.mach.desc"
	}
	picture = GFX_evt_gpm_moon_palace
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Crystal_Moon_Palace"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_moon_palace
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_moon_palace
			}
		}
	}
	
	option = {
		name = gpm_survey.AMAZING
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.5
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.26.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_CRYSTAL_MOON_PALACE"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# crystal moon palace discovery bonuses
ship_event = {
	id = gpm_survey.26999
	title = "gpm_survey.26.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_moon_palace
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Crystal_Moon_Palace_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Crystal_Moon_Palace_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Crystal_Moon_Palace_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Crystal_Moon_Palace_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_resource = { rare_crystals = 150 }
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Plasmoid_Life
ship_event = {
	id = gpm_survey.27
	title = "gpm_survey.27.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.27.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.27.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.27.mach.desc"
	}
	picture = GFX_evt_gpm_plasmoid_life
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Plasmoid_Life"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_plasmoid_life
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_plasmoid_life
			}
		}
	}
	
	option = {
		name = gpm_survey.UNBELIEVABLE
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.6
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.27.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PLASMOID_LIFE"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# plasmoid discovery bonuses
ship_event = {
	id = gpm_survey.27999
	title = "gpm_survey.27.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence	} }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_plasmoid_life
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Plasmoid_Life_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Plasmoid_Life_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Plasmoid_Life_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Plasmoid_Life_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				if = {
					limit = {
						has_technology = "tech_plasma_3" 
					}
					add_research_option = tech_repeatable_weapon_type_energy_damage
				}
				if = {
					limit = {
						has_technology = "tech_plasma_2" 
						NOT = { has_technology = "tech_plasma_3" }
					}
					add_research_option = tech_plasma_3
				}
				if = {
					limit = {
						has_technology = "tech_plasma_1" 
						NOT = { has_technology = "tech_plasma_2" }
					}
					add_research_option = tech_plasma_2
				}
				if = {
					limit = {
						NOT = { has_technology = "tech_plasma_1" }
					}
					add_research_option = tech_plasma_1
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Temple_of_the_Ancient_One
ship_event = {
	id = gpm_survey.28
	title = "gpm_survey.28.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.28.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.28.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.28.mach.desc"
	}
	picture = GFX_evt_gpm_ancient_one
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Temple_of_the_Ancient_One"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_ancient_one
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_ancient_one
			}
		}
	}
	
	option = {
		name = gpm_survey.LEAVE
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.7
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.28.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TEMPLE_ANCIENT_ONE"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# temple of the ancient one discovery bonuses
ship_event = {
	id = gpm_survey.28999
	title = "gpm_survey.28.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_ancient_one
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Temple_of_the_Ancient_One_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Temple_of_the_Ancient_One_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Temple_of_the_Ancient_One_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Temple_of_the_Ancient_One_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				medium_artifact_reward = yes
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Proto_Forests
ship_event = {
	id = gpm_survey.29
	title = "gpm_survey.29.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.29.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.29.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.29.mach.desc"
	}
	picture = GFX_evt_gpm_proto_forest
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Proto_Forests"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_proto_forest
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_proto_forest
			}
		}
	}
	
	option = {
		name = gpm_survey.INTERESTING
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.8
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.29.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PROTO_FOREST"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# proto forest discovery bonuses
ship_event = {
	id = gpm_survey.29999
	title = "gpm_survey.29.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_proto_forest
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Proto_Forests_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Proto_Forests_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Proto_Forests_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Proto_Forests_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier3researchreward
					min = @tier3researchmin
					max = @tier3researchmax
				}
				add_monthly_resource_mult = {
					resource = energy
					value = @tier2materialreward
					min = @tier2materialmin
					max = @tier2materialmax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Hiveworld
ship_event = {
	id = gpm_survey.30
	title = "gpm_survey.30.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.30.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.30.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.30.mach.desc"
	}
	picture = GFX_evt_gpm_hive_world
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Hiveworld"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_hive_world
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_hive_world
			}
		}
	}
	
	option = {
		name = gpm_survey.HORRIFYING
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.1
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.30.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_HIVE_WORLD"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# hiveworld discovery bonuses
ship_event = {
	id = gpm_survey.30999
	title = "gpm_survey.30.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARDS.HOLYWORLD_TT"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARDS.HOLYWORLD_TT"
	}
	picture = GFX_evt_gpm_hive_world
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Hiveworld_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Hiveworld_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Hiveworld_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Hiveworld_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				custom_tooltip = gpm_hive_ship_survey_reward
				create_fleet = {
					name = "NAME_daughter_of_the_stars"
					effect = {
						set_owner = root.owner
						while = {
							count = 1
							create_ship = {
								name = "NAME_daughter_of_the_stars"
								design = "NAME_Swarm_Carrier"
								graphical_culture = "swarm_01"
								upgradable = no
							}
						}
						set_location = {
							target = FROMFROMFROM
							distance = 5
							angle = random 
						}
					}
					settings = {
						can_upgrade = no
						can_change_composition = no
						can_change_leader = no
						uses_naval_capacity = no
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Arachnophobia
ship_event = {
	id = gpm_survey.31
	title = "gpm_survey.31.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.31.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.31.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.31.mach.desc"
	}
	picture = GFX_evt_gpm_spiders
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Arachnophobia"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_spiders
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_spiders
			}
		}
	}
	
	option = {
		name = gpm_survey.HELL
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.2
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.31.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARACHNAPHOBIA"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# arachnids discovery bonuses
ship_event = {
	id = gpm_survey.31999
	title = "gpm_survey.31.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_spiders
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Arachnophobia_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Arachnophobia_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Arachnophobia_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Arachnophobia_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				create_fleet = {
					name = "NAME_docile_arachnid_fleet"
					effect = {
						set_owner = root.owner
						while = {
							count = 3
							if = {
								limit = {
									root.owner = { has_authority = auth_machine_intelligence }
								}
								create_army_transport = {
									ship_name = "NAME_docile_arachnid_ship"
									graphical_culture = root.owner
									army_name = "NAME_docile_arachnid"
									army_type = gpm_giant_arachnid_army_machine
								}
							}
							else_if = {
								limit = {
									root.owner = { NOT = { has_authority = auth_machine_intelligence } }
								}
								create_army_transport = {
									ship_name = "NAME_docile_arachnid_ship"
									graphical_culture = root.owner
									army_name = "NAME_docile_arachnid"
									army_type = gpm_giant_arachnid_army
								}
							}
						}
						set_location = {
							target = FROMFROMFROM
							distance = 5
							angle = random 
						}
					}
					settings = {
						can_upgrade = no
						can_change_composition = no
						can_change_leader = no
						uses_naval_capacity = no
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Giant_Worm
ship_event = {
	id = gpm_survey.32
	title = "gpm_survey.32.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.32.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.32.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.32.mach.desc"
	}
	picture = GFX_evt_gpm_giant_worm
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Giant_Worm"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_giant_worm
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_giant_worm
			}
		}
	}
	
	option = {
		name = gpm_survey.MASSIVE
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.3
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.32.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_GIANT_WORM"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# giant worm discovery bonuses
ship_event = {
	id = gpm_survey.32999
	title = "gpm_survey.32.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_giant_worm
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Giant_Worm_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Giant_Worm_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Giant_Worm_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Giant_Worm_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = minerals
					value = @tier3materialreward
					min = @tier3materialmin
					max = @tier3materialmax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Artificial_Core
ship_event = {
	id = gpm_survey.33
	title = "gpm_survey.33.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.33.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.33.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.33.mach.desc"
	}
	picture = GFX_evt_gpm_artificial_core
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Artificial_Core"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_artificial_core
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_artificial_core
			}
		}
	}
	
	option = {
		name = gpm_survey.UNBELIEVABLE
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = engineering_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	# option = {
		# trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		# allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		# name = gpm_survey.INVESTIGATE.4
		# owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# custom_tooltip = gpm_survey.EXPEDITION.0
		# custom_tooltip = gpm_survey.33.spec_project
		# owner = {
			# hidden_effect = {
				# enable_special_project = {
					# name = "GPM_DISCOVERY_ARTIFICIAL_CORE"
					# location = FROM
					# owner = root
				# }
			# }
		# }
	# }
}
# artificial core discovery bonuses
ship_event = {
	id = gpm_survey.33999
	title = "gpm_survey.33.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_artificial_core
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Artificial_Core_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Artificial_Core_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Artificial_Core_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Artificial_Core_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				small_artifact_reward = yes
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Surface_Of_Bones
ship_event = {
	id = gpm_survey.34
	title = "gpm_survey.34.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.34.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.34.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.34.mach.desc"
	}
	picture = GFX_evt_gpm_surface_of_bones
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Surface_Of_Bones"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_surface_of_bones
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_surface_of_bones
			}
		}
	}
	
	option = {
		name = gpm_survey.HORRIFYING
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.5
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.34.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_SURFACE_OF_BONES"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# surface of bones discovery bonuses
ship_event = {
	id = gpm_survey.34999
	title = "gpm_survey.34.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_surface_of_bones
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Surface_Of_Bones_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Surface_Of_Bones_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Surface_Of_Bones_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Surface_Of_Bones_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier2unityreward
					min = @tier2unitymin
					max = @tier2unitymax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Strange_Alien_Eggs
ship_event = {
	id = gpm_survey.35
	title = "gpm_survey.35.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.35.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.35.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.35.mach.desc"
	}
	picture = GFX_evt_gpm_alien_eggs
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Strange_Alien_Eggs"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_alien_eggs
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_alien_eggs
			}
		}
	}
	
	option = {
		name = gpm_survey.SEEN
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.6
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.35.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ALIEN_EGGS"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# strange eggs discovery bonuses
ship_event = {
	id = gpm_survey.35999
	title = "gpm_survey.35.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_alien_eggs
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Strange_Alien_Eggs_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Strange_Alien_Eggs_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Strange_Alien_Eggs_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Strange_Alien_Eggs_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				create_fleet = {
					name = "NAME_wild_xenomorph_fleet"
					effect = {
						set_owner = root.owner
						while = {
							count = 3
							create_army_transport = {
								ship_name = "NAME_wild_xenomorph_ship"
								graphical_culture = root.owner
								army_name = "NAME_wild_xenomorph"
								army_type = "xenomorph_army"
							}
						}
						set_location = {
							target = FROMFROMFROM
							distance = 5
							angle = random 
						}
					}
					settings = {
						can_upgrade = no
						can_change_composition = no
						can_change_leader = no
						uses_naval_capacity = no
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
				hidden_effect = {
					country_event = { id = gpm_colony.9001 }
				}
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}
# Mushroom_Forest
ship_event = {
	id = gpm_survey.36
	title = "gpm_survey.36.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.36.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.36.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.36.mach.desc"
	}
	picture = GFX_evt_gpm_mushroom_forest
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_modifier = "Mushroom_Forest"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_mushroom_forest
						}
					}
				}
			}
		}
	}

	immediate = {	
		root = {
			owner = {
				set_country_flag = gpm_discover_mushroom_forest
			}
		}
	}
	
	option = {
		name = gpm_survey.INTERESTING
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.7
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION.0
		custom_tooltip = gpm_survey.36.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_MUSHROOM_FORESTS"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# mushroom forests discovery bonuses
ship_event = {
	id = gpm_survey.36999
	title = "gpm_survey.36.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_mushroom_forest
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes
	
	option = {	
		name =  gpm_survey.INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_Mushroom_Forest_Discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_Mushroom_Forest_Discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_Mushroom_Forest_Discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_Mushroom_Forest_Discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				if = {
					limit = { has_authority = auth_machine_intelligence }
					add_monthly_resource_mult = {
						resource = minerals
						value = @tier2materialreward
						min = @tier2materialmin
						max = @tier2materialmax
					}
				}
				else_if = {
					limit = { NOT = { has_authority = auth_machine_intelligence } }
					add_monthly_resource_mult = {
						resource = food
						value = @tier2materialreward
						min = @tier2materialmin
						max = @tier2materialmax
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				PREVPREV = { leader = { add_experience = 2000 } }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
	}
}


# Ring Site Discovery
ship_event = {
	id = gpm_survey.37
	hide_window = yes
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
			AND = {
				has_planet_flag = gpm_is_RES
				NOT = { has_planet_flag = gpm_is_RES_renamed }
			}
		}
	}

	immediate = {	
		FROM = {
			if = {
				limit = {
					NOT = { has_planet_flag = gpm_tiyanki_grounds }
				}
				set_planet_flag = gpm_is_RES_renamed
				set_name = pc_gpm_res_resource_name
			}
			else = {
				set_planet_flag = gpm_is_RES_renamed
				set_name = pc_gpm_res_tiyanki_name
			}
		}
	}
}
# Planet Wonder
ship_event = {
	id = gpm_survey.700
	title = "gpm_survey.700.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.700.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.700.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.700.mach.desc"
	}
	picture = GFX_evt_gpm_wondrous_world
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		FROM = {
				has_modifier = "Planet_Wonder_Discovered"
		}
	}

	immediate = {	
		log = "---- Fired Event gpm_survey.700 ----"
		log = "---- From Ship: [This.GetName] ----"
		log = "---- Survey Discovery: planet wonder ----"
		FROM = {
			if = { 
				limit = {
					NOT = { has_planet_flag = "gpm_is_surveyed" }
				}
				# set_name = "color_planet_wonder"
				set_planet_flag = "gpm_is_surveyed"
				set_planet_flag = "gpm_is_wondrous_planet"
				gpm_colour_planet_name = yes
			}
		}
	}
	
	option = {
		name = gpm_survey.UNBELIEVABLE
		root = {
			owner = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier1researchreward
					min = @tier1researchmin
					max = @tier1researchmax
				}
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier1researchreward
					min = @tier1researchmin
					max = @tier1researchmax
				}
				add_monthly_resource_mult = {
					resource = engineering_research
					value = @tier1researchreward
					min = @tier1researchmin
					max = @tier1researchmax
				}
			}
		}
	}
}
# Precursor artifact event uppon discovery of precursor world.
# New Precursor Anomaly Found
country_event = {
	id = gpm_survey.9000
	title = "precursor.301.name"
	desc = "gpm_precursor.9000.desc"
	picture = GFX_evt_gpm_precursor_artifact_discovery
	
	is_triggered_only = yes	
	
	trigger = {
		# event_target:precursor_planet = {
			# NOT = { has_planet_flag = "gpm_artifact_discovered" }
		# }
		# is_ai = no
		OR = {
			AND = {
				has_event_chain = "vultaum_chain"
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = vultaum_chain
						counter = vultaum_artifacts
					}
				}
			}
			AND = {
				has_event_chain = "yuht_chain"
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = yuht_chain
						counter = yuht_artifacts
					}
				}
			}
			AND = { 
				has_event_chain = "first_league_chain"
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = first_league_chain
						counter = first_league_artifacts
					}
				}
			}
			AND = {
				has_event_chain = "irassian_chain"
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = irassian_chain
						counter = irassian_artifacts
					}
				}
			}
			AND = {
				has_event_chain = "cybrex_chain"
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = cybrex_chain
						counter = cybrex_artifacts
					}
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_event_chain = "vultaum_chain"
			}
			event_target:precursor_planet = {
				set_planet_flag = "gpm_artifact_discovered"
				enable_special_project = {
					name = "VULTAUM_ARTIFACT_FOUND"
					location = event_target:precursor_planet
					owner = root
				}
			}
			break = yes
		}
		if = {
			limit = {
				has_event_chain = "yuht_chain"
			}
			event_target:precursor_planet = {
				set_planet_flag = "gpm_artifact_discovered"
				enable_special_project = {
					name = "YUHT_ARTIFACT_FOUND"
					location = event_target:precursor_planet
					owner = root
				}	
			}
			break = yes
		}
		if = {
			limit = {
				has_event_chain = "first_league_chain"
			}
			event_target:precursor_planet = {
				set_planet_flag = "gpm_artifact_discovered"
				enable_special_project = {
					name = "LEAGUE_ARTIFACT_FOUND"
					location = event_target:precursor_planet
					owner = root
				}
			}
			break = yes
		}
		if = {
			limit = {
				has_event_chain = "irassian_chain"
			}
			event_target:precursor_planet = {
				set_planet_flag = "gpm_artifact_discovered"
				enable_special_project = {
					name = "IRASSIAN_ARTIFACT_FOUND"
					location = event_target:precursor_planet
					owner = root
				}
			}
			break = yes
		}
		if = {
			limit = {
				has_event_chain = "cybrex_chain"
			}
			event_target:precursor_planet = {
				set_planet_flag = "gpm_artifact_discovered"
				enable_special_project = {
					name = "CYBREX_ARTIFACT_FOUND"
					location = event_target:precursor_planet
					owner = root
				}
			}
			break = yes
		}
	}
	
	option = {
		name = precursor.301.a
		custom_tooltip = new_precursor_project
		# custom_tooltip = gpm_precursor.9000.a
	}
}
