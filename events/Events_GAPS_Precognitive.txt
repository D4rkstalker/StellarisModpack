namespace = Events_GAPS_Precognitive
#They have replaced any_system_planet with any_system_planet in 2.2.3
country_event = {
	id = Events_GAPS_Precognitive.0
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		from = {
			species = { has_trait = Trait_GAPS_Zro_Infused }
		}
	}

	#ruler
	immediate = {
		from = {
			if = {
				limit = { leader_class = scientist }
				add_trait = leader_trait_expertise_psionics
				#break = yes
			}
		}
	}
}
country_event = {
	id = Events_GAPS_Precognitive.097
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		owner = { has_civic = Civic_GAPS_Precognitive }
	}
	
	immediate = {
		country_event = { id = Events_GAPS_Precognitive.098 days = 5 }
	}
}
country_event = {
	id = Events_GAPS_Precognitive.098
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		owner = { has_civic = Civic_GAPS_Precognitive }
	}

	immediate = {
		country_event = { id = Events_GAPS_Precognitive.098 days = 30 }
		every_system_within_border = {
			limit = { any_system_planet = { is_capital = yes } Not = { has_modifier = Country_Modifier_GAPS_Bonus_Zro_Finder_Capital } }
			add_modifier = {
				modifier = Country_Modifier_GAPS_Bonus_Zro_Finder_Capital
				days = -1
			}
		}
		every_system_within_border = {
			limit = { any_system_planet = { is_homeworld = yes } Not = { has_modifier = Country_Modifier_GAPS_Bonus_Zro_Finder_Homeworld } }
			add_modifier = {
				modifier = Country_Modifier_GAPS_Bonus_Zro_Finder_Homeworld
				days = -1
			}
		}
		every_system_within_border = {
			limit = { any_system_planet = { is_capital = no } has_modifier = Country_Modifier_GAPS_Bonus_Zro_Finder_Capital }
			remove_modifier = Country_Modifier_GAPS_Bonus_Zro_Finder_Capital
		}
		every_system_within_border = {
			limit = { any_system_planet = { is_homeworld = no } has_modifier = Country_Modifier_GAPS_Bonus_Zro_Finder_Homeworld }
			remove_modifier = Country_Modifier_GAPS_Bonus_Zro_Finder_Homeworld
		}
	}
}
country_event = {
	id = Events_GAPS_Precognitive.1
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		owner = { has_civic = Civic_GAPS_Precognitive }
	}

	immediate = {
		give_technology = { tech = tech_mine_zro message = no }
		begin_event_chain = {
			event_chain = "Special_Project_GAPS_Precognitive_Vision_chain"
			target = root
		} 
		begin_event_chain = {
			event_chain = "Special_Project_GAPS_Zro_Location_chain"
			target = root
		} 
		every_system = {		
			limit = { 
				any_system_planet = { 
					OR = {
						has_deposit = d_hab_zro_1
						has_deposit = d_hab_zro_2
						has_deposit = d_hab_zro_3
						has_deposit = d_zro_deposit_1
						has_deposit = d_zro_deposit_2
						has_deposit = d_zro_deposit_3
						has_deposit = d_zro_deposit_4
						has_deposit = d_zro_deposit_5
					}
				}
			}
			every_system_planet = { 
				limit = { 
					OR = {
						has_deposit = d_hab_zro_1
						has_deposit = d_hab_zro_2
						has_deposit = d_hab_zro_3
						has_deposit = d_zro_deposit_1
						has_deposit = d_zro_deposit_2
						has_deposit = d_zro_deposit_3
						has_deposit = d_zro_deposit_4
						has_deposit = d_zro_deposit_5
					}
				} 
				save_event_target_as = Target_Planet_GAPS_Zro_Location
			}
			enable_special_project = { 
				name = Special_Project_GAPS_Zro_Location_project 
				owner = root 
				location = event_target:Target_Planet_GAPS_Zro_Location 
			}
		}     
	}
}
#pic a visions type
country_event = {
	id = Events_GAPS_Precognitive.10
	title = "POPUP_Vision_choice.1.name"
	desc = "POPUP_Vision_choice.1.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes
	location = event_target:Target_System_GAPS_D_Vision

	trigger = {
		owner = { has_civic = Civic_GAPS_Precognitive }
	}

	option = {
		name = "Events_GAPS_Precognitive_Option1.a"
		hidden_effect = {
			country_event = { id = Events_GAPS_Precognitive.11 }
		}
	}
	option = {
		name = "Events_GAPS_Precognitive_Option1.b"
		hidden_effect = {
			country_event = { id = Events_GAPS_Precognitive.12 }
		}
	}
	option = {
		name = "Events_GAPS_Precognitive_Option1.c"
		hidden_effect = {
			country_event = { id = Events_GAPS_Precognitive.13 }
		}
	}
	option = {
		name = "Events_GAPS_Precognitive_Option1.d"
		hidden_effect = {
			country_event = { id = Events_GAPS_Precognitive.14 }
		}
	}
}
country_event = {
	id = Events_GAPS_Precognitive.11
	title = "POPUP_Vision_dangerous.1.name"
	desc = "POPUP_Vision_dangerous.1.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes
	location = event_target:Target_System_GAPS_D_Vision

	immediate = {
		random_list = {
			50 = {
				random_system_within_border = {
					save_event_target_as = Target_System_GAPS_Search_From_Here
				}
				event_target:Target_System_GAPS_Search_From_Here = {
					closest_system = {
						limit = { 
							OR = {
								has_star_flag = guardians_stellarite_system
								has_star_flag = hostile_system
								has_star_flag = sanctuary_system
								has_star_flag = scavenger_bot_system
								has_star_flag = guardian
								has_star_flag = elderly_tiyanki_system
								has_star_flag = planet_with_too_many_moons_system
							}
							is_surveyed = { who = root status = no }
							NOT = { has_star_flag = guardians_technosphere_system }
							NOT = { any_system_planet = { has_planet_flag = PFlag_GAPS_Recent_Vision } }
						}
						save_event_target_as = Target_System_GAPS_D_Vision
						random_system_planet = { limit = { is_primary_Star = yes } save_event_target_as = Target_Planet_GAPS_D_Vision set_timed_planet_flag = { flag = PFlag_GAPS_Recent_Vision days = 360 } }
					}
				}
			}
			50 = { 	
				random_system = {
					limit = { NOT = { is_inside_border = root } }
					save_event_target_as = Target_System_GAPS_Search_From_Here
				}
				event_target:Target_System_GAPS_Search_From_Here = {
					closest_system = {
						limit = { 
							OR = {
								has_star_flag = guardians_stellarite_system
								has_star_flag = hostile_system
								has_star_flag = sanctuary_system
								has_star_flag = scavenger_bot_system
								has_star_flag = guardian
								has_star_flag = elderly_tiyanki_system
								has_star_flag = planet_with_too_many_moons_system
							}
							is_surveyed = { who = root status = no }
							NOT = { has_star_flag = guardians_technosphere_system }
							NOT = { any_system_planet = { has_planet_flag = PFlag_GAPS_Recent_Vision } }
						}
						save_event_target_as = Target_System_GAPS_D_Vision
						random_system_planet = { limit = { is_primary_Star = yes } save_event_target_as = Target_Planet_GAPS_D_Vision set_timed_planet_flag = { flag = PFlag_GAPS_Recent_Vision days = 360 } }
					}
				}
			}
		}
		enable_special_project = { name = SPECIAL_PROJECT_GAPS_DANGEROUS_LOCATION owner = root location = event_target:Target_System_GAPS_Search_From_Here }
		create_fleet = { 
			name = "Scry Sensor"
			settings = { 
				can_upgrade = no 
				can_disband = no
				can_change_composition = no 
				can_change_leader = no 
				uses_naval_capacity = no
				spawn_debris = no
			}
		}
		last_created_fleet = {
			set_owner = root
			create_ship = {
				name = "Scry Sensor"
				design = "NAME_DS47"
			}
			set_location = event_target:Target_Planet_GAPS_D_Vision
			save_event_target_as = Target_Planet_GAPS_Scry_Sensor
			set_event_locked = yes
			hidden_effect = { fleet_event = { id = Events_GAPS_Precognitive.9 days = 1 } }
		}
	}
	option = {
		name = INTERESTING
	}
}
country_event = {
	id = Events_GAPS_Precognitive.12
	title = "POPUP_Vision_interesting.1.name"
	desc = "POPUP_Vision_interesting.1.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes
	location = event_target:Target_System_GAPS_D_Vision

	immediate = {
		random_list = {
			50 = {
				random_system_within_border = {
					save_event_target_as = Target_System_GAPS_Search_From_Here
				}
				event_target:Target_System_GAPS_Search_From_Here = {
					closest_system = {
						limit = { 
							OR = {
								has_star_flag = guardians_technosphere_system
								has_star_flag = hyacinth_system
								has_star_flag = manufactory_system
								has_star_flag = abandoned_gateway
								has_star_flag = star_lifting_system
								has_star_flag = vechtar_zavonia_system
								has_star_flag = big_rip_system
								has_star_flag = time_loop_world_system
								has_star_flag = high_energy_system
								has_star_flag = superflare_system
								has_star_flag = collapse_system
								has_star_flag = living_planet_system
								has_star_flag = ruined_empire
								has_star_flag = crystal_system
								has_star_flag = escape_pod_system
								has_star_flag = phaseshift_system
								has_star_flag = ruined_dyson_system
								has_star_flag = ruined_nexus_system
								has_star_flag = ruined_sentry_system
								has_star_flag = ruined_ring_system
								has_star_flag = primitive_robot_system
								has_star_flag = guardians_technosphere_system
								has_star_flag = primitive_system
								has_star_flag = relic_system_1
								has_star_flag = relic_system_4
								has_star_flag = last_baol_system
								has_star_flag = mechanocalibrator_system
								has_star_flag = rubricator_system
								has_star_flag = wenkwort_system
								has_star_flag = ruined_mega_shipyard_system
							}
							is_surveyed = { who = root status = no }
							NOT = { any_system_planet = { has_planet_flag = PFlag_GAPS_Recent_Vision } }
						}
						save_event_target_as = Target_System_GAPS_D_Vision
						random_system_planet = { limit = { is_primary_Star = yes } save_event_target_as = Target_Planet_GAPS_D_Vision set_timed_planet_flag = { flag = PFlag_GAPS_Recent_Vision days = 360 } }
					}
				}
			}
			50 = { 	
				random_system = {
					limit = { NOT = { is_inside_border = root } }
					save_event_target_as = Target_System_GAPS_Search_From_Here
				}
				event_target:Target_System_GAPS_Search_From_Here = {
					closest_system = {
						limit = { 
							OR = {
								has_star_flag = guardians_technosphere_system
								has_star_flag = hyacinth_system
								has_star_flag = manufactory_system
								has_star_flag = abandoned_gateway
								has_star_flag = star_lifting_system
								has_star_flag = vechtar_zavonia_system
								has_star_flag = big_rip_system
								has_star_flag = time_loop_world_system
								has_star_flag = high_energy_system
								has_star_flag = superflare_system
								has_star_flag = collapse_system
								has_star_flag = living_planet_system
								has_star_flag = ruined_empire
								has_star_flag = crystal_system
								has_star_flag = escape_pod_system
								has_star_flag = phaseshift_system
								has_star_flag = ruined_dyson_system
								has_star_flag = ruined_nexus_system
								has_star_flag = ruined_sentry_system
								has_star_flag = ruined_ring_system
								has_star_flag = primitive_robot_system
								has_star_flag = guardians_technosphere_system
								has_star_flag = relic_system_1
								has_star_flag = relic_system_4
								has_star_flag = last_baol_system
								has_star_flag = mechanocalibrator_system
								has_star_flag = rubricator_system
								has_star_flag = wenkwort_system
								has_star_flag = ruined_mega_shipyard_system
								#precursor_system
							}
							is_surveyed = { who = root status = no }
							NOT = { any_system_planet = { has_planet_flag = PFlag_GAPS_Recent_Vision } }
						}
						save_event_target_as = Target_System_GAPS_D_Vision
						random_system_planet = { limit = { is_primary_Star = yes } save_event_target_as = Target_Planet_GAPS_D_Vision set_timed_planet_flag = { flag = PFlag_GAPS_Recent_Vision days = 360 } }
					}
				}
			}
		}
		enable_special_project = { name = SPECIAL_PROJECT_GAPS_INTERESTING_LOCATION owner = root location = event_target:Target_System_GAPS_Search_From_Here }
		
		create_fleet = { 
			name = "Scry Sensor"
			settings = { 
				can_upgrade = no 
				can_disband = no
				can_change_composition = no 
				can_change_leader = no 
				uses_naval_capacity = no
				spawn_debris = no
			}
		}
		last_created_fleet = {
			set_owner = root
			create_ship = {
				name = "Scry Sensor"
				design = "NAME_DS47"
			}
			set_location = event_target:Target_Planet_GAPS_D_Vision
			save_event_target_as = Target_Planet_GAPS_Scry_Sensor
			set_event_locked = yes
			hidden_effect = { fleet_event = { id = Events_GAPS_Precognitive.9 days = 1 } }
		}
	}
	option = {
		name = INTERESTING
	}
}
country_event = {
	id = Events_GAPS_Precognitive.13
	title = "POPUP_Vision_world.1.name"
	desc = "POPUP_Vision_world.1.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes
	location = event_target:Target_System_GAPS_D_Vision

	immediate = {
		random_list = {
			50 = {
				random_system_within_border = {
					save_event_target_as = Target_System_GAPS_Search_From_Here
				}
				event_target:Target_System_GAPS_Search_From_Here = {
					closest_system = {
						limit = { 
							OR = {
								any_system_planet = { planet_size < 19 }
							}
							is_surveyed = { who = root status = no }
							NOT = { has_star_flag = guardians_technosphere_system }
							NOT = { any_system_planet = { has_planet_flag = PFlag_GAPS_Recent_Vision } }
						}
						save_event_target_as = Target_System_GAPS_D_Vision
						random_system_planet = { limit = { is_primary_Star = yes } save_event_target_as = Target_Planet_GAPS_D_Vision set_timed_planet_flag = { flag = PFlag_GAPS_Recent_Vision days = 360 } }
					}
				}
			}
			50 = { 	
				random_system = {
					limit = { NOT = { is_inside_border = root } }
					save_event_target_as = Target_System_GAPS_Search_From_Here
				}
				event_target:Target_System_GAPS_Search_From_Here = {
					closest_system = {
						limit = { 
							OR = {
								any_system_planet = { planet_size < 19 }
							}
							is_surveyed = { who = root status = no }
							NOT = { has_star_flag = guardians_technosphere_system }
						}
						save_event_target_as = Target_System_GAPS_D_Vision
						random_system_planet = { limit = { is_primary_Star = yes } save_event_target_as = Target_Planet_GAPS_D_Vision set_timed_planet_flag = { flag = PFlag_GAPS_Recent_Vision days = 360 } }
					}
				}
			}
		}
		enable_special_project = { name = SPECIAL_PROJECT_GAPS_WORLD_LOCATION owner = root location = event_target:Target_System_GAPS_Search_From_Here }
		
		create_fleet = { 
			name = "Scry Sensor"
			settings = { 
				can_upgrade = no 
				can_disband = no
				can_change_composition = no 
				can_change_leader = no 
				uses_naval_capacity = no
				spawn_debris = no
			}
		}
		last_created_fleet = {
			set_owner = root
			create_ship = {
				name = "Scry Sensor"
				design = "NAME_DS47"
			}
			set_location = event_target:Target_Planet_GAPS_D_Vision
			save_event_target_as = Target_Planet_GAPS_Scry_Sensor
			set_event_locked = yes
			hidden_effect = { fleet_event = { id = Events_GAPS_Precognitive.9 days = 1 } }
		}
	}
	option = {
		name = INTERESTING
	}
}
country_event = {
	id = Events_GAPS_Precognitive.14
	title = "POPUP_Vision_gateway.1.name"
	desc = "POPUP_Vision_gateway.1.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes
	location = event_target:Target_System_GAPS_D_Vision

	immediate = {
		random_list = {
			50 = {
				random_system_within_border = {
					save_event_target_as = Target_System_GAPS_Search_From_Here
				}
				event_target:Target_System_GAPS_Search_From_Here = {
					closest_system = {
						limit = { 
							OR = {
								has_natural_wormhole = yes
								any_system_megastructure = {
									OR = {
										is_megastructure_type = gateway_ruined
										is_megastructure_type = gateway_restored
										is_megastructure_type = gateway_final
										is_megastructure_type = lgate_base
									}
								}
							}
							is_surveyed = { who = root status = no }
							NOT = { any_system_planet = { has_planet_flag = PFlag_GAPS_Recent_Vision } }
						}
						save_event_target_as = Target_System_GAPS_D_Vision
						random_system_planet = { limit = { is_primary_Star = yes } save_event_target_as = Target_Planet_GAPS_D_Vision set_timed_planet_flag = { flag = PFlag_GAPS_Recent_Vision days = 360 } }
					}
				}
			}
			50 = { 	
				random_system = {
					limit = { NOT = { is_inside_border = root } }
					save_event_target_as = Target_System_GAPS_Search_From_Here
				}
				event_target:Target_System_GAPS_Search_From_Here = {
					closest_system = {
						limit = { 
							OR = {
								has_natural_wormhole = yes
								any_system_megastructure = {
									OR = {
										is_megastructure_type = gateway_ruined
										is_megastructure_type = gateway_restored
										is_megastructure_type = gateway_final
										is_megastructure_type = lgate_base
									}
								}
							}
							is_surveyed = { who = root status = no }
							NOT = { any_system_planet = { has_planet_flag = PFlag_GAPS_Recent_Vision } }
						}
						save_event_target_as = Target_System_GAPS_D_Vision
						random_system_planet = { limit = { is_primary_Star = yes } save_event_target_as = Target_Planet_GAPS_D_Vision set_timed_planet_flag = { flag = PFlag_GAPS_Recent_Vision days = 360 } }
					}
				}
			}
		}
		enable_special_project = { name = SPECIAL_PROJECT_GAPS_GATE_LOCATION owner = root location = event_target:Target_System_GAPS_Search_From_Here }
		
		create_fleet = { 
			name = "Scry Sensor"
			settings = { 
				can_upgrade = no 
				can_disband = no
				can_change_composition = no 
				can_change_leader = no 
				uses_naval_capacity = no
				spawn_debris = no
			}
		}
		last_created_fleet = {
			set_owner = root
			create_ship = {
				name = "Scry Sensor"
				design = "NAME_DS47"
			}
			set_location = event_target:Target_Planet_GAPS_D_Vision
			save_event_target_as = Target_Planet_GAPS_Scry_Sensor
			set_event_locked = yes
			hidden_effect = { fleet_event = { id = Events_GAPS_Precognitive.9 days = 1 } }
		}
	}
	option = {
		name = INTERESTING
	}
}
country_event = {
	id = Events_GAPS_Precognitive.15
	title = "POPUP_Vision_precursor.1.name"
	desc = "POPUP_Vision_precursor.1.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes
	location = event_target:Target_System_GAPS_D_Vision

	immediate = {
		random_list = {
			50 = {
				random_system_within_border = {
					save_event_target_as = Target_System_GAPS_Search_From_Here
				}
				event_target:Target_System_GAPS_Search_From_Here = {
					closest_system = {
						limit = { 
							has_star_flag = precursor_system
							is_surveyed = { who = root status = no }
							NOT = { any_system_planet = { has_planet_flag = PFlag_GAPS_Recent_Vision } }
						}
						save_event_target_as = Target_System_GAPS_D_Vision
						random_system_planet = { limit = { is_primary_Star = yes } save_event_target_as = Target_Planet_GAPS_D_Vision set_timed_planet_flag = { flag = PFlag_GAPS_Recent_Vision days = 360 } }
					}
				}
			}
			50 = { 	
				random_system = {
					limit = { NOT = { is_inside_border = root } }
					save_event_target_as = Target_System_GAPS_Search_From_Here
				}
				event_target:Target_System_GAPS_Search_From_Here = {
					closest_system = {
						limit = { 
							has_star_flag = precursor_system
							is_surveyed = { who = root status = no }
							NOT = { any_system_planet = { has_planet_flag = PFlag_GAPS_Recent_Vision } }
						}
						save_event_target_as = Target_System_GAPS_D_Vision
						random_system_planet = { limit = { is_primary_Star = yes } save_event_target_as = Target_Planet_GAPS_D_Vision set_timed_planet_flag = { flag = PFlag_GAPS_Recent_Vision days = 360 } }
					}
				}
			}
		}
		enable_special_project = { name = SPECIAL_PROJECT_GAPS_PRECURSOR_LOCATION owner = root location = event_target:Target_System_GAPS_Search_From_Here }
		
		create_fleet = { 
			name = "Scry Sensor"
			settings = { 
				can_upgrade = no 
				can_disband = no
				can_change_composition = no 
				can_change_leader = no 
				uses_naval_capacity = no
				spawn_debris = no
			}
		}
		last_created_fleet = {
			set_owner = root
			create_ship = {
				name = "Scry Sensor"
				design = "NAME_DS47"
			}
			set_location = event_target:Target_Planet_GAPS_D_Vision
			save_event_target_as = Target_Planet_GAPS_Scry_Sensor
			set_event_locked = yes
			hidden_effect = { fleet_event = { id = Events_GAPS_Precognitive.9 days = 1 } }
		}
	}
	option = {
		name = INTERESTING
	}
}
country_event = {
	id = Events_GAPS_Precognitive.51
	is_triggered_only = yes
	title = "Popup_GAPS_Cant_Afford_Bullet_Time_3.name"
	desc = "Popup_GAPS_Cant_Afford_Bullet_Time_3.desc"
	picture = GFX_evt_psionics
	hide_window = no

	trigger = {
		resource_stockpile_compare = {
			resource = sr_zro
			value <= 0
		}
		resource_income_compare = {
			resource = sr_zro
			value <= 0
		}
		has_modifier = Country_Modifier_GAPS_Bullet_Time_3
	}

	immediate = {
		remove_modifier = Country_Modifier_GAPS_Bullet_Time_3
	}
	option = {
		name = UNFORTUNATE
	}
}
country_event = {
	id = Events_GAPS_Precognitive.52
	is_triggered_only = yes
	title = "Popup_GAPS_Cant_Afford_Bullet_Time_2.name"
	desc = "Popup_GAPS_Cant_Afford_Bullet_Time_2.desc"
	picture = GFX_evt_psionics
	hide_window = no

	trigger = {
		resource_stockpile_compare = {
			resource = sr_zro
			value <= 0
		}
		resource_income_compare = {
			resource = sr_zro
			value <= 0
		}
		has_modifier = Country_Modifier_GAPS_Bullet_Time_2
	}

	immediate = {
		remove_modifier = Country_Modifier_GAPS_Bullet_Time_2
	}
	option = {
		name = UNFORTUNATE
	}
}
country_event = {
	id = Events_GAPS_Precognitive.53
	is_triggered_only = yes
	title = "Popup_GAPS_Cant_Afford_Know_All_Actions.name"
	desc = "Popup_GAPS_Cant_Afford_Know_All_Actions.desc"
	picture = GFX_evt_psionics
	hide_window = no

	trigger = {
		resource_stockpile_compare = {
			resource = sr_zro
			value <= 0
		}
		resource_income_compare = {
			resource = sr_zro
			value <= 0
		}
		has_modifier = Country_Modifier_GAPS_Know_All_Actions
	}

	immediate = {
		remove_modifier = Country_Modifier_GAPS_Know_All_Actions
	}
	option = {
		name = UNFORTUNATE
	}
}
country_event = {
	id = Events_GAPS_Precognitive.54
	is_triggered_only = yes
	title = "Popup_GAPS_Cant_Afford_Bullet_Time_1.name"
	desc = "Popup_GAPS_Cant_Afford_Bullet_Time_1.desc"
	picture = GFX_evt_psionics
	hide_window = no

	trigger = {
		resource_stockpile_compare = {
			resource = sr_zro
			value <= 0
		}
		resource_income_compare = {
			resource = sr_zro
			value <= 0
		}
		has_modifier = Country_Modifier_GAPS_Bullet_Time_1
	}

	immediate = {
		remove_modifier = Country_Modifier_GAPS_Bullet_Time_1
	}
	option = {
		name = UNFORTUNATE
	}
}
country_event = {
	id = Events_GAPS_Precognitive.55
	is_triggered_only = yes
	title = "Popup_GAPS_Cant_Afford_Forsee_Expidition.name"
	desc = "Popup_GAPS_Cant_Afford_Forsee_Expidition.desc"
	picture = GFX_evt_psionics
	hide_window = no

	trigger = {
		resource_stockpile_compare = {
			resource = sr_zro
			value <= 0
		}
		resource_income_compare = {
			resource = sr_zro
			value <= 0
		}
		has_modifier = Country_Modifier_GAPS_Forsee_Expidition
	}

	immediate = {
		remove_modifier = Country_Modifier_GAPS_Forsee_Expidition
	}
	option = {
		name = UNFORTUNATE
	}
}
country_event = {
	id = Events_GAPS_Precognitive.56
	is_triggered_only = yes
	title = "Popup_GAPS_Cant_Afford_Forsee_Difficulties.name"
	desc = "Popup_GAPS_Cant_Afford_Forsee_Difficulties.desc"
	picture = GFX_evt_psionics
	hide_window = no

	trigger = {
		resource_stockpile_compare = {
			resource = sr_zro
			value <= 0
		}
		resource_income_compare = {
			resource = sr_zro
			value <= 0
		}
		has_modifier = Country_Modifier_GAPS_Forsee_Difficulties
	}

	immediate = {
		remove_modifier = Country_Modifier_GAPS_Forsee_Difficulties
	}
	option = {
		name = UNFORTUNATE
	}
}
fleet_event = {
	id = Events_GAPS_Precognitive.9
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		set_owner = event_target:drone_country
		destroy_fleet = { target = event_target:Target_Planet_GAPS_Scry_Sensor }
	}
}

country_event = {
	id = Events_GAPS_Precognitive.23
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		random_system_within_border = {
			closest_system = {
				limit = {
					is_surveyed = { who = root status = no }
					OR = { 
						has_star_flag = precursor_1
						has_star_flag = precursor_2
						has_star_flag = precursor_3
						has_star_flag = precursor_4
						has_star_flag = precursor_5
					} 
				}
				save_event_target_as = ET_SSTAM_Precognitive_Vision
				if = {
					limit = {
						root = { not = { has_event_chain = "vultaum_chain"  } }
						OR = { 
							has_star_flag = precursor_1
						} 
					}
					random_system_planet = {
						enable_special_project = { name = SPECIAL_PROJECT_SSTAM_PRECURSOR_LOCATION owner = root location = this }
					}
					root = {
						hidden_effect = { country_event = { id = Events_GAPS_Precognitive.231 } }
					}
				}
				else_if = {
					limit = {
						root = { not = { has_event_chain = "yuht_chain"  } }
						OR = { 
							has_star_flag = precursor_2
						} 
					}
					random_system_planet = {
						enable_special_project = { name = SPECIAL_PROJECT_SSTAM_PRECURSOR_LOCATION owner = root location = this }
					}
					root = {
						hidden_effect = { country_event = { id = Events_GAPS_Precognitive.232 } }
					}
				}
				else_if = {
					limit = {
						root = { not = { has_event_chain = "first_league_chain"  } }
						OR = { 
							has_star_flag = precursor_3
						} 
					}
					random_system_planet = {
						enable_special_project = { name = SPECIAL_PROJECT_SSTAM_PRECURSOR_LOCATION owner = root location = this }
					}
					root = {
						hidden_effect = { country_event = { id = Events_GAPS_Precognitive.233 } }
					}
				}
				else_if = {
					limit = {
						root = { not = { has_event_chain = "irassian_chain"  } }
						OR = { 
							has_star_flag = precursor_4
						} 
					}
					random_system_planet = {
						enable_special_project = { name = SPECIAL_PROJECT_SSTAM_PRECURSOR_LOCATION owner = root location = this }
					}
					root = {
						hidden_effect = { country_event = { id = Events_GAPS_Precognitive.234 } }
					}
				}
				else_if = {
					limit = {
						root = { not = { has_event_chain = "cybrex_chain"  } }
						OR = { 
							has_star_flag = precursor_5
						} 
					}
					random_system_planet = {
						enable_special_project = { name = SPECIAL_PROJECT_SSTAM_PRECURSOR_LOCATION owner = root location = this }
					}
					root = {
						hidden_effect = { country_event = { id = Events_GAPS_Precognitive.235 } }
					}
				}
				else = { root = { country_event = { id = Events_GAPS_Precognitive.14 } } }
			}
		}
	}
}
country_event = {
	id = Events_GAPS_Precognitive.231
	title = "POPUP_Vision_precursor.1.name"
	desc = "POPUP_Vision_precursor.1.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes


	immediate = {
		set_country_flag = vultaum_intro
		begin_event_chain = {
			event_chain = "vultaum_chain"
			target = root
		}
		set_global_flag = Flag_Global_SSTAM_Precognitive_Target_Found
	}
	option = {
		name = INTERESTING
		hidden_effect = { owner = { country_event = { id = story.5 days = 30 } } }
	}
}
country_event = {
	id = Events_GAPS_Precognitive.232
	title = "POPUP_Vision_precursor.500.name"
	desc = "POPUP_Vision_precursor.500.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes


	immediate = {
		set_country_flag = yuht_intro
		begin_event_chain = {
			event_chain = "yuht_chain"
			target = root
		}
		set_global_flag = Flag_Global_SSTAM_Precognitive_Target_Found
	}
	option = {
		name = INTERESTING
		hidden_effect = { owner = { country_event = { id = story.5 days = 30 } } }
	}
}
country_event = {
	id = Events_GAPS_Precognitive.233
	title = "POPUP_Vision_precursor.1000.name"
	desc = "POPUP_Vision_precursor.1000.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes


	immediate = {
		set_country_flag = first_league_intro
		begin_event_chain = {
			event_chain = "first_league_chain"
			target = root
		}
		set_global_flag = Flag_Global_SSTAM_Precognitive_Target_Found
	}
	option = {
		name = INTERESTING
		hidden_effect = { owner = { country_event = { id = story.5 days = 30 } } }
	}
}
country_event = {
	id = Events_GAPS_Precognitive.234
	title = "POPUP_Vision_precursor.1500.name"
	desc = "POPUP_Vision_precursor.1500.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes


	immediate = {
		set_country_flag = irassian_intro
		begin_event_chain = {
			event_chain = "irassian_chain"
			target = root
		}
		set_global_flag = Flag_Global_SSTAM_Precognitive_Target_Found
	}
	option = {
		name = INTERESTING
		hidden_effect = { owner = { country_event = { id = story.5 days = 30 } } }
	}
}
country_event = {
	id = Events_GAPS_Precognitive.235
	title = "POPUP_Vision_precursor.2000.name"
	desc = "POPUP_Vision_precursor.2000.desc"
	picture = GFX_evt_psionics
	is_triggered_only = yes


	immediate = {
		set_country_flag = cybrex_intro
		begin_event_chain = {
			event_chain = "cybrex_chain"
			target = root
		}
		set_global_flag = Flag_Global_SSTAM_Precognitive_Target_Found
	}
	option = {
		name = INTERESTING
		hidden_effect = { owner = { country_event = { id = story.5 days = 30 } } }
	}
}
