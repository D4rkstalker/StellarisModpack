namespace = psionic_hive

country_event = {
	id = psionic_hive.1
	title = "psionic_hive.2600.name"
	desc = "psionic_hive.2600.desc"
	picture = GFX_evt_psionics
	show_sound = event_psionic
	hide_window = no
	is_triggered_only = yes

	immediate = {
	hidden_effect = {
	ruler = { add_ruler_trait = leader_trait_ruler_psionic	}
	}
	## tell everybody else
	every_country = {
			limit = { 
				is_ai = no
				has_communications = root
				NOT = { is_same_value = root }
			}
			country_event = { id = psionic_hive.11 }
		}
		
	option = {
		name = "psionic_hive.2600.a"
		#tooltip = {
		#	
		#}
		custom_tooltip = PSYCHIC_RULER
		custom_tooltip = CAN_ASSIMILATE_OTHERS
	}
	}
  }


# Notification for other empires
country_event = {
	id = psionic_hive.11
	title = "psionic_hive.2602.name"
	desc = "psionic_hive.2602.desc"
	picture = GFX_evt_psionics
	show_sound = event_laboratory_sound
	location = from.capital_scope
	
	is_triggered_only = yes
	
	
	option = {
		name = "utopia.2602.a"
		trigger = {
			NOR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
				is_at_war_with = from
				species = { has_trait = trait_psionic }
			}
		}
	}
	option = {
		name = "utopia.2602.b"
		trigger = {
			AND = {
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
				NOR = {
					is_at_war_with = from
					species = { has_trait = trait_psionic }
				}
			}
		}
	}
	option = {
		name = "utopia.2602.c"
		trigger = {
			is_at_war_with = from
			NOT = { species = { has_trait = trait_psionic } }
		}
	}
	option = {
		name = "utopia.2602.d"
		trigger = {
			species = { has_trait = trait_psionic }
		}
	}
}



##equidimensional
country_event = {
	id = psionic_hive.2
	title = "utopia.2650.name"
	desc = "utopia.2650.desc"
	picture = GFX_evt_psionics
	show_sound = event_the_great_awakening
	hide_window = no
	is_triggered_only = yes

	immediate = {
	
	## tell everybody else
	every_country = {
			limit = { 
				is_ai = no
				has_communications = root
				NOT = { is_same_value = root }
			}
			country_event = { id = psionic_hive.22 }
		}
		
		## open the shorud?
		country_event = { id = psionic_hive.70 days = 30 random = 20 }
	
	}
  }
  
  
  
# Notification for other empires
country_event = {
	id = psionic_hive.22
	title = "utopia.2652.name"
	desc = "utopia.2652.desc"
	picture = GFX_evt_psionics
	show_sound = event_the_great_awakening
	
	is_triggered_only = yes

	option = {
		name = AMAZING
		trigger = {
			NOR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
				is_at_war_with = from
				species = { has_trait = trait_psionic }
			}
		}
	}
	option = {
		name = "utopia.2652.b"
		trigger = {
			AND = {
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
				NOR = {
					is_at_war_with = from
					species = { has_trait = trait_psionic }
				}
			}
		}
	}
	option = {
		name = "utopia.2652.c"
		trigger = {
			is_at_war_with = from
			NOT = { species = { has_trait = trait_psionic } }
		}
	}
	option = {
		name = "utopia.2652.d"
		trigger = {
			species = { has_trait = trait_psionic }
		}
	}
}




# The Shroud
country_event = {
	id = psionic_hive.70
	title = "utopia.2655.name"
	desc = "psionic_hive.2655.desc"
	picture = GFX_evt_psionics
	show_sound = event_psionic
	trackable = yes
	
	is_triggered_only = yes

	option = {
		name = "utopia.2655.a"
		hidden_effect = { save_event_target_as = breach_shroud_owner }
		capital_scope = {
			enable_special_project = {
				name = "BREACHING_SHROUD_PROJECT_HIVE"
				location = this
				owner = root
			}
		}
	}
}

# The Seance
country_event = {
	id = psionic_hive.71
	title = "utopia.2656.name"
	desc = "psionic_hive.2656.desc"
	picture = GFX_evt_psionics
	show_sound = event_psionic
	
	is_triggered_only = yes

	immediate = {
		random_country = {
			limit = { is_country_type = shroud }
			save_event_target_as = the_shroud
		}
	}

	option = {
		name = "utopia.2656.a"
		establish_communications_no_message = event_target:the_shroud
		hidden_effect = {
			set_country_flag = shroud_intro
			country_event = { id = hive_shroud.1 }
		}
	}
}
