namespace = amoriginstarts

event = {
	id = amoriginstarts.1
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_country = {
			limit = { 
				has_origin = origin_steppingstone
			}
			save_event_target_as = steppingstone_country
			give_technology = { message = no tech = tech_hydroponics }
			give_technology = { message = no tech = tech_starbase_3 }
			capital_scope = {
				solar_system = {
					if = {
						limit = { exists = starbase }
						starbase = {
							set_starbase_size = starbase_starhold
						}
					}
				}
				random_moon = {
					save_event_target_as = steppingstone_moon					
				}
			}
			if = {
				limit = { not = { exists = event_target:steppingstone_moon }}
				capital_scope = {
					solar_system = {
						random_system_planet = {
							limit = {
								is_ringworld = no
								is_asteroid = no
								is_star = no
								is_colony = no
							}
							save_event_target_as = steppingstone_moon
						}
					}
				}				
			}
			
			event_target:steppingstone_moon = {
				change_pc = pc_barren_habitable
				set_planet_size = 8
				every_deposit = {
					remove_deposit = yes
				}
				roll_barren_mining_features = yes
				create_colony = {
					owner = event_target:steppingstone_country
					species = owner_main_species
				}
				add_district = district_habitation_dome
				add_building = building_hydroponics_farm
			}			
		}
		
		every_country = {
			limit = { 
				has_authority = auth_machine_intelligence
			}		
			give_technology = { message = no tech = tech_power_hub_1 }
		}
		
		every_country = {
			limit = { 
				is_lithoid_empire = yes
			}		
			give_technology = { message = no tech = tech_mineral_purification_1 }
		}
		
		every_country = {
			limit = { 
				has_origin = origin_iceaged
			}		
			give_technology = { message = no tech = tech_rare_crystals }
			give_technology = { message = no tech = tech_massive_glacier }
			give_technology = { message = no tech = tech_frozen_world_terraforming }
			give_technology = { message = no tech = tech_hydroponics }
			capital_scope = {
				set_planet_flag = pf_hide_city
				set_planet_flag = pf_hide_hab_science
				set_planet_flag = pf_hide_heavy_industries
				set_planet_flag = pf_retain_frozen_refinery
				add_district = district_frozen_refinery
				add_deposit = d_massive_glacier
				add_deposit = d_frozen_gas_lake
				add_deposit = d_ore_rich_caverns
				add_deposit = d_ore_rich_caverns
				add_deposit = d_ore_rich_caverns
				add_deposit = d_fungal_caves
				add_deposit = d_biovault
				if = { 
					limit = {
						exists = owner
						owner = {
							is_machine_empire = no
							is_lithoid_empire = no
						}
					}
					add_building = building_hydroponics_farm
				}
				if = { 
					limit = {
						exists = owner
						owner = {
							is_machine_empire = yes
						}
					}
					add_building = building_energy_grid
				}
				if = { 
					limit = {
						exists = owner
						owner = {
							is_lithoid_empire = yes
						}
					}
					add_building = building_mineral_purification_plant
				}
				validate_planet_buildings_and_districts = yes
				add_district = district_habitation_dome
				add_district = district_habitation_dome
				add_district = district_habitation_dome
				remove_district = district_generator
				add_district =  district_generator_dome
			}
		}
		every_country = {
			limit = { 
				has_origin = origin_primordials
			}		
			give_technology = { message = no tech = tech_volatile_motes }
			give_technology = { message = no tech = tech_volcano }
			give_technology = { message = no tech = tech_molten_world_terraforming }
			give_technology = { message = no tech = tech_hydroponics }
			capital_scope = {
				set_planet_flag = pf_hide_city
				set_planet_flag = pf_hide_heavy_industries
				set_planet_flag = pf_retain_molten_refinery	
				set_planet_flag = pf_hide_hab_science
				add_district = district_molten_refinery
				add_deposit = d_active_volcano
				add_deposit = d_hot_springs
				add_deposit = d_searing_desert
				add_deposit = d_geothermal_vent
				add_deposit = d_ore_rich_caverns
				add_deposit = d_ore_rich_caverns
				add_deposit = d_ore_rich_caverns
				add_deposit = d_nutritious_mudland
				if = { 
					limit = {
						exists = owner
						owner = {
							is_machine_empire = no
							is_lithoid_empire = no
						}
					}
					add_building = building_hydroponics_farm
				}
				if = { 
					limit = {
						exists = owner
						owner = {
							is_machine_empire = yes
						}
					}
					add_building = building_energy_grid
				}
				if = { 
					limit = {
						exists = owner
						owner = {
							is_lithoid_empire = yes
						}
					}
					add_building = building_mineral_purification_plant
				}
				add_deposit = d_biovault
				add_deposit = d_biovault
				validate_planet_buildings_and_districts = yes
				add_district = district_habitation_dome
				add_district = district_habitation_dome
				add_district = district_habitation_dome
				remove_district = district_generator
				add_district =  district_generator_dome
			}
		}
		every_country = {
			limit = { 
				has_origin = origin_poisonedpast
			}		
			give_technology = { message = no tech = tech_exotic_gases }
			give_technology = { message = no tech = tech_noxious_swamp }
			give_technology = { message = no tech = tech_toxic_world_terraforming }
			give_technology = { message = no tech = tech_hydroponics }
			capital_scope = {
				set_planet_flag = pf_hide_city
				set_planet_flag = pf_hide_heavy_industries
				set_planet_flag = pf_retain_toxic_refinery
				set_planet_flag = pf_hide_hab_science
				add_district = district_toxin_refinery
				add_deposit = d_noxious_swamp
				add_deposit = d_geothermal_vent
				add_deposit = d_ore_rich_caverns
				add_deposit = d_ore_rich_caverns
				add_deposit = d_ore_rich_caverns
				add_deposit = d_boggy_fens
				add_deposit = d_fungal_caves
				add_deposit = d_fungal_forest
				add_deposit = d_bubbling_swamp
				add_deposit = d_fuming_bog
				add_deposit = d_biovault
				if = { 
					limit = {
						exists = owner
						owner = {
							is_machine_empire = no
							is_lithoid_empire = no
						}
					}
					add_building = building_hydroponics_farm
				}
				if = { 
					limit = {
						exists = owner
						owner = {
							is_machine_empire = yes
						}
					}
					add_building = building_energy_grid
				}
				if = { 
					limit = {
						exists = owner
						owner = {
							is_lithoid_empire = yes
						}
					}
					add_building = building_mineral_purification_plant
				}
				validate_planet_buildings_and_districts = yes
				add_district = district_habitation_dome
				add_district = district_habitation_dome
				add_district = district_habitation_dome
				remove_district = district_generator
				add_district =  district_generator_dome
			}
		}
		
		every_country = {
			limit = { 
				has_origin = origin_ascendant
			}		
			give_technology = { message = no tech = tech_ascension_theory }
			give_technology = { message = no tech = tech_psionic_theory }
		}
		every_country = {
			limit = { 
				has_origin = origin_cyberpunked
			}		
			give_technology = { message = no tech = tech_ascension_theory }
			give_technology = { message = no tech = tech_droid_workers }
			give_technology = { message = no tech = tech_robotic_workers }
		}
		every_country = {
			limit = { 
				has_origin = origin_genepurists
			}		
			give_technology = { message = no tech = tech_ascension_theory }
			give_technology = { message = no tech = tech_cloning }
			give_technology = { message = no tech = tech_gene_tailoring }
			add_modifier = {
				modifier = use_eugenics
				days = -1
			}
		}
		every_country = {
			limit = { 
				has_civic = civic_trading_posts
			}		
			give_technology = { message = no tech = tech_space_trading }
			give_technology = { message = no tech = tech_starbase_2 }
		}
		every_country = {
			limit = { 
				has_civic = civic_police_state
			}		
			give_technology = { message = no tech = tech_penal_colonies }
		}
		every_country = {
			limit = { 
				or = {
					has_civic = civic_merchant_guilds
					has_civic = civic_free_traders
					has_civic = civic_trading_posts
				}
			}		
			give_technology = { message = no tech = tech_space_trading }
		}
		every_country = {
			limit = {
				or = {
					has_civic = civic_indentured_assets
					has_civic = civic_slaver_guilds
				}
			}		
			give_technology = { message = no tech = tech_neural_implants }
			give_technology = { message = no tech = tech_slave_colonies }
		}
		every_country = {
			limit = {
				or = {
					has_civic = civic_citizen_service
					has_civic = civic_warrior_culture
					has_civic = civic_nationalistic_zeal
					has_civic = civic_private_military_companies
				}
			}		
			give_technology = { message = no tech = tech_centralized_command }
		}
		every_country = {
			limit = {
				has_civic = civic_distinguished_admiralty
			}		
			give_technology = { message = no tech = tech_interstellar_fleet_traditions }
		}	
		every_country = {
			limit = {
				has_civic = civic_naval_contractors
			}		
			give_technology = { message = no tech = tech_corvette_hull_1 }
			give_technology = { message = no tech = tech_doctrine_navy_size_1 }
		}
		every_country = {
			limit = {
				has_civic = civic_private_military_companies
			}
			give_technology = { message = no tech = tech_combat_training }
		}		
		every_country = {
			limit = {
				has_civic = civic_private_prospectors
			}
			give_technology = { message = no tech = tech_cryostasis_1 }
		}
	}
}