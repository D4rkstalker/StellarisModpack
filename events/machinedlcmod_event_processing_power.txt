namespace = machinedlcpp #processing power

country_event = {
	id = machinedlcpp.1
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_authority = auth_machine_intelligence
		NOT = { has_valid_civic = civic_machine_clockwork }
	}

	immediate = {
		capital_scope = {
			add_building = building_planet_processor_1
			while = { create_pop = { species = owner.species } count = 2 }
		}
	}
}
#processing power calculations
event = {
	id = machinedlcpp.2
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_country = {
			has_authority = auth_machine_intelligence 
			NOT = { has_valid_civic = civic_machine_clockwork }
		}
	}

	immediate = {
		every_country = {
			limit = {
				has_authority = auth_machine_intelligence
				NOT = { has_valid_civic = civic_machine_clockwork }
				OR = {
					has_global_flag = machinedlc_new_game_1 #will be removed
					has_global_flag = machinedlc_new_feature_1
				}
			}
			add_resource = { processing_power = -50000 } #to hide resource storage full warning

			clear_mod_processing_power = yes
			if = {
				limit = { resource_income_compare = { resource = processing_power value > 0 } }
				if = {
					limit = { empire_size >= 0 empire_size <= 50 }
					calculate_processing_power_admincap_1_plus = yes
				}
				if = {
					limit = { empire_size > 50 empire_size <= 100 }
					calculate_processing_power_admincap_2_plus = yes
				}
				if = {
					limit = { empire_size > 100 empire_size <= 150 }
					calculate_processing_power_admincap_3_plus = yes
				}
				if = {
					limit = { empire_size > 150 empire_size <= 200 }
					calculate_processing_power_admincap_4_plus = yes
				}
				if = {
					limit = { empire_size > 200 empire_size <= 250 }
					calculate_processing_power_admincap_5_plus = yes
				}
				if = {
					limit = { empire_size > 250 empire_size <= 300 }
					calculate_processing_power_admincap_6_plus = yes
				}
				if = {
					limit = { empire_size > 300 empire_size <= 350 }
					calculate_processing_power_admincap_6_plus = yes
				}
				if = {
					limit = { empire_size > 350 empire_size <= 400 }
					calculate_processing_power_admincap_7_plus = yes
				}
				if = {
					limit = { empire_size > 400 empire_size <= 450 }
					calculate_processing_power_admincap_8_plus = yes
				}
				if = {
					limit = { empire_size > 450 empire_size <= 500 }
					calculate_processing_power_admincap_9_plus = yes
				}
				if = {
					limit = { empire_size > 500 }
					calculate_processing_power_admincap_10_plus = yes
				}
			}
			if = {
				limit = { has_monthly_income = { resource = processing_power value >= 0 } has_monthly_income = { resource = processing_power value < 10 } }
				add_modifier = { modifier = processing_power_0 days = -1 }
			}
			if = {
				limit = { resource_income_compare = { resource = processing_power value < 0 } }
				if = {
					limit = { empire_size >= 0 empire_size <= 50 }
					calculate_processing_power_admincap_1_minus = yes
				}
				if = {
					limit = { empire_size > 50 empire_size <= 100 }
					calculate_processing_power_admincap_2_minus = yes
				}
				if = {
					limit = { empire_size > 100 empire_size <= 150 }
					calculate_processing_power_admincap_3_minus = yes
				}
				if = {
					limit = { empire_size > 150 empire_size <= 200 }
					calculate_processing_power_admincap_4_minus = yes
				}
				if = {
					limit = { empire_size > 200 empire_size <= 250 }
					calculate_processing_power_admincap_5_minus = yes
				}
				if = {
					limit = { empire_size > 250 empire_size <= 300 }
					calculate_processing_power_admincap_6_minus = yes
				}
				if = {
					limit = { empire_size > 300 empire_size <= 350 }
					calculate_processing_power_admincap_6_minus = yes
				}
				if = {
					limit = { empire_size > 350 empire_size <= 400 }
					calculate_processing_power_admincap_7_minus = yes
				}
				if = {
					limit = { empire_size > 400 empire_size <= 450 }
					calculate_processing_power_admincap_8_minus = yes
				}
				if = {
					limit = { empire_size > 450 empire_size <= 500 }
					calculate_processing_power_admincap_9_minus = yes
				}
				if = {
					limit = { empire_size > 500 }
					calculate_processing_power_admincap_10_minus = yes
				}
			}

			#will be removed
			switch = {
				trigger = has_modifier
				processing_power_plus_200 = { remove_modifier = processing_power_plus_200 }
				processing_power_plus_180 = { remove_modifier = processing_power_plus_180 }
				processing_power_plus_160 = { remove_modifier = processing_power_plus_160 }
				processing_power_plus_140 = { remove_modifier = processing_power_plus_140 }
				processing_power_plus_120 = { remove_modifier = processing_power_plus_120 }
				processing_power_plus_100 = { remove_modifier = processing_power_plus_100 }
				processing_power_plus_80 = { remove_modifier = processing_power_plus_80 }
				processing_power_plus_60 = { remove_modifier = processing_power_plus_60 }
				processing_power_plus_40 = { remove_modifier = processing_power_plus_40 }
				processing_power_plus_0 = { remove_modifier = processing_power_plus_0 }
				processing_power_minus_0 = { remove_modifier = processing_power_minus_0 }
				processing_power_minus_40 = { remove_modifier = processing_power_minus_40 }
				processing_power_minus_60 = { remove_modifier = processing_power_minus_60 }
				processing_power_minus_80 = { remove_modifier = processing_power_minus_80 }
				processing_power_minus_100 = { remove_modifier = processing_power_minus_100 }
				processing_power_minus_120 = { remove_modifier = processing_power_minus_120 }
				processing_power_minus_140 = { remove_modifier = processing_power_minus_140 }
				processing_power_minus_160 = { remove_modifier = processing_power_minus_160 }
				processing_power_minus_180 = { remove_modifier = processing_power_minus_180 }
				processing_power_minus_200 = { remove_modifier = processing_power_minus_200 }
			}
		}
	}
}