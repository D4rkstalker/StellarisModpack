namespace = gpm_dig_site

# Time lost planet 1
fleet_event = {
	id = gpm_dig_site.10
	title = gpm_dig_site.10.name
	desc = gpm_dig_site.10.desc
	picture = GFX_evt_gpm_time_lost
	show_sound = event_scanner
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = CURIOUS
		owner = { 
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
	}
}
# Time lost planet 2
fleet_event = {
	id = gpm_dig_site.11
	title = gpm_dig_site.11.name
	desc = gpm_dig_site.11.desc
	picture = GFX_evt_gpm_time_lost
	show_sound = event_sensor_ping
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = EXCELLENT
		owner = { 
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
	}
}
# Time lost planet 3
fleet_event = {
	id = gpm_dig_site.12
	title = gpm_dig_site.12.name
	desc = gpm_dig_site.12.desc
	picture = GFX_evt_gpm_time_lost_relic
	show_sound = event_mystic_reveal
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = FASCINATING
		owner = { 
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		owner = { add_relic = gpm_r_time_displacer }
	}
}

# PrecDig 1 - Setting up camp
fleet_event = {
	id = gpm_dig_site.100
	title = gpm_dig_site.100.name
	desc = gpm_dig_site.100.desc
	picture = GFX_evt_gpm_PrecDig_Camp
	show_sound = event_dig_site
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.100.a
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
	}
}
# PrecDig 2 - sending out teams
fleet_event = {
	id = gpm_dig_site.110
	title = gpm_dig_site.110.name
	desc = gpm_dig_site.110.desc
	picture = GFX_evt_gpm_PrecDig_Teams
	show_sound = event_whispering
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = CURIOUS
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
		small_artifact_reward = yes
	}
}
# PrecDig 3 - sample analysis
fleet_event = {
	id = gpm_dig_site.120
	title = gpm_dig_site.120.name
	desc = gpm_dig_site.120.desc
	picture = GFX_evt_gpm_PrecDig_Sample
	show_sound = event_laboratory_sound
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.120.a
		owner = { 
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
		medium_artifact_reward = yes
		gpm_random_precursor_empire_dig_site_bonus = yes
	}
}
# PrecDig 4 - secondary team
fleet_event = {
	id = gpm_dig_site.130
	title = gpm_dig_site.130.name
	desc = gpm_dig_site.130.desc
	picture = GFX_evt_gpm_PrecDig_Teams_02
	show_sound = event_wind_ruins
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.130.a
		owner = { 
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
		small_artifact_reward = yes
	}
}
# PrecDig 5 -locked door
fleet_event = {
	id = gpm_dig_site.140
	title = gpm_dig_site.140.name
	desc = gpm_dig_site.140.desc
	picture = GFX_evt_gpm_PrecDig_Door
	show_sound = event_drilling
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.140.a
		owner = { 
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
		small_artifact_reward = yes
	}
}

# PrecDig 6 - Random Event List Master Event
# Stage 2 - Random Outcome
fleet_event = {
	id = gpm_dig_site.9000
	hide_window = yes
	
	archaeology = yes
	is_triggered_only = yes
	
	immediate = {
		random_list	= {
			10 = {
				# default
				fleet_event = { id = gpm_dig_site.150 }
				modifier = { factor = 0
					from.planet = {
						NOR = { 
							has_modifier = gpm_precursor_remnants
							has_modifier = gpm_precursor_satalite_grid
							has_modifier = gpm_precursor_city
							has_modifier = gpm_precursor_ruins
							has_modifier = gpm_precursor_obelisks
						}
					}
				}
			}
			10 = {
				# power array
				fleet_event = { id = gpm_dig_site.151 }
				modifier = { factor = 0
					from.planet = {
						NOR = { 
							has_modifier = gpm_precursor_energy_grid
							has_modifier = gpm_precursor_planetary_shield
						}
					}
				}
			}
			10 = {
				# ship design facility
				fleet_event = { id = gpm_dig_site.152 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_shipyards } } }
			}
			10 = {
				# orbital monitoring station
				fleet_event = { id = gpm_dig_site.153 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_planetary_gun } } }
			}
			10 = {
				# bunker
				fleet_event = { id = gpm_dig_site.154 }
				modifier = { factor = 0
					from.planet = {
						NOR = { 
							has_modifier = gpm_precursor_bunker_grid
							has_modifier = gpm_precursor_battleground_ruins
						}
					}
				}
			}
			10 = {
				# command center
				fleet_event = { id = gpm_dig_site.155 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_mechs } } }
			}
			10 = {
				# crashed floating city
				fleet_event = { id = gpm_dig_site.156 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_floating_city } } }
			}
			10 = {
				# adminstrative hub
				fleet_event = { id = gpm_dig_site.157 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_capital_complex } } }
			}
			10 = {
				# communication tower
				fleet_event = { id = gpm_dig_site.158 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_communication_hub } } }
			}
			10 = {
				# quantum databanks
				fleet_event = { id = gpm_dig_site.159 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_singularity_drive } } }
			}
			10 = {
				# abadonded fortress
				fleet_event = { id = gpm_dig_site.160 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_eternal_fortress } } }
			}
			10 = {
				# escapee hideout
				fleet_event = { id = gpm_dig_site.161 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_prison_planet } } }
			}
			10 = {
				# mining unit storage
				fleet_event = { id = gpm_dig_site.162 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_mines } } }
			}
			10 = {
				# weapons manufactory
				fleet_event = { id = gpm_dig_site.163 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_manufactorium } } }
			}
			10 = {
				# vaults
				fleet_event = { id = gpm_dig_site.164 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_vaults } } }
			}
			10 = {
				# burried crashed orbital
				fleet_event = { id = gpm_dig_site.165 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_crashed_spacestation } } }
			}
			10 = {
				# outpost ruins
				fleet_event = { id = gpm_dig_site.166 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_outpost_ruins } } }
			}
			10 = {
				# harbor warehouse
				fleet_event = { id = gpm_dig_site.167 }
				modifier = { factor = 0 from.planet = { NOT = { has_modifier = gpm_precursor_harbor_ruins } } }
			}
		}
	}

	after = { 
		from = { expire_site_event = gpm_dig_site.9000 } 
	}
}

# PrecDig 6 -Default
fleet_event = {
	id = gpm_dig_site.150
	title = gpm_dig_site.150.name
	desc = gpm_dig_site.150.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.150.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		# has_modifier = gpm_precursor_remnants
		# has_modifier = gpm_precursor_satalite_grid
		# has_modifier = gpm_precursor_city
		# has_modifier = gpm_precursor_ruins
		# has_modifier = gpm_precursor_obelisks
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_remnants_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_remnants_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_remnants_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_remnants_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_remnants_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_remnants_discovery_2 } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_satellite_grid_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_satellite_grid_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_satellite_grid_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_satellite_grid_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_satellite_grid_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_satellite_grid_discovery_2 } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_city_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_city_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_city_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_city_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_city_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_city_discovery_2 } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_ruins_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_ruins_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_ruins_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_ruins_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_ruins_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_ruins_discovery_2 } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_obelisks_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_obelisks_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_obelisks_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_obelisks_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_obelisks_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_obelisks_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_remnants_discovery
						has_technology = tech_gpm_precursor_remnants_discovery_2
						has_technology = tech_gpm_precursor_satellite_grid_discovery
						has_technology = tech_gpm_precursor_satellite_grid_discovery_2
						has_technology = tech_gpm_precursor_city_discovery
						has_technology = tech_gpm_precursor_city_discovery_2
						has_technology = tech_gpm_precursor_ruins_discovery
						has_technology = tech_gpm_precursor_ruins_discovery_2
						has_technology = tech_gpm_precursor_obelisks_discovery
						has_technology = tech_gpm_precursor_obelisks_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -power array
fleet_event = {
	id = gpm_dig_site.151
	title = gpm_dig_site.151.name
	desc = gpm_dig_site.151.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.151.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
			
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_energy_grid_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_energy_grid_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_energy_grid_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_energy_grid_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_energy_grid_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_energy_grid_discovery_2 } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_planetary_shield_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_planetary_shield_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_planetary_shield_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_planetary_shield_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_planetary_shield_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_planetary_shield_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_energy_grid_discovery
						has_technology = tech_gpm_precursor_energy_grid_discovery_2
						has_technology = tech_gpm_precursor_planetary_shield_discovery
						has_technology = tech_gpm_precursor_planetary_shield_discovery_2
					}
				}
			}
			0 = {
				owner = {
					add_monthly_resource_mult = {
						resource = energy
						value = @tier3materialreward
						min = @tier3materialmin
						max = @tier3materialmax
					}
				}
				modifier = { add = 10 
					owner = {
						has_technology = tech_gpm_precursor_energy_grid_discovery
						has_technology = tech_gpm_precursor_energy_grid_discovery_2
						has_technology = tech_gpm_precursor_planetary_shield_discovery
						has_technology = tech_gpm_precursor_planetary_shield_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -ship disign facilicy
fleet_event = {
	id = gpm_dig_site.152
	title = gpm_dig_site.152.name
	desc = gpm_dig_site.152.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.152.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_shipyards_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_shipyards_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_shipyards_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_shipyards_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_shipyards_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_shipyards_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_shipyards_discovery
						has_technology = tech_gpm_precursor_shipyards_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -orbital monitoring station
fleet_event = {
	id = gpm_dig_site.153
	title = gpm_dig_site.153.name
	desc = gpm_dig_site.153.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.153.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_planetary_gun_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_planetary_gun_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_planetary_gun_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_planetary_gun_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_planetary_gun_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_planetary_gun_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_planetary_gun_discovery
						has_technology = tech_gpm_precursor_planetary_gun_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -bunker
fleet_event = {
	id = gpm_dig_site.154
	title = gpm_dig_site.154.name
	desc = gpm_dig_site.154.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.154.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_bunker_grid_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_bunker_grid_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_bunker_grid_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_bunker_grid_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_bunker_grid_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_bunker_grid_discovery_2 } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_battleground_ruins_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_battleground_ruins_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_battleground_ruins_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_battleground_ruins_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_battleground_ruins_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_battleground_ruins_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_bunker_grid_discovery
						has_technology = tech_gpm_precursor_bunker_grid_discovery_2
						has_technology = tech_gpm_precursor_battleground_ruins_discovery
						has_technology = tech_gpm_precursor_battleground_ruins_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -command center
fleet_event = {
	id = gpm_dig_site.155
	title = gpm_dig_site.155.name
	desc = gpm_dig_site.155.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.155.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_mechs_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_mechs_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_mechs_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_mechs_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_mechs_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_mechs_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_mechs_discovery
						has_technology = tech_gpm_precursor_mechs_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -crashed floating city
fleet_event = {
	id = gpm_dig_site.156
	title = gpm_dig_site.156.name
	desc = gpm_dig_site.156.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.156.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_floating_city_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_floating_city_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_floating_city_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_floating_city_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_floating_city_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_floating_city_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_floating_city_discovery
						has_technology = tech_gpm_precursor_floating_city_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -administrative hub
fleet_event = {
	id = gpm_dig_site.157
	title = gpm_dig_site.157.name
	desc = gpm_dig_site.157.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.157.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_capital_complex_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_capital_complex_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_capital_complex_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_capital_complex_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_capital_complex_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_capital_complex_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_capital_complex_discovery
						has_technology = tech_gpm_precursor_capital_complex_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -communication tower
fleet_event = {
	id = gpm_dig_site.158
	title = gpm_dig_site.158.name
	desc = gpm_dig_site.158.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.158.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_communication_hub_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_communication_hub_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_communication_hub_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_communication_hub_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_communication_hub_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_communication_hub_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_communication_hub_discovery
						has_technology = tech_gpm_precursor_communication_hub_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -quantum databanks
fleet_event = {
	id = gpm_dig_site.159
	title = gpm_dig_site.159.name
	desc = gpm_dig_site.159.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.159.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_singularity_drive_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_singularity_drive_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_singularity_drive_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_singularity_drive_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_singularity_drive_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_singularity_drive_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_singularity_drive_discovery
						has_technology = tech_gpm_precursor_singularity_drive_discovery_2
					}
				}
			}			
			0 = {
				owner = {
					locked_random_list = {
						10 = {
							add_random_research_option = {
								add_progress = 0.99
								area = engineering
								tier = 2
								ignore_prereqs = no
								fail_effects = {
									add_monthly_resource_mult = {
										resource = engineering_research
										value = @tier5researchreward
										min = @tier5researchmin
										max = @tier5researchmax
									}
								}
							}
						}
						10 = {
							add_random_research_option = {
								add_progress = 0.99
								area = physics
								tier = 2
								ignore_prereqs = no
								fail_effects = {
									add_monthly_resource_mult = {
										resource = physics_research
										value = @tier5researchreward
										min = @tier5researchmin
										max = @tier5researchmax
									}
								}
							}
						}
						10 = {
							add_random_research_option = {
								add_progress = 0.99
								area = society
								tier = 2
								ignore_prereqs = no
								fail_effects = {
									add_monthly_resource_mult = {
										resource = society_research
										value = @tier5researchreward
										min = @tier5researchmin
										max = @tier5researchmax
									}
								}
							}
						}	
						10 = {
							add_monthly_resource_mult = {
								resource = society_research
								value = @tier4researchreward
								min = @tier4researchmin
								max = @tier4researchmax
							}
						}
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_singularity_drive_discovery
						has_technology = tech_gpm_precursor_singularity_drive_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -abandoned fortress
fleet_event = {
	id = gpm_dig_site.160
	title = gpm_dig_site.160.name
	desc = gpm_dig_site.160.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.160.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_eternal_fortress_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_eternal_fortress_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_eternal_fortress_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_eternal_fortress_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_eternal_fortress_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_eternal_fortress_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_eternal_fortress_discovery
						has_technology = tech_gpm_precursor_eternal_fortress_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -escapee hideout
fleet_event = {
	id = gpm_dig_site.161
	title = gpm_dig_site.161.name
	desc = gpm_dig_site.161.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.161.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_prison_planet_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_prison_planet_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_prison_planet_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_prison_planet_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_prison_planet_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_prison_planet_discovery_2 } }
				modifier = { factor = 0 owner = { is_hive_empire = yes } }
				modifier = { factor = 0 owner = { is_machine_empire = yes } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_prison_planet_discovery
						has_technology = tech_gpm_precursor_prison_planet_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -mining unit storage
fleet_event = {
	id = gpm_dig_site.162
	title = gpm_dig_site.162.name
	desc = gpm_dig_site.162.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.162.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_mines_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_mines_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_mines_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_mines_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_mines_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_mines_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_mines_discovery
						has_technology = tech_gpm_precursor_mines_discovery_2
					}
				}
			}
			0 = {
				owner = {
					add_monthly_resource_mult = {
						resource = minerals
						value = @tier4materialreward
						min = @tier4materialmin
						max = @tier4materialmax
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_mines_discovery
						has_technology = tech_gpm_precursor_mines_discovery_2
					}
				}
			}
			0 = {
				owner = {
					add_monthly_resource_mult = {
						resource = alloys
						value = @tier3materialreward
						min = @tier3materialmin
						max = @tier3materialmax
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_mines_discovery
						has_technology = tech_gpm_precursor_mines_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -weapons manufactory
fleet_event = {
	id = gpm_dig_site.163
	title = gpm_dig_site.163.name
	desc = gpm_dig_site.163.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.163.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_manufactorium_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_manufactorium_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_manufactorium_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_manufactorium_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_manufactorium_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_manufactorium_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_manufactorium_discovery
						has_technology = tech_gpm_precursor_manufactorium_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -vaults
fleet_event = {
	id = gpm_dig_site.164
	title = gpm_dig_site.164.name
	desc = gpm_dig_site.164.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.164.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_vaults_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_vaults_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_vaults_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_vaults_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_vaults_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_vaults_discovery_2 } }
			}
			0 = {
				large_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_vaults_discovery
						has_technology = tech_gpm_precursor_vaults_discovery_2
					}
				}
			}
			0 = {
				owner = {
					add_monthly_resource_mult = {
						resource = energy
						value = @tier4materialreward
						min = @tier4materialmin
						max = @tier4materialmax
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_vaults_discovery
						has_technology = tech_gpm_precursor_vaults_discovery_2
					}
				}
			}
			0 = {
				owner = {
					add_monthly_resource_mult = {
						resource = minerals
						value = @tier4materialreward
						min = @tier4materialmin
						max = @tier4materialmax
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_vaults_discovery
						has_technology = tech_gpm_precursor_vaults_discovery_2
					}
				}
			}
			0 = {
				owner = {
					add_monthly_resource_mult = {
						resource = alloys
						value = @tier4materialreward
						min = @tier4materialmin
						max = @tier4materialmax
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_vaults_discovery
						has_technology = tech_gpm_precursor_vaults_discovery_2
					}
				}
			}			
			0 = {
				owner = {
					add_monthly_resource_mult = {
						resource = sr_zro
						value = @tier4materialreward
						min = @tier4materialmin
						max = @tier4materialmax
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_vaults_discovery
						has_technology = tech_gpm_precursor_vaults_discovery_2
					}
				}
			}
			0 = {
				owner = {
					add_monthly_resource_mult = {
						resource = sr_living_metal
						value = @tier4materialreward
						min = @tier4materialmin
						max = @tier4materialmax
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_vaults_discovery
						has_technology = tech_gpm_precursor_vaults_discovery_2
					}
				}
			}
			0 = {
				owner = {
					add_monthly_resource_mult = {
						resource = sr_dark_matter
						value = @tier4materialreward
						min = @tier4materialmin
						max = @tier4materialmax
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_vaults_discovery
						has_technology = tech_gpm_precursor_vaults_discovery_2
					}
				}
			}
			0 = {
				owner = {
					add_monthly_resource_mult = {
						resource = rare_crystals
						value = @tier4materialreward
						min = @tier4materialmin
						max = @tier4materialmax
					}
					add_monthly_resource_mult = {
						resource = exotic_gases
						value = @tier4materialreward
						min = @tier4materialmin
						max = @tier4materialmax
					}
					add_monthly_resource_mult = {
						resource = volatile_motes
						value = @tier4materialreward
						min = @tier4materialmin
						max = @tier4materialmax
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_vaults_discovery
						has_technology = tech_gpm_precursor_vaults_discovery_2
					}
				}
			}
			0 = {
				owner = {
					IF = {
						limit = {
							is_regular_empire = yes
							NOR = { 
								has_technology = tech_psionic_theory
								has_tech_option = tech_psionic_theory
							}
						}
						add_research_option = tech_psionic_theory
						add_tech_progress = {
							tech = tech_psionic_theory
							progress = 0.25
						}
					}
					ELSE = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier4researchreward
							min = @tier4researchmin
							max = @tier4researchmax
						}
					}
				}
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_vaults_discovery
						has_technology = tech_gpm_precursor_vaults_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -burries crashed orbital
fleet_event = {
	id = gpm_dig_site.165
	title = gpm_dig_site.165.name
	desc = gpm_dig_site.165.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.165.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_crashed_spacestation_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_crashed_spacestation_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_crashed_spacestation_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_crashed_spacestation_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_crashed_spacestation_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_crashed_spacestation_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_crashed_spacestation_discovery
						has_technology = tech_gpm_precursor_crashed_spacestation_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -outpost ruins
fleet_event = {
	id = gpm_dig_site.166
	title = gpm_dig_site.166.name
	desc = gpm_dig_site.166.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.166.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_outpost_ruins_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_outpost_ruins_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_outpost_ruins_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_outpost_ruins_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_outpost_ruins_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_outpost_ruins_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_outpost_ruins_discovery
						has_technology = tech_gpm_precursor_outpost_ruins_discovery_2
					}
				}
			}
		}
	}
}
# PrecDig 6 -harbor warehouse
fleet_event = {
	id = gpm_dig_site.167
	title = gpm_dig_site.167.name
	desc = gpm_dig_site.167.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	# location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.167.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2materialmin
				max = @tier2materialmax
			}
		}
		locked_random_list = {
			85 = { medium_artifact_reward = yes }
			15 = { large_artifact_reward = yes }
		}
		owner = { collector_surrenders_artifact = yes }
		owner = { gpm_random_precursor_tech_dig_site_reward = yes }
		locked_random_list = {
			10 = {
				owner = { add_research_option = tech_gpm_precursor_harbor_ruins_discovery }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_harbor_ruins_discovery progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_harbor_ruins_discovery } }
			}
			10 = {
				owner = { add_research_option = tech_gpm_precursor_harbor_ruins_discovery_2 }
				hidden_effect = { owner = { add_tech_progress = { tech = tech_gpm_precursor_harbor_ruins_discovery_2 progress = 0.10 } } }
				modifier = { factor = 0 owner = { has_technology = tech_gpm_precursor_harbor_ruins_discovery_2 } }
			}
			0 = {
				medium_artifact_reward = yes
				modifier = { add = 10
					owner = {
						has_technology = tech_gpm_precursor_harbor_ruins_discovery
						has_technology = tech_gpm_precursor_harbor_ruins_discovery_2
					}
				}
			}
		}
	}
}