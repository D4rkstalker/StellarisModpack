namespace = gpm_dig_site

# Time lost planet 1
fleet_event = {
	id = gpm_dig_site.10
	title = gpm_dig_site.10.name
	desc = gpm_dig_site.10.desc
	picture = GFX_evt_gpm_time_lost
	show_sound = event_scanner
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = CURIOUS
		owner = { 
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
	}
}
# Time lost planet 2
fleet_event = {
	id = gpm_dig_site.11
	title = gpm_dig_site.11.name
	desc = gpm_dig_site.11.desc
	picture = GFX_evt_gpm_time_lost
	show_sound = event_sensor_ping
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = EXCELLENT
		owner = { 
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
	}
}
# Time lost planet 3
fleet_event = {
	id = gpm_dig_site.12
	title = gpm_dig_site.12.name
	desc = gpm_dig_site.12.desc
	picture = GFX_evt_gpm_time_lost_relic
	show_sound = event_mystic_reveal
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = FASCINATING
		owner = { 
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}
		owner = { add_relic = gpm_r_time_displacer }
	}
}

# PrecDig 1 - Setting up camp
fleet_event = {
	id = gpm_dig_site.100
	title = gpm_dig_site.100.name
	desc = gpm_dig_site.100.desc
	picture = GFX_evt_gpm_PrecDig_Camp
	show_sound = event_dig_site
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.100.a
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
	}
}
# PrecDig 2 - sending out teams
fleet_event = {
	id = gpm_dig_site.110
	title = gpm_dig_site.110.name
	desc = gpm_dig_site.110.desc
	picture = GFX_evt_gpm_PrecDig_Teams
	show_sound = event_whispering
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = CURIOUS
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
		small_artifact_reward = yes
	}
}
# PrecDig 3 - sample analysis
fleet_event = {
	id = gpm_dig_site.120
	title = gpm_dig_site.120.name
	desc = gpm_dig_site.120.desc
	picture = GFX_evt_gpm_PrecDig_Sample
	show_sound = event_laboratory_sound
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.120.a
		owner = { 
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
		medium_artifact_reward = yes
		gpm_random_precursor_empire_dig_site_bonus = yes
	}
}
# PrecDig 4 - secondary team
fleet_event = {
	id = gpm_dig_site.130
	title = gpm_dig_site.130.name
	desc = gpm_dig_site.130.desc
	picture = GFX_evt_gpm_PrecDig_Teams_02
	show_sound = event_wind_ruins
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.130.a
		owner = { 
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
		small_artifact_reward = yes
	}
}
# PrecDig 5 -locked door
fleet_event = {
	id = gpm_dig_site.140
	title = gpm_dig_site.140.name
	desc = gpm_dig_site.140.desc
	picture = GFX_evt_gpm_PrecDig_Door
	show_sound = event_drilling
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
		fromfrom.planet = { set_planet_flag = gpm_has_precursor_digsite_progress }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.140.a
		owner = { 
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
		small_artifact_reward = yes
	}
}

# PrecDig 6 - Random Event List Master Event
# Stage 2 - Random Outcome
fleet_event = {
	id = gpm_dig_site.9000
	hide_window = yes
	
	archaeology = yes
	is_triggered_only = yes
	
	immediate = {
		random_list	= {
			10 = {
				# default
				fleet_event = { id = gpm_dig_site.150 }
				modifier = { factor = 0
					fromfrom.planet = {
						NOR = { 
							has_modifier = gpm_precursor_remnants
							has_modifier = gpm_precursor_satalite_grid
							has_modifier = gpm_precursor_city
							has_modifier = gpm_precursor_ruins
							has_modifier = gpm_precursor_obelisks
						}
					}
				}
			}
			10 = {
				# power array
				fleet_event = { id = gpm_dig_site.151 }
				modifier = { factor = 0
					fromfrom.planet = {
						NOR = { 
							has_modifier = gpm_precursor_energy_grid
							has_modifier = gpm_precursor_planetary_shield
						}
					}
				}
			}
			10 = {
				# ship design facility
				fleet_event = { id = gpm_dig_site.152 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_shipyards } } }
			}
			10 = {
				# orbital monitoring station
				fleet_event = { id = gpm_dig_site.153 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_planetary_gun } } }
			}
			10 = {
				# bunker
				fleet_event = { id = gpm_dig_site.154 }
				modifier = { factor = 0
					fromfrom.planet = {
						NOR = { 
							has_modifier = gpm_precursor_bunker_grid
							has_modifier = gpm_precursor_battleground_ruins
						}
					}
				}
			}
			10 = {
				# command center
				fleet_event = { id = gpm_dig_site.155 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_mechs } } }
			}
			10 = {
				# crashed floating city
				fleet_event = { id = gpm_dig_site.156 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_floating_city } } }
			}
			10 = {
				# adminstrative hub
				fleet_event = { id = gpm_dig_site.157 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_capital_complex } } }
			}
			10 = {
				# communication tower
				fleet_event = { id = gpm_dig_site.158 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_communication_hub } } }
			}
			10 = {
				# quantum databanks
				fleet_event = { id = gpm_dig_site.159 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_singularity_drive } } }
			}
			10 = {
				# abadonded fortress
				fleet_event = { id = gpm_dig_site.160 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_eternal_fortress } } }
			}
			10 = {
				# escapee hideout
				fleet_event = { id = gpm_dig_site.161 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_prison_planet } } }
			}
			10 = {
				# mining unit storage
				fleet_event = { id = gpm_dig_site.162 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_mines } } }
			}
			10 = {
				# weapons manufactory
				fleet_event = { id = gpm_dig_site.163 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_manufactorium } } }
			}
			10 = {
				# vaults
				fleet_event = { id = gpm_dig_site.164 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_vaults } } }
			}
			10 = {
				# burried crashed orbital
				fleet_event = { id = gpm_dig_site.165 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_crashed_spacestation } } }
			}
			10 = {
				# outpost ruins
				fleet_event = { id = gpm_dig_site.166 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_outpost_ruins } } }
			}
			10 = {
				# harbor warehouse
				fleet_event = { id = gpm_dig_site.167 }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_harbor_ruins } } }
			}
		}
	}

	after = { 
		from = { expire_site_event = gpm_dig_site.9000 } 
	}
}

# PrecDig 6 -Default
fleet_event = {
	id = gpm_dig_site.150
	title = gpm_dig_site.150.name
	desc = gpm_dig_site.150.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.150.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			90 = { }
			10 = {
				owner = { add_relic = gpm_r_encyclopedia_galactica }
				set_global_flag = gpm_r_encyclopedia_galactica_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_encyclopedia_galactica } }
				modifier = { factor = 0 has_global_flag = gpm_r_encyclopedia_galactica_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
			10 = {
				owner = { add_relic = gpm_r_quantum_sphere }
				set_global_flag = gpm_r_quantum_sphere_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_quantum_sphere } }
				modifier = { factor = 0 has_global_flag = gpm_r_quantum_sphere_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
			10 = {
				owner = { add_relic = gpm_r_ai_architect }
				set_global_flag = gpm_r_ai_architect_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_ai_architect } }
				modifier = { factor = 0 has_global_flag = gpm_r_ai_architect_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
			10 = {
				owner = { 
					add_relic = gpm_r_soul_gem
				}
				set_global_flag = gpm_r_soul_gem_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_soul_gem } }
				modifier = { factor = 0 has_global_flag = gpm_r_soul_gem_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
			10 = {
				owner = { add_relic = gpm_r_self_repairing_obelisk }
				set_global_flag = gpm_r_self_repairing_obelisk_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_self_repairing_obelisk } }
				modifier = { factor = 0 has_global_flag = gpm_r_self_repairing_obelisk_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		locked_random_list = {
			10 = {
				owner = { gpm_random_reward_precursor_remnants = yes }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_remnants } } }
			}
			10 = {
				owner = { gpm_random_reward_precursor_satalite_grid = yes }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_satalite_grid } } }
			}
			10 = {
				owner = { gpm_random_reward_precursor_city = yes }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_city } } }
			}
			10 = {
				owner = { gpm_random_reward_precursor_ruins = yes }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_ruins } } }
			}
			10 = {
				owner = { gpm_random_reward_precursor_obelisks = yes }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_obelisks } } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.150.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -power array
fleet_event = {
	id = gpm_dig_site.151
	title = gpm_dig_site.151.name
	desc = gpm_dig_site.151.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.151.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		
		# root.prev = { from = { add_modifier = { modifier = gpm_precursor_planetary_shield } } }
		
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_zero_energy_generator }
				set_global_flag = gpm_r_zero_energy_generator_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_zero_energy_generator } }
				modifier = { factor = 0 has_global_flag = gpm_r_zero_energy_generator_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
			15 = {
				owner = { add_relic = gpm_r_mysterious_shield_generator }
				set_global_flag = gpm_r_mysterious_shield_generator_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_mysterious_shield_generator } }
				modifier = { factor = 0 has_global_flag = gpm_r_mysterious_shield_generator_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		locked_random_list = {
			10 = {
				owner = { gpm_random_reward_precursor_energy_grid = yes }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_energy_grid } } }
			}
			10 = {
				owner = { gpm_random_reward_precursor_planetary_shield = yes }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_planetary_shield } } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.151.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -ship disign facilicy
fleet_event = {
	id = gpm_dig_site.152
	title = gpm_dig_site.152.name
	desc = gpm_dig_site.152.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.152.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_encrypted_sct }
				set_global_flag = gpm_r_encrypted_sct_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_encrypted_sct } }
				modifier = { factor = 0 has_global_flag = gpm_r_encrypted_sct_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_shipyards = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.152.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -orbital monitoring station
fleet_event = {
	id = gpm_dig_site.153
	title = gpm_dig_site.153.name
	desc = gpm_dig_site.153.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.153.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_experimental_weapon }
				set_global_flag = gpm_r_experimental_weapon_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_experimental_weapon } }
				modifier = { factor = 0 has_global_flag = gpm_r_experimental_weapon_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_planetary_gun = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.153.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -bunker
fleet_event = {
	id = gpm_dig_site.154
	title = gpm_dig_site.154.name
	desc = gpm_dig_site.154.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.154.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_fallout_emergency_replicator }
				set_global_flag = gpm_r_fallout_emergency_replicator_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_fallout_emergency_replicator } }
				modifier = { factor = 0 has_global_flag = gpm_r_fallout_emergency_replicator_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
			15 = {
				owner = { 
					add_relic = gpm_r_banner_of_the_fallen
					hidden_effect = { country_event = { id = gpm_relics.20 } } # adds trait to admirals
				}
				set_global_flag = gpm_r_banner_of_the_fallen_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_banner_of_the_fallen } }
				modifier = { factor = 0 has_global_flag = gpm_r_banner_of_the_fallen_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		locked_random_list = {
			10 = {
				owner = { gpm_random_reward_precursor_bunker_grid = yes }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_bunker_grid } } }
			}
			10 = {
				owner = { gpm_random_reward_precursor_battleground_ruins = yes }
				modifier = { factor = 0 fromfrom.planet = { NOT = { has_modifier = gpm_precursor_battleground_ruins } } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.154.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -command center
fleet_event = {
	id = gpm_dig_site.155
	title = gpm_dig_site.155.name
	desc = gpm_dig_site.155.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.155.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_power_core }
				set_global_flag = gpm_r_power_core_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_power_core } }
				modifier = { factor = 0 has_global_flag = gpm_r_power_core_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_mechs = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.155.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -crashed floating city
fleet_event = {
	id = gpm_dig_site.156
	title = gpm_dig_site.156.name
	desc = gpm_dig_site.156.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.156.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_gravity_engine }
				set_global_flag = gpm_r_gravity_engine_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_gravity_engine } }
				modifier = { factor = 0 has_global_flag = gpm_r_gravity_engine_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_floating_city = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.156.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -administrative hub
fleet_event = {
	id = gpm_dig_site.157
	title = gpm_dig_site.157.name
	desc = gpm_dig_site.157.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.157.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_codex_administratum }
				set_global_flag = gpm_r_codex_administratum_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_codex_administratum } }
				modifier = { factor = 0 has_global_flag = gpm_r_codex_administratum_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_capital_complex = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.157.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -communication tower
fleet_event = {
	id = gpm_dig_site.158
	title = gpm_dig_site.158.name
	desc = gpm_dig_site.158.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.158.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_enigmatic_advisor }
				set_global_flag = gpm_r_enigmatic_advisor_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_enigmatic_advisor } }
				modifier = { factor = 0 OR = {
					owner = { is_gestalt = yes }
					NOT = { owner = {  has_valid_civic = civic_machine_servitor } }
					}
				}
				modifier = { factor = 0 has_global_flag = gpm_r_enigmatic_advisor_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_communication_hub = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.158.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -quantum databanks
fleet_event = {
	id = gpm_dig_site.159
	title = gpm_dig_site.159.name
	desc = gpm_dig_site.159.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.159.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_positronic_microchip }
				set_global_flag = gpm_r_positronic_microchip_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_positronic_microchip } }
				modifier = { factor = 0 has_global_flag = gpm_r_positronic_microchip_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_singularity_drive = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.159.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -abandoned fortress
fleet_event = {
	id = gpm_dig_site.160
	title = gpm_dig_site.160.name
	desc = gpm_dig_site.160.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.160.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_venerable_dreadnaught }
				set_global_flag = gpm_r_venerable_dreadnaught_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_venerable_dreadnaught } }
				modifier = { factor = 0 has_global_flag = gpm_r_venerable_dreadnaught_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_eternal_fortress = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.160.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -escapee hideout
fleet_event = {
	id = gpm_dig_site.161
	title = gpm_dig_site.161.name
	desc = gpm_dig_site.161.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.161.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_sentinel_queen }
				set_global_flag = gpm_r_sentinel_queen_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_sentinel_queen } }
				modifier = { factor = 0 has_global_flag = gpm_r_sentinel_queen_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_prison_planet = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.161.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -mining unit storage
fleet_event = {
	id = gpm_dig_site.162
	title = gpm_dig_site.162.name
	desc = gpm_dig_site.162.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.162.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_earthquake_engine }
				set_global_flag = gpm_r_earthquake_engine_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_earthquake_engine } }
				modifier = { factor = 0 has_global_flag = gpm_r_earthquake_engine_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_mines = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.162.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -weapons manufactory
fleet_event = {
	id = gpm_dig_site.163
	title = gpm_dig_site.163.name
	desc = gpm_dig_site.163.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.163.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_manufactorium_ship }
				set_global_flag = gpm_r_manufactorium_ship_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_manufactorium_ship } }
				modifier = { factor = 0 has_global_flag = gpm_r_manufactorium_ship_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_manufactorium = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.163.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -vaults
fleet_event = {
	id = gpm_dig_site.164
	title = gpm_dig_site.164.name
	desc = gpm_dig_site.164.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.164.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_datacube }
				set_global_flag = gpm_r_datacube_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_datacube } }
				modifier = { factor = 0 has_global_flag = gpm_r_datacube_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_vaults = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.164.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -burries crashed orbital
fleet_event = {
	id = gpm_dig_site.165
	title = gpm_dig_site.165.name
	desc = gpm_dig_site.165.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.165.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_self_assembly_hub }
				set_global_flag = gpm_r_self_assembly_hub_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_self_assembly_hub } }
				modifier = { factor = 0 has_global_flag = gpm_r_self_assembly_hub_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_crashed_spacestation = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.165.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -outpost ruins
fleet_event = {
	id = gpm_dig_site.166
	title = gpm_dig_site.166.name
	desc = gpm_dig_site.166.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.166.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { 
					add_relic = gpm_r_cloaking_device
					hidden_effect = { country_event = { id = gpm_relics.1 } } # adds trait to admirals
				}
				set_global_flag = gpm_r_cloaking_device_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_cloaking_device } }
				modifier = { factor = 0 has_global_flag = gpm_r_cloaking_device_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_outpost_ruins = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.166.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}
# PrecDig 6 -harbor warehouse
fleet_event = {
	id = gpm_dig_site.167
	title = gpm_dig_site.167.name
	desc = gpm_dig_site.167.desc
	picture = GFX_evt_gpm_PrecDig_Reward
	show_sound = event_finding_loot
	location = from

	archaeology = yes

	is_triggered_only = yes

	immediate = {
		fromfrom = { set_site_progress_locked = yes }
	}

	after = { 
		fromfrom = { set_site_progress_locked = no } 
	}

	option = {
		name = gpm_dig_site.167.a
		custom_tooltip = gpm_survey_reward_empire
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4materialmin
				max = @tier4materialmax
			}
		}
		custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			85 = { }
			15 = {
				owner = { add_relic = gpm_r_q_storage_compressor }
				set_global_flag = gpm_r_q_storage_compressor_found
				modifier = { factor = 0 owner = { has_relic = gpm_r_q_storage_compressor } }
				modifier = { factor = 0 has_global_flag = gpm_r_q_storage_compressor_found }
				modifier = { factor = 10 owner = {  gpm_has_modded_precursor_relic = no } }
				modifier = { factor = 10 owner = { is_ai = yes } }
			}
		}
		owner = { gpm_random_reward_precursor_harbor_ruins = yes }
		# owner = { collector_surrenders_artifact = yes }
	}
	# Megacorp option
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		
		name = gpm_dig_site.167.MEGACORP
		custom_tooltip = gpm_survey_reward_empire
		owner = { add_resource = { influence = 200 } }
		custom_tooltip = gpm_dig_site_black_market
		owner = {
			locked_random_list = {
				11 = { add_resource = { energy = 10000 } }
				22 = { add_resource = { energy = 12500 } }
				33 = { add_resource = { energy = 13750 } }
				44 = { add_resource = { energy = 15000 } }
				33 = { add_resource = { energy = 16250 } }
				22 = { add_resource = { energy = 17500 } }
				11 = { add_resource = { energy = 20000 } }
			}
		}
		# owner = { collector_surrenders_artifact = yes }
	}
}