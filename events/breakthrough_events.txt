namespace = TechAscendant

### Mod Flag
country_event = {
	id = TechAscendant.5000
	hide_window = yes
	fire_only_once = yes
	trigger = { NOT = { has_global_flag = TechAscendant_active } }
	immediate = { set_global_flag = TechAscendant_active }
}

### Mapmode Counter
country_event = {
    id = TechAscendant.1000
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        OR = { 
			last_increased_tech = tech_materials_breakthrough
			last_increased_tech = tech_industry_breakthrough
			last_increased_tech = tech_voidcraft_breakthrough
			last_increased_tech = tech_rocketry_breakthrough
			last_increased_tech = tech_particles_breakthrough
			last_increased_tech = tech_field_manipulation_breakthrough
			last_increased_tech = tech_computing_breakthrough
			last_increased_tech = tech_psionics_breakthrough
			last_increased_tech = tech_biology_breakthrough
			last_increased_tech = tech_statecraft_breakthrough
			last_increased_tech = tech_new_worlds_breakthrough
			last_increased_tech = tech_military_theory_breakthrough
        }
    }
    immediate = {
        change_variable = { which = breakthroughs value = 1 }
    }
}

### Mapmode Initializer
country_event = {
    id = TechAscendant.2001
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        always = yes
    }
    immediate = {
        # set_global_flag = breakthroughs_counted
        every_playable_country = {
            set_variable = { which = breakthroughs value = 0 }
            if = {
                limit = {
                    has_technology = tech_materials_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_industry_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_rocketry_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_voidcraft_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_particles_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_field_manipulation_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_computing_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_psionics_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_biology_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_new_worlds_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_statecraft_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
            if = {
                limit = {
                    has_technology = tech_military_theory_breakthrough
                }
                change_variable = { which = breakthroughs value = 1 }
            }
        }
    }
}


### Flag a Breakthrough (Moved to breaklog.6)
# country_event = {
#     id = TechAscendant.0
#     hide_window = yes
#     is_triggered_only = yes
    
#     trigger = {
#         any_playable_country = { 
#             OR = {
#                 AND = {
#                     has_technology = tech_materials_breakthrough
#                     NOT = { has_country_flag = "materials_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_industry_breakthrough
#                     NOT = { has_country_flag = "industry_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_rocketry_breakthrough
#                     NOT = { has_country_flag = "rocketry_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_particles_breakthrough
#                     NOT = { has_country_flag = "particles_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_voidcraft_breakthrough
#                     NOT = { has_country_flag = "voidcraft_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_field_manipulation_breakthrough
#                     NOT = { has_country_flag = "field_manipulation_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_computing_breakthrough
#                     NOT = { has_country_flag = "computing_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_psionics_breakthrough
#                     NOT = { has_country_flag = "psionics_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_new_worlds_breakthrough
#                     NOT = { has_country_flag = "new_worlds_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_biology_breakthrough
#                     NOT = { has_country_flag = "biology_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_statecraft_breakthrough
#                     NOT = { has_country_flag = "statecraft_breakthrough" }
#                 }
#                 AND = {
#                     has_technology = tech_military_theory_breakthrough
#                     NOT = { has_country_flag = "military_theory_breakthrough" }
#                 }
#             }
#         }
#     }
#     immediate = {
#         country_event = { id = TechAscendant.110 }
#         country_event = { id = TechAscendant.210 }
#         country_event = { id = TechAscendant.310 }
#         country_event = { id = TechAscendant.410 }
#         country_event = { id = TechAscendant.510 }
#         country_event = { id = TechAscendant.610 }
#         country_event = { id = TechAscendant.710 }
#         country_event = { id = TechAscendant.810 }
#         country_event = { id = TechAscendant.910 }
#         country_event = { id = TechAscendant.1010 }
#         country_event = { id = TechAscendant.1110 }
#         country_event = { id = TechAscendant.1210 }
#     }
# }  

### Announce a known Breakthrough
country_event = {
    id = TechAscendant.100
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        any_playable_country = { 
            OR = {
                AND = {
                    has_technology = tech_materials_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "materials_known" }}
                }
                AND = {
                    has_technology = tech_industry_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "industry_known" }}
                }
                AND = {
                    has_technology = tech_rocketry_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "rocketry_known" }}
                }
                AND = {
                    has_technology = tech_particles_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "particles_known" }}
                }
                AND = {
                    has_technology = tech_voidcraft_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "voidcraft_known" }}
                }
                AND = {
                    has_technology = tech_field_manipulation_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "field_manipulation_known" }}
                }
                AND = {
                    has_technology = tech_computing_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "computing_known" }}
                }
                AND = {
                    has_technology = tech_psionics_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "psionics_known" }}
                }
                AND = {
                    has_technology = tech_new_worlds_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "new_worlds_known" }}
                }
                AND = {
                    has_technology = tech_biology_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "biology_known" }}
                }
                AND = {
                    has_technology = tech_statecraft_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "statecraft_known" }}
                }
                AND = {
                    has_technology = tech_military_theory_breakthrough
                    has_communications = root
                    NOT = { root = { has_country_flag = "military_theory_known" }}
                }
            }
        }
    }
    immediate = {
        country_event = { id = TechAscendant.111 }
        country_event = { id = TechAscendant.211 }
        country_event = { id = TechAscendant.311 }
        country_event = { id = TechAscendant.411 }
        country_event = { id = TechAscendant.511 }
        country_event = { id = TechAscendant.611 }
        country_event = { id = TechAscendant.711 }
        country_event = { id = TechAscendant.811 }
        country_event = { id = TechAscendant.911 }
        country_event = { id = TechAscendant.1011 }
        country_event = { id = TechAscendant.1111 }
        country_event = { id = TechAscendant.1211 }
    }
}  

##########################################
### Events for Materials breakthrough 1/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.1
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_materials_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_materials_breakthrough
                NOT = { has_ascension_perk = ap_enigmatic_engineering }
                OR = {
                    is_neighbor_of = root
                    has_research_agreement = root
                }               
            }
            save_event_target_as = materials_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:materials_origin
                their_opinion = { who = event_target:materials_origin value > 0 }
                NOT = { has_country_flag = "materials_breakthrough_spread_friendly" }
            }
            set_country_flag = "materials_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_materials counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.102 }
        }
        if = {
            limit = {
                exists = event_target:materials_origin
                their_opinion = { who = event_target:materials_origin value <= 0 }
                NOT = { has_country_flag = "materials_breakthrough_spread_hostile" }
            }
            set_country_flag = "materials_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_materials counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.106 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.101
# 	title = breakthrough_engineering.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_nanofab
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.102 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.102
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_materials_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:materials_origin
                OR = { 
                    is_neighbor_of = event_target:materials_origin
                    has_research_agreement = event_target:materials_origin
                }
                their_opinion = { who = event_target:materials_origin value > 0 }
                NOT = { event_target:materials_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.102 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:materials_origin
                OR = { 
                    is_neighbor_of = event_target:materials_origin
                    has_research_agreement = event_target:materials_origin
                }
                their_opinion = { who = event_target:materials_origin value <= 0 }
                NOT = { event_target:materials_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }                   
            country_event = { id = TechAscendant.103 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:materials_origin }
                    AND = {
                        exists = event_target:materials_origin
                        NOR = { 
                            is_neighbor_of = event_target:materials_origin
                            has_research_agreement = event_target:materials_origin
                        }
                    }
                    AND = {
                        exists = event_target:materials_origin
                        event_target:materials_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.109 }
            remove_country_flag = "materials_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_materials counter = friendly_neighbor amount = -1 }
        }
    }
}



### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.103
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "materials_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_materials counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "materials_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_materials counter = hostile_neighbor amount = 1 }
            set_country_flag = "materials_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.106 
                days = 360
            }
        } 
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.105
# 	title = breakthrough_engineering.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_nanofab
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.106 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.106
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_materials_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:materials_origin
                OR = { 
                    is_neighbor_of = event_target:materials_origin
                    has_research_agreement = event_target:materials_origin
                }
                their_opinion = { who = event_target:materials_origin value > 0 }
                NOT = { event_target:materials_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.107 
            }
        }
        if = {
            limit = {
                exists = event_target:materials_origin
                OR = { 
                    is_neighbor_of = event_target:materials_origin
                    has_research_agreement = event_target:materials_origin
                }
                their_opinion = { who = event_target:materials_origin value <= 0 }
                NOT = { event_target:materials_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.106
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:materials_origin }
                    AND = {
                        exists = event_target:materials_origin
                        NOR = { 
                            is_neighbor_of = event_target:materials_origin
                            has_research_agreement = event_target:materials_origin
                        }
                    }
                    AND = {
                        exists = event_target:materials_origin
                        event_target:materials_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.109 }
            remove_country_flag = "materials_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_materials counter = hostile_neighbor amount = -1 }            
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.107
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes	

    immediate = {        
        remove_country_flag = "materials_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_materials counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "materials_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_materials counter = friendly_neighbor amount = 1 }
            set_country_flag = "materials_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.102 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.109
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
	
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.110
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_materials_breakthrough
#             NOT = { has_country_flag = "materials_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_materials_breakthrough
#                 NOT = { has_country_flag = "materials_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "materials_discovered"
#                     }
#                 }
#                 set_global_flag = "materials_discovered"
#                 save_global_event_target_as = "materials_first"
#             }
#             set_country_flag = "materials_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.111
	title = materials_breakthrough.title
	desc = breakthrough.materials.desc
	picture = GFX_evt_nanofab
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_materials_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "materials_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "materials.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_materials_breakthrough
                has_communications = root
            }
            save_event_target_as = materials_origin
        }
        set_country_flag = "materials_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_materials 
                    has_technology = tech_materials_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_materials target = root }
            country_event = {
                id = breaklog.10
            }
        }      
    }
}


##########################################
### Events for Industry breakthrough 2/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.2
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_industry_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_industry_breakthrough  
                NOT = { has_ascension_perk = ap_enigmatic_engineering } 
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                }                                  
            }
            save_event_target_as = industry_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:industry_origin
                their_opinion = { who = event_target:industry_origin value > 0 }
                NOT = { has_country_flag = "industry_breakthrough_spread_friendly" }
            }
            set_country_flag = "industry_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_industry counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.202 }
        }
        if = {
            limit = {
                exists = event_target:industry_origin
                their_opinion = { who = event_target:industry_origin value <= 0 }
                NOT = { has_country_flag = "industry_breakthrough_spread_hostile" }
            }
            set_country_flag = "industry_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_industry counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.206 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.201
# 	title = breakthrough_engineering.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_silicon_life
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.202 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.202
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_industry_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:industry_origin
                OR = { 
                    is_neighbor_of = event_target:industry_origin
                    has_research_agreement = event_target:industry_origin
                }
                their_opinion = { who = event_target:industry_origin value > 0 }
                NOT = { event_target:industry_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.202 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:industry_origin
                OR = { 
                    is_neighbor_of = event_target:industry_origin
                    has_research_agreement = event_target:industry_origin
                }
                their_opinion = { who = event_target:industry_origin value <= 0 }
                NOT = { event_target:industry_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.203 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:industry_origin }
                    AND = {
                        exists = event_target:industry_origin
                        NOR = { 
                            is_neighbor_of = event_target:industry_origin
                            has_research_agreement = event_target:industry_origin
                        }
                    }
                    AND = {
                        exists = event_target:industry_origin
                        event_target:industry_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.209 }
            remove_country_flag = "industry_breakthrough_spread_friendly"   
            add_event_chain_counter = { event_chain = breakthrough_industry counter = friendly_neighbor amount = -1 }         
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.203
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "industry_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_industry counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "industry_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_industry counter = hostile_neighbor amount = 1 }
            set_country_flag = "industry_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.206 
                days = 360
            }
        }
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.205
# 	title = breakthrough_engineering.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_silicon_life
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.206 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.206
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_industry_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:industry_origin
                OR = { 
                    is_neighbor_of = event_target:industry_origin
                    has_research_agreement = event_target:industry_origin
                }
                their_opinion = { who = event_target:industry_origin value > 0 }
                NOT = { event_target:industry_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.207 
            }
        }
        if = {
            limit = {
                exists = event_target:industry_origin
                OR = { 
                    is_neighbor_of = event_target:industry_origin
                    has_research_agreement = event_target:industry_origin
                }
                their_opinion = { who = event_target:industry_origin value <= 0 }
                NOT = { event_target:industry_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.206
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:industry_origin }
                    AND = {
                        exists = event_target:industry_origin
                        NOR = { 
                            is_neighbor_of = event_target:industry_origin
                            has_research_agreement = event_target:industry_origin
                        }
                    }
                    AND = {
                        exists = event_target:industry_origin
                        event_target:industry_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.209 }
            remove_country_flag = "industry_breakthrough_spread_hostile" 
            add_event_chain_counter = { event_chain = breakthrough_industry counter = hostile_neighbor amount = -1 }  
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.207
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "industry_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_industry counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "industry_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_industry counter = friendly_neighbor amount = 1 }
            set_country_flag = "industry_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.202 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.209
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag that any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.210
# 	hide_window = yes
# 	is_triggered_only = yes
	
#    	trigger = {
#         any_playable_country = { 
#             has_technology = tech_industry_breakthrough
#             NOT = { has_country_flag = "industry_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_industry_breakthrough
#                 NOT = { has_country_flag = "industry_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "industry_discovered"
#                     }
#                 }
#                 set_global_flag = "industry_discovered"
#                 save_global_event_target_as = "industry_first"
#             }
#             set_country_flag = "industry_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.211
	title = industry_breakthrough.title
	desc = breakthrough.industry.desc
	picture = GFX_evt_silicon_life
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_industry_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "industry_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "industry.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_industry_breakthrough
                has_communications = root
            }
            save_event_target_as = industry_origin
        }
        set_country_flag = "industry_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_industry
                    has_technology = tech_industry_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_industry target = root }
            country_event = {
                id = breaklog.20
            }
        }  
    }
}

##########################################
### Events for Rocketry breakthrough 3/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.3
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_rocketry_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_rocketry_breakthrough 
                NOT = { has_ascension_perk = ap_enigmatic_engineering }  
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                }                                  
            }
            save_event_target_as = rocketry_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:rocketry_origin
                their_opinion = { who = event_target:rocketry_origin value > 0 }
                NOT = { has_country_flag = "rocketry_breakthrough_spread_friendly" }
            }
            set_country_flag = "rocketry_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_rocketry counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.302 }
        }
        if = {
            limit = {
                exists = event_target:rocketry_origin
                their_opinion = { who = event_target:rocketry_origin value <= 0 }
                NOT = { has_country_flag = "rocketry_breakthrough_spread_hostile" }
            }
            set_country_flag = "rocketry_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_rocketry counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.306 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.301
# 	title = breakthrough_engineering.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_inertialess_drive
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.302 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.302
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_rocketry_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:rocketry_origin
                OR = { 
                    is_neighbor_of = event_target:rocketry_origin
                    has_research_agreement = event_target:rocketry_origin
                }
                their_opinion = { who = event_target:rocketry_origin value > 0 }
                NOT = { event_target:rocketry_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.302 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:rocketry_origin
                OR = { 
                    is_neighbor_of = event_target:rocketry_origin
                    has_research_agreement = event_target:rocketry_origin
                }
                their_opinion = { who = event_target:rocketry_origin value <= 0 }
                NOT = { event_target:rocketry_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.303 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:rocketry_origin }
                    AND = {
                        exists = event_target:rocketry_origin
                        NOR = { 
                            is_neighbor_of = event_target:rocketry_origin
                            has_research_agreement = event_target:rocketry_origin
                        }
                    }
                    AND = {
                        exists = event_target:rocketry_origin
                        event_target:rocketry_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.309 }
            remove_country_flag = "rocketry_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_rocketry counter = friendly_neighbor amount = -1 } 
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.303
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "rocketry_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_rocketry counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "rocketry_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_rocketry counter = hostile_neighbor amount = 1 }
            set_country_flag = "rocketry_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.306 
                days = 360
            }
        }
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.305
# 	title = breakthrough_engineering.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_inertialess_drive
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.306 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.306
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_rocketry_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:rocketry_origin
                OR = { 
                    is_neighbor_of = event_target:rocketry_origin
                    has_research_agreement = event_target:rocketry_origin
                }
                their_opinion = { who = event_target:rocketry_origin value > 0 }
                NOT = { event_target:rocketry_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.307 
            }
        }
        if = {
            limit = {
                exists = event_target:rocketry_origin
                OR = { 
                    is_neighbor_of = event_target:rocketry_origin
                    has_research_agreement = event_target:rocketry_origin
                }
                their_opinion = { who = event_target:rocketry_origin value <= 0 }
                NOT = { event_target:rocketry_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.306
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:rocketry_origin }
                    AND = {
                        exists = event_target:rocketry_origin
                        NOR = { 
                            is_neighbor_of = event_target:rocketry_origin
                            has_research_agreement = event_target:rocketry_origin
                        }
                    }
                    AND = {
                        exists = event_target:rocketry_origin
                        event_target:rocketry_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.309 }
            remove_country_flag = "rocketry_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_rocketry counter = hostile_neighbor amount = -1 }   
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.307
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "rocketry_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_rocketry counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "rocketry_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_rocketry counter = friendly_neighbor amount = 1 }
            set_country_flag = "rocketry_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.302 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.309
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.310
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_rocketry_breakthrough
#             NOT = { has_country_flag = "rocketry_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_rocketry_breakthrough
#                 NOT = { has_country_flag = "rocketry_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "rocketry_discovered"
#                     }
#                 }
#                 set_global_flag = "rocketry_discovered"
#                 save_global_event_target_as = "rocketry_first"
#             }
#             set_country_flag = "rocketry_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.311
	title = rocketry_breakthrough.title
	desc = breakthrough.rocketry.desc
	picture = GFX_evt_inertialess_drive
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_rocketry_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "rocketry_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "rocketry.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_rocketry_breakthrough
                has_communications = root
            }
            save_event_target_as = rocketry_origin
        }
        set_country_flag = "rocketry_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_rocketry
                    has_technology = tech_rocketry_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_rocketry target = root }
            country_event = {
                id = breaklog.30
            }
        }
    }
}

##########################################
### Events for Particles breakthrough 4/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.4
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_particles_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_particles_breakthrough
                NOT = { has_ascension_perk = ap_enigmatic_engineering } 
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                }                                    
            }
            save_event_target_as = particles_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:particles_origin
                their_opinion = { who = event_target:particles_origin value > 0 }
                NOT = { has_country_flag = "particles_breakthrough_spread_friendly" }
            }
            set_country_flag = "particles_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_particles counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.402 }
        }
        if = {
            limit = {
                exists = event_target:particles_origin
                their_opinion = { who = event_target:particles_origin value <= 0 }
                NOT = { has_country_flag = "particles_breakthrough_spread_hostile" }
            }
            set_country_flag = "particles_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_particles counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.406 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.401
# 	title = breakthrough_physics.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_particles
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.402 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.402
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_particles_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:particles_origin
                OR = { 
                    is_neighbor_of = event_target:particles_origin
                    has_research_agreement = event_target:particles_origin
                }
                their_opinion = { who = event_target:particles_origin value > 0 }
                NOT = { event_target:particles_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.402 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:particles_origin
                OR = { 
                    is_neighbor_of = event_target:particles_origin
                    has_research_agreement = event_target:particles_origin
                }
                their_opinion = { who = event_target:particles_origin value <= 0 }
                NOT = { event_target:particles_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.403 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:particles_origin }
                    AND = {
                        exists = event_target:particles_origin
                        NOR = { 
                            is_neighbor_of = event_target:particles_origin
                            has_research_agreement = event_target:particles_origin
                        }
                    }
                    AND = {
                        exists = event_target:particles_origin
                        event_target:particles_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.409 }
            remove_country_flag = "particles_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_particles counter = friendly_neighbor amount = -1 }
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.403
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "particles_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_particles counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "particles_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_particles counter = hostile_neighbor amount = 1 }
            set_country_flag = "particles_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.406 
                days = 360
            }
        }
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.405
# 	title = breakthrough_physics.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_particles
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.406 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.406
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_particles_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:particles_origin
                OR = { 
                    is_neighbor_of = event_target:particles_origin
                    has_research_agreement = event_target:particles_origin
                }
                their_opinion = { who = event_target:particles_origin value > 0 }
                NOT = { event_target:particles_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.407 
            }
        }
        if = {
            limit = {
                exists = event_target:particles_origin
                OR = { 
                    is_neighbor_of = event_target:particles_origin
                    has_research_agreement = event_target:particles_origin
                }
                their_opinion = { who = event_target:particles_origin value <= 0 }
                NOT = { event_target:particles_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.406
                days = 360
            }       
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:particles_origin }
                    AND = {
                        exists = event_target:particles_origin
                        NOR = { 
                            is_neighbor_of = event_target:particles_origin
                            has_research_agreement = event_target:particles_origin
                        }
                    }
                    AND = {
                        exists = event_target:particles_origin
                        event_target:particles_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.409 }
            remove_country_flag = "particles_breakthrough_spread_hostile"
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.407
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes	
	
    immediate = {
        remove_country_flag = "particles_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_particles counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "particles_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_particles counter = friendly_neighbor amount = 1 }
            set_country_flag = "particles_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.402 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.409
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.410
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_particles_breakthrough
#             NOT = { has_country_flag = "particles_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_particles_breakthrough
#                 NOT = { has_country_flag = "particles_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "particles_discovered"
#                     }
#                 }
#                 set_global_flag = "particles_discovered"
#                 save_global_event_target_as = "particles_first"
#             }
#             set_country_flag = "particles_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.411
	title = particles_breakthrough.title
	desc = breakthrough.particles.desc
	picture = GFX_evt_particles
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_particles_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "particles_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "particles.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_particles_breakthrough
                has_communications = root
            }
            save_event_target_as = particles_origin
        }
        set_country_flag = "particles_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_particles 
                    has_technology = tech_particles_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_particles target = root }
            country_event = {
                id = breaklog.40
            }
        }       
    }
}

##########################################
### Events for Voidcraft breakthrough 5/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.5
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_voidcraft_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_voidcraft_breakthrough 
                NOT = { has_ascension_perk = ap_enigmatic_engineering }   
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                }                                 
            }
            save_event_target_as = voidcraft_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:voidcraft_origin
                their_opinion = { who = event_target:voidcraft_origin value > 0 }
                NOT = { has_country_flag = "voidcraft_breakthrough_spread_friendly" }
            }
            set_country_flag = "voidcraft_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_voidcraft counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.502 }
        }
        if = {
            limit = {
                exists = event_target:voidcraft_origin
                their_opinion = { who = event_target:voidcraft_origin value <= 0 }
                NOT = { has_country_flag = "voidcraft_breakthrough_spread_hostile" }
            }
            set_country_flag = "voidcraft_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_voidcraft counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.506 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.501
# 	title = breakthrough_engineering.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_organic_starship
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.502 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.502
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_voidcraft_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:voidcraft_origin
                OR = { 
                    is_neighbor_of = event_target:voidcraft_origin
                    has_research_agreement = event_target:voidcraft_origin
                }
                their_opinion = { who = event_target:voidcraft_origin value > 0 }
                NOT = { event_target:voidcraft_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.502 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:voidcraft_origin
                OR = { 
                    is_neighbor_of = event_target:voidcraft_origin
                    has_research_agreement = event_target:voidcraft_origin
                }
                their_opinion = { who = event_target:voidcraft_origin value <= 0 }
                NOT = { event_target:voidcraft_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.503 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:voidcraft_origin }
                    AND = {
                        exists = event_target:voidcraft_origin
                        NOR = { 
                            is_neighbor_of = event_target:voidcraft_origin
                            has_research_agreement = event_target:voidcraft_origin
                        }
                    }
                    AND = {
                        exists = event_target:voidcraft_origin
                        event_target:voidcraft_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.509 }
            remove_country_flag = "voidcraft_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_voidcraft counter = friendly_neighbor amount = -1 }
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.503
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "voidcraft_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_voidcraft counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "voidcraft_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_voidcraft counter = hostile_neighbor amount = 1 }
            set_country_flag = "voidcraft_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.506 
                days = 360
            }
        } 
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.505
# 	title = breakthrough_engineering.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_organic_starship
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.506 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.506
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_voidcraft_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:voidcraft_origin
                OR = { 
                    is_neighbor_of = event_target:voidcraft_origin
                    has_research_agreement = event_target:voidcraft_origin
                }
                their_opinion = { who = event_target:voidcraft_origin value > 0 }
                NOT = { event_target:voidcraft_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.507 
            }
        }
        if = {
            limit = {
                exists = event_target:voidcraft_origin
                OR = { 
                    is_neighbor_of = event_target:voidcraft_origin
                    has_research_agreement = event_target:voidcraft_origin
                }
                their_opinion = { who = event_target:voidcraft_origin value <= 0 }
                NOT = { event_target:voidcraft_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.506
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:voidcraft_origin }
                    AND = {
                        exists = event_target:voidcraft_origin
                        NOR = { 
                            is_neighbor_of = event_target:voidcraft_origin
                            has_research_agreement = event_target:voidcraft_origin
                        }
                    }
                    AND = {
                        exists = event_target:voidcraft_origin
                        event_target:voidcraft_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.509 }
            remove_country_flag = "voidcraft_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_voidcraft counter = hostile_neighbor amount = -1 }  
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.507
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "voidcraft_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_voidcraft counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "voidcraft_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_voidcraft counter = friendly_neighbor amount = 1 }
            set_country_flag = "voidcraft_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.502 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.509
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.510
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_voidcraft_breakthrough
#             NOT = { has_country_flag = "voidcraft_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_voidcraft_breakthrough
#                 NOT = { has_country_flag = "voidcraft_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "voidcraft_discovered"
#                     }
#                 }
#                 set_global_flag = "voidcraft_discovered"
#                 save_global_event_target_as = "voidcraft_first"
#             }
#             set_country_flag = "voidcraft_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.511
	title = voidcraft_breakthrough.title
	desc = breakthrough.voidcraft.desc
	picture = GFX_evt_organic_starship
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_voidcraft_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "voidcraft_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "voidcraft.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_voidcraft_breakthrough
                has_communications = root
            }
            save_event_target_as = voidcraft_origin
        }
        set_country_flag = "voidcraft_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_voidcraft 
                    has_technology = tech_voidcraft_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_voidcraft target = root }
            country_event = {
                id = breaklog.50
            }
        }       
    }
}

###################################################
### Events for Field Manipulation breakthrough 6/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.6
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_field_manipulation_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_field_manipulation_breakthrough 
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                }   
                NOT = { has_ascension_perk = ap_enigmatic_engineering }                 
            }
            save_event_target_as = field_manipulation_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:field_manipulation_origin
                their_opinion = { who = event_target:field_manipulation_origin value > 0 }
                NOT = { has_country_flag = "field_manipulation_breakthrough_spread_friendly" }
            }
            set_country_flag = "field_manipulation_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_field_manipulation counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.602 }
        }
        if = {
            limit = {
                exists = event_target:field_manipulation_origin
                their_opinion = { who = event_target:field_manipulation_origin value <= 0 }
                NOT = { has_country_flag = "field_manipulation_breakthrough_spread_hostile" }
            }
            set_country_flag = "field_manipulation_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_field_manipulation counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.606 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.601
# 	title = breakthrough_physics.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_shields
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.602 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.602
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_field_manipulation_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:field_manipulation_origin
                OR = { 
                    is_neighbor_of = event_target:field_manipulation_origin
                    has_research_agreement = event_target:field_manipulation_origin
                }
                their_opinion = { who = event_target:field_manipulation_origin value > 0 }
                NOT = { event_target:field_manipulation_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.602 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:field_manipulation_origin
                OR = { 
                    is_neighbor_of = event_target:field_manipulation_origin
                    has_research_agreement = event_target:field_manipulation_origin
                }
                their_opinion = { who = event_target:field_manipulation_origin value <= 0 }
                NOT = { event_target:field_manipulation_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.603 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:field_manipulation_origin }
                    AND = {
                        exists = event_target:field_manipulation_origin
                        NOR = { 
                            is_neighbor_of = event_target:field_manipulation_origin
                            has_research_agreement = event_target:field_manipulation_origin
                        }
                    }
                    AND = {
                        exists = event_target:field_manipulation_origin
                        event_target:field_manipulation_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.609 }
            remove_country_flag = "field_manipulation_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_field_manipulation counter = friendly_neighbor amount = -1 }
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.603
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "field_manipulation_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_field_manipulation counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "field_manipulation_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_field_manipulation counter = hostile_neighbor amount = 1 }
            set_country_flag = "field_manipulation_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.606 
                days = 360
            }
        } 
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.605
# 	title = breakthrough_physics.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_shields
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.606 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.606
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_field_manipulation_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:field_manipulation_origin
                OR = { 
                    is_neighbor_of = event_target:field_manipulation_origin
                    has_research_agreement = event_target:field_manipulation_origin
                }
                their_opinion = { who = event_target:field_manipulation_origin value > 0 }
                NOT = { event_target:field_manipulation_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.607 
            }
        }
        if = {
            limit = {
                exists = event_target:field_manipulation_origin
                OR = { 
                    is_neighbor_of = event_target:field_manipulation_origin
                    has_research_agreement = event_target:field_manipulation_origin
                }
                their_opinion = { who = event_target:field_manipulation_origin value <= 0 }
                NOT = { event_target:field_manipulation_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.606
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:field_manipulation_origin }
                    AND = {
                        exists = event_target:field_manipulation_origin
                        NOR = { 
                            is_neighbor_of = event_target:field_manipulation_origin
                            has_research_agreement = event_target:field_manipulation_origin
                        }
                    }
                    AND = {
                        exists = event_target:field_manipulation_origin
                        event_target:field_manipulation_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.609 }
            remove_country_flag = "field_manipulation_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_field_manipulation counter = hostile_neighbor amount = -1 }  
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.607
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes	
	
    immediate = {
        remove_country_flag = "field_manipulation_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_field_manipulation counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "field_manipulation_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_field_manipulation counter = friendly_neighbor amount = 1 }
            set_country_flag = "field_manipulation_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.602 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.609
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.610
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_field_manipulation_breakthrough
#             NOT = { has_country_flag = "field_manipulation_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_field_manipulation_breakthrough
#                 NOT = { has_country_flag = "field_manipulation_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "field_manipulation_discovered"
#                     }
#                 }
#                 set_global_flag = "field_manipulation_discovered"
#                 save_global_event_target_as = "field_manipulation_first"
#             }
#             set_country_flag = "field_manipulation_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.611
	title = field_manipulation_breakthrough.title
	desc = breakthrough.field_manipulation.desc
	picture = GFX_evt_shields
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_field_manipulation_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "field_manipulation_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "field_manipulation.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_field_manipulation_breakthrough
                has_communications = root
            }
            save_event_target_as = field_manipulation_origin
        }
        set_country_flag = "field_manipulation_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_field_manipulation 
                    has_technology = tech_field_manipulation_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_field_manipulation target = root }
            country_event = {
                id = breaklog.60
            }
        } 
    }
}

##########################################
### Events for Computing breakthrough 7/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.7
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_computing_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_computing_breakthrough   
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                }
                NOT = { has_ascension_perk = ap_enigmatic_engineering }                  
            }
            save_event_target_as = computing_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:computing_origin
                their_opinion = { who = event_target:computing_origin value > 0 }
                NOT = { has_country_flag = "computing_breakthrough_spread_friendly" }
            }
            set_country_flag = "computing_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_computing counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.702 }
        }
        if = {
            limit = {
                exists = event_target:computing_origin
                their_opinion = { who = event_target:computing_origin value <= 0 }
                NOT = { has_country_flag = "computing_breakthrough_spread_hostile" }
            }
            set_country_flag = "computing_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_computing counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.706 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.701
# 	title = breakthrough_physics.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_singularity
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.702 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.702
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_computing_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:computing_origin
                OR = { 
                    is_neighbor_of = event_target:computing_origin
                    has_research_agreement = event_target:computing_origin
                }
                their_opinion = { who = event_target:computing_origin value > 0 }
                NOT = { event_target:computing_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.702 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:computing_origin
                OR = { 
                    is_neighbor_of = event_target:computing_origin
                    has_research_agreement = event_target:computing_origin
                }
                their_opinion = { who = event_target:computing_origin value <= 0 }
                NOT = { event_target:computing_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.703 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:computing_origin }
                    AND = {
                        exists = event_target:computing_origin
                        NOR = { 
                            is_neighbor_of = event_target:computing_origin
                            has_research_agreement = event_target:computing_origin
                        }
                    }
                    AND = {
                        exists = event_target:computing_origin
                        event_target:computing_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.709 }
            remove_country_flag = "computing_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_computing counter = friendly_neighbor amount = -1 }
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.703
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "computing_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_computing counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "computing_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_computing counter = hostile_neighbor amount = 1 }
            set_country_flag = "computing_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.706 
                days = 360
            }
        } 
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.705
# 	title = breakthrough_physics.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_singularity
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.706 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.706
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_computing_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:computing_origin
                OR = { 
                    is_neighbor_of = event_target:computing_origin
                    has_research_agreement = event_target:computing_origin
                }
                their_opinion = { who = event_target:computing_origin value > 0 }
                NOT = { event_target:computing_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.707 
            }
        }
        if = {
            limit = {
                exists = event_target:computing_origin
                OR = { 
                    is_neighbor_of = event_target:computing_origin
                    has_research_agreement = event_target:computing_origin
                }
                their_opinion = { who = event_target:computing_origin value <= 0 }
                NOT = { event_target:computing_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.706
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:computing_origin }
                    AND = {
                        exists = event_target:computing_origin
                        NOR = { 
                            is_neighbor_of = event_target:computing_origin
                            has_research_agreement = event_target:computing_origin
                        }
                    }
                    AND = {
                        exists = event_target:computing_origin
                        event_target:computing_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.709 }
            remove_country_flag = "computing_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_computing counter = hostile_neighbor amount = -1 }  
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.707
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "computing_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_computing counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "computing_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_computing counter = friendly_neighbor amount = 1 }
            set_country_flag = "computing_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.702 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.709
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.710
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_computing_breakthrough
#             NOT = { has_country_flag = "computing_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_computing_breakthrough
#                 NOT = { has_country_flag = "computing_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "computing_discovered"
#                     }
#                 }
#                 set_global_flag = "computing_discovered"
#                 save_global_event_target_as = "computing_first"
#             }
#             set_country_flag = "computing_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.711
	title = computing_breakthrough.title
	desc = breakthrough.computing.desc
	picture = GFX_evt_singularity
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_computing_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "computing_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "computing.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_computing_breakthrough
                has_communications = root
            }
            save_event_target_as = computing_origin
        }
        set_country_flag = "computing_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_computing 
                    has_technology = tech_computing_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_computing target = root }
            country_event = {
                id = breaklog.70
            }
        }       
    }
}

##########################################
### Events for Psionics breakthrough 8/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.8
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_psionics_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_psionics_breakthrough   
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                }
                NOT = { has_ascension_perk = ap_enigmatic_engineering }                  
            }
            save_event_target_as = psionics_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:psionics_origin
                their_opinion = { who = event_target:psionics_origin value > 0 }
                NOT = { has_country_flag = "psionics_breakthrough_spread_friendly" }
            }
            set_country_flag = "psionics_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_psionics counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.802 }
        }
        if = {
            limit = {
                exists = event_target:psionics_origin
                their_opinion = { who = event_target:psionics_origin value <= 0 }
                NOT = { has_country_flag = "psionics_breakthrough_spread_hostile" }
            }
            set_country_flag = "psionics_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_psionics counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.806 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.801
# 	title = breakthrough_unity.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_vision
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.802 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.802
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_psionics_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:psionics_origin
                OR = { 
                    is_neighbor_of = event_target:psionics_origin
                    has_research_agreement = event_target:psionics_origin
                }
                their_opinion = { who = event_target:psionics_origin value > 0 }
                NOT = { event_target:psionics_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.802 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:psionics_origin
                OR = { 
                    is_neighbor_of = event_target:psionics_origin
                    has_research_agreement = event_target:psionics_origin
                }
                their_opinion = { who = event_target:psionics_origin value <= 0 }
                NOT = { event_target:psionics_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.803 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:psionics_origin }
                    AND = {
                        exists = event_target:psionics_origin
                        NOR = { 
                            is_neighbor_of = event_target:psionics_origin
                            has_research_agreement = event_target:psionics_origin
                        }
                    }
                    AND = {
                        exists = event_target:psionics_origin
                        event_target:psionics_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.809 }
            remove_country_flag = "psionics_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_psionics counter = friendly_neighbor amount = -1 }
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.803
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes

    immediate = {
        remove_country_flag = "psionics_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_psionics counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "psionics_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_psionics counter = hostile_neighbor amount = 1 }
            set_country_flag = "psionics_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.806 
                days = 360
            }
        } 
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.805
# 	title = breakthrough_unity.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_vision
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.806 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.806
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_psionics_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:psionics_origin
                OR = { 
                    is_neighbor_of = event_target:psionics_origin
                    has_research_agreement = event_target:psionics_origin
                }
                their_opinion = { who = event_target:psionics_origin value > 0 }
                NOT = { event_target:psionics_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.807 
            }
        }
        if = {
            limit = {
                exists = event_target:psionics_origin
                OR = { 
                    is_neighbor_of = event_target:psionics_origin
                    has_research_agreement = event_target:psionics_origin
                }
                their_opinion = { who = event_target:psionics_origin value <= 0 }
                NOT = { event_target:psionics_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.806
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:psionics_origin }
                    AND = {
                        exists = event_target:psionics_origin
                        NOR = { 
                            is_neighbor_of = event_target:psionics_origin
                            has_research_agreement = event_target:psionics_origin
                        }
                    }
                    AND = {
                        exists = event_target:psionics_origin
                        event_target:psionics_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.809 }
            remove_country_flag = "psionics_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_psionics counter = hostile_neighbor amount = -1 }  
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.807
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
	is_triggered_only = yes
	hide_window = yes

    immediate = {
        remove_country_flag = "psionics_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_psionics counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "psionics_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_psionics counter = friendly_neighbor amount = 1 }
            set_country_flag = "psionics_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.802 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.809
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.810
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_psionics_breakthrough
#             NOT = { has_country_flag = "psionics_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_psionics_breakthrough
#                 NOT = { has_country_flag = "psionics_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "psionics_discovered"
#                     }
#                 }
#                 set_global_flag = "psionics_discovered"
#                 save_global_event_target_as = "psionics_first"
#             }
#             set_country_flag = "psionics_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.811
	title = psionics_breakthrough.title
	desc = breakthrough.psionics.desc
	picture = GFX_evt_vision
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_psionics_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "psionics_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "psionics.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_psionics_breakthrough
                has_communications = root
            }
            save_event_target_as = psionics_origin
        }
        set_country_flag = "psionics_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_psionics 
                    has_technology = tech_psionics_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_psionics target = root }
            country_event = {
                id = breaklog.80
            }
        }       
    }
}

###########################################
### Events for New Worlds breakthrough 9/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.9
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_new_worlds_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_new_worlds_breakthrough  
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                }
                NOT = { has_ascension_perk = ap_enigmatic_engineering }                   
            }
            save_event_target_as = new_worlds_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:new_worlds_origin
                their_opinion = { who = event_target:new_worlds_origin value > 0 }
                NOT = { has_country_flag = "new_worlds_breakthrough_spread_friendly" }
            }
            set_country_flag = "new_worlds_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_new_worlds counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.902 }
        }
        if = {
            limit = {
                exists = event_target:new_worlds_origin
                their_opinion = { who = event_target:new_worlds_origin value <= 0 }
                NOT = { has_country_flag = "new_worlds_breakthrough_spread_hostile" }
            }
            set_country_flag = "new_worlds_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_new_worlds counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.906 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.901
# 	title = breakthrough_society.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_colony
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.902 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.902
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_new_worlds_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:new_worlds_origin
                OR = { 
                    is_neighbor_of = event_target:new_worlds_origin
                    has_research_agreement = event_target:new_worlds_origin
                }
                their_opinion = { who = event_target:new_worlds_origin value > 0 }
                NOT = { event_target:new_worlds_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.902 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:new_worlds_origin
                OR = { 
                    is_neighbor_of = event_target:new_worlds_origin
                    has_research_agreement = event_target:new_worlds_origin
                }
                their_opinion = { who = event_target:new_worlds_origin value <= 0 }
                NOT = { event_target:new_worlds_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.903 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:new_worlds_origin }
                    AND = {
                        exists = event_target:new_worlds_origin
                        NOR = { 
                            is_neighbor_of = event_target:new_worlds_origin
                            has_research_agreement = event_target:new_worlds_origin
                        }
                    }
                    AND = {
                        exists = event_target:new_worlds_origin
                        event_target:new_worlds_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.909 }
            remove_country_flag = "new_worlds_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_new_worlds counter = friendly_neighbor amount = -1 }
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.903
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "new_worlds_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_new_worlds counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "new_worlds_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_new_worlds counter = hostile_neighbor amount = 1 }
            set_country_flag = "new_worlds_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.906 
                days = 360
            }
        } 
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.905
# 	title = breakthrough_society.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_colony
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.906 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.906
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_new_worlds_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:new_worlds_origin
                OR = { 
                    is_neighbor_of = event_target:new_worlds_origin
                    has_research_agreement = event_target:new_worlds_origin
                }
                their_opinion = { who = event_target:new_worlds_origin value > 0 }
                NOT = { event_target:new_worlds_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.907 
            }
        }
        if = {
            limit = {
                exists = event_target:new_worlds_origin
                OR = { 
                    is_neighbor_of = event_target:new_worlds_origin
                    has_research_agreement = event_target:new_worlds_origin
                }
                their_opinion = { who = event_target:new_worlds_origin value <= 0 }
                NOT = { event_target:new_worlds_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.906
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:new_worlds_origin }
                    AND = {
                        exists = event_target:new_worlds_origin
                        NOR = { 
                            is_neighbor_of = event_target:new_worlds_origin
                            has_research_agreement = event_target:new_worlds_origin
                        }
                    }
                    AND = {
                        exists = event_target:new_worlds_origin
                        event_target:new_worlds_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.909 }
            remove_country_flag = "new_worlds_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_new_worlds counter = hostile_neighbor amount = -1 }  
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.907
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "new_worlds_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_new_worlds counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "new_worlds_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_new_worlds counter = friendly_neighbor amount = 1 }
            set_country_flag = "new_worlds_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.902 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.909
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.910
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_new_worlds_breakthrough
#             NOT = { has_country_flag = "new_worlds_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_new_worlds_breakthrough
#                 NOT = { has_country_flag = "new_worlds_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "new_worlds_discovered"
#                     }
#                 }
#                 set_global_flag = "new_worlds_discovered"
#                 save_global_event_target_as = "new_worlds_first"
#             }
#             set_country_flag = "new_worlds_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.911
	title = new_worlds_breakthrough.title
	desc = breakthrough.new_worlds.desc
	picture = GFX_evt_colony
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_new_worlds_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "new_worlds_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "new_worlds.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_new_worlds_breakthrough
                has_communications = root
            }
            save_event_target_as = new_worlds_origin
        }
        set_country_flag = "new_worlds_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_new_worlds 
                    has_technology = tech_new_worlds_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_new_worlds target = root }
            country_event = {
                id = breaklog.90
            }
        }       
    }
}

#########################################
### Events for Biology breakthrough 10/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.10
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_biology_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_biology_breakthrough  
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                }
                NOT = { has_ascension_perk = ap_enigmatic_engineering }                   
            }
            save_event_target_as = biology_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:biology_origin
                their_opinion = { who = event_target:biology_origin value > 0 }
                NOT = { has_country_flag = "biology_breakthrough_spread_friendly" }
            }
            set_country_flag = "biology_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_biology counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.1002 }
        }
        if = {
            limit = {
                exists = event_target:biology_origin
                their_opinion = { who = event_target:biology_origin value <= 0 }
                NOT = { has_country_flag = "biology_breakthrough_spread_hostile" }
            }
            set_country_flag = "biology_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_biology counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.1006 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.1001
# 	title = breakthrough_society.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_gene_targeting
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.1002 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.1002
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_biology_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:biology_origin
                OR = { 
                    is_neighbor_of = event_target:biology_origin
                    has_research_agreement = event_target:biology_origin
                }
                their_opinion = { who = event_target:biology_origin value > 0 }
                NOT = { event_target:biology_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.1002 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:biology_origin
                OR = { 
                    is_neighbor_of = event_target:biology_origin
                    has_research_agreement = event_target:biology_origin
                }
                their_opinion = { who = event_target:biology_origin value <= 0 }
                NOT = { event_target:biology_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.1003 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:biology_origin }
                    AND = {
                        exists = event_target:biology_origin
                        NOR = { 
                            is_neighbor_of = event_target:biology_origin
                            has_research_agreement = event_target:biology_origin
                        }
                    }
                    AND = {
                        exists = event_target:biology_origin
                        event_target:biology_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.1009 }
            remove_country_flag = "biology_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_biology counter = friendly_neighbor amount = -1 }
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.1003
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "biology_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_biology counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "biology_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_biology counter = hostile_neighbor amount = 1 }
            set_country_flag = "biology_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.1006 
                days = 360
            }
        } 
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.1005
# 	title = breakthrough_society.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_gene_targeting
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.1006 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.1006
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_biology_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:biology_origin
                OR = { 
                    is_neighbor_of = event_target:biology_origin
                    has_research_agreement = event_target:biology_origin
                }
                their_opinion = { who = event_target:biology_origin value > 0 }
                NOT = { event_target:biology_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.1007 
            }
        }
        if = {
            limit = {
                exists = event_target:biology_origin
                OR = { 
                    is_neighbor_of = event_target:biology_origin
                    has_research_agreement = event_target:biology_origin
                }
                their_opinion = { who = event_target:biology_origin value <= 0 }
                NOT = { event_target:biology_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.1006
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:biology_origin }
                    AND = {
                        exists = event_target:biology_origin
                        NOR = { 
                            is_neighbor_of = event_target:biology_origin
                            has_research_agreement = event_target:biology_origin
                        }
                    }
                    AND = {
                        exists = event_target:biology_origin
                        event_target:biology_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.1009 }
            remove_country_flag = "biology_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_biology counter = hostile_neighbor amount = -1 }  
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.1007
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes	
	
    immediate = {
        remove_country_flag = "biology_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_biology counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "biology_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_biology counter = friendly_neighbor amount = 1 }
            set_country_flag = "biology_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.1002 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.1009
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.1010
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_biology_breakthrough
#             NOT = { has_country_flag = "biology_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_biology_breakthrough
#                 NOT = { has_country_flag = "biology_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "biology_discovered"
#                     }
#                 }
#                 set_global_flag = "biology_discovered"
#                 save_global_event_target_as = "biology_first"
#             }
#             set_country_flag = "biology_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.1011
	title = biology_breakthrough.title
	desc = breakthrough.biology.desc
	picture = GFX_evt_gene_targeting
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_biology_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "biology_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "biology.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_biology_breakthrough
                has_communications = root
            }
            save_event_target_as = biology_origin
        }
        set_country_flag = "biology_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_biology 
                    has_technology = tech_biology_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_biology target = root }
            country_event = {
                id = breaklog.100
            }
        }
    }
}

############################################
### Events for Statecraft breakthrough 11/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.11
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_statecraft_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_statecraft_breakthrough  
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                } 
                NOT = { has_ascension_perk = ap_enigmatic_engineering }                  
            }
            save_event_target_as = statecraft_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:statecraft_origin
                their_opinion = { who = event_target:statecraft_origin value > 0 }
                NOT = { has_country_flag = "statecraft_breakthrough_spread_friendly" }
            }
            set_country_flag = "statecraft_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_statecraft counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.1102 }
        }
        if = {
            limit = {
                exists = event_target:statecraft_origin
                their_opinion = { who = event_target:statecraft_origin value <= 0 }
                NOT = { has_country_flag = "statecraft_breakthrough_spread_hostile" }
            }
            set_country_flag = "statecraft_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_statecraft counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.1106 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.1101
# 	title = breakthrough_society.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_babylon5
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.1102 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.1102
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_statecraft_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:statecraft_origin
                OR = { 
                    is_neighbor_of = event_target:statecraft_origin
                    has_research_agreement = event_target:statecraft_origin
                }
                their_opinion = { who = event_target:statecraft_origin value > 0 }
                NOT = { event_target:statecraft_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.1102 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:statecraft_origin
                OR = { 
                    is_neighbor_of = event_target:statecraft_origin
                    has_research_agreement = event_target:statecraft_origin
                }
                their_opinion = { who = event_target:statecraft_origin value <= 0 }
                NOT = { event_target:statecraft_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.1103 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:statecraft_origin }
                    AND = {
                        exists = event_target:statecraft_origin
                        NOR = { 
                            is_neighbor_of = event_target:statecraft_origin
                            has_research_agreement = event_target:statecraft_origin
                        }
                    }
                    AND = {
                        exists = event_target:statecraft_origin
                        event_target:statecraft_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.1109 }
            remove_country_flag = "statecraft_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_statecraft counter = friendly_neighbor amount = -1 }
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.1103
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes
	
    immediate = {
        remove_country_flag = "statecraft_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_statecraft counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "statecraft_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_statecraft counter = hostile_neighbor amount = 1 }
            set_country_flag = "statecraft_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.1106 
                days = 360
            }
        } 
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.1105
# 	title = breakthrough_society.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_babylon5
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.1106 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.1106
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_statecraft_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:statecraft_origin
                OR = { 
                    is_neighbor_of = event_target:statecraft_origin
                    has_research_agreement = event_target:statecraft_origin
                }
                their_opinion = { who = event_target:statecraft_origin value > 0 }
                NOT = { event_target:statecraft_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.1107 
            }
        }
        if = {
            limit = {
                exists = event_target:statecraft_origin
                OR = { 
                    is_neighbor_of = event_target:statecraft_origin
                    has_research_agreement = event_target:statecraft_origin
                }
                their_opinion = { who = event_target:statecraft_origin value <= 0 }
                NOT = { event_target:statecraft_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.1106
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:statecraft_origin }
                    AND = {
                        exists = event_target:statecraft_origin
                        NOR = { 
                            is_neighbor_of = event_target:statecraft_origin
                            has_research_agreement = event_target:statecraft_origin
                        }
                    }
                    AND = {
                        exists = event_target:statecraft_origin
                        event_target:statecraft_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.1109 }
            remove_country_flag = "statecraft_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_statecraft counter = hostile_neighbor amount = -1 }
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.1107
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes	
	
    immediate = {
        remove_country_flag = "statecraft_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_statecraft counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "statecraft_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_statecraft counter = friendly_neighbor amount = 1 }
            set_country_flag = "statecraft_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.1102 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.1109
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.1110
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_statecraft_breakthrough
#             NOT = { has_country_flag = "statecraft_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_statecraft_breakthrough
#                 NOT = { has_country_flag = "statecraft_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "statecraft_discovered"
#                     }
#                 }
#                 set_global_flag = "statecraft_discovered"
#                 save_global_event_target_as = "statecraft_first"
#             }
#             set_country_flag = "statecraft_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.1111
	title = statecraft_breakthrough.title
	desc = breakthrough.statecraft.desc
	picture = GFX_evt_babylon5
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_statecraft_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "statecraft_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "statecraft.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_statecraft_breakthrough
                has_communications = root
            }
            save_event_target_as = statecraft_origin
        }
        set_country_flag = "statecraft_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_statecraft 
                    has_technology = tech_statecraft_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_statecraft target = root }
            country_event = {
                id = breaklog.110
            }
        }  
    }
}

#################################################
### Events for Military Theory breakthrough 12/12

### Check Neighbors for each breakthrough tech, if yes add friendly or hostile flag to increase breakthrough tech chance
country_event = {
    id = TechAscendant.12
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_country_type = default
        NOT = { 
            has_technology = tech_military_theory_breakthrough
        }
    }
    immediate = {
        random_country = {
            limit = {
                is_country_type = default
                has_communications = root
                has_technology = tech_military_theory_breakthrough  
                OR = { 
                    is_neighbor_of = root
                    has_research_agreement = root
                }
                NOT = { has_ascension_perk = ap_enigmatic_engineering }                   
            }
            save_event_target_as = military_theory_origin
            save_event_target_as = spread_origin
        }
        if = {
            limit = {
                exists = event_target:military_theory_origin
                their_opinion = { who = event_target:military_theory_origin value > 0 }
            }
            set_country_flag = "military_theory_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_military_theory counter = friendly_neighbor amount = 1 }
            country_event = { id = TechAscendant.1202 }
        }
        if = {
            limit = {
                exists = event_target:military_theory_origin
                their_opinion = { who = event_target:military_theory_origin value <= 0 }
                NOT = { has_country_flag = "military_theory_breakthrough_spread_hostile" }
            }
            set_country_flag = "military_theory_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_military_theory counter = hostile_neighbor amount = 1 }
            country_event = { id = TechAscendant.1206 }
        }
    }
}

### Announce a that a friendly neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.1201
# 	title = breakthrough_society.title
# 	desc = breakthrough.friendly.desc
# 	picture = GFX_evt_chess
# 	is_triggered_only = yes
	
#    	option = {
# 		name = EXCELLENT
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.1202 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still friendly
country_event = {
	id = TechAscendant.1202
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_military_theory_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:military_theory_origin
                OR = { 
                    is_neighbor_of = event_target:military_theory_origin
                    has_research_agreement = event_target:military_theory_origin
                }
                their_opinion = { who = event_target:military_theory_origin value > 0 }
                NOT = { event_target:military_theory_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.1202 
                days = 360
            }
        }
        if = {
            limit = {
                exists = event_target:military_theory_origin
                OR = { 
                    is_neighbor_of = event_target:military_theory_origin
                    has_research_agreement = event_target:military_theory_origin
                }
                their_opinion = { who = event_target:military_theory_origin value <= 0 }
                NOT = { event_target:military_theory_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { id = TechAscendant.1203 }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:military_theory_origin }
                    AND = {
                        exists = event_target:military_theory_origin
                        NOR = { 
                            is_neighbor_of = event_target:military_theory_origin
                            has_research_agreement = event_target:military_theory_origin
                        }
                    }
                    AND = {
                        exists = event_target:military_theory_origin
                        event_target:military_theory_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.1209 }
            remove_country_flag = "military_theory_breakthrough_spread_friendly"
            add_event_chain_counter = { event_chain = breakthrough_military_theory counter = friendly_neighbor amount = -1 }
        }
    }
}

### Relations have deteriorated to hostile
country_event = {
	id = TechAscendant.1203
	# title = spread.deteriorated.title
	# desc = spread.deteriorated.desc
	# picture = GFX_evt_alien_segregation
    is_triggered_only = yes
    hide_window = yes

    immediate = {
        remove_country_flag = "military_theory_breakthrough_spread_friendly" 
        add_event_chain_counter = { event_chain = breakthrough_military_theory counter = friendly_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "military_theory_breakthrough_spread_hostile"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_military_theory counter = hostile_neighbor amount = 1 }
            set_country_flag = "military_theory_breakthrough_spread_hostile"
            country_event = { 
                id = TechAscendant.1206 
                days = 360
            }
        } 
    }
}

### Announce a that a hostile neighboring Empire has made a breakthrough
# country_event = {
# 	id = TechAscendant.1205
# 	title = breakthrough_society.title
# 	desc = breakthrough.hostile.desc
# 	picture = GFX_evt_chess
# 	is_triggered_only = yes
	
#    	option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             country_event = { 
#                 id = TechAscendant.1206 
#                 days = 360
#             }
#         }
#     }
# }

### Yearly check to see if we are still hostile
country_event = {
	id = TechAscendant.1206
    hide_window = yes
	is_triggered_only = yes

    trigger = {
        NOT = { has_technology = tech_military_theory_breakthrough }
    }
    immediate = {
        if = {
            limit = {
                exists = event_target:military_theory_origin
                OR = { 
                    is_neighbor_of = event_target:military_theory_origin
                    has_research_agreement = event_target:military_theory_origin
                }
                their_opinion = { who = event_target:military_theory_origin value > 0 }
                NOT = { event_target:military_theory_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.1207 
            }
        }
        if = {
            limit = {
                exists = event_target:military_theory_origin
                OR = { 
                    is_neighbor_of = event_target:military_theory_origin
                    has_research_agreement = event_target:military_theory_origin
                }
                their_opinion = { who = event_target:military_theory_origin value <= 0 }
                NOT = { event_target:military_theory_origin = { has_ascension_perk = ap_enigmatic_engineering }}
            }
            country_event = { 
                id = TechAscendant.1206
                days = 360
            }
        }
        if = {
            limit = {
                OR = {
                    NOT = { exists = event_target:military_theory_origin }
                    AND = {
                        exists = event_target:military_theory_origin
                        NOR = { 
                            is_neighbor_of = event_target:military_theory_origin
                            has_research_agreement = event_target:military_theory_origin
                        }
                    }
                    AND = {
                        exists = event_target:military_theory_origin
                        event_target:military_theory_origin = { has_ascension_perk = ap_enigmatic_engineering }
                    }
                }
            }
            # country_event = { id = TechAscendant.1209 }
            remove_country_flag = "military_theory_breakthrough_spread_hostile"
            add_event_chain_counter = { event_chain = breakthrough_military_theory counter = hostile_neighbor amount = -1 }
        }
    }
}

### Relations have improved to friendly
country_event = {
	id = TechAscendant.1207
	# title = spread.improved.title
	# desc = spread.improved.desc
	# picture = GFX_evt_synth_organic_relations
    is_triggered_only = yes
    hide_window = yes	
	
    immediate = {
        remove_country_flag = "military_theory_breakthrough_spread_hostile"
        add_event_chain_counter = { event_chain = breakthrough_military_theory counter = hostile_neighbor amount = -1 }       
        if = {
            limit = {
                NOT = {
                    has_country_flag = "military_theory_breakthrough_spread_friendly"
                }
            }
            add_event_chain_counter = { event_chain = breakthrough_military_theory counter = friendly_neighbor amount = 1 }
            set_country_flag = "military_theory_breakthrough_spread_friendly"
            country_event = { 
                id = TechAscendant.1202 
                days = 360
            }
        }
    }
}

### We can no longer learn their secrets
# country_event = {
# 	id = TechAscendant.1209
# 	title = spread.lost.title
# 	desc = spread.lost.desc
# 	picture = GFX_evt_space_funeral
# 	is_triggered_only = yes
    
#     trigger = {
#         NOT = { has_country_flag = "secrets_lost" }
#     }
#     option = {
# 		name = WORRYING
# 	}
#     immediate = {
#         hidden_effect = { 
#             set_country_flag = "secrets_lost"
#             country_event = { 
#                 id = TechAscendant.2002 
#                 days = 400
#             }
#         }
#     }
# }

### Flag any Empire has made a breakthrough for the first time
# country_event = {
# 	id = TechAscendant.1210
# 	hide_window = yes
# 	is_triggered_only = yes
	
#     trigger = {
#         any_playable_country = { 
#             has_technology = tech_military_theory_breakthrough
#             NOT = { has_country_flag = "military_theory_breakthrough" }
#         }
#     }
#     immediate = {
#         random_playable_country = {
#             limit = { 
#                 has_technology = tech_military_theory_breakthrough
#                 NOT = { has_country_flag = "military_theory_breakthrough" }
#             }
#             if = {
#                 limit = {
#                     NOT = { 
#                         has_global_flag = "military_theory_discovered"
#                     }
#                 }
#                 set_global_flag = "military_theory_discovered"
#                 save_global_event_target_as = "military_theory_first"
#             }
#             set_country_flag = "military_theory_breakthrough"
#         }
#     }
# }

### Announce that a known Empire has made a breakthrough for the first time
country_event = {
	id = TechAscendant.1211
	title = military_theory_breakthrough.title
	desc = breakthrough.military_theory.desc
	picture = GFX_evt_chess
	is_triggered_only = yes
	
    trigger = {
        is_ai = no
        any_playable_country = { 
            has_technology = tech_military_theory_breakthrough
            has_communications = root
        }
        NOT = {has_country_flag= "military_theory_known" }
    }
   	option = {
		name = MARVELOUS
        custom_tooltip = "military_theory.tooltip"
	}
    immediate = {
        random_playable_country = {
            limit = { 
                has_technology = tech_military_theory_breakthrough
                has_communications = root
            }
            save_event_target_as = military_theory_origin
        }
        set_country_flag = "military_theory_known"
        if = {
            limit = {
                NOR = { 
                    has_event_chain = breakthrough_military_theory 
                    has_technology = tech_military_theory_breakthrough
                }
            }
            begin_event_chain = { event_chain = breakthrough_military_theory target = root }
            country_event = {
                id = breaklog.120
            }
        } 
    }
}

### Advanced AI start give breakthrough chance
country_event = {
    id = TechAscendant.2000
    hide_window = yes
    is_triggered_only = yes

    immediate = {
        random_list = {
			80 = { }
			2 = { give_technology = { tech = "tech_materials_breakthrough" message = no }}
            2 = { give_technology = { tech = "tech_industry_breakthrough" message = no }}
            2 = { give_technology = { tech = "tech_rocketry_breakthrough" message = no }}
            2 = { give_technology = { tech = "tech_particles_breakthrough" message = no }}
            2 = { give_technology = { tech = "tech_computing_breakthrough" message = no }}
            2 = { give_technology = { tech = "tech_field_manipulation_breakthrough" message = no }}
            2 = { give_technology = { tech = "tech_new_worlds_breakthrough" message = no }}
            2 = { give_technology = { tech = "tech_voidcraft_breakthrough" message = no }}
            2 = { give_technology = { tech = "tech_military_theory_breakthrough" message = no }}
            2 = { give_technology = { tech = "tech_psionics_breakthrough" message = no }}        
		}
	}
}

### Block technological secrets lost event spam
# country_event = {
#     id = TechAscendant.2002
#     hide_window = yes
#     is_triggered_only = yes

#     immediate = {
#         remove_country_flag = "secrets_lost"
#     }
# }   

### Mark if you got a breakthrough on your own or if you had spread
country_event = {
    id = TechAscendant.2003
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        OR = {
            last_increased_tech = tech_materials_breakthrough
			last_increased_tech = tech_industry_breakthrough
			last_increased_tech = tech_voidcraft_breakthrough
			last_increased_tech = tech_rocketry_breakthrough
			last_increased_tech = tech_particles_breakthrough
			last_increased_tech = tech_field_manipulation_breakthrough
			last_increased_tech = tech_computing_breakthrough
			last_increased_tech = tech_psionics_breakthrough
			last_increased_tech = tech_biology_breakthrough
			last_increased_tech = tech_statecraft_breakthrough
			last_increased_tech = tech_new_worlds_breakthrough
			last_increased_tech = tech_military_theory_breakthrough
        }
    }
    immediate = {
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_materials_breakthrough
                    OR = {
                        has_country_flag = "materials_breakthrough_spread_friendly"
					    has_country_flag = "materials_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = materials_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_industry_breakthrough
                    OR = {
                        has_country_flag = "industry_breakthrough_spread_friendly"
					    has_country_flag = "industry_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = industry_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_voidcraft_breakthrough
                    OR = {
                        has_country_flag = "voidcraft_breakthrough_spread_friendly"
					    has_country_flag = "voidcraft_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = voidcraft_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_rocketry_breakthrough
                    OR = {
                        has_country_flag = "rocketry_breakthrough_spread_friendly"
					    has_country_flag = "rocketry_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = rocketry_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_particles_breakthrough
                    OR = {
                        has_country_flag = "particles_breakthrough_spread_friendly"
					    has_country_flag = "particles_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = particles_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_field_manipulation_breakthrough
                    OR = {
                        has_country_flag = "field_manipulation_breakthrough_spread_friendly"
					    has_country_flag = "field_manipulation_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = field_manipulation_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_computing_breakthrough
                    OR = {
                        has_country_flag = "computing_breakthrough_spread_friendly"
					    has_country_flag = "computing_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = computing_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_psionics_breakthrough
                    OR = {
                        has_country_flag = "psionics_breakthrough_spread_friendly"
					    has_country_flag = "psionics_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = psionics_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_biology_breakthrough
                    OR = {
                        has_country_flag = "biology_breakthrough_spread_friendly"
					    has_country_flag = "biology_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = biology_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_statecraft_breakthrough
                    OR = {
                        has_country_flag = "statecraft_breakthrough_spread_friendly"
					    has_country_flag = "statecraft_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = statecraft_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_new_worlds_breakthrough
                    OR = {
                        has_country_flag = "new_worlds_breakthrough_spread_friendly"
					    has_country_flag = "new_worldsbreakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = new_worlds_theory_from_spread
        }
        if = {
            limit = {
                AND = {
                    last_increased_tech = tech_military_theory_breakthrough
                    OR = {
                        has_country_flag = "military_theory_breakthrough_spread_friendly"
					    has_country_flag = "military_theory_breakthrough_spread_hostile"
                    }
                }
            }
            set_country_flag = military_theory_from_spread
        }
    }
}

