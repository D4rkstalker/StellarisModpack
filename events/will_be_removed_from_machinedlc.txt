namespace = machinedlcetc

country_event = {
	id = machinedlcetc.1000
	hide_window = yes
	fire_only_once = yes

	trigger = {
		has_valid_civic = civic_machinedlc_division_by_zero
		NOR = {
			has_technology = tech_machine_division_by_zero
			has_tech_option = tech_machine_division_by_zero
		}
	}
	
	immediate = {
		add_research_option = tech_machine_division_by_zero
	}
}
country_event = {
	id = machinedlcetc.1001
	hide_window = yes
	fire_only_once = yes

	trigger = {
		any_owned_pop = {
			OR = {
				has_trait = trait_biorobot
				has_trait = trait_biorobot_2
			}
			has_trait = trait_machine_unit
		}
	}
	
	immediate = {
		every_owned_pop = {
			limit = {
				has_trait = trait_machine_unit
				has_trait = trait_biorobot
			}
			modify_species = {
				remove_trait = trait_machine_unit
				add_trait = trait_mechanical
				change_scoped_species = yes
			}
		}
		every_owned_pop = {
			limit = {
				has_trait = trait_machine_unit
				has_trait = trait_biorobot_2
			}
			modify_species = {
				remove_trait = trait_machine_unit
				add_trait = trait_mechanical
				change_scoped_species = yes
			}
		}
	}
}
country_event = {
	id = machinedlcetc.1003
	hide_window = yes
	fire_only_once = yes

	trigger = {
		NOT = { has_global_flag = machinedlc_new_feature_5 }
	}

	immediate = {
		set_global_flag = machinedlc_new_feature_5
	}
}