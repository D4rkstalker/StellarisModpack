namespace = hypocompat

event = {
	id = hypocompat.1
	hide_window = yes
    fire_only_once = yes

    immediate = {
        set_global_flag = has_hypothetical_stars_mod
    }
}

country_event = {
	id = hypocompat.201
	hide_window = yes
    fire_only_once = yes

    immediate = {
        IF = {
            limit = { 
                AND = {
                    has_global_flag = has_real_space_mod
                    Not = { has_global_flag = using_kepler68_morestarclasses }
                }
            }
            set_global_flag = has_hypothetical_stars_with_rs_mod
        }
        ELSE_IF = {
            limit = {
                AND = {
                    has_global_flag = using_kepler68_morestarclasses
                    Not = { has_global_flag = has_real_space_mod }
                }
            }
            set_global_flag = has_hypothetical_stars_with_msc_mod
        }
        ELSE_IF = {
            limit = {
                AND = {
                    Not = { has_global_flag = using_kepler68_morestarclasses }
                    Not = { has_global_flag = has_real_space_mod }
                }
            }
            set_global_flag = has_hypothetical_stars_bare_mod
        }
    }
}

country_event = {
	id = hypocompat.202
	hide_window = yes
	location = ROOT
    is_triggered_only = yes
    fire_only_once = yes
    
    after = {
        IF = { # If with neither Real Space or More Star Classes
            limit = {
                has_global_flag = has_hypothetical_stars_bare_mod
            }
            random_list = {
                50 = {
                    random_system = {
                        spawn_system = {
                            min_distance = 20
                            max_distance = 50
                            initializer = "hypo_binary_init_03"
                        }
                    }
                }
                50 = {
                    random_system = {
                        spawn_system = {
                            min_distance = 20
                            max_distance = 50
                            initializer = "hypo_binary_init_06"
                        }
                    }
                }
            }
        }
        ELSE_IF = { # If with More Star Classes
            limit = {
                has_global_flag = has_hypothetical_stars_with_msc_mod
            }
            random_list = {
                50 = {
                    random_system = {
                        spawn_system = {
                            min_distance = 20
                            max_distance = 50
                            initializer = "hypo_binary_init_05"
                        }
                    }
                }
                50 = {
                    random_system = {
                        spawn_system = {
                            min_distance = 20
                            max_distance = 50
                            initializer = "hypo_binary_init_08"
                        }
                    }
                }
            }
        }
        ELSE_IF = { # If with Real Space
            limit = {
                has_global_flag = has_hypothetical_stars_with_rs_mod
            }
            random_list = {
                50 = {
                    random_system = {
                        spawn_system = {
                            min_distance = 20
                            max_distance = 50
                            initializer = "hypo_binary_init_04"
                        }
                    }
                }
                50 = {
                    random_system = {
                        spawn_system = {
                            min_distance = 20
                            max_distance = 50
                            initializer = "hypo_binary_init_07"
                        }
                    }
                }
            }
        }
    }
}


