namespace = machinedlcetc

country_event = {
	id = machinedlcetc.1100
	hide_window = yes
	fire_only_once = yes

	trigger = {
		any_owned_planet = {
			OR = {
				has_district = district_nexus_auto
				has_district = district_generator_uncapped_auto
				has_district = district_mining_uncapped_auto
				has_district = district_drone_storage_auto
			}
		}
	}
	
	immediate = {
		every_owned_planet = {
			limit = {
				OR = {
					has_district = district_nexus_auto
					has_district = district_generator_uncapped_auto
					has_district = district_mining_uncapped_auto
					has_district = district_drone_storage_auto
				}
			}
			while = {
				limit = { has_district = district_nexus_auto }
				remove_district = district_nexus_auto
				add_district = district_machinedlcmod_nexus_auto
			}
			while = {
				limit = { has_district = district_generator_uncapped_auto }
				remove_district = district_generator_uncapped_auto
				add_district = district_machinedlc_generator_uncapped_auto
			}
			while = {
				limit = { has_district = district_mining_uncapped_auto }
				remove_district = district_mining_uncapped_auto
				add_district = district_machinedlc_mining_uncapped_auto
			}
			while = {
				limit = { has_district = district_drone_storage_auto }
				remove_district = district_drone_storage_auto
				add_district = district_machinedlc_drone_storage_auto
			}
		}
	}
}
country_event = {
	id = machinedlcetc.1101
	hide_window = yes
	fire_only_once = yes

	trigger = {
		any_owned_planet = {
			OR = {
				has_building = building_machine_parts_factory
				has_building = building_machine_parts_plants
			}
		}
	}
	
	immediate = {
		every_owned_planet = {
			limit = {
				OR = {
					has_building = building_machine_parts_factory
					has_building = building_machine_parts_plants
				}
			}
			while = {
				limit = { has_building = building_machine_parts_factory }
				remove_building = building_machine_parts_factory
				add_building = building_machinedlc_parts_plants
			}
			while = {
				limit = { has_building = building_machine_parts_plants }
				remove_building = building_machine_parts_plants
				add_building = building_machinedlc_drone_parts_complex
			}
		}
	}
}