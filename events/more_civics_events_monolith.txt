namespace = mc_monolith

#Monolith Trigger Basis (Hidden)
country_event = {
	id = mc_monolith.0
	hide_window = yes
	
	fire_only_once = yes
	
	trigger = {
		owner = { has_valid_civic = civic_alien_influence }
	}
	
	immediate = {
		owner = { set_country_flag = monolith_start }
	}
}

#Monolith Time Trigger (Hidden)
planet_event = {
	id = mc_monolith.1
	hide_window = yes
	
	trigger = {
		AND = {
			owner = { has_valid_civic = civic_alien_influence }
			NOT = { has_planet_flag = Monolith_destroyed }
			owner = { has_country_flag = monolith_triggered }
		}
	}
	
	immediate = {
		owner = {
			country_event = { id = mc_monolith.2 days = 3600 }
			remove_country_flag = monolith_triggered
		}
	}
}

country_event = {
	id = mc_monolith.2
	title = "mc_monolith.2.name"
	desc = "mc_monolith.2.desc"
	picture = GFX_evt_ancient_artifact
	show_sound = event_finding_loot
	location = FROM
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_country_flag = monolith_triggered
		}
		owner = { add_resource = { minor_artifacts = 5 } }
		if = {
			limit = {
				any_planet = { has_building = building_more_civics_monolith_2 }
			}
			owner = { add_resource = { minor_artifacts = 5 } }
		}
		if = {
			limit = {
				any_planet = { has_building = building_more_civics_monolith_3 }
			}
			owner = { add_resource = { minor_artifacts = 10 } }
		}
		if = {
			limit = {
				any_planet = { has_building = building_more_civics_monolith_4 }
			}
			owner = { add_resource = { minor_artifacts = 15 } }
		}
		if = {
			limit = {
				any_planet = { has_building = building_more_civics_monolith_5 }
			}
			owner = { add_resource = { minor_artifacts = 20 } }
		}
	}
	
	option = {
		name = "mc_monolith.2.a"
	}
}

#Monolith Placement (hidden)
planet_event = {
	id = mc_monolith.3
	hide_window = yes
	
	fire_only_once = yes
	
	trigger = {
		AND = {
			owner = { has_valid_civic = civic_alien_influence }
			NOT = { has_planet_flag = Monolith_destroyed }
			owner = { has_country_flag = monolith_start }
		}
	}
	
	immediate = {
		planet_event = { id = mc_monolith.10 days = 30 }
	}
}

#A Black Bar
planet_event = {
	id = mc_monolith.10
	title = "mc_monolith.10.name"
	desc = "mc_monolith.10.desc"
	picture = GFX_evt_physics_research
	show_sound = event_door_opening
	location = capital
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	immediate = {
		owner = { add_resource = { minor_artifacts = 5 } }
		owner = { set_country_flag = monolith_triggered }
		add_building = building_more_civics_monolith_1
	}
	
	option = {
		name = "mc_monolith.10.a"
	}
}

