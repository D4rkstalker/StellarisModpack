namespace = custom_trait

country_event = {
    id = custom_trait.101
    hide_window = yes
 	is_triggered_only = yes

    immediate = {
        every_country = {
            limit = {
                OR = {
                    species = { has_trait = custom_trait_deus_machina }
                    species = { has_trait = custom_trait_borg }
                    species = { has_trait = custom_trait_godly_species }

                }
			}
			every_owned_leader = {
                limit = {
                    is_same_species = root
                    NOR = {
                        has_trait =    leader_trait_admiral_godly_admiral
                        has_trait =    leader_trait_general_godly_general
                        has_trait =    leader_trait_governor_godly_governor
                        has_trait =    leader_trait_scientist_godly_scientist
                        has_trait =    leader_trait_ruler_godly_ruler
                    }
                }
                if = {
                    limit = { leader_class = admiral }
                    add_trait = leader_trait_admiral_godly_admiral
                    add_ruler_trait = leader_trait_ruler_godly_ruler
                }
                if = {
                    limit = { leader_class = general }
                    add_trait = leader_trait_general_godly_general
                    add_ruler_trait = leader_trait_ruler_godly_ruler
                }
                if = {
                    limit = { leader_class = governor }
                    add_trait = leader_trait_governor_godly_governor
                    add_ruler_trait = leader_trait_ruler_godly_ruler
                }
                if = {
                    limit = { leader_class = scientist }
					add_trait = leader_trait_scientist_godly_scientist
                    add_ruler_trait = leader_trait_ruler_godly_ruler
                }
                if = {
                    limit = { leader_class = ruler }
                    add_trait = leader_trait_ruler_godly_ruler
                }
            }
			every_pool_leader = {
                limit = {
                    is_same_species = root
                    NOR = {
                        has_trait =    leader_trait_admiral_godly_admiral
                        has_trait =    leader_trait_general_godly_general
                        has_trait =    leader_trait_governor_godly_governor
                        has_trait =    leader_trait_scientist_godly_scientist
                        has_trait =    leader_trait_ruler_godly_ruler
                    }
                }
                if = {
                    limit = { leader_class = admiral }
                    add_trait = leader_trait_admiral_godly_admiral
                    add_ruler_trait = leader_trait_ruler_godly_ruler
                }
                if = {
                    limit = { leader_class = general }
                    add_trait = leader_trait_general_godly_general
                    add_ruler_trait = leader_trait_ruler_godly_ruler
                }
                if = {
                    limit = { leader_class = governor }
                    add_trait = leader_trait_governor_godly_governor
                    add_ruler_trait = leader_trait_ruler_godly_ruler
                }
                if = {
                    limit = { leader_class = scientist }
					add_trait = leader_trait_scientist_godly_scientist
                    add_ruler_trait = leader_trait_ruler_godly_ruler
                }
                if = {
                    limit = { leader_class = ruler }
                    add_trait = leader_trait_ruler_godly_ruler
                }
            }
    	}
	}
}