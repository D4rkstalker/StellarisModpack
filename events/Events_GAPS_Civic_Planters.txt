namespace = Events_GAPS_Planters

country_event = {
	id = Events_GAPS_Planters.1
	title = Events_GAPS_Planters.1.name
	desc = Events_GAPS_Planters.1.desc
	picture = GFX_evt_unidentified_ship
	show_sound = megastructure_upgraded_01
	hide_window = no
	is_triggered_only = yes

	trigger = {
		this = { has_civic = Civic_GAPS_Planters }
		OR = {
			last_increased_tech = Tech_GAPS_Planter_Advancements_1
			last_increased_tech = Tech_GAPS_Planter_Advancements_2
			last_increased_tech = Tech_GAPS_Planter_Advancements_3
			last_increased_tech = Tech_GAPS_Planter_Advancements_4
			last_increased_tech = Tech_GAPS_Planter_Advancements_5
			last_increased_tech = Tech_GAPS_Planter_Advancements_6
			last_increased_tech = Tech_GAPS_Planter_Advancements_7
			last_increased_tech = Tech_GAPS_Planter_Advancements_8
		}
	}

	option = {
		name = "Events_GAPS_Planters_Option1.world_tree"
		custom_tooltip = "Events_GAPS_Planters_Option1.world_tree.Tooltip"
		hidden_effect = {
			set_country_flag = CountryFlag_GAPS_Planters_Has_world_tree
		}
		trigger = {
			NOT = { has_country_flag = CountryFlag_GAPS_Planters_Has_world_tree }
		}
		ai_chance = {
			factor = 12.5
		}
	}

	option = {
		name = "Events_GAPS_Planters_Option1.vine_vista"
		custom_tooltip = "Events_GAPS_Planters_Option1.vine_vista.Tooltip"
		hidden_effect = {
			set_country_flag = CountryFlag_GAPS_Planters_Has_vine_vista
		}
		trigger = {
			NOT = { has_country_flag = CountryFlag_GAPS_Planters_Has_vine_vista }
		}
		ai_chance = {
			factor = 12.5
		}
	}
	option = {
		name = "Events_GAPS_Planters_Option1.shroomscape"
		custom_tooltip = "Events_GAPS_Planters_Option1.shroomscape.Tooltip"
		hidden_effect = {
			set_country_flag = CountryFlag_GAPS_Planters_Has_shroomscape
		}
		trigger = {
			NOT = { has_country_flag = CountryFlag_GAPS_Planters_Has_shroomscape }
		}
		ai_chance = {
			factor = 12.5
		}
	}
	option = {
		name = "Events_GAPS_Planters_Option1.moss_monuments"
		custom_tooltip = "Events_GAPS_Planters_Option1.moss_monuments.Tooltip"
		hidden_effect = {
			set_country_flag = CountryFlag_GAPS_Planters_Has_moss_monuments
		}
		trigger = {
			NOT = { has_country_flag = CountryFlag_GAPS_Planters_Has_moss_monuments }
		}
		ai_chance = {
			factor = 12.5
		}
	}
	option = {
		name = "Events_GAPS_Planters_Option1.Ambrosia_Growths"
		custom_tooltip = "Events_GAPS_Planters_Option1.Ambrosia_Growths.Tooltip"
		hidden_effect = {
			set_country_flag = CountryFlag_GAPS_Planters_Has_Ambrosia_Growths
		}
		trigger = {
			NOT = { has_country_flag = CountryFlag_GAPS_Planters_Has_Ambrosia_Growths }
		}
		ai_chance = {
			factor = 12.5
		}
	}
	option = {
		name = "Events_GAPS_Planters_Option1.Spreading_Fields"
		custom_tooltip = "Events_GAPS_Planters_Option1.Spreading_Fields.Tooltip"
		hidden_effect = {
			set_country_flag = CountryFlag_GAPS_Planters_Has_Spreading_Fields
		}
		trigger = {
			NOT = { has_country_flag = CountryFlag_GAPS_Planters_Has_Spreading_Fields }
		}
		ai_chance = {
			factor = 12.5
		}
	}
	option = {
		name = "Events_GAPS_Planters_Option1.Great_Gardens"
		custom_tooltip = "Events_GAPS_Planters_Option1.Great_Gardens.Tooltip"
		hidden_effect = {
			set_country_flag = CountryFlag_GAPS_Planters_Has_Great_Gardens
		}
		trigger = {
			NOT = { has_country_flag = CountryFlag_GAPS_Planters_Has_Great_Gardens }
		}
		ai_chance = {
			factor = 12.5
		}
	}
	option = {
		name = "Events_GAPS_Planters_Option1.Lichen_Pillars"
		custom_tooltip = "Events_GAPS_Planters_Option1.Lichen_Pillars.Tooltip"
		hidden_effect = {
			set_country_flag = CountryFlag_GAPS_Planters_Has_Lichen_Pillars
		}
		trigger = {
			NOT = { has_country_flag = CountryFlag_GAPS_Planters_Has_Lichen_Pillars }
		}
		ai_chance = {
			factor = 12.5
		}
	}
}

#on game start country
country_event = {
	id = Events_GAPS_Planters.2
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		this = { has_civic = Civic_GAPS_Planters }
	}
	immediate = {
		give_technology = { tech = Tech_GAPS_Planter_Advancements_1 message = no }
	}
}

#last_district_changed = district_capitol
# A district construction has demolished.
# This = Planet
planet_event = {
	id = Events_GAPS_Planters.3
	title = Events_GAPS_Planters.3.name
	desc = Events_GAPS_Planters.3.desc
	picture = GFX_evt_unidentified_ship
	show_sound = megastructure_upgraded_01
	hide_window = no
	is_triggered_only = yes

	trigger = {
		OR = {
			last_district_changed = d_GAPS_World_Tree
			last_district_changed = d_GAPS_Vine_Vista
			last_district_changed = d_GAPS_Shroomscape
			last_district_changed = d_GAPS_Moss_Monuments
			last_district_changed = d_GAPS_Ambrosia_Growths
			last_district_changed = d_GAPS_Great_Gardens
			last_district_changed = d_GAPS_Spreading_Fields
			last_district_changed = d_GAPS_Lichen_Pillars
		}
	}
	option = {
		name = "Events_GAPS_Planters_Option1.Removing_Plant"
		custom_tooltip = "Events_GAPS_Planters_Option1.Removing_Plant.Tooltip"
		hidden_effect = {
			root = { add_planet_devastation = 10 }
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				planet_devastation > 10
			}
		}
	}
	option = {
		name = "Events_GAPS_Planters_Option1.Do_Not_Remove_Plant"
		custom_tooltip = "Events_GAPS_Planters_Option1.Do_Not_Remove_Plant.Tooltip"
		hidden_effect = {
			if = { limit = { last_district_changed = d_GAPS_World_Tree } add_district = d_GAPS_World_Tree }
			else_if = { limit = { last_district_changed = d_GAPS_Vine_Vista } add_district = d_GAPS_Vine_Vista }
			else_if = { limit = { last_district_changed = d_GAPS_Shroomscape } add_district = d_GAPS_Shroomscape }
			else_if = { limit = { last_district_changed = d_GAPS_Moss_Monuments } add_district = d_GAPS_Moss_Monuments }
			else_if = { limit = { last_district_changed = d_GAPS_Ambrosia_Growths } add_district = d_GAPS_Ambrosia_Growths }
			else_if = { limit = { last_district_changed = d_GAPS_Great_Gardens } add_district = d_GAPS_Great_Gardens }
			else_if = { limit = { last_district_changed = d_GAPS_Spreading_Fields } add_district = d_GAPS_Spreading_Fields }
			else_if = { limit = { last_district_changed = d_GAPS_Lichen_Pillars } add_district = d_GAPS_Lichen_Pillars }
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				planet_devastation < 10
			}
		}
	}
}
