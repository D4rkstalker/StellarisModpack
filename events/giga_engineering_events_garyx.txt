namespace = gigagaryx
###FIRST CONTACT###
country_event = {
	id = gigagaryx.1
	title = "gigagaryx.1.name"
	desc = "gigagaryx.1.desc"
	location = FROM
	diplomatic = yes
	
	is_triggered_only = yes
	
	immediate = {
		create_species = {
			name = "Garyx"
			plural = "Garyx"
			class = GARYX
			portrait = garyx
		}
		last_created_species = {
			save_global_event_target_as = garyx_species
		}
		create_country = {
			name = "Garyx"
			type = faction
			species = last_created
			effect = {
				establish_communications_no_message = root.owner
			}
		}
		last_created_country = {
			save_global_event_target_as = garyxportrait
			event_target:garyxportrait = {
				create_leader = {
					class = ruler
					species = Garyx
					name = "Garyx"
					skill = 5
				}
			}
		}
	}

	picture_event_data = {
		portrait = event_target:garyx_species
		room = garyx_room
	}
	
	option = {
		name = gigagaryx.1.a
		response_text = gigagaryx.1.a.response
		is_dialog_only = yes
	}
	
	option = {
		name = gigagaryx.1.b
		response_text = gigagaryx.1.b.response
		is_dialog_only = yes
	}
	
	option = {
		name = gigagaryx.1.c
		response_text = gigagaryx.1.c.response
		is_dialog_only = yes
	}

	option = {
		name = gigagaryx.1.d
		response_text = gigagaryx.1.d.response
		is_dialog_only = yes
	}
	
	option = {
		name = gigagaryx.1.e
		response_text = gigagaryx.1.e.response
		hidden_effect = {
			country_event = { id = gigagaryx.2 days = 1 }
		}
	}
}

#Report
country_event = {
	id = gigagaryx.2
	title = gigagaryx.2.name
	desc = gigagaryx.2.desc
	picture = GFX_evt_physics_research
	show_sound = event_radio_chatter
	location = FROMFROM
	
	is_triggered_only = yes
	
	option = {
		name = gigagaryx.2.a
		hidden_effect = {
			country_event = { id = gigagaryx.3 days = 720 }
		}
	}
}

###Garyx gives data###
country_event = {
	id = gigagaryx.3
	title = "gigagaryx.3.name"
	desc = "gigagaryx.3.desc"
	location = FROM
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = event_target:garyx_species
		room = garyx_room
	}
	
	option = {
		name = gigagaryx.3.a
		add_research_option = tech_fix_squareworld
	}
}

###Garyx contacted again###
country_event = {
	id = gigagaryx.10
	title = "gigagaryx.10.name"
	desc = "gigagaryx.10.desc"
	location = FROM
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = event_target:garyx_species
		room = garyx_room
	}
	
	option = {
		name = gigagaryx.10.a
		hidden_effect = {
			country_event = { id = gigagaryx.11 }
		}
	}
	
	option = {
		name = gigagaryx.10.c
		hidden_effect = {
			remove_country_flag = talking_to_garyx
		}
	}
}

###Research###
country_event = {
	id = gigagaryx.11
	title = "gigagaryx.11.name"
	desc = "gigagaryx.11.desc"
	location = FROM
	diplomatic = yes
	
	is_triggered_only = yes
	
	picture_event_data = {
		portrait = event_target:garyx_species
		room = garyx_room
	}
	
	option = {
		name = gigagaryx.11.a
		response_text = gigagaryx.11.a.response
		hidden_effect = {
			remove_country_flag = talking_to_garyx
			if = {
				limit = {
					has_modifier = garyxengineering
				}
				remove_modifier = garyxengineering
			}
			if = {
				limit = {
					has_modifier = garyxsociety
				}
				remove_modifier = garyxsociety
			}
			add_modifier = { modifier = garyxphysics }
		}
	}
	
	option = {
		name = gigagaryx.11.b
		response_text = gigagaryx.11.b.response
		hidden_effect = {
			remove_country_flag = talking_to_garyx
			if = {
				limit = {
					has_modifier = garyxphysics
				}
				remove_modifier = garyxphysics
			}
			if = {
				limit = {
					has_modifier = garyxsociety
				}
				remove_modifier = garyxsociety
			}
			add_modifier = { modifier = garyxengineering }
		}
	}
	
	option = {
		name = gigagaryx.11.c
		response_text = gigagaryx.11.c.response
		hidden_effect = {
			remove_country_flag = talking_to_garyx
			if = {
				limit = {
					has_modifier = garyxengineering
				}
				remove_modifier = garyxengineering
			}
			if = {
				limit = {
					has_modifier = garyxphysics
				}
				remove_modifier = garyxphysics
			}
			add_modifier = { modifier = garyxsociety }
		}
	}
	
	option = {
		name = gigagaryx.11.d #nevermind
		response_text = gigagaryx.11.d.response
		hidden_effect = {
			remove_country_flag = talking_to_garyx
			if = {
				limit = {
					has_modifier = garyxengineering
				}
				remove_modifier = garyxengineering
			}
			if = {
				limit = {
					has_modifier = garyxphysics
				}
				remove_modifier = garyxphysics
			}
			if = {
				limit = {
					has_modifier = garyxsociety
				}
				remove_modifier = garyxsociety
			}
		}
	}
}