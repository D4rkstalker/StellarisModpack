namespace = gai_resettlement
#This resettles AI pops from one world to another in order to make the AI grow as quickly as possible
#All event descriptions are now in the common\on actions\ folder

#These event was written by Glavius, the improvement it makes is insane
#It's hard to explain how much does this event change the growth, it's really surprising


event = {
	id = gai_resettlement.1
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			limit = {
				is_ai = yes
				or = {
				is_country_type = "default"
				is_country_type = awakened_fallen_empire
				}
				NOT = { has_policy_flag = resettlement_not_allowed }
			}
			country_event = { id = gai_resettlement.2 }
		}
	}
}

country_event = {
	id = gai_resettlement.2
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		IF = {
			limit = {
				any_owned_planet = { 
					is_planet_class = pc_habitat
					is_under_colonization = no
					free_housing > 0
					free_jobs > 0
				}
			}
			random_owned_planet = {
				limit = {
					is_planet_class = pc_habitat
					is_under_colonization = no
					free_housing > 0
					free_jobs > 0
				}
				planet_event = { id = gai_resettlement.8 }
			}
			if = {
				limit = {
					years_passed > 50
				}
			random_owned_planet = {
				limit = {
					is_planet_class = pc_habitat
					is_under_colonization = no
					free_housing > 0
					free_jobs > 0
				}
				planet_event = { id = gai_resettlement.8 }
			}
			random_owned_planet = {
				limit = {
					is_planet_class = pc_habitat
					is_under_colonization = no
					free_housing > 0
					free_jobs > 0
				}
				planet_event = { id = gai_resettlement.8 }
			}
			}
		}
		ELSE_IF = {
			limit = {
				is_machine_empire = yes
				any_owned_planet = { 
					count_pops = { limit = { is_sapient = yes } count < 10 }
					NOT = { is_planet_class = pc_habitat }
					free_jobs > 0
					is_colony = yes
					is_under_colonization = no
					has_orbital_bombardment = no
				}
			}
			IF = {
				LIMIT = {
					has_valid_civic = civic_machine_assimilator
					any_owned_planet = {
						count_pops = { limit = { has_trait = trait_cybernetic } count < 1 }
						is_colony = yes
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { limit = { has_trait = trait_cybernetic } count < 1 }
						is_colony = yes
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.3 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 9 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 9 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.3 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 8 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 8 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.3 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 7 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 7 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.3 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 6 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 6 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.3 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 5 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 5 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.3 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 4 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 4 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.3 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 3 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 3 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.3 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 2 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 2 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.3 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = {
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 1 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { limit = { is_sapient = yes is_organic_species = no } count = 1 }
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.3 }
				}
				break = yes
			}
		}
		ELSE_IF = {
			limit = {
				is_machine_empire = no
				any_owned_planet = { 
					count_pops = { 
						limit = { 
							is_sapient = yes
							OR = {
								has_citizenship_type = { type = citizenship_full }
								has_citizenship_type = { type = citizenship_limited }
								has_citizenship_type = { type = citizenship_slavery }
							}
						} 
						count < 15 
					}
					NOT = { is_planet_class = pc_habitat }
					is_colony = yes
					free_housing > 0
					free_jobs > 0
					is_under_colonization = no
					has_orbital_bombardment = no
				}
			}
			IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 14 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = {
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 14 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 13 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 13 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 12 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 12 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 11 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 11 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 10 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 10 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 9 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 9
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 8 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 8 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 7 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 7 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
						
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 6 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 6 
						}
						NOT = { is_planet_class = pc_habitat }
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 5 
						}
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 5 
						}
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 4 
						}
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 4 
						}
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 3 
						}
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 3 
						}
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 2 
						}
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 2 
						}
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
			ELSE_IF = {
				LIMIT = {
					any_owned_planet = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 1 
						}
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
				}
				random_owned_planet = {
					limit = { 
						count_pops = { 
							limit = { 
								OR = {
									is_sapient = yes
									has_trait = trait_mechanical
								}
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
								}
							} 
							count = 1 
						}
						is_colony = yes
						free_housing > 0
						free_jobs > 0
						is_under_colonization = no
						has_orbital_bombardment = no
					}
					planet_event = { id = gai_resettlement.7 }
				}
				break = yes
			}
		}
		ELSE_IF = {
			limit = {
				any_owned_planet = {
					any_owned_pop = {
						is_unemployed = yes
						has_citizenship_type = { type = citizenship_slavery }
					}
				}
				any_owned_planet = {
					any_owned_pop = {
						is_unemployed = no
						is_pop_category = worker
						OR = {
							has_citizenship_type = { type = citizenship_full }
							has_citizenship_type = { type = citizenship_limited }
						}
					}
				}
			}
			random_owned_planet = {
				limit = {
					any_owned_pop = {
						is_unemployed = yes
						has_citizenship_type = { type = citizenship_slavery }
					}
				}
				planet_event = { id = gai_resettlement.200 }
			}
		}
		ELSE_IF = {
			limit = {
				any_owned_planet = {
					count_pops = { limit = { has_citizenship_type = { type = citizenship_slavery } } count > 2 }
					owner = { has_authority = auth_machine_intelligence }
				}
				any_owned_planet = {
					NOT = { count_pops = { limit = { has_citizenship_type = { type = citizenship_slavery } } count >= 1 } }
				}
			}
			random_owned_planet = {
				limit = { NOT = { count_pops = { limit = { has_citizenship_type = { type = citizenship_slavery } } count >= 1 } } }
				planet_event = { id = gai_resettlement.95 }
			}
		}
		ELSE_IF = {
			limit = {
				any_owned_planet = {
					count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count > 2 }
				}
				any_owned_planet = {
					OR = {
						has_building = building_organic_sanctuary 
						has_building = building_organic_paradise
					}
					NOT = { count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count >= 1 } }
				}
			}
			random_owned_planet = {
				limit = {
					OR = {
						has_building = building_organic_sanctuary 
						has_building = building_organic_paradise
					}
					NOT = { count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count >= 1 } }
				}
				planet_event = { id = gai_resettlement.90 }
			}
		}
		ELSE_IF = {
			limit = {
				any_owned_planet = {
					has_building = building_organic_sanctuary 
					count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count > 20 }
				}
				any_owned_planet = {
					OR = {
						AND = {
							has_building = building_organic_sanctuary 
							count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count < 20 }
						}
						AND = {
							has_building = building_organic_paradise
							count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count < 40 }
						}
					}
				}
			}
			random_owned_planet = {
				limit = {
					OR = {
						AND = {
							has_building = building_organic_sanctuary 
							count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count < 20 }
						}
						AND = {
							has_building = building_organic_paradise
							count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count < 40 }
						}
					}
				}
				planet_event = { id = gai_resettlement.9 }
			}
		}
		ELSE_IF = {
			limit = {
				any_owned_planet = {
					has_building = building_organic_paradise 
					count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count > 40 }
				}
				any_owned_planet = {
					has_building = building_organic_paradise 
					count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count < 40 }
				}
			}
			random_owned_planet = {
				limit = {
					has_building = building_organic_paradise
					count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count < 40 }
				}
				planet_event = { id = gai_resettlement.9 }
			}
		}
		ELSE_IF = {
			limit = {
				any_owned_planet = {
					count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count > 2 }
				}
				any_owned_planet = {
					NOT = { is_planet_class = pc_habitat }
					OR = {
						has_building = building_organic_sanctuary 
						has_building = building_organic_paradise
					}
					NOT = { count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count > 1 } }
				}
			}
			random_owned_planet = {
				limit = {
					NOT = { is_planet_class = pc_habitat }
					OR = {
						has_building = building_organic_sanctuary 
						has_building = building_organic_paradise
					}
					NOT = { count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count > 1 } }
				}
				planet_event = { id = gai_resettlement.90 }
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.3
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		set_timed_planet_flag = { flag = gai_resettlement_3 days = 3 }
		
		IF = { #Assimilators
			limit = {
				owner = { has_valid_civic = civic_machine_assimilator }
				ROOT = {
					count_pops = {
						limit = {
							has_trait = trait_cybernetic
						}
						count < 1
					}
				}
			}
			owner = {
				random_owned_planet = {
					limit = {
						is_capital = yes
					}
					set_timed_planet_flag = { flag = gai_resettlement_3_took_pop days = 3 }
					random_owned_pop = {
						limit = {
							has_trait = trait_cybernetic
							#root = { habitability = { who = prev value >= 0.3 } }
						}
						resettle_pop = {
							pop = this
							planet = root
						}
					}
				}
			}
		}
		ELSE = {
			owner = {
				random_owned_planet = {
					limit = {
						has_orbital_bombardment = no
						NOT = { has_planet_flag = gai_resettlement_3 }
						NOT = { has_planet_flag = gai_resettlement_3_took_pop }
						NOT = { 
							years_passed > 35
						}
						or = {
						NOR = {
							count_pops = { limit = { is_sapient = yes } count = 1 }
							AND = {
								count_pops = { limit = { is_sapient = yes } count < 12 }
								count_pops = { limit = { is_sapient = yes } count > 4 }
							}
							count_pops = { limit = { is_sapient = yes } count = 15 }
							count_pops = { limit = { is_sapient = yes } count = 20 }
							count_pops = { limit = { is_sapient = yes } count = 25 }
							count_pops = { limit = { is_sapient = yes } count = 30 }
							count_pops = { limit = { is_sapient = yes } count = 35 }
							count_pops = { limit = { is_sapient = yes } count = 40 }
							count_pops = { limit = { is_sapient = yes } count = 45 }
							count_pops = { limit = { is_sapient = yes } count = 50 }
							count_pops = { limit = { is_sapient = yes } count = 55 }
							count_pops = { limit = { is_sapient = yes } count = 60 }
							count_pops = { limit = { is_sapient = yes } count = 65 }
							count_pops = { limit = { is_sapient = yes } count = 70 }
							count_pops = { limit = { is_sapient = yes } count = 75 }
							count_pops = { limit = { is_sapient = yes } count = 80 }
						}
						free_building_slots > 2
						}
					}
					set_timed_planet_flag = { flag = gai_resettlement_3_took_pop days = 3 }
					random_owned_pop = {
						limit = { 
							is_sapient = yes
							is_organic_species = no
							root = { habitability = { who = prev value >= 0.3 } }
						}
						resettle_pop = {
							pop = this
							planet = root
						}
					}
				}
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.4
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		set_timed_planet_flag = { flag = not_this_planet_lol days = 3 }
		owner = {
			random_owned_planet = {
				limit = {
					has_orbital_bombardment = no
					has_building_construction = no
					NAND = {  
						is_capital = yes 
						count_pops = { limit = { is_sapient = yes } count < 76 }						
					}
					NOT = { has_planet_flag = not_this_planet_lol }
					NOT = { has_planet_flag = gai_4_took_pop }
					or = {
						NOR = {
							count_pops = { limit = { is_sapient = yes } count = 15 }						
							count_pops = { limit = { is_sapient = yes } count = 20 }						
							count_pops = { limit = { is_sapient = yes } count = 25 }
							count_pops = { limit = { is_sapient = yes } count = 30 }
							count_pops = { limit = { is_sapient = yes } count = 35 }
							count_pops = { limit = { is_sapient = yes } count = 40 }
							count_pops = { limit = { is_sapient = yes } count = 45 }
							count_pops = { limit = { is_sapient = yes } count = 50 }
							count_pops = { limit = { is_sapient = yes } count = 55 }
							count_pops = { limit = { is_sapient = yes } count = 60 }
							count_pops = { limit = { is_sapient = yes } count = 65 }
							count_pops = { limit = { is_sapient = yes } count = 70 }
							count_pops = { limit = { is_sapient = yes } count = 75 }
							count_pops = { limit = { is_sapient = yes } count = 80 } }
						free_building_slots > 0
					}
					
					any_owned_pop = { 
						NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
						root = { habitability = { who = prev value >= 0.49 } }
						is_being_purged = no
						NOR = {
							is_pop_category = specialist
							is_pop_category = ruler
						}
					}
				}
				set_timed_planet_flag = { flag = gai_4_took_pop days = 3 }
				random_owned_pop = {
					limit = {
						is_sapient = yes
						root = { habitability = { who = prev value >= 0.49 } }
						is_being_purged = no
						NOR = {
							is_pop_category = specialist
							is_pop_category = ruler
						}
					}
					resettle_pop = {
						pop = this
						planet = root
					}
				}
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.40
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		set_timed_planet_flag = { flag = not_this_planet_lol days = 3 }
		owner = {
			random_owned_planet = {
				limit = {
					has_orbital_bombardment = no
					NAND = {  
						is_capital = yes 
						count_pops = { limit = { is_sapient = yes } count < 76 }
					}
					NOT = { has_planet_flag = not_this_planet_lol }
					NOT = { has_planet_flag = gai_40_took_pop }
					or = {
						NOR = {
							count_pops = { limit = { is_sapient = yes } count = 15 }						
							count_pops = { limit = { is_sapient = yes } count = 20 }						
							count_pops = { limit = { is_sapient = yes } count = 25 }
							count_pops = { limit = { is_sapient = yes } count = 30 }
							count_pops = { limit = { is_sapient = yes } count = 35 }
							count_pops = { limit = { is_sapient = yes } count = 40 }
							count_pops = { limit = { is_sapient = yes } count = 45 }
							count_pops = { limit = { is_sapient = yes } count = 50 }
							count_pops = { limit = { is_sapient = yes } count = 55 }
							count_pops = { limit = { is_sapient = yes } count = 60 }
							count_pops = { limit = { is_sapient = yes } count = 65 }
							count_pops = { limit = { is_sapient = yes } count = 70 }
							count_pops = { limit = { is_sapient = yes } count = 75 }
							count_pops = { limit = { is_sapient = yes } count = 80 }
						}
						free_building_slots > 2
					}
					any_owned_pop = { 
						OR = {
							has_job = miner
							has_job = mining_drone
						}
						is_being_purged = no
						root = { habitability = { who = prev value >= 0.49 } }
					}
				}
				set_timed_planet_flag = { flag = gai_40_took_pop days = 3 }
				random_owned_pop = {
					limit = {
						is_sapient = yes
						root = { habitability = { who = prev value >= 0.49 } }
						is_being_purged = no
						OR = {
							has_job = miner
							has_job = mining_drone
						}
					}
					resettle_pop = {
						pop = this
						planet = root
					}
				}
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.5
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		remove_planet_flag = gai_building_up
		set_timed_planet_flag = { flag = not_this_planet_lol days = 3 }
		set_timed_planet_flag = { flag = gai_building_up days = 400 }
		owner = {
			random_owned_planet = {
				limit = {
					has_orbital_bombardment = no
					has_building_construction = no
					NOT = { has_planet_flag = gai_5_took_pop }
					NAND = {  
						is_capital = yes 
						count_pops = { limit = { is_sapient = yes } count < 76 }
					}
					count_pops = { limit = { is_sapient = yes } count > 12 }
					free_district_slots > 0
					NOT = { has_planet_flag = not_this_planet_lol }
					NOT = { has_planet_flag = gai_building_up }
					any_owned_pop = {
						NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
						is_being_purged = no
						root = { habitability = { who = prev value >= 0.49 } }
						NOR = {
							is_pop_category = specialist
							is_pop_category = ruler
						}
					}
				}
				set_timed_planet_flag = { flag = gai_5_took_pop days = 3 }
				random_owned_pop = {
					limit = {
						is_sapient = yes
						root = { habitability = { who = prev value >= 0.49 } }
						is_being_purged = no
						NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
						NOR = {
							is_pop_category = specialist
							is_pop_category = ruler
						}
					}
					resettle_pop = {
						pop = this
						planet = root
					}
				}
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.6
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		set_timed_planet_flag = { flag = gai_resettlement_6_initiator days = 3 }
		owner = {
			random_owned_planet = {
				limit = {
					NOR = { 
						has_planet_flag = gai_resettlement_6_initiator
						count_pops = {
							limit = { 
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count < 76
						}
					}
					has_orbital_bombardment = no
					any_owned_pop = {
						is_being_purged = no
						root = { habitability = { who = prev value >= 0.49 } }
						NOR = {
							is_pop_category = specialist
							is_pop_category = ruler
						}
						is_unemployed = yes
						OR = {
							has_citizenship_type = { type = citizenship_full }
							has_citizenship_type = { type = citizenship_limited }
							has_citizenship_type = { type = citizenship_slavery }
							has_citizenship_type = { type = citizenship_robot_servitude }
							has_citizenship_type = { type = citizenship_full_machine }
						}
					}
				}
				set_timed_planet_flag = { flag = gai_resettlement_6_took days = 3 }
				random_owned_pop = {
					limit = {
						OR = {
							has_citizenship_type = { type = citizenship_full }
							has_citizenship_type = { type = citizenship_limited }
							has_citizenship_type = { type = citizenship_slavery }
							has_citizenship_type = { type = citizenship_robot_servitude }
							has_citizenship_type = { type = citizenship_full_machine }
						}
						root = { habitability = { who = prev value >= 0.49 } }
						NOR = {
							is_pop_category = specialist
							is_pop_category = ruler
						}
						is_unemployed = yes
					}
					resettle_pop = {
						pop = this
						planet = root
					}
				}
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.7
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		set_timed_planet_flag = { flag = gai_resettlement_7 days = 3 }
		owner = {
			set_timed_country_flag = { flag = gai_settlement days = 40 }
			random_owned_planet = {
				limit = {
					has_orbital_bombardment = no
					NOT = { has_planet_flag = gai_resettlement_7 }
					NOT = { has_planet_flag = gai_resettlement_7_took_pop }
					NOT = { has_planet_flag = ecumen }
					NOR = {
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 1 
						}
						AND = {
							count_pops = { 
								limit = { 
									is_sapient = yes
									OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}

								} 
								count > 4
							}
							count_pops = { 
								limit = { 
									is_sapient = yes
									OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}

								} 
								count < 16
							}
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}

							} 
							count = 20 
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}

							} 
							count = 25 
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 30 
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 35 
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 40
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 45
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 50
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 55
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 60
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 65
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 70
						}
						count_pops = { 
							limit = { 
								is_sapient = yes
								OR = {
									has_citizenship_type = { type = citizenship_full }
									has_citizenship_type = { type = citizenship_limited }
									has_citizenship_type = { type = citizenship_slavery }
									has_citizenship_type = { type = citizenship_robot_servitude }
									has_citizenship_type = { type = citizenship_full_machine }
								}
							} 
							count = 75
						}
					}
				}
				set_timed_planet_flag = { flag = gai_resettlement_7_took_pop days = 3 }
				random_owned_pop = {
					limit = { 
						is_sapient = yes 
						is_being_purged = no
						root = { habitability = { who = prev value >= 0.3 } }
						OR = {
							has_citizenship_type = { type = citizenship_full }
							has_citizenship_type = { type = citizenship_limited }
							has_citizenship_type = { type = citizenship_slavery }
							has_citizenship_type = { type = citizenship_robot_servitude }
							has_citizenship_type = { type = citizenship_full_machine }
						}
						NOR = {
							is_pop_category = specialist
							is_pop_category = ruler
							has_job = spawning_drone
							has_job = roboticist
						}
					}
					resettle_pop = {
						pop = this
						planet = root
					}
				}
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.8
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		set_timed_planet_flag = { flag = not_this_planet_lol days = 3 }
		owner = {
			random_owned_planet = {
				limit = {
					has_orbital_bombardment = no
					NOT = { has_planet_flag = not_this_planet_lol }
					NOT = { has_planet_flag = gai_8_took_pop }
					NOT = { is_capital = yes }
					or = {
					NOR = { 
						count_pops = { limit = { is_sapient = yes } count = 1 }
						count_pops = { limit = { is_sapient = yes } count = 5 }
						count_pops = { limit = { is_sapient = yes } count = 10 }
						count_pops = { limit = { is_sapient = yes } count = 15 }
						count_pops = { limit = { is_sapient = yes } count = 20 }
						count_pops = { limit = { is_sapient = yes } count = 25 }
						count_pops = { limit = { is_sapient = yes } count = 30 }
						count_pops = { limit = { is_sapient = yes } count = 35 }
						count_pops = { limit = { is_sapient = yes } count = 40 }
						count_pops = { limit = { is_sapient = yes } count = 45 }
						count_pops = { limit = { is_sapient = yes } count = 50 }
						count_pops = { limit = { is_sapient = yes } count = 55 }
						count_pops = { limit = { is_sapient = yes } count = 60 }
						count_pops = { limit = { is_sapient = yes } count = 65 }
						count_pops = { limit = { is_sapient = yes } count = 70 }
						count_pops = { limit = { is_sapient = yes } count = 75 }
						count_pops = { limit = { is_sapient = yes } count = 80 }
					}
					free_building_slots > 2
					}
				}
				set_timed_planet_flag = { flag = gai_8_took_pop days = 3 }
				random_owned_pop = {
					limit = { 
						is_sapient = yes 
						is_being_purged = no
						root = { habitability = { who = prev value >= 0.3 } }
						NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
						NOR = {
							is_pop_category = specialist
							is_pop_category = ruler
							has_job = farmer
							has_job = agri_drone
						}
					}
					resettle_pop = {
						pop = this
						planet = root
					}
				}
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.9
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		set_timed_planet_flag = { flag = gai_resettlement_9 days = 3 }
		while = {
			count = 19
			IF = {
				limit = {
					count_pops = { limit = { has_citizenship_type = { type = citizenship_organic_trophy } } count < 20 }
				}
				owner = {
					random_owned_planet = {
						limit = {
							count_pops = { 
								limit = { 
									has_citizenship_type = { type = citizenship_organic_trophy } 
									root = { habitability = { who = prev value >= 0.49 } }
								}
								count > 20
							}
						}
						random_owned_pop = {
							limit = {
								has_citizenship_type = { type = citizenship_organic_trophy }
								root = { habitability = { who = prev value >= 0.49 } }
							}
							resettle_pop = {
								pop = this
								planet = root
							}
						}
					}
				}
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.90
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		set_timed_planet_flag = { flag = gai_resettlement_90 days = 3 }
		owner = {
			random_owned_planet = {
				limit = {
					count_pops = {
						limit = { 
							has_citizenship_type = { type = citizenship_organic_trophy } 
							root = { habitability = { who = prev value >= 0.49 } }
						}
						count > 2
					}
				}
				random_owned_pop = {
					limit = {
						has_citizenship_type = { type = citizenship_organic_trophy }
						root = { habitability = { who = prev value >= 0.49 } }
					}
					resettle_pop = {
						pop = this
						planet = root
					}
				}
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.95
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		set_timed_planet_flag = { flag = gai_resettlement_95 days = 3 }
		owner = {
			random_owned_planet = {
				limit = {
					count_pops = {
						limit = { 
							has_citizenship_type = { type = citizenship_slavery } 
							root = { habitability = { who = prev value >= 0.19 } }
						}
						count > 2
					}
				}
				random_owned_pop = {
					limit = {
						has_citizenship_type = { type = citizenship_slavery } 
						root = { habitability = { who = prev value >= 0.19 } }
					}
					resettle_pop = {
						pop = this
						planet = root
					}
				}
			}
		}
	}
}

planet_event = {
	id = gai_resettlement.200
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		set_timed_planet_flag = { flag = gai_resettlement_200 days = 3 }
		set_timed_planet_flag = { flag = gai_resettlement_start_exchange days = 3 }
		owner = {
			random_owned_planet = {
				limit = {
					any_owned_pop = {
						is_sapient = yes
						OR = {
							has_citizenship_type = { type = citizenship_full }
							has_citizenship_type = { type = citizenship_limited }
							root = { habitability = { who = prev value >= 0.3 } }
						}
						is_pop_category = worker
					}
					NOT = { has_planet_flag = gai_resettlement_start_exchange }
				}
				set_timed_planet_flag = { flag = gai_resettlement_end_exchange days = 3 }
				save_event_target_as = send_pop
				random_owned_pop = {
					limit = {
						is_sapient = yes
						OR = {
							has_citizenship_type = { type = citizenship_full }
							has_citizenship_type = { type = citizenship_limited }
							root = { habitability = { who = prev value >= 0.3 } }
						}
						is_pop_category = worker
					}
					resettle_pop = {
						pop = this
						planet = root
					}
				}
			}
		}
		random_owned_pop = {
			limit = {
				has_citizenship_type = { type = citizenship_slavery }
				is_unemployed = yes
			}
			resettle_pop = {
				pop = this
				planet = event_target:send_pop
			}
		}
	}
}


