################################
#
# Plague-Ridden Events
#
# Written by MadeinCanada10
#
###############################
namespace = plasoc

### Plagued Society

## Game start

# Set Up
event = {
	id = plasoc.0
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		every_playable_country = {
			limit = { has_origin = origin_pandemic }
			country_event = { id = plasoc.420 }
		}
	}
}

# Explanation of tech tree
country_event = {
	id = plasoc.69 #nice
	title = "plasoc.69.name"
	desc = "plasoc.69.desc"
	picture = GFX_evt_genetic_modification
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			has_origin = origin_pandemic
			NOT = { has_country_flag = plasoc_explained }
		}
	}
	
	immediate = {
		set_country_flag = plasoc_explained
	}
	
	option = {
		name = plasoc.69.a
	}
}

# Set Up 2: Electric Boogaloo
country_event = {
	id = plasoc.420
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = plasoc_set_up_complete }
		}
	}
	
	immediate = {
		capital_scope = { 
			add_modifier = {
				modifier = "pm_pandemic_past"
			}
			add_deposit = d_poisonous_atmosphere
			add_deposit = d_underground_habitat_1
			add_deposit = d_underground_habitat_2
			add_deposit = d_ravaged_area
			add_deposit = d_ravaged_area
			add_deposit = d_plague_research
			remove_deposit = d_decrepit_dwellings
			remove_deposit = d_failing_infrastructure
		}
		country_event = { id = plasoc.4 days = 720 random = 365 }
		set_country_flag = plasoc_set_up_complete
	}
}

## Special Project outcomes

# Vaccine Tests: I
country_event = {
	id = plasoc.1000
	title = "plasoc.1000.name"
	desc = "plasoc.1000.desc"
	picture = GFX_evt_emergency_workers
	#show_sound = event_laboratory_sound
	location = from
	
	is_triggered_only = yes
	
	option = {
		name = plasoc.1000.a
		add_resource = { society_research = 250 }
		owner = {
			add_research_option = tech_vaccine_regulations
		}
	}
}

# Vaccine Tests: II
country_event = {
	id = plasoc.1001
	title = "plasoc.1001.name"
	desc = "plasoc.1001.desc"
	picture = GFX_evt_news_room
	#show_sound = event_laboratory_sound_02
	location = from
	
	is_triggered_only = yes
	
	option = {
		name = plasoc.1001.a
		owner = {
			add_research_option = tech_extensive_analysis
		}
	}
}

# Vaccine Tests: III
country_event = {
	id = plasoc.1002
	title = "plasoc.1002.name"
	desc = "plasoc.1002.desc"
	picture = GFX_evt_genetic_modification
	#show_sound = event_laboratory_sound_03
	location = from
	
	is_triggered_only = yes
	
	option = {
		name = plasoc.1002.a
		add_resource = { influence = 50 }
		capital_scope = {
			enable_special_project = {
				name = "VACCINE_DISTRIBUTION"
				location = this
				owner = root.owner
			}
		}
	}
}

# Vaccine Distribution
country_event = {
	id = plasoc.1003
	title = "plasoc.1003.name"
	desc = "plasoc.1003.desc"
	picture = GFX_evt_alien_propaganda
	show_sound = event_celebration
	location = from
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = species_immunised
	}
	
	option = {
		name = plasoc.1003.a
		add_modifier = {
				modifier = "species_immunised" 
				days = 7300
		}
		modify_species = {
			species = this
			remove_trait = trait_plague_ridden
		}
	}
	option = {
		name = plasoc.1003.b
		add_modifier = {
			modifier = "species_immunised" 
			days = 7300
		}
		modify_species = {
			species = this
			remove_trait = trait_plague_ridden
			add_trait = trait_strong_immune_system
		}
		custom_tooltip = GENETIC_MASTERY
		trigger = {
			root = {
				OR = {
					AND = {
						has_technology = tech_gene_expressions
						has_technology = tech_selected_lineages
					}
					has_technology = tech_morphogenetic_field_mastery
				}
			}
		}
	}
}

# Atmosphere Cleansed
country_event = {
	id = plasoc.1004
	title = "plasoc.1004.name"
	desc = "plasoc.1004.desc"
	picture = GFX_evt_animal_wildlife
	#show_sound = event_laboratory_sound
	location = from
	
	is_triggered_only = yes
	
	option = {
		name = plasoc.1004.a
		add_resource = { society_research = 250 }
		capital_scope = {
			remove_deposit = d_poisonous_atmosphere
		}
		set_country_flag = planet_restoration_one
		custom_tooltip = partway_to_perfect
		hidden_effect = { country_event = { id = plasoc.1007 } }
	}
}

# Survivors Aided
country_event = {
	id = plasoc.1005
	title = "plasoc.1005.name"
	desc = "plasoc.1005.desc"
	picture = GFX_evt_galactic_community
	#show_sound = event_laboratory_sound
	location = from
	
	is_triggered_only = yes
	
	option = {
		name = plasoc.1005.a
		add_resource = { society_research = 250 }
		add_modifier = {
			modifier = "grateful_survivors" 
			days = 3650
		}
		set_country_flag = planet_restoration_two
		custom_tooltip = partway_to_perfect
		hidden_effect = { country_event = { id = plasoc.1007 } }
	}
}

# Surface Purified
country_event = {
	id = plasoc.1006
	title = "plasoc.1006.name"
	desc = "plasoc.1006.desc"
	picture = GFX_evt_alien_nature
	#show_sound = event_laboratory_sound
	location = from
	
	is_triggered_only = yes
	
	option = {
		name = plasoc.1006.a
		add_resource = { society_research = 250 }
		capital_scope = {
			remove_modifier = "pm_pandemic_past"
		}
		set_country_flag = planet_restoration_three
		custom_tooltip = partway_to_perfect
		hidden_effect = { country_event = { id = plasoc.1007 } }
	}
}

# Planet Healed
country_event = {
	id = plasoc.1007
	title = "plasoc.1007.name"
	desc = "plasoc.1007.desc"
	picture = GFX_evt_ship_in_orbit_3
	show_sound = event_celebration
	location = from
	
	is_triggered_only = yes
	
	trigger = {
		AND = {
			has_country_flag = planet_restoration_one
			has_country_flag = planet_restoration_two
			has_country_flag = planet_restoration_three
		}
	}
	
	option = {
		name = plasoc.1007.a
		add_resource = { unity = 2500 }
	}
	option = {
		name = plasoc.1007.b
		add_resource = { unity = 1000 }
		add_resource = { minerals = -2000 }
		add_resource = { alloys = -500 }
		add_resource = { consumer_goods = -500 }
		capital_scope = {
			enable_special_project = {
				name = "PLAGUE_DEFENCES"
				location = this
				owner = root.owner
			}
		}
	}
}

# Planetary Plague Defences Installed
country_event = {
	id = plasoc.1008
	title = "plasoc.1008.name"
	desc = "plasoc.1008.desc"
	picture = GFX_evt_metropolis
	#show_sound = event_celebration
	location = from
	
	is_triggered_only = yes

	option = {
		name = plasoc.1008.a
		add_resource = { unity = 1000 }
		add_modifier = {
			modifier = "interplanetary_plague_defences"
		}
		set_country_flag = plague_defences_installed
	}
}

## Tech Research

# Vaccine Testing researched
country_event = {
	id = plasoc.100
	title = "plasoc.100.name"
	desc = "plasoc.100.desc"
	picture = GFX_evt_genetic_modification
	#show_sound = event_default_02
	
	is_triggered_only = yes
	
	trigger = {
		has_technology = tech_vaccine_tests
		NOT = {
			has_country_flag = test_1
		}
	}
	
	immediate = {
		set_country_flag = test_1
	}
	
	option = {
		name = plasoc.100.a
		capital_scope = {
			enable_special_project = {
				name = "TESTS_I"
				location = this
				owner = root.owner
			}
		}
	}
}

# Effect Regulations + Volunteering Program researched
country_event = {
	id = plasoc.101
	title = "plasoc.101.name"
	desc = "plasoc.101.desc"
	picture = GFX_evt_voting
	#show_sound = event_default_03
	
	is_triggered_only = yes
	
	trigger = {
		AND = {
			has_technology = tech_vaccine_regulations
			has_technology = tech_vaccine_volunteering
		}
		NOT = {
			has_country_flag = test_2
		}
	}
	
	immediate = {
		set_country_flag = test_2
	}
	
	option = {
		name = plasoc.101.a
		capital_scope = {
			enable_special_project = {
				name = "TESTS_II"
				location = this
				owner = root.owner
			}
		}
	}
}

# Extensive Effect Analysis researched
country_event = {
	id = plasoc.102
	title = "plasoc.102.name"
	desc = "plasoc.102.desc"
	picture = GFX_evt_microscopic_life
	#show_sound = event_default_04
	
	is_triggered_only = yes
	
	trigger = {
		has_technology = tech_extensive_analysis
		NOT = {
			has_country_flag = test_3
		}
	}
	
	immediate = {
		set_country_flag = test_3
	}
	
	option = {
		name = plasoc.102.a
		capital_scope = {
			enable_special_project = {
				name = "TESTS_III"
				location = this
				owner = root.owner
			}
		}
	}
}

# Atmospheric Cleansing researched
country_event = {
	id = plasoc.103
	title = "plasoc.103.name"
	desc = "plasoc.103.desc"
	picture = GFX_evt_animal_wildlife
	#show_sound = event_default_04
	
	is_triggered_only = yes
	
	trigger = {
		has_technology = tech_atmospheric_cleansing
		NOT = {
			has_country_flag = atmospheric_cleansing_project
		}
	}
	
	immediate = {
		set_country_flag = atmospheric_cleansing_project
	}
	
	option = {
		name = plasoc.103.a
		capital_scope = {
			enable_special_project = {
				name = "ATMOSPHERIC_CLEANSING"
				location = this
				owner = root.owner
			}
		}
	}
}

# Survivor Healing researched
country_event = {
	id = plasoc.104
	title = "plasoc.104.name"
	desc = "plasoc.104.desc"
	picture = GFX_evt_in_the_dark
	#show_sound = event_default_04
	
	is_triggered_only = yes
	
	trigger = {
		has_technology = tech_survivor_healing
		NOT = {
			has_country_flag = survivor_healing_project
		}
	}
	
	immediate = {
		set_country_flag = survivor_healing_project
	}
	
	option = {
		name = plasoc.104.a
		capital_scope = {
			enable_special_project = {
				name = "SURVIVOR_HEALING"
				location = this
				owner = root.owner
			}
		}
	}
}

# Surface Purification researched
country_event = {
	id = plasoc.105
	title = "plasoc.105.name"
	desc = "plasoc.105.desc"
	picture = GFX_evt_alien_nature
	#show_sound = event_default_04
	
	is_triggered_only = yes
	
	trigger = {
		has_technology = tech_surface_purification
		NOT = {
			has_country_flag = surface_purification_project
		}
	}
	
	immediate = {
		set_country_flag = surface_purification_project
	}
	
	option = {
		name = plasoc.105.a
		capital_scope = {
			enable_special_project = {
				name = "SURFACE_PURIFICATION"
				location = this
				owner = root.owner
			}
		}
	}
}

## Outbreak events

# Whispers in the Air
country_event = {
	id = plasoc.4
	title = "plasoc.4.name"
	desc = "plasoc.4.desc"
	picture = GFX_evt_conclave
	#show_sound = event_ghost_town
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			has_origin = origin_pandemic
		}
	}
	
	immediate = {
		set_country_flag = rumours_spread
		owner = {
			country_event = { id = plasoc.5 days = 365 random = 730 }
		}
	}
	
	option = {
		name = plasoc.4.a
	}
	option = {
		name = plasoc.4.b
		trigger = {
			owner = {
				OR = {	
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
		}
		add_resource = { influence = 100 }
	}
	option = {
		name = plasoc.4.c
		trigger = {
			owner = {
				OR = {	
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
		}
		add_resource = { unity = 200 }
	}
}

# Terrorist Attack
country_event = {
	id = plasoc.5
	title = "plasoc.5.name"
	desc = "plasoc.5.desc"
	picture = GFX_evt_archaeologists_escaping
	#show_sound = event_planetary_riot
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = terrorist_attacked
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.5.a
		add_modifier = {
			modifier = "terror_attack" 
			days = 3650
		}
		add_resource = { unity = 2000 }
		set_country_flag = no_action_taken
		hidden_effect = { 
			owner = {
				country_event = { id = plasoc.7 days = 365 random = 365 }
			}
		}
	}
	option = {
		name = plasoc.5.b
		add_modifier = {
				modifier = "terror_attack" 
				days = 3650
		}
		capital_scope = {
			enable_special_project = {
				name = "TERRORIST_MANHUNT"
				location = this
				owner = root.owner
			}
		}
		set_country_flag = action_taken
	}
	option = {
		name = plasoc.5.c
		add_modifier = {
			modifier = "terror_attack" 
			days = 3650
		}
		trigger = {
			owner = {
				has_ethic = ethic_fanatic_authoritarian
			}
		}
		capital_scope = {
			enable_special_project = {
				name = "TERRORIST_MANHUNT"
				location = this
				owner = root.owner
			}
			hidden_effect = {
				save_event_target_as = terror_planet
			}
		}
		add_resource = { unity = 150 }
		set_country_flag = ruthless_hunt
	}
}

# Terrorists Apprehended
country_event = {
	id = plasoc.6
	title = "plasoc.6.name"
	desc = "plasoc.6.desc"
	picture = GFX_evt_surrender
	#show_sound = event_ground_battle
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = terrorist_chain_complete
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.6.a
		add_resource = { energy = 1000 }
		add_resource = { minerals = 750 }
		add_resource = { consumer_goods = 500 }
		add_resource = { alloys = 500 }
	}
	option = {
		name = plasoc.6.b
		trigger = {
			owner = {
				has_country_flag = ruthless_hunt
			}
		}
		add_resource = { influence = 300 }
		add_modifier = {
				modifier = "show_of_force" 
				days = 1825
		}
	}
}

# Terror Army Attacking
country_event = {
	id = plasoc.7
	title = "plasoc.7.name"
	desc = {
		text = plasoc.7.desc
		trigger = { has_country_flag = no_action_taken }
	}
	desc = {
		text = plasoc.7.desc.2
		trigger = { has_country_flag = action_taken }
	}
	picture = GFX_evt_guardians
	#show_sound = event_red_alert
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.7.a
		trigger = {
			owner = {
				has_country_flag = no_action_taken
			}
		}
		add_resource = { unity = -200 }
		owner = { set_country_flag = terrorists_invade }
		hidden_effect = {
    		create_country = {
				name = "Terrorist State"
				type = faction
				effect = {
					establish_communications_no_message = root.owner
					save_global_event_target_as = terrorists
				}
			}
		}
		capital_scope = {
			create_army = {
				name = "Terrorists"
				owner = event_target:terrorists
				type = "terrorist_army"
			}
			create_army = {
				name = "Terrorists"
				owner = event_target:terrorists
				type = "terrorist_army"
			}
			create_army = {
				name = "Terrorists"
				owner = event_target:terrorists
				type = "terrorist_army"
			}
			create_army = {
				name = "Terrorists"
				owner = event_target:terrorists
				type = "terrorist_army"
			}
			create_army = {
				name = "Terrorists"
				owner = event_target:terrorists
				type = "terrorist_army"
			}
			create_army = {
				name = "Terrorists"
				owner = event_target:terrorists
				type = "terrorist_army"
			}
		}
	}
	option = {
		name = plasoc.7.b
		trigger = {
			owner = {
				has_country_flag = action_taken
			}
		}
		owner = { set_country_flag = terrorists_invade }
		hidden_effect = {
    		create_country = {
				name = "Terrorist State"
				type = faction
				effect = {
					establish_communications_no_message = root.owner
					save_global_event_target_as = terrorists
				}
			}
		}
		capital_scope = {
			create_army = {
				name = "Terrorists"
				owner = event_target:terrorists
				type = "terrorist_army"
			}
			create_army = {
				name = "Terrorists"
				owner = event_target:terrorists
				type = "terrorist_army"
			}
			create_army = {
				name = "Terrorists"
				owner = event_target:terrorists
				type = "terrorist_army"
			}
			create_army = {
				name = "Terrorists"
				owner = event_target:terrorists
				type = "terrorist_army"
			}
		}
	}
}

# Terrorists Won
planet_event = {
	id = plasoc.8
	title = "plasoc.8.name"
	desc = "plasoc.8.desc"
	picture = GFX_evt_burning_settlement
	#show_sound = event_air_raid_siren
	
	trigger = {
		owner = {
			has_country_flag = terrorists_invade
		}
		#capital_scope = {
		#	is_controlled_by = prevprev
		#}
	}
	
	pre_triggers = {
		has_owner = yes
		is_homeworld = yes
		original_owner = yes
		has_ground_combat = no
		is_occupied_flag = yes
	}
	
	immediate = {
		capital_scope = {
			every_owned_pop = {
				set_pop_flag = event_purge
				unemploy_pop = no
			}
		}
		owner = {
			set_country_flag = terrorists_won
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.8.a
	}
}

# We Won
planet_event = {
	id = plasoc.9
	title = "plasoc.9.name"
	desc = {
		text = plasoc.9.desc
		trigger = { owner = { has_country_flag = terrorists_won } }
	}
	desc = {
		text = plasoc.9.desc.2
		trigger = { owner = { NOT = { has_country_flag = terrorists_won } } }
	}
	picture = GFX_evt_victorious_army
	#show_sound = event_celebration
	
	trigger = {
		owner = {
			has_country_flag = terrorists_invade
		}
		is_occupied_flag = no
	}
	
	pre_triggers = {
		has_owner = yes
		is_homeworld = yes
		original_owner = yes
		has_ground_combat = no
		is_occupied_flag = no
	}
	
	immediate = {
		capital_scope = {
			every_owned_pop = {
				limit = { has_pop_flag = event_purge }
				remove_pop_flag = event_purge
			}
			every_owned_pop = {
				add_modifier = {
					modifier = "pop_liberation_fever"
					days = 3600
				}
			}
		}
		owner = {
			remove_country_flag = terrorists_invade
			remove_country_flag = terrorists_won
			set_country_flag = terrorist_chain_complete
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.9.a
		trigger = {
			owner = {
				has_country_flag = terrorists_won
			}
		}
	}
	option = {
		name = plasoc.9.b
		trigger = { owner = { NOT = { has_country_flag = terrorists_won } } }
	}
}

# Sudden Sickness
country_event = {
	id = plasoc.10
	title = "plasoc.10.name"
	desc = "plasoc.10.desc"
	picture = GFX_evt_emergency_workers
	#show_sound = event_life_support_fail
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			has_origin = origin_pandemic
		}
	}
	
	immediate = {
		country_event = { id = plasoc.25 days = 3600 }
	}
	
	option = {
		name = plasoc.10.a
		capital_scope = {
			enable_special_project = {
				name = "ILLNESS_INVESTIGATION"
				location = this
				owner = root.owner
			}
		}
		set_country_flag = illness_investigated
	}
	option = {
		name = plasoc.10.b
		add_resource = { influence = 200 }
		set_country_flag = illness_not_investigated
		hidden_effect = {
			random_list = {
				5 = { country_event = { id = plasoc.13 days = 30 random = 30 } }
				95 = { country_event = { id = plasoc.14 days = 30 random = 30 } }
			}
		}
	}
	option = {
		name = plasoc.10.c
		trigger = {
			owner = {
				OR = {	
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
		}
		capital_scope = {
			random_owned_pop = {
				kill_pop = yes
			}
			random_owned_pop = {
				kill_pop = yes
			}
			random_owned_pop = {
				kill_pop = yes
			}
		}
		set_country_flag = ill_pops_killed
		hidden_effect = {
			random_list = {
				40 = { country_event = { id = plasoc.13 days = 30 random = 30 } }
				60 = { country_event = { id = plasoc.14 days = 30 random = 30 } }
			}
		}
	}
	option = {
		name = plasoc.10.d
		trigger = {
			owner = {
				OR = {	
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}
			}
		}
		add_resource = { unity = 1500 }
		set_country_flag = illness_not_investigated
		hidden_effect = {
			random_list = {
				15 = { country_event = { id = plasoc.13 days = 30 random = 30 } }
				85 = { country_event = { id = plasoc.14 days = 30 random = 30 } }
			}
		}
	}
}

# Illness Investigated: Influenza
country_event = {
	id = plasoc.11
	title = "plasoc.11.name"
	desc = "plasoc.11.desc"
	picture = GFX_evt_microscopic_life
	#show_sound = event_administrative_work
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.11.a
		add_resource = { unity = 200 }
		add_resource = { society_research = 250 }
	}
}

# Illness Investigated: New Illness
country_event = {
	id = plasoc.12
	title = "plasoc.12.name"
	desc = "plasoc.12.desc"
	picture = GFX_evt_disease_outbreak
	#show_sound = event_red_alert
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.12.a
		custom_tooltip = ALLOW_LOCKDOWN
		set_country_flag = allow_lockdown
		capital_scope = {
			enable_special_project = {
				name = "INVESTIGATE_NEW_ILLNESS"
				location = this
				owner = root.owner
			}
		}
	}
}

# Illness Not Investigated: Died Down
country_event = {
	id = plasoc.13
	title = "plasoc.13.name"
	desc = "plasoc.13.desc"
	picture = GFX_evt_alien_propaganda
	#show_sound = event_alien_nature
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.13.a
		add_resource = { unity = 500 }
	}
}

# Illness Not Investigated: Serious Spreading
country_event = {
	id = plasoc.14
	title = "plasoc.14.name"
	desc = "plasoc.14.desc"
	picture = GFX_evt_disease_outbreak
	#show_sound = event_red_alert
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.14.a
		add_resource = { unity = -500 }
		add_resource = { energy = -1500 }
		custom_tooltip = ALLOW_LOCKDOWN
		set_country_flag = allow_lockdown
		capital_scope = {
			enable_special_project = {
				name = "INVESTIGATE_NEW_ILLNESS"
				location = this
				owner = root.owner
			}
		}
	}
}

# New Illness Investigated
country_event = {
	id = plasoc.15
	title = "plasoc.15.name"
	desc = "plasoc.15.desc"
	picture = GFX_evt_genetic_modification
	#show_sound = event_sensor_ping
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.15.a
		trigger = {
			root = {
				NAND = {
					has_technology = tech_gene_tailoring
					has_technology = tech_society_2
				}
			}
		}
		add_modifier = {
			modifier = "illness_investigation" 
			days = 1800
		}
		hidden_effect = {
			owner = {
				country_event = { id = plasoc.16 days = 1800 }
			}
		}
	}
	option = {
		name = plasoc.15.b
		trigger = {
			root = {
				AND = {
					has_technology = tech_gene_tailoring
					has_technology = tech_society_2
				}
			}
		}
		add_modifier = {
			modifier = "illness_investigation" 
			days = 365
		}
		hidden_effect = {
			owner = {
				country_event = { id = plasoc.16 days = 365 }
			}
		}
		custom_tooltip = SHORTER_INVESTIGATION
	}
}

# New Illness Cured
country_event = {
	id = plasoc.16
	title = "plasoc.16.name"
	desc = "plasoc.16.desc"
	picture = GFX_evt_announcement
	#show_sound = event_celebration
	
	is_triggered_only = yes
	
	immediate = {
		country_event = { id = plasoc.24 days = 3 }
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.16.a
		add_modifier = {
			modifier = "minor_illness_cured" 
			days = 1200
		}
		remove_country_flag = allow_lockdown
		capital_scope = {
			remove_deposit = d_minor_area_sick
			remove_deposit = d_moderate_area_sick
		}
	}
}

# Lockdown events (hidden)
country_event = {
	id = plasoc.17
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		root = {
			has_origin = origin_pandemic
		}
		has_country_flag = allow_lockdown
		NOT = {
			has_country_flag = event_active
		}
	}
	
	immediate = {
		random_list = {
				#One pop dies
				9 = {
					modifier = {
						factor = 3
						capital_scope = {
							NOT = {
								has_modifier = under_lockdown
							}
						}
					}
					set_country_flag = event_active
					country_event = { id = plasoc.18 days = 100 }
				#Two pops die
				}
				7 = {
					modifier = {
						factor = 2
						capital_scope = {
							NOT = {
								has_modifier = under_lockdown
							}
						}
					}
					set_country_flag = event_active
					country_event = { id = plasoc.19 days = 100 }
				#Protest against actions taken
				}
				7 = {
					modifier = {
						factor = 2
						capital_scope = {
							NOT = {
								has_modifier = under_lockdown
							}
						}
						NOT = {
							has_country_flag = protests_active
						}
					}
					modifier = {
						factor = 0
						has_country_flag = protests_active
					}
					set_country_flag = event_active
					country_event = { id = plasoc.20 days = 100 }
				}
				#Minor spread
				6 = {
					modifier = {
						factor = 1.5
						capital_scope = {
							NOT = {
								has_modifier = under_lockdown
							}
						}
					}
					modifier = {
						factor = 0
						has_country_flag = diseased_area_1
					}
					set_country_flag = event_active
					country_event = { id = plasoc.21 days = 100 }
				}
				#Moderate spread
				4 = {
					modifier = {
						factor = 1.5
						capital_scope = {
							NOT = {
								has_modifier = under_lockdown
							}
						}
					}
					modifier = {
						factor = 0
						has_country_flag = diseased_area_2
					}
					set_country_flag = event_active
					country_event = { id = plasoc.22 days = 100 }
				}
				#Nothing
				5 = {
					modifier = {
						factor = 0.1
						capital_scope = {
							NOT = {
								has_modifier = under_lockdown
							}
						}
					}
				}
			}
	}
}

# Pop dies
country_event = {
	id = plasoc.18
	title = "plasoc.18.name"
	desc = "plasoc.18.desc"
	picture = GFX_evt_space_funeral
	#show_sound = event_life_support_fail
	
	is_triggered_only = yes
	
	immediate = {
		remove_country_flag = event_active
	}
	
	option = {
		name = plasoc.18.a
		capital_scope = {
			random_owned_pop = {
				kill_pop = yes
			}
		}
	}
}

# Two pops die
country_event = {
	id = plasoc.19
	title = "plasoc.19.name"
	desc = "plasoc.19.desc"
	picture = GFX_evt_space_funeral
	#show_sound = event_life_support_fail
	
	is_triggered_only = yes
	
	immediate = {
		remove_country_flag = event_active
	}
	
	option = {
		name = plasoc.19.a
		capital_scope = {
			random_owned_pop = {
				kill_pop = yes
			}
			random_owned_pop = {
				kill_pop = yes
			}
		}
	}
}

# Protest
country_event = {
	id = plasoc.20
	title = "plasoc.20.name"
	desc = "plasoc.20.desc"
	picture = GFX_evt_civil_action
	#show_sound = event_planetary_riot
	
	is_triggered_only = yes
	
	immediate = {
		remove_country_flag = event_active
		add_country_flag = protests_active
		country_event = { id = plasoc.23 days = 1500 }
	}
	
	option = {
		name = plasoc.20.a
		capital_scope = {
			add_modifier = {
				modifier = "pm_plague_protest"
				days = 1000
			}
		}
	}
}

# Minor spread
country_event = {
	id = plasoc.21
	title = "plasoc.21.name"
	desc = "plasoc.21.desc"
	picture = GFX_evt_alien_nature
	#show_sound = event_scanner
	
	is_triggered_only = yes
	
	immediate = {
		remove_country_flag = event_active
		set_country_flag = diseased_area_1
	}
	
	option = {
		name = plasoc.21.a
		capital_scope = { 
			add_deposit = d_minor_area_sick
		}
	}
}

# Moderate spread
country_event = {
	id = plasoc.22
	title = "plasoc.22.name"
	desc = "plasoc.22.desc"
	picture = GFX_evt_alien_ruins
	#show_sound = event_scanner_02
	
	is_triggered_only = yes
	
	immediate = {
		remove_country_flag = event_active
		set_country_flag = diseased_area_2
	}
	
	option = {
		name = plasoc.22.a
		capital_scope = { 
			add_deposit = d_moderate_area_sick
		}
	}
}

# Protest reactivation (hidden)
country_event = {
	id = plasoc.23
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		remove_country_flag = protests_active
	}
}

# Lockdown ends/Disease centre destroyed
country_event = {
	id = plasoc.24
	title = "plasoc.24.name"
	desc = "plasoc.24.desc"
	picture = GFX_evt_alien_propaganda
	#show_sound = event_administrative_work
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		name = plasoc.24.a
		capital_scope = {
			remove_modifier = "under_lockdown"
			remove_building = building_disease_control
		}
		hidden_effect = {
			capital_scope = {
				remove_modifier = "pm_plague_protest"
			}
		}
	}
}

# Return of the Terrorists
country_event = {
	id = plasoc.25
	title = "plasoc.25.name"
	desc = "plasoc.25.desc"
	picture = GFX_evt_clocks
	#show_sound = event_
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = terror_2
	}
	
	option = {
		name = plasoc.25.a #Hear him out (1)
		hidden_effect = {
			country_event = { id = plasoc.26 days = 0 }
		}
	}
	option = {
		name = plasoc.25.b #Tell him to leave (2)
		add_resource = { influence = 250 }
		hidden_effect = {
			country_event = { id = plasoc.27 days = 365 }
		}
	}
	option = {
		name = plasoc.25.c #We're all equal (1)
		trigger = {
			owner = {
				OR = {	
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}
			}
		}
		hidden_effect = {
			country_event = { id = plasoc.26 days = 0 }
		}
		add_resource = { unity = 1000 }
	}
	option = {
		name = plasoc.25.d #It's a trap (2)
		trigger = {
			owner = {
				OR = {	
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
		}
		capital_scope = {
			random_owned_pop = {
				kill_pop = yes
			}
		}
		add_resource = { unity = 1000 }
		hidden_effect = {
			country_event = { id = plasoc.27 days = 365 }
		}
		set_country_flag = terrorists_scared
	}
}

# Hearing him out
country_event = {
	id = plasoc.26
	title = "plasoc.26.name"
	desc = "plasoc.26.desc"
	picture = GFX_evt_alien_propaganda
	#show_sound = event_
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.26.a #Follow his advice (1)
		capital_scope = {
			enable_special_project = {
				name = "TERRORIST_MANHUNT_2"
				location = this
				owner = root.owner
			}
		}
	}
	option = {
		name = plasoc.26.b #Tell him to leave (2)
		hidden_effect = {
			country_event = { id = plasoc.27 days = 720 }
		}
	}
	option = {
		name = plasoc.26.c #It's treason then (3)
		owner = {
			add_resource = { unity = 1000 }
		}
		capital_scope = {
			random_owned_pop = {
				kill_pop = yes
			}
		}
		set_country_flag = terrorists_scared
		hidden_effect = {
			country_event = { id = plasoc.27 days = 365 }
		}
	}
}

# Terrorists Return
country_event = {
	id = plasoc.27
	title = "plasoc.27.name"
	desc = "plasoc.27.desc"
	picture = GFX_evt_ground_combat
	show_sound = event_red_alert
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.27.a
		trigger = {
			NOT = {
				has_country_flag = terrorists_scared
			}
		}
		
		hidden_effect = {
		save_event_target_as = owner_country
		capital_scope = {
			solar_system = {
				random_system_planet = {
					limit = { 
						is_capital = no
						is_asteroid = no
						is_star = no
						is_moon = no
						NOT = { is_planet_class = pc_gas_giant }
					}
					save_event_target_as = terrorist_fleet_planet
					set_planet_flag = tf_planet
				}
			}
		}
		owner_species = { save_event_target_as = owner_species }
		create_country = {
			name = "Fighters of the People"
			species = event_target:owner_species
			type = faction
			name_list = ROOT
			auto_delete = no
			effect = {
				set_country_flag = terror_country
				save_global_event_target_as = terror_rebels
				establish_communications_no_message = root
				establish_contact = { who = root location = root.capital_scope }
				create_leader = {
					class = admiral
					species = owner_main_species
					name = random
					skill = 4
					traits = {
						trait = random_trait
						trait = random_trait
					}
				}
				create_fleet = {
					name = "Terrorist Fleet"
					effect = {
						set_owner = prev
						create_ship_design = {
							design = "NAME_Sword" #NAME_Nomad_Cruiser
						}
						create_ship = {
							name = "1st Freedom Bringer"
							design = last_created_design
						}
						create_ship = {
							name = "1st Power of the People"
							design = last_created_design
						}
						create_ship = {
							name = "1st Liberator"
							design = last_created_design
						}
						create_ship = {
							name = "1st Enforcer of Liberty"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Freedom Bringer"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Power of the People"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Liberator"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Enforcer of Liberty"
							design = last_created_design
						}
						create_ship = {
							name = "3rd Freedom Bringer"
							design = last_created_design
						}
						create_ship = {
							name = "3rd Power of the People"
							design = last_created_design
						}
						create_ship = {
							name = "3rd Liberator"
							design = last_created_design
						}
						create_ship = {
							name = "3rd Enforcer of Liberty"
							design = last_created_design
						}
						create_ship_design = {
							design = "NAME_Nomad_Cruiser"
						}
						create_ship = {
							name = "Grand Freedom Fighter"
							design = last_created_design
							effect = {
								set_ship_flag = main_terror_ship
								set_disable_at_health = 0.05
								save_event_target_as = main_terror_ship
							}
						}
						set_location = event_target:terrorist_fleet_planet
						set_fleet_stance = aggressive
						set_aggro_range_measure_from = return_point
						set_aggro_range = 50
						assign_leader = last_created_leader
						queue_actions = {
							repeat = {
								wait = {
									duration = 100
								}
							}
						}
					}
				}
				add_ship_design = last_created_design
				save_event_target_as = terror_rebels
				set_name = random
				set_country_flag = terror_rebels
			}
		}
		create_point_of_interest = {
				id = terror_fleet_poi
				name = "terror_fleet_poi"
				desc = "terror_fleet_poi_desc"
				location = event_target:main_terror_ship
		}
		}
	}
	option = {
		name = plasoc.27.b
		trigger = {
			has_country_flag = terrorists_scared
		}
		hidden_effect = {
		save_event_target_as = owner_country
		capital_scope = {
			solar_system = {
				random_system_planet = {
					limit = { 
						is_capital = no
						is_asteroid = no
						is_star = no
						is_moon = no
						NOT = { is_planet_class = pc_gas_giant }
					}
					save_event_target_as = terrorist_fleet_planet
					set_planet_flag = tf_planet
				}
			}
		}
		owner_species = { save_event_target_as = owner_species }
		create_country = {
			name = "Fighters of the People"
			species = event_target:owner_species
			type = faction
			name_list = ROOT
			auto_delete = no
			effect = {
				set_country_flag = terror_country
				save_global_event_target_as = terror_rebels
				establish_communications_no_message = root
				establish_contact = { who = root location = root.capital_scope }
				create_leader = {
					class = admiral
					species = owner_main_species
					name = random
					skill = 4
					traits = {
						trait = random_trait
						trait = random_trait
					}
				}
				create_fleet = {
					name = "Terrorist Fleet"
					effect = {
						set_owner = prev
						create_ship_design = {
							design = "NAME_Sword"
						}
						create_ship = {
							name = "1st Freedom Bringer"
							design = last_created_design
						}
						create_ship = {
							name = "1st Power of the People"
							design = last_created_design
						}
						create_ship = {
							name = "1st Liberator"
							design = last_created_design
						}
						create_ship = {
							name = "1st Enforcer of Liberty"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Freedom Bringer"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Power of the People"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Liberator"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Enforcer of Liberty"
							design = last_created_design
						}
						create_ship_design = {
							design = "NAME_Nomad_Cruiser"
						}
						create_ship = {
							name = "Grand Freedom Fighter"
							design = last_created_design
							effect = {
								set_ship_flag = main_terror_ship
								set_disable_at_health = 0.05
								save_event_target_as = main_terror_ship
							}
						}
						set_location = event_target:terrorist_fleet_planet
						set_fleet_stance = aggressive
						set_aggro_range_measure_from = return_point
						set_aggro_range = 50
						assign_leader = last_created_leader
						queue_actions = {
							repeat = {
								wait = {
									duration = 100
								}
							}
						}
					}
				}
				add_ship_design = last_created_design
				save_event_target_as = terror_rebels
				set_name = random
				set_country_flag = terror_rebels
			}
		}
		create_point_of_interest = {
				id = terror_fleet_poi
				name = "terror_fleet_poi"
				desc = "terror_fleet_poi_desc"
				location = event_target:main_terror_ship
		}
		}
	}
}

# Terrorists Return - Special Project
country_event = {
	id = plasoc.28
	title = "plasoc.28.name"
	desc = "plasoc.28.desc"
	picture = GFX_evt_ground_combat
	show_sound = event_red_alert
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	fire_only_once = yes
	
	option = {
		name = plasoc.28.a
		hidden_effect = {
		save_event_target_as = owner_country
		capital_scope = {
			solar_system = {
				random_system_planet = {
					limit = { 
						is_capital = no
						is_asteroid = no
						is_star = no
						is_moon = no
						NOT = { is_planet_class = pc_gas_giant }
					}
					save_event_target_as = terrorist_fleet_planet
					set_planet_flag = tf_planet
				}
			}
		}
		owner_species = { save_event_target_as = owner_species }
		create_country = {
			name = "Fighters of the People"
			species = event_target:owner_species
			type = faction
			name_list = ROOT
			auto_delete = no
			effect = {
				set_country_flag = terror_country
				save_global_event_target_as = terror_rebels
				establish_communications_no_message = root
				establish_contact = { who = root location = root.capital_scope }
				create_leader = {
					class = admiral
					species = owner_main_species
					name = random
					skill = 4
					traits = {
						trait = random_trait
						trait = random_trait
					}
				}
				create_fleet = {
					name = "Terrorist Fleet"
					effect = {
						set_owner = prev
						create_ship_design = {
							design = "NAME_Sword"
						}
						create_ship = {
							name = "1st Freedom Bringer"
							design = last_created_design
						}
						create_ship = {
							name = "1st Power of the People"
							design = last_created_design
						}
						create_ship = {
							name = "1st Liberator"
							design = last_created_design
						}
						create_ship = {
							name = "1st Enforcer of Liberty"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Freedom Bringer"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Power of the People"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Liberator"
							design = last_created_design
						}
						create_ship = {
							name = "2nd Enforcer of Liberty"
							design = last_created_design
						}
						create_ship_design = {
							design = "NAME_Nomad_Cruiser"
						}
						create_ship = {
							name = "Grand Freedom Fighter"
							design = last_created_design
							effect = {
								set_ship_flag = main_terror_ship
								set_disable_at_health = 0.05
								save_event_target_as = main_terror_ship
							}
						}
						set_location = event_target:terrorist_fleet_planet
						set_fleet_stance = aggressive
						set_aggro_range_measure_from = return_point
						set_aggro_range = 50
						assign_leader = last_created_leader
						queue_actions = {
							repeat = {
								wait = {
									duration = 100
								}
							}
						}
					}
				}
				add_ship_design = last_created_design
				save_event_target_as = terror_rebels
				set_name = random
				set_country_flag = terror_rebels_of@root
			}
		}
		#create_point_of_interest = {
		#		id = terror_fleet_poi
		#		name = "terror_fleet_poi"
		#		desc = "terror_fleet_poi_desc"
		#		location = event_target:main_terror_ship
		#}
		}
	}
}

# Ship Disabled (HIDDEN)
ship_event = {
	id = plasoc.29
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_ship_flag = main_terror_ship
		owner = { has_country_flag = terror_rebels_of@from.owner }
		#FROM = {
		#	has_origin = origin_pandemic
		#}
	}
	
	immediate = {
		random_playable_country = {
			limit = {
				has_origin = origin_pandemic
				has_country_flag = terror_2
			}
			country_event = { id = plasoc.30 }
			remove_country_flag = terror_2
		}
	}
}

# Ship Disabled
country_event = {
	id = plasoc.30
	title = "plasoc.30.name"
	desc = "plasoc.30.desc"
	picture = GFX_evt_sabotaged_ship
	show_sound = event_space_battle
	location = event_target:terror_base
	
	is_triggered_only = yes
	
	immediate = {
		capital_scope = {
			solar_system = {
				random_system_planet = {
					limit = { 
						has_planet_flag = tf_planet
					}
					save_event_target_as = terror_base
					save_global_event_target_as = terror_base
				}
			}
		}
	}

	option = {
		name = "plasoc.30.a"
		event_target:terror_base = {
			enable_special_project = {
				name = "LAND_TERROR_BASE"
				location = event_target:terror_base
				owner = root
			}
		}
	}
}

# Special Project Complete
country_event = {
	id = plasoc.31
	title = "plasoc.31.name"
	desc = "plasoc.31.desc"
	picture = GFX_evt_barren_dig_site
	location = event_target:terror_base
	
	is_triggered_only = yes

	option = {
		name = "plasoc.31.a"
		event_target:terror_base = {
			create_archaeological_site = terrorist_base_site
		}
	}
}

# TB I
fleet_event = { 
	id = plasoc.32
	title = "plasoc.32.name"
	desc = plasoc.32.desc
	picture = GFX_evt_alien_planet
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = plasoc.32.a
		owner = {
			add_resource = { minor_artifacts = 1 }
		}
	}
}

# TB II
fleet_event = { 
	id = plasoc.33
	title = "plasoc.33.name"
	desc = plasoc.33.desc
	picture = GFX_evt_excavation_team
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = plasoc.33.a
		owner = {
			add_resource = { minor_artifacts = 2 }
		}
	}
}

# TB III
fleet_event = { 
	id = plasoc.34
	title = "plasoc.34.name"
	desc = plasoc.34.desc
	picture = GFX_evt_guardians
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = plasoc.34.a
		owner = {
			add_resource = { minor_artifacts = 3 }
		}
	}
}

# TB IV
fleet_event = { 
	id = plasoc.35
	title = "plasoc.35.name"
	desc = plasoc.35.desc
	picture = GFX_evt_ancient_databank
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = plasoc.35.a
		owner = {
			add_resource = { minor_artifacts = 2 }
		}
	}
}

# TB V
fleet_event = { 
	id = plasoc.36
	title = "plasoc.36.name"
	desc = plasoc.36.desc
	picture = GFX_evt_ship_offloading_cargo
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = plasoc.36.a
		owner = {
			add_resource = { minor_artifacts = 2 }
			add_resource = { alloys = 2000 }
		}
	}
}

# TB VI
fleet_event = { 
	id = plasoc.37
	title = "plasoc.37.name"
	desc = plasoc.37.desc
	picture = GFX_evt_unidentified_ship
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = plasoc.37.a
		owner = {
			add_resource = { minor_artifacts = 5 }
			add_resource = { society_research = 750 }
			add_relic = r_dna_engine_prototype
		}
	}
}