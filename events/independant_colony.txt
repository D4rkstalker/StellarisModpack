#MODIFIED
#####
# Needle_Fingers
#####

# nivlac country creation event is on line 16743 of distant stars events
# We want to create an independant nation on a trigger that has a negative modifier to the originating nations
# we want the triggering nation to generate an independant colony of their same species or a species they have
# we want this to occur randomly, after they reach 30 or 40 pops, after 20 years have passed and then randomly thereafter
# to start we want this to only occur on planets, and to only occur on planets near the triggerer
# we do not want rogue machines or gestalts yet
# we do not want custom space stations yet
# copy of nivlac country generation and test of randomisation
# locate a timed/pop trigger and apply it
# also determine the lcoation of a machine uprising event and see what it does

# todo make machine and syncratic civics spawn with pops of thos types
# randomise pop spawns
# todo create independant machine empire link
# todo create hive mind sentience split
# create an option for yes or no for you to undergo random migration
# create the ramshackle habitats and add them for useage

namespace = independant_colony

# 12 bands

# Spawning an empire attempts
# create 5 triggers pop value 30 70 120 180 250 each one will trigger and set flag
# first trigger is small, and these countries can have that trigger too doubtful that 300 wil even fire but eh
# changed to 20 60 120 200 300 set the first one to go off immedaitely as i want a colony to appear within the first 10-50 years
# set to 20 as to make the minor colonies build up before they trigger a migration
# seems like this will work better on larger maps with fewer starting empires
# keeping ramshackle habitats out for the time being until bugs are dealt with
# need to find out how to select a random pop species in the civ rather than just the owner
# when the previous is worked out make robot pops form a machine consciousness

country_event = {
    id = independant_colony.0025
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        remove_country_flag = valve_stop_gap
        remove_country_flag = independant_hive_empire_species
        remove_country_flag = independant_machine_empire_species
        save_global_event_target_as = independant_origin_civ
                    remove_country_flag = first_band
                    remove_country_flag = second_band
                    remove_country_flag = first_station_band
                    remove_country_flag = third_band
                    remove_country_flag = fourth_band
                    remove_country_flag = fifth_band
                    remove_country_flag = sixth_band
                    remove_country_flag = seventh_band
                    remove_country_flag = eigth_band
                    remove_country_flag = ninth_band
                    remove_country_flag = tenth_band
                    remove_country_flag = eleventh_band
        random_list = {
            100 = { }
            1 = {
                set_country_flag = independant_hive_empire_species
            }
        }
        country_event = { id = independant_colony.1001 days = 1 }
        country_event = { id = independant_colony.1002 days = 1 }
        country_event = { id = independant_colony.1003 days = 1 }
        country_event = { id = independant_colony.1004 days = 1 }
        country_event = { id = independant_colony.1005 days = 1 }
        country_event = { id = independant_colony.0003 days = 1 }
        country_event = { id = independant_colony.0013 days = 1 }
#            country_event = { id = independant_colony.0024 days = 4 }
        country_event = { id = independant_colony.0014 days = 1 }
        country_event = { id = independant_colony.0015 days = 1 }
#            country_event = { id = independant_colony.0026 days = 7 }
        country_event = { id = independant_colony.0016 days = 1 }
        country_event = { id = independant_colony.0017 days = 1 }
#            country_event = { id = independant_colony.0027 days = 10 }
        country_event = { id = independant_colony.0018 days = 1 }
        country_event = { id = independant_colony.0019 days = 1 }
#             country_event = { id = independant_colony.0028 days = 13 }
        country_event = { id = independant_colony.0020 days = 1 }
        country_event = { id = independant_colony.0021 days = 1 }
#            country_event = { id = independant_colony.0029 days = 16 }
        country_event = { id = independant_colony.0022 days = 1 }
        country_event = { id = independant_colony.0023 days = 1 }
#            country_event = { id = independant_colony.0030 days = 19 }
        country_event = { id = independant_colony.9876 days = 2 }
    }
}

country_event = {
    id = independant_colony.9876
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        remove_country_flag = valve_stop_gap
        remove_country_flag = independant_hive_empire_species
        remove_country_flag = independant_machine_empire_species
        clear_global_event_target = independant_origin_species
        clear_global_event_target = independant_origin_species_2
        clear_global_event_target = independant_origin_species_3
        clear_global_event_target = independant_origin_species_4
        clear_global_event_target = independant_origin_species_5
        clear_global_event_target = independant_origin_species_organic
        clear_global_event_target = independant_machine_origin_species
        clear_global_event_target = independant_hive_origin_species
        clear_global_event_target = independant_one_planet
        clear_global_event_target = independant_colony_empire
    }
}

country_event = {
    id = independant_colony.0001
    hide_window = yes
    trigger = {
        num_pops > 35
        is_country_type = default
        OR = {
            has_global_flag = independent_default_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_first_migration
        }
    }
    # Randomly choose time scale 30 years from first trigger is mean, shortest 10 max 50 50 years proven too long, changed to intervals of 5 with one less year each fragment after
    immediate = { 
        set_country_flag = triggered_first_migration
        random_list = {
            0 = { country_event = {         # debug set to 1 and others 0 to test
                id = independant_colony.0025
                days = 2
                random = 2
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

# Fill The Galaxy Option
country_event = {
    id = independant_colony.0033
    hide_window = yes
    trigger = {
        num_pops > 1
        is_country_type = default
        OR = {
            has_global_flag = independent_fill_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_global_flag = spawn_spin_cycle_off
            has_country_flag = valve_stop_gap
        }
    }
 
    immediate = { 
        set_country_flag = valve_stop_gap
        random_list = {
            1 = { country_event = {  
                id = independant_colony.0025
                days = 20
                random = 5
            }}
        }
    }
}



country_event = {
    id = independant_colony.0034
    hide_window = yes
    trigger = {
        num_pops >20
        is_country_type = default
        OR = {
            has_global_flag = independent_superlow_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_sixth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_sixth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0035
    hide_window = yes
    trigger = {
        num_pops >30
        is_country_type = default
        OR = {
            has_global_flag = independent_low_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_seventh_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_seventh_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0036
    hide_window = yes
    trigger = {
        num_pops >40
        is_country_type = default
        OR = {
            has_global_flag = independent_superlow_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_eigth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_eigth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0037
    hide_window = yes
    trigger = {
        num_pops >50
        is_country_type = default
        OR = {
            has_global_flag = independent_high_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_ninth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_ninth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0038
    hide_window = yes
    trigger = {
        num_pops >70
        is_country_type = default
        OR = {
            has_global_flag = independent_low_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_tenth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_tenth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0039
    hide_window = yes
    trigger = {
        num_pops >80
        is_country_type = default
        OR = {
            has_global_flag = independent_superlow_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_eleventh_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_eleventh_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0040
    hide_window = yes
    trigger = {
        num_pops >120
        is_country_type = default
        OR = {
            has_global_flag = independent_low_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_twelth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_twelth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0041
    hide_window = yes
    trigger = {
        num_pops >160
        is_country_type = default
        OR = {
            has_global_flag = independent_superlow_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_thirteenth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_thirteenth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0042
    hide_window = yes
    trigger = {
        num_pops >180
        is_country_type = default
        OR = {
            has_global_flag = independent_low_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_fourteenth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_fourteenth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0043
    hide_window = yes
    trigger = {
        num_pops >250
        is_country_type = default
        OR = {
            has_global_flag = independent_low_selection
            has_global_flag = independent_high_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_fifteenth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_fifteenth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0044
    hide_window = yes
    trigger = {
        num_pops >320
        is_country_type = default
        OR = {
            has_global_flag = independent_superlow_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_sixthteenth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_sixthteenth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0045
    hide_window = yes
    trigger = {
        num_pops >640
        is_country_type = default
        OR = {
            has_global_flag = independent_superlow_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_seventeenth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_seventeenth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0046
    hide_window = yes
    trigger = {
        num_pops >1280
        is_country_type = default
        OR = {
            has_global_flag = independent_superlow_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_eighteenth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_eighteenth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

country_event = {
    id = independant_colony.0047
    hide_window = yes
    trigger = {
        num_pops >600
        is_country_type = default
        OR = {
            has_global_flag = independent_high_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_nineteenth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_nineteenth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

# event 2

country_event = {
    id = independant_colony.0002
    hide_window = yes
    trigger = {
        num_pops > 100
        is_country_type = default
        OR = {
            has_global_flag = independent_default_selection
            has_global_flag = independent_superhigh_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_second_migration
        }
    }
    # Randomly choose time scale 24 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_second_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

# event 3

country_event = {
    id = independant_colony.0005
    hide_window = yes
    trigger = {
        num_pops > 200
        is_country_type = default
        OR = {
            has_global_flag = independent_default_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_third_migration
        }
    }
    # Randomly choose time scale 18 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_third_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

# event 4

country_event = {
    id = independant_colony.0006
    hide_window = yes
    trigger = {
        num_pops > 400
        is_country_type = default
        OR = {
            has_global_flag = independent_default_selection
            has_global_flag = independent_superhigh_selection
        }
        NOR = {
            has_ethic = ethic_gestalt_consciousness
            has_country_flag = triggered_fourth_migration
        }
    }
    # Randomly choose time scale 12 years from first trigger is mean, shortest 10 max 50
    immediate = { 
        set_country_flag = triggered_fourth_migration
        random_list = {
            1 = { country_event = {
                id = independant_colony.0025
                days = 1800
                random = 900
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 3600
                random = 1800
            }}
            3 = { country_event = {
                id = independant_colony.0025
                days = 5400
                random = 2700
            }}
            2 = { country_event = {
                id = independant_colony.0025
                days = 7200
                random = 3600
            }}
            1 = { country_event = {
                id = independant_colony.0025
                days = 9000
                random = 4500
            }}
        }
    }
}

# event 5

#country_event = {
#    id = independant_colony.0007
#    hide_window = yes
#    trigger = {
#       num_pops > 250
#       is_country_type = default
#        NOR = {
#            has_ethic = ethic_gestalt_consciousness
#            has_country_flag = triggered_fifth_migration
#        }
#    }
#    # Randomly choose time scale 6 years from first trigger is mean, shortest 10 max 50
#    immediate = { 
#        set_country_flag = triggered_fifth_migration
#        random_list = {
#            1 = { country_event = {
#                id = independant_colony.0025
#                days = 360
#                random = 180
#            }}
#            2 = { country_event = {
#                id = independant_colony.0025
#                days = 720
#                random = 360
#            }}
#            3 = { country_event = {
#                id = independant_colony.0025
#                days = 1080
#                random = 540
#            }}
#            2 = { country_event = {
#                id = independant_colony.0025
#                days = 1440
#                random = 720
#            }}
#            1 = { country_event = {
#                id = independant_colony.0025
#                days = 1800
#                random = 900
#            }}
#       }
#   }
#}


# Trigger for the independant Spawning

# twelve bands with intervals of 5 could not get if statements to work so cascading limits will do.


# selection of random pop changing within the coutnry_event not wworking
# pop events may hold clue, perhapes i can scope to a species of a randomly selected pop owned by the owner??
# if so than the 0003 event would need to call that event in the process of resolving
# or if that doesnt work parse out the initial 0003 event logic and use that as initialiser
# and have 0003 as a child event like the rest in my event daisy chain
# if i can trigger and choose a random pop then i need to make proles not be proles and robots machine empires

# pop event trigger has a pop exists and a planet is owned
# has citizenship type not undesireable or slave, those will be refugees
# immediate random planet random pop species = { save_event_target_as = origin }? 
# test the above hopefully that works as a call out within an event

# Worked it out, counrty event, scopes to the country triggering
# scopes to a random planet, to a random pop, providing it is within limit
# species scope is a valid scope thankfully, species added as origin species.
# from testing seems to work fine! now to add extra steps for more granulation

# now that it works time for testing to make hive minds and machine empires from the pops of the empire
# probably best idea to make the sub species in this section so that the if's have someting to look for in the nation creation
# need to make it so that if the target pop has -mechanical- make a new species with similar traits except machine consciouness.
# machine will have an amount of machine pops + a random number of less sentient robots from the spawning empire that they brought with them.
# servitors will get a random number of nation pops as pampees, assimilators same except to assimilate.
# creating a hive mind, 1 in 200 chance. 0.5%. becuase i want it to be rare.
# selection process is, if does not have trait mechanical, 200 proceed as normal, 1 create subspecies that is hive minded
# i imagine hive minds are either nautral or psionic or cybernetic neural links. 8/3/3 chance.
# All get hiveminded and ar emade from 1 pop type from the nation only.
# Basic gets hive minded only and thats it.
# Cyberneural link gets both cybernetic and hiveminded to simulate a linked consciousness
# Psionic neural consciousness to simulate a melding of minds.
# Would need to set it so that if x does not have cybernetic, give it, and if there is a trait limit to respect it.

# I also need to see about creating subspecies for robots so we don't have robot pollution from the mechanists.
# Idea, mechanists start with like 8 bots right? how about 3 farming bots, 3 mining bots and 2 others?
# Same with the syncretics, perhapes the flesh crafters have some different styles?
# maybe.. i'll think about it, maybe best to leave it alone until the origins dlc comes out.

# These events are the first in the organiser and allow for more granulated selection of pops
# from empires rather than just the owners main species. Allowing for more diverse and 'real' countries
# if owner species only is desired use owner_species = {save_global_event_target_as = (appropriate flag)}


country_event = {
    id = independant_colony.1001
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        exists = owner
        owner = { is_country_type = default }
    }
    immediate = {
        random_owned_planet = {
            limit = {
                is_under_colonization = no
            }
        random_owned_pop = {
            limit = {
            NOR = { 
                pop_has_trait = trait_syncretic_proles
                is_pop_category = pre_sapients
                is_enslaved = yes
                is_being_purged = yes
                }    
            }
                create_species = {
                    name = random
                    class = MACHINE
                    portrait = this
                    traits = {
                        trait = trait_machine_unit
                        trait = random_traits
                    }
                    immortal = yes
                    effect = {
                        save_global_event_target_as = independant_machine_origin_species
                    }
                }
                    species = {
            save_global_event_target_as = independant_origin_species
            }
            create_species = {
                is_mod = yes
                name = event_target:independant_origin_species
                class = this
                portrait = this
                traits = this
                effect = {
                    save_global_event_target_as = independant_hive_origin_species
            }
            }
            }
        }
    }
}

# CURRENT ISSUE adding if statement into the above causes the event to choose a random
# selected pop rather than the one we want
# adding if's into the spawn breaks 0025 causing all to fire with no regard to country flags
# why the fuck are the if statements breaking things?
# testing to see if removal of ifs in the 0003 works
# but if that lets it work properly WHY did all the events not fire at once last night?
# -GAH-

# OK oddly, removing the machine part, and then going if - hive else regular seemed to work
# perhapes set it so that 

# having no ifs in the species selection and selecting out from species traits seems to have worked
# testing a random flag in the organiser to try for hive minds

#... why did this work for all of one game session perfectly then NOT WORK AGAIN.
# ffs, why can't this work as it should.

# Issue resolved by not using if statements in the pop selector. will try again.
# Issue not resolved as random pops keep getting added.

# Issue Resolved... again by adding a global event target clear function at the end of the daisy chain
# maybe that would fix the if statement? maybe. will try after next update

country_event = {
    id = independant_colony.1002
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        exists = owner
        owner = { is_country_type = default }
    }
    immediate = {
        random_owned_planet = {
                        limit = {
                is_under_colonization = no
            }
        random_owned_pop = {
            species = {
            save_global_event_target_as = independant_origin_species_2
            }
        }
    }}
}

country_event = {
    id = independant_colony.1003
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        exists = owner
        owner = { is_country_type = default }
    }
    immediate = {
        random_owned_planet = {
                        limit = {
                is_under_colonization = no
            }
        random_owned_pop = {
            species = {
            save_global_event_target_as = independant_origin_species_3
            }
        }
    }}
}

country_event = {
    id = independant_colony.1004
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        exists = owner
        owner = { is_country_type = default }
    }
    immediate = {
        random_owned_planet = {
                        limit = {
                is_under_colonization = no
            }
        random_owned_pop = {
            species = {
            save_global_event_target_as = independant_origin_species_4
            }
        }
    }}
}

country_event = {
    id = independant_colony.1005
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        exists = owner
        owner = { is_country_type = default }
    }
    immediate = {
        random_owned_planet = {
                        limit = {
                is_under_colonization = no
            }
        random_owned_pop = {
            species = {
            save_global_event_target_as = independant_origin_species_5
            }
        }
    }}
}

country_event = {
    id = independant_colony.1006
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        exists = owner
        owner = { is_country_type = default }
    }
    immediate = {
        random_owned_planet = {
                        limit = {
                is_under_colonization = no
            }
        random_owned_pop = {
            limit = { NOT = { pop_has_trait = trait_mechanical } }
            species = {
            save_global_event_target_as = independant_origin_species_organic
            }
        }
    }}
}

# Testing out a 'refinement' where the selection events are significantly 
# Slimmed and all feed into the nation generator event, in a hope to keep my alterations time down
# and to streamline the events

# events broken down into 'find and tag' 'create'

country_event = {
    id = independant_colony.0101
    hide_window = yes
    is_triggered_only = yes
    immediate = {
    if = {
        limit = {
        event_target:independant_origin_species = { has_trait = trait_mechanical }
        event_target:independant_origin_civ = { NOT = { has_technology = tech_synthetic_workers } }
        }
          create_country = {
            name = random
            authority = auth_machine_intelligence
            civics = random
            origin = origin_machine_from_robot_01
            species = event_target:independant_machine_origin_species
            ignore_initial_colony_error = yes
            ethos = { ethic = ethic_gestalt_consciousness }
            flag = random
            type = default
            effect = {
                save_global_event_target_as = independant_colony_empire
                add_resource = { minerals = 10000 }
                add_resource = { energy = 10000 }
                add_resource = { food = 10000 }
                add_resource = { influence = 10 }
                add_resource = { consumer_goods = 3000 }
				add_resource = { alloys = 1000 }
                set_graphical_culture = event_target:independant_origin_civ
            }
        }
        event_target:independant_colony_empire = { copy_techs_from = { target = event_target:independant_origin_civ } }
        event_target:independant_one_planet = {
            solar_system = {
                create_starbase = {
                    size = starbase_outpost
                    owner = event_target:independant_colony_empire
                }
            }
            set_owner = event_target:independant_colony_empire
            set_capital = yes
            clear_blockers = yes
            solar_system = {
                every_system_planet = {
                    surveyed = {
                        set_surveyed = yes
                        surveyor = root.owner
                    }
                }
            }
            if = {
                limit = {
                    event_target:independant_colony_empire = {
                        OR = {
                            has_civic = civic_machine_servitor
                            has_civic = civic_machine_assimilator
                        }
                    }
                }
                random_list = {
                    1 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                                                                        while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_organic
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                    }
                                        2 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_organic
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                    }
                                        3 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_organic
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                    }
                                        3 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_organic
                }
            }
                                                                    while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                    }
                                        2 = {
                                        while = {
                    count = 4
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_organic
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_5
                }
            }
                    }
                                        1 = {
                                        while = {
                    count = 4
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_organic
                }
            }
                                                                    while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_5
                }
            }
                 }
                    
                }                
            }
            else = { 
               random_list = {
                    1 = {
                                        while = {
                    count = 5
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                    }
                                        2 = {
                                        while = {
                    count = 6
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                    }
                                        3 = {
                                        while = {
                    count = 7
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                    }
                                        3 = {
                                        while = {
                    count = 8
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                    }
                                        2 = {
                                        while = {
                    count = 9
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                    }
                                        1 = {
                                        while = {
                    count = 10
                    create_pop = {
                        species = independant_machine_origin_species
                    }
                }
                    }
                }
            }                
            add_district = district_nexus
			add_district = district_farming
			add_district = district_mining
			add_district = district_generator
			add_building = building_machine_capital
			add_building = building_foundry_1
			while = {				count = 2
				create_army = {
					name = random
					owner = event_target:independant_colony_empire
					species = event_target:independant_machine_origin_species
					type = defense_army
                }
                
            }
        }
    }
   else_if = {
       limit = {
           event_target:independant_origin_civ = { has_country_flag = independant_hive_empire_species }
            event_target:independant_origin_species = { NOT = { has_trait = trait_mechanical } }
       }
          create_country = {
            name = random
            authority = auth_hive_mind
            civics = random
            origin = origin_hive_mind_from_pop_01
            species = event_target:independant_hive_origin_species
            ignore_initial_colony_error = yes
            ethos = { ethic = ethic_gestalt_consciousness }
            flag = random
# this works to add hive-minded to a pop, will likely also work for cybernetic and psionic for when i get to it
            effect = {
                                            modify_species = {
                        species = last_created_species
                        add_trait = trait_hive_mind
                       add_traits_at_start_of_list = yes
                   }
    }
            type = default
            effect = {
                save_global_event_target_as = independant_colony_empire
                add_resource = { minerals = 10000 }
                add_resource = { energy = 10000 }
                add_resource = { food = 10000 }
                add_resource = { influence = 10 }
                add_resource = { consumer_goods = 3000 }
				add_resource = { alloys = 1000 }
                set_graphical_culture = event_target:independant_origin_civ
            }
        }
        event_target:independant_colony_empire = { copy_techs_from = { target = event_target:independant_origin_civ } }
        event_target:independant_one_planet = {
            solar_system = {
                create_starbase = {
                    size = starbase_outpost
                    owner = event_target:independant_colony_empire
                }
            }
            set_owner = event_target:independant_colony_empire
            set_capital = yes
            clear_blockers = yes
            solar_system = {
                every_system_planet = {
                    surveyed = {
                        set_surveyed = yes
                        surveyor = root.owner
                    }
                }
            }
               random_list = {
                    1 = {
                                        while = {
                    count = 5
                    create_pop = {
                        species = independant_hive_origin_species
                    }
                }
                    }
                                        2 = {
                                        while = {
                    count = 6
                    create_pop = {
                        species = independant_hive_origin_species
                    }
                }
                    }
                                        3 = {
                                        while = {
                    count = 7
                    create_pop = {
                        species = independant_hive_origin_species
                    }
                }
                    }
                                        3 = {
                                        while = {
                    count = 8
                    create_pop = {
                        species = independant_hive_origin_species
                    }
                }
                    }
                                        2 = {
                                        while = {
                    count = 9
                    create_pop = {
                        species = independant_hive_origin_species
                    }
                }
                    }
                                        1 = {
                                        while = {
                    count = 10
                    create_pop = {
                        species = independant_hive_origin_species
                    }
                }
                    }
                }
               
            add_district = district_hive
			add_district = district_farming
			add_district = district_mining
			add_district = district_generator
			add_building = building_hive_capital
			add_building = building_foundry_1
			while = {				count = 2
				create_army = {
					name = random
					owner = event_target:independant_colony_empire
					species = event_target:independant_hive_origin_species
					type = defense_army
                }
                
            }
        }
    }
    # else Basic
    else = {
    create_country = {
            name = random
            authority = random
            civics = random
            origin = origin_independent_01
            species = event_target:independant_origin_species
            ignore_initial_colony_error = yes
            ethos = random
            flag = random
# this works to add hive-minded to a pop, will likely also work for cybernetic and psionic for when i get to it
#            effect = {
#                                            modify_species = {
#                        species = last_created_species
#                       add_trait = trait_hive_mind
#                       add_traits_at_start_of_list = yes
#                   }
#    }
#
            type = default
            effect = {
                save_global_event_target_as = independant_colony_empire
                add_resource = { minerals = 10000 }
                add_resource = { energy = 10000 }
                add_resource = { food = 10000 }
                add_resource = { influence = 10 }
                add_resource = { consumer_goods = 3000 }
				add_resource = { alloys = 1000 }
                set_graphical_culture = event_target:independant_origin_civ
            }
        }
        event_target:independant_colony_empire = { copy_techs_from = { target = event_target:independant_origin_civ } }
		event_target:independant_colony_empire = { 
			set_policy = { policy = artificial_intelligence_policy option = ai_full_rights cooldown = yes }

			set_country_flag = synthetic_empire
		}
        event_target:independant_one_planet = {
            solar_system = {
                create_starbase = {
                    size = starbase_outpost
                    owner = event_target:independant_colony_empire
                }
            }
            set_owner = event_target:independant_colony_empire
            set_capital = yes
            clear_blockers = yes
            solar_system = {
                every_system_planet = {
                    surveyed = {
                        set_surveyed = yes
                        surveyor = root.owner
                    }
                }
            }
            if = {
                limit = {
                    event_target:independant_colony_empire = {
                        has_civic = civic_slaver_guilds
                    }
                }
                random_list = {
                    1 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                    }
                                        2 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                    }
                                        3 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                    }
                                        3 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                    }
                                        2 = {
                                        while = {
                    count = 4
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_5
                }
            }
                    }
                                        1 = {
                                        while = {
                    count = 4
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_5
                }
            }
                 }
                    
                }                
            }
            else_if = { 
                limit = {
                    event_target:independant_colony_empire = {
                        OR = {
                            has_ethic = ethic_fanatic_xenophobe
                            has_ethic = ethic_xenophobe
                        }                        
                    }
                }
               random_list = {
                    1 = {
                                        while = {
                    count = 5
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                    }
                                        2 = {
                                        while = {
                    count = 6
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                    }
                                        3 = {
                                        while = {
                    count = 7
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                    }
                                        3 = {
                                        while = {
                    count = 8
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                    }
                                        2 = {
                                        while = {
                    count = 9
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                    }
                                        1 = {
                                        while = {
                    count = 10
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                    }
                }
            }                
            else = {
                random_list = {
                    1 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                    }
                                        2 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                    }
                                        3 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                    }
                                        3 = {
                                        while = {
                    count = 3
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                    }
                                        2 = {
                                        while = {
                    count = 4
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_5
                }
            }
                    }
                                        1 = {
                                        while = {
                    count = 4
                    create_pop = {
                        species = independant_origin_species
                    }
                }
                                                                        while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_2
                }
            }
                                                                    while = {
                count = 2
                create_pop = {
                    species = event_target:independant_origin_species_3
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_4
                }
            }
                                                                    while = {
                count = 1
                create_pop = {
                    species = event_target:independant_origin_species_5
                }
            }
                 }
                    
                }
            }
            add_district = district_city
			add_district = district_farming
			add_district = district_mining
			add_district = district_generator
			add_building = building_capital
			add_building = building_foundry_1
			while = {				count = 2
				create_army = {
					name = random
					owner = event_target:independant_colony_empire
					species = event_target:independant_origin_species
					type = defense_army
                }
                
            }
        }
                        }
   
        event_target:independant_colony_empire = {
            establish_communications_no_message = root
        }
        last_created_country = {
            country_event = { id = independant_colony.0004 }
        }
                        }
            } 

country_event = {
    id = independant_colony.0003
    hide_window = yes
    is_triggered_only = yes
    	trigger = {
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 5
					min_jumps >= 1
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
                                                closest_system = {
                        random_planet = {
            limit = {

                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 5
					min_jumps >= 1
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = first_band
                                                }   
    }  
}
        country_event = { id = independant_colony.0101 days = 0 }   
    }
}


# seperated out into range band triggers the triggers in the subsequent events are neccesary for the event to function as required


country_event = {
        id = independant_colony.0013
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 10
					min_jumps >= 6
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 10
					min_jumps >= 6
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = second_band
                                                }
                        }
            }
            country_event = { id = independant_colony.0101 days = 0 }             
    }  
}

country_event = {
        id = independant_colony.0014
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band
            has_country_flag = second_band 
                      has_country_flag = first_station_band
            }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 15
					min_jumps >= 11
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 15
					min_jumps >= 11
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = third_band
                                                }
                        }
            } 
                    country_event = { id = independant_colony.0101 days = 0 }            
    }  
}

country_event = {
        id = independant_colony.0015
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band
            has_country_flag = second_band
            has_country_flag = third_band 
                                  has_country_flag = first_station_band
                                  }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 20
					min_jumps >= 16
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 20
					min_jumps >= 16
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = fourth_band
                                                }
                         }
            }      
     country_event = { id = independant_colony.0101 days = 0 }       
    }  
}

country_event = {
        id = independant_colony.0016
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band
            has_country_flag = second_band
            has_country_flag = third_band
            has_country_flag = fourth_band
                                  has_country_flag = first_station_band
                                  has_country_flag = second_station_band
 }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 25
					min_jumps >= 21
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 25
					min_jumps >= 21
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = fifth_band
                                                }
                        }
            }  
        country_event = { id = independant_colony.0101 days = 0 }           
    }  
}

country_event = {
        id = independant_colony.0017
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band
             has_country_flag = second_band
              has_country_flag = third_band
               has_country_flag = fourth_band
                has_country_flag = fifth_band
                                      has_country_flag = first_station_band
                                      has_country_flag = second_station_band
             }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 30
					min_jumps >= 26
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 30
					min_jumps >= 26
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = sixth_band
                                                }
                        }
            }  
        country_event = { id = independant_colony.0101 days = 0 }                
    }  
}

country_event = {
        id = independant_colony.0018
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band            
             has_country_flag = second_band
              has_country_flag = third_band
               has_country_flag = fourth_band
                has_country_flag = fifth_band
                has_country_flag = sixth_band
                                      has_country_flag = first_station_band
                                      has_country_flag = second_station_band
                                  has_country_flag = third_station_band                                      
             }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 35
					min_jumps >= 31
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 35
					min_jumps >= 31
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = seventh_band
                                                }
                        }
            }          
        country_event = { id = independant_colony.0101 days = 0 }   
    }  
}

country_event = {
        id = independant_colony.0019
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band
                         has_country_flag = second_band
              has_country_flag = third_band
               has_country_flag = fourth_band
                has_country_flag = fifth_band
                             has_country_flag = sixth_band
              has_country_flag = seventh_band
                                    has_country_flag = first_station_band
                                      has_country_flag = third_station_band
                                      has_country_flag = second_station_band
             }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 40
					min_jumps >= 36
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 40
					min_jumps >= 36
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = eigth_band
                                                }
                        }
            }  
        country_event = { id = independant_colony.0101 days = 0 }           
    }  
}

country_event = {
        id = independant_colony.0020
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band 
                         has_country_flag = second_band
              has_country_flag = third_band
               has_country_flag = fourth_band
                has_country_flag = fifth_band
                         has_country_flag = sixth_band
              has_country_flag = seventh_band
               has_country_flag = eigth_band
                                     has_country_flag = first_station_band
                                      has_country_flag = third_station_band
                                      has_country_flag = second_station_band
                                      has_country_flag = fourth_station_band                                      
             }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 45
					min_jumps >= 41
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 45
					min_jumps >= 41
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = ninth_band
                                                }
                        }
            }  
        country_event = { id = independant_colony.0101 days = 0 }           
    }  
}

country_event = {
        id = independant_colony.0021
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band 
                         has_country_flag = second_band
              has_country_flag = third_band
               has_country_flag = fourth_band
                has_country_flag = fifth_band
                          has_country_flag = sixth_band
              has_country_flag = seventh_band
               has_country_flag = eigth_band
                has_country_flag = ninth_band
                                      has_country_flag = first_station_band
                                     has_country_flag = fourth_station_band
                                      has_country_flag = third_station_band
                                      has_country_flag = second_station_band
             }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 50
					min_jumps >= 46
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 50
					min_jumps >= 46
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = tenth_band
                                                }
                        }
            }   
        country_event = { id = independant_colony.0101 days = 0 }          
    }  
}


country_event = {
        id = independant_colony.0022
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band 
                                     has_country_flag = second_band
              has_country_flag = third_band
               has_country_flag = fourth_band
                has_country_flag = fifth_band
                          has_country_flag = sixth_band
              has_country_flag = seventh_band
               has_country_flag = eigth_band
                has_country_flag = ninth_band
                has_country_flag = tenth_band
                                    has_country_flag = first_station_band
                                        has_country_flag = second_station_band
                                    has_country_flag = third_station_band
                                        has_country_flag = fourth_station_band      
                                            has_country_flag = fifth_station_band  
             }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 55
					min_jumps >= 51
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 55
					min_jumps >= 51
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                                                                                event_target:independant_origin_civ = {
                                                                                                    set_country_flag = eleventh_band
                                                }
                        }
            }          
        country_event = { id = independant_colony.0101 days = 0 }   
    }  
}

country_event = {
        id = independant_colony.0023
hide_window = yes
    is_triggered_only = yes
    	trigger = {
            NOR = { has_country_flag = first_band
                                     has_country_flag = second_band
              has_country_flag = third_band
               has_country_flag = fourth_band
                has_country_flag = fifth_band
                          has_country_flag = sixth_band
              has_country_flag = seventh_band
               has_country_flag = eigth_band
                has_country_flag = ninth_band
              has_country_flag = tenth_band
              has_country_flag = eleventh_band
                                    has_country_flag = first_station_band
                                        has_country_flag = second_station_band
                                    has_country_flag = third_station_band
                                        has_country_flag = fourth_station_band      
                                            has_country_flag = fifth_station_band                                   
            }
		any_system = {
			any_system_planet = {
				is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
				NOR = {
					has_modifier = "holy_planet"
					solar_system = {
						has_star_flag = hostile_system
					}
				}
				distance = {
					source = root.owner.capital_scope
					max_jumps <= 300
					min_jumps >= 56
				}
				solar_system = {
					NOT = { exists = starbase }
				}
			}
		}
	}
    immediate = {
      closest_system = {
                        random_planet = {
            limit = {
                is_colonizable = yes
				has_owner = no
				is_colony = no
				habitable_planet = yes
				has_anomaly = no
                                NOR = {
                    has_modifier = "holy_planet"
                    solar_system = {
                        has_star_flag = hostile_system
                    }
                }
                distance = {
                    source = root.owner.capital_scope
					max_jumps <= 300
					min_jumps >= 56
                }
                solar_system = {
                    NOT = { exists = starbase }
                }
            }
                        save_global_event_target_as = independant_one_planet
                                                set_planet_flag = independant_target
                                            event_target:independant_origin_civ = {
                    set_country_flag = twelth_station_band
                }
                        }
            }          
        country_event = { id = independant_colony.0101 days = 0 }   
    }  
}
#


# this gives a construction ship a science ship and renames both the planet and the civ so that bad names don't appear

country_event = {
    id = independant_colony.0004
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        capital_scope = { set_name = random }
        set_name = random
        copy_techs_from = {
            target = event_target:independant_origin_civ
        }
        random_list = {
            1 = {        add_opinion_modifier = {
            who = event_target:independant_origin_civ
            modifier = opinion_little_upstarts
        }
        add_opinion_modifier = {
            who = root
            modifier = opinion_sibling_rivalry
        }}
            1 = {        add_opinion_modifier = {
            who = event_target:independant_origin_civ
            modifier = opinion_patriots_of_home
        }
        add_opinion_modifier = {
            who = root
            modifier = opinion_for_the_empire
        }}
            1 = {        add_opinion_modifier = {
            who = event_target:independant_origin_civ
            modifier = opinion_terrorist_colonists
        }
        add_opinion_modifier = {
            who = root
            modifier = opinion_home_is_wrong_with_galaxy
        }}
            1 = {        add_opinion_modifier = {
            who = event_target:independant_origin_civ
            modifier = opinion_surprise_present
        }
        add_opinion_modifier = {
            who = root
            modifier = opinion_we_did_this_for_you
        }}
        }
        create_fleet = {
            effect = {
            set_owner = root
            create_ship = {
                name = random
                random_existing_design = constructor
        }
            set_fleet_stance = evasive
            set_location = root.capital_scope
            }
        }
			random_list =  {
            30 = { create_fleet_from_naval_cap = 0.1
			    random_owned_planet = {
				    last_created_fleet = {
					    set_location = prev
				}
			}
            }
            35 = { create_fleet_from_naval_cap = 0.2
			    random_owned_planet = {
				    last_created_fleet = {
					    set_location = prev
				}
			}
            }
            20 = { create_fleet_from_naval_cap = 0.3
			    random_owned_planet = {
				    last_created_fleet = {
					    set_location = prev
				}
			}
            }
            10 = { create_fleet_from_naval_cap = 0.4
			    random_owned_planet = {
				    last_created_fleet = {
					    set_location = prev
				}
			}
            }
            5 = { create_fleet_from_naval_cap = 0.5
			    random_owned_planet = {
				    last_created_fleet = {
					    set_location = prev
				}
			}
            }
            }
        create_fleet = {
            effect = {
            set_owner = root
            create_ship = {
                name = random
                random_existing_design = science
        }
        set_fleet_stance = evasive
        set_location = root.capital_scope
        owner = {
            create_leader = {
                type = scientist
                sub_type = survey
                name = random
                species = owner_main_species
            }
        }
        set_leader = last_created_leader
        }
        }
    }   
}

