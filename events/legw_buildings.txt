namespace = legw_addbuildings

# Ancient Homeworld
planet_event = {
	id = legw_addbuildings.1
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_modifier = "pre_homeworld"
		NOT = { has_planet_flag = "pf_building_set" }
	}

	immediate = {
		add_building = pre_obelisk
		add_building = pre_sensor
		add_building = pre_shipyard
		add_building = pre_depot
		add_building = pre_lab
		random_list = {
			20 = {
			}
			60 = {
				add_building = pre_lab
			}
			20 = {
				add_building = pre_lab
				add_building = pre_lab
			}
		}
		add_building = pre_town
		random_list = {
			33 = {
				add_building = pre_town
			}
			33 = {
				add_building = pre_town
				add_building = pre_town
			}
			33 = {
				add_building = pre_town
				add_building = pre_town
				add_building = pre_town
			}
		}
		add_building = pre_capital
		random_list = {
			10 = {
			}
			70 = {
				add_building = pre_capital
			}
			20 = {
				add_building = pre_capital
				add_building = pre_capital
			}
		}
		random_list = {
			10 = {
				add_building = pre_obelisk
			}
			50 = {
				add_building = pre_town
			}
			30 = {
				add_building = pre_capital
				add_building = pre_town
			}
		}
		random_list = {
			10 = {
				add_building = pre_sensor
			}
			50 = {
				add_building = pre_town
			}
			30 = {
				add_building = pre_capital
				add_building = pre_town
			}
		}
		random_list = {
			33 = {
				add_building = legw_pre_factory
			}
			67 = {
			}
		}

		set_planet_flag = "pf_building_set"
	}

}

# Ancient Colony
planet_event = {
	id = legw_addbuildings.2
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_modifier = "pre_world"
		NOT = { has_planet_flag = "pf_building_set" }
	}

	immediate = {
		add_building = pre_obelisk
		add_building = pre_sensor
		add_building = pre_depot
		random_list = {
			33 = {
				add_building = pre_depot
			}
			67 = {
			}
		}
		random_list = {
			33 = {
				add_building = pre_depot
			}
			67 = {
			}
		}
		add_building = pre_lab
		add_building = pre_town
		add_building = pre_town
		random_list = {
			33 = {
				add_building = pre_town
			}
			33 = {
				add_building = pre_town
				add_building = pre_town
			}
			33 = {
				add_building = pre_town
				add_building = pre_town
				add_building = pre_town
			}
		}
		add_building = pre_capital
		random_list = {
			33 = {
				add_building = pre_capital
			}
			67 = {
			}
		}
		random_list = {
			10 = {
				add_building = pre_shipyard
			}
			90 = {
			}
		}
		random_list = {
			10 = {
				add_building = legw_pre_factory
			}
			90 = {
			}
		}		

		set_planet_flag = "pf_building_set"
	}

}
# Ancient Outpost
planet_event = {
	id = legw_addbuildings.22
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_modifier = "pre_outpost"
		NOT = { has_planet_flag = "pf_building_set" }
	}

	immediate = {
		random_list = {
			20 = {
				add_building = pre_capital
			}
			80 = {
			}
		}
		random_list = {
			33 = {
				add_building = pre_town
			}
			33 = {
				add_building = pre_town
				add_building = pre_town
			}
			33 = {
				add_building = pre_town
				add_building = pre_town
				add_building = pre_town
			}
		}
		# Specialised Outposts
		random_list = {
			33 = {
				add_building = pre_lab
				random_list = {
					50 = {
						add_building = pre_lab
					}
					35 = {
						add_building = pre_sensor
					}
					15 = {
						add_building = pre_sensor
						add_building = pre_lab
					}
				}
			}
			33 = {
				add_building = pre_depot
				random_list = {
					50 = {
						add_building = pre_depot
					}
					35 = {
						add_building = pre_sensor
					}
					15 = {
						add_building = pre_sensor
						add_building = pre_depot
					}
				}
			}
			33 = {
				add_building = pre_obelisk
				random_list = {
					50 = {
						add_building = pre_obelisk
					}
					35 = {
						add_building = pre_sensor
					}
					15 = {
						add_building = pre_sensor
						add_building = pre_obelisk
					}
				}
			}
		}	

		set_planet_flag = "pf_building_set"
	}

}

# Clone Center
planet_event = {
	id = legw_addbuildings.3
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_modifier = "clone_planet"
		NOT = { has_planet_flag = "pf_building_set" }
	}

	immediate = {
		add_building = clone_center
		set_planet_flag = "pf_building_set"
	}

}

# Random Pre Building
planet_event = {
	id = legw_addbuildings.4
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_modifier = "pre_building"
		NOT = { has_planet_flag = "pf_building_set" }
	}

	immediate = {
		random_list = {
			10 = {
				add_building = pre_capital
			}
			15 = {
				add_building = pre_lab
			}
			15 = {
				add_building = pre_sensor
			}
			20 = {
				add_building = pre_depot
			}
			20 = {
				add_building = pre_town
			}
			10 = {
				add_building = pre_obelisk
			}
			10 = {
				add_building = legw_pre_factory
			}

		}
		set_planet_flag = "pf_building_set"
	}

}

# Mineral Stations
planet_event = {
	id = legw_addbuildings.5
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_modifier = "mine_cold"
		NOT = { has_planet_flag = "pf_building_set" }
	}

	immediate = {
		add_building = mining_complex
		random_list = {
			30 = {
				add_building = mining_complex
			}
			30 = {
				add_building = mining_complex
				add_building = mining_complex
			}
			30 = {
				add_building = mining_complex
				add_building = mining_complex
				add_building = mining_complex
			}
			10 = {
				add_building = mining_complex
				add_building = mining_complex
				add_building = mining_complex
				add_building = mining_complex
			}
		}
		set_planet_flag = "pf_building_set"	
	}

}

# Solar Station
planet_event = {
	id = legw_addbuildings.6
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_modifier = "solar_planet"
		NOT = { has_planet_flag = "pf_building_set" }
	}

	immediate = {
		add_building = solar_station
		set_planet_flag = "pf_building_set"
	}

}

# Broadcasting Tower
planet_event = {
	id = legw_addbuildings.7
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_modifier = "tower_planet"
		NOT = { has_planet_flag = "pf_building_set" }
	}

	immediate = {
		add_building = pre_broadcast_tower
		set_planet_flag = "pf_building_set"
	}

}

# Ring World Fragments (ADDON)
planet_event = {
	id = legw_addbuildings.8
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		is_planet_class = pc_lege_ring_fragment
		has_building = "building_colony_shelter"
	}

	immediate = {
		remove_building = building_colony_shelter
		add_building = building_hab_capital
		
		random_list = {
			10 = {
				add_deposit = legw_d_district_fragment1
				add_building = pre_capital
			}
			90 = {
			}
		}
	}

}
