namespace = nep_highway

#Code by neptunehs

#event1:trigger,after precursor events ends
#event2:MTTH = 5 years later, highway events begin
#event3:homeworld event
#11-21-31:vultaum
#12-22-32:yuht
#13-23-33:first_league
#14-24-34:irassian
#15-25-35:cybrex

country_event = {
	id = nep_highway.1
	hide_window = yes

	fire_only_once = yes
	
	trigger = {
		is_ai = no
		OR = {
			has_country_flag = vultaum_world_found
			has_country_flag = yuht_world_found
			has_country_flag = league_world_found
			has_country_flag = irassian_world_found
			has_country_flag = cybrex_world_found
			has_country_flag = green_thumb_achievement
			has_country_flag = dust_off_achievement
		}
		OR = {
			has_technology = "tech_sensors_3"
			has_technology = "tech_sensors_4"
		}
		NOT = {
			has_global_flag = nep_highway_begin
		}
	}
	
	mean_time_to_happen = {
		days = 540
	}
	
	immediate = {	
		set_global_flag = nep_highway_begin
		set_country_flag = nep_highway_intro
		switch = {
			trigger = has_country_flag
			vultaum_world_found = { 
				random_system = {
					limit = { has_star_flag = vultaumar }
					random_system_planet = {
						limit = { has_planet_flag = vultaum_homeworld }
						if = {
							limit = {
								has_anomaly = no
								NOT = { exists = archaeological_site } 
							}
							planet_event = { id = nep_highway.21 }
						}
						else = {
							solar_system = {
								random_system_planet = {
									limit = { 
										is_star = no
										has_anomaly = no
										NOT = { exists = archaeological_site } 
									}
									planet_event = { id = nep_highway.21 }
								}
							}
						}
					}
				}
			}
			yuht_world_found = {
				random_system = {
					limit = { has_star_flag = yuhtaan }
					random_system_planet = {
						limit = { has_planet_flag = yuht_homeworld }
						if = {
							limit = {
								has_anomaly = no
								NOT = { exists = archaeological_site } 
							}
							planet_event = { id = nep_highway.21 }
						}
						else = {
							solar_system = {
								random_system_planet = {
									limit = {
										is_star = no
										has_anomaly = no
										NOT = { exists = archaeological_site } 
									}
									planet_event = { id = nep_highway.21 }
								}
							}
						}
					}
				}
			}
			league_world_found = {
				random_system = {
					limit = { has_star_flag = fen_habbanis }
					random_system_planet = {
						limit = { has_planet_flag = first_league_homeworld }
						if = {
							limit = {
								has_anomaly = no
								NOT = { exists = archaeological_site } 
							}
							planet_event = { id = nep_highway.21 }
						}
						else = {
							solar_system = {
								random_system_planet = {
									limit = {
										is_star = no
										has_anomaly = no
										NOT = { exists = archaeological_site } 
									}
									planet_event = { id = nep_highway.21 }
								}
							}
						}
					}
				}
			}
			irassian_world_found = {
				random_system = {
					limit = { has_star_flag = irass }
					random_system_planet = {
						limit = { has_planet_flag = irassian_homeworld }
						if = {
							limit = {
								has_anomaly = no
								NOT = { exists = archaeological_site } 
							}
							planet_event = { id = nep_highway.21 }
						}
						else = {
							solar_system = {
								random_system_planet = {
									limit = { 
										is_star = no
										has_anomaly = no
										NOT = { exists = archaeological_site } 
									}
									planet_event = { id = nep_highway.21 }
								}
							}
						}
					}
				}
			} 
			cybrex_world_found = {
				random_system = {
					limit = { has_star_flag = cybrex }
					random_system_ambient_object = {
						save_event_target_as = nep_cybrex_temp
					}
					spawn_planet = {
						class = "pc_planet_large_debris"
						location = event_target:nep_cybrex_temp
						init_effect = {
							prevent_anomaly = yes
							clear_deposits = yes
							set_name = "NAME_nep_debris"
							save_event_target_as = nep_cybrex_temp_planet
							set_surveyed = {
								surveyed = yes
								surveyor = root
							}
							set_all_comms_surveyed = yes
						}
					}
					event_target:nep_cybrex_temp_planet = {
						planet_event = { id = nep_highway.21 }
					}
				}
			}
			green_thumb_achievement = {
				random_system = {
					limit = { has_star_flag = last_baol_system }
					random_system_planet = {
						limit = { has_planet_flag = grunur_prime }
						if = {
							limit = {
								has_anomaly = no
								NOT = { exists = archaeological_site } 
							}
							planet_event = { id = nep_highway.21 }
						}
						else = {
							solar_system = {
								random_system_planet = {
									limit = { 
										is_star = no
										has_anomaly = no
										NOT = { exists = archaeological_site } 
									}
									planet_event = { id = nep_highway.21 }
								}
							}
						}
					}
				}
			}
			dust_off_achievement = {
				random_system = {
					limit = { has_star_flag = Zrocursor }
					random_system_planet = {
						limit = { has_planet_flag = Zrocursor_homeworld }
						if = {
							limit = {
								has_anomaly = no
								NOT = { exists = archaeological_site } 
							}
							planet_event = { id = nep_highway.21 }
						}
						else = {
							solar_system = {
								random_system_planet = {
									limit = { 
										is_star = no
										has_anomaly = no
										NOT = { exists = archaeological_site } 
									}
									planet_event = { id = nep_highway.21 }
								}
							}
						}
					}
				}
			}
		}
	}
}

planet_event = {
	id = nep_highway.21
	hide_window = yes

	fire_only_once = yes

	is_triggered_only = yes	
	
	trigger = {
		has_global_flag = nep_highway_begin
	}
	
	immediate = {
		random_country = {
			limit = { has_country_flag = nep_highway_intro }
			country_event = { id = nep_highway.22 }
		}
	}
}

country_event = {
	id = nep_highway.22
	title = "nep_highway.22.name"
	desc = nep_highway.22.desc
	picture = GFX_evt_overgrown_city
	
	is_triggered_only = yes	
	
	trigger = {
		has_global_flag = nep_highway_begin
	}
	
	immediate = {
	}
	
	option = {
		name = nep_highway.22.a
		root.from = { create_archaeological_site = nep_precursor_digsite_1 }
	}
	
	option = {
		name = nep_highway.22.b
		custom_tooltip = nep_highway.22.b.tooltip
		remove_country_flag = nep_highway_intro
		owner = {
			add_resource = {
				minerals = 3000
			}
		}
	}
	
	option = {
		name = nep_highway.22.c
		custom_tooltip = nep_highway.22.c.tooltip
		trigger = {
			has_ethic = "ethic_xenophobe"
			has_ethic = "ethic_fanatic_xenophobe"
		}
		owner = {
			add_resource = {
				energy = 3000
				unity = 9999
				influence = 100
			}
		}
	}
}

fleet_event = {
	id = nep_highway.23
	title = "nep_highway.22.name"
	desc = {
		trigger = { 
			from.solar_system = {
				has_star_flag = cybrex
			}
		}
		text = "nep_highway.23.desc.cybrex"
	}
	desc = {
		trigger = { 
			from.solar_system = {
				NOT = { has_star_flag = cybrex }
			}
		}
		text = "nep_highway.23.desc"
	}
	picture = GFX_evt_collapsing_roof
	show_sound = event_door_opening
	
	archaeology = yes
	is_triggered_only = yes
	
	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}
	
	option = {
		name = DIG
		small_artifact_reward = yes
	}
}

fleet_event = {
	id = nep_highway.24
	title = "nep_highway.22.name"
	desc = {
		trigger = { 
			from.solar_system = {
				has_star_flag = cybrex
			}
		}
		text = "nep_highway.24.desc.cybrex"
	}
	desc = {
		trigger = { 
			from.solar_system = {
				NOT = { has_star_flag = cybrex }
			}
		}
		text = "nep_highway.24.desc"
	}
	picture = GFX_evt_crusher_droid
	show_sound = event_door_opening
	
	archaeology = yes
	is_triggered_only = yes
	
	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = { 
		from = { set_site_progress_locked = no } 
	}
	
	option = {
		name = DIG
		small_artifact_reward = yes
	}
}


fleet_event = {
	id = nep_highway.3
	title = "nep_highway.22.name"
	desc = "nep_highway.3.desc"	
	picture = GFX_evt_excavation_team
	show_sound = event_door_opening

	fire_only_once = yes

	is_triggered_only = yes	
	
	archaeology = yes
	
	immediate = {
		from = { set_site_progress_locked = yes }
	}
	
	after = {
		from = { set_site_progress_locked = no }
	}
	
	option = {
		name = nep_highway.3.a
	}

	# option = {
		# name = nep_highway.31.b
		# owner = {
			# add_resource = {
				# physics_research = 50
				# society_research = 50
				# engineering_research = 50
			# }
		# }
	# }
}

#First station spawn.EXCEPT cybrex.
fleet_event = {
	id = nep_highway.4
	title = "nep_highway.22.name"
	desc = "nep_highway.4.desc"	
	picture = GFX_evt_synth_sabotage
	show_sound = event_door_opening
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	archaeology = yes
	
	immediate = {
		random_list = {
			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = 85
							max_orientation_angle = 94
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 90
						max_orientation_angle = 90
						hyperlane = no
						initializer = nep_highway_station_N
					}
				}
			}			
			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = 62.5
							max_orientation_angle = 71.5
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 67.5
						max_orientation_angle = 67.5
						hyperlane = no
						initializer = nep_highway_station_NNE
					}
				}
			}
			
			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = 40
							max_orientation_angle = 50
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 45
						max_orientation_angle = 45
						hyperlane = no
						initializer = nep_highway_station_NE
					}
				}
			}

			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = 17.5
							max_orientation_angle = 26.5
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 22.5
						max_orientation_angle = 22.5
						hyperlane = no
						initializer = nep_highway_station_ENE
					}
				}
			}		
			
			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -5
							max_orientation_angle = 4
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 0
						max_orientation_angle = 0
						hyperlane = no
						initializer = nep_highway_station_E
					}
				}
			}		

			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -27.5
							max_orientation_angle = -17.5
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -22.5
						max_orientation_angle = -22.5
						hyperlane = no
						initializer = nep_highway_station_ESE
					}
				}
			}

			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -50
							max_orientation_angle = -40
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -45
						max_orientation_angle = -45
						hyperlane = no
						initializer = nep_highway_station_SE
					}
				}
			}	

			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -72.5
							max_orientation_angle = -62.5
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -67.5
						max_orientation_angle = -67.5
						hyperlane = no
						initializer = nep_highway_station_SSE
					}
				}
			}	

			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -85
							max_orientation_angle = -95
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -90
						max_orientation_angle = -90
						hyperlane = no
						initializer = nep_highway_station_S
					}
				}
			}		

			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -117.5
							max_orientation_angle = -107.5
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -112.5
						max_orientation_angle = -112.5
						hyperlane = no
						initializer = nep_highway_station_SSW
					}
				}
			}				
			
			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -140
							max_orientation_angle = -131
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -135
						max_orientation_angle = -135
						hyperlane = no
						initializer = nep_highway_station_SW
					}
				}
			}	
			
			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -162.5
							max_orientation_angle = -152.5
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -157.5
						max_orientation_angle = -157.5
						hyperlane = no
						initializer = nep_highway_station_WSW
					}
				}
			}	
			
			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -185
							max_orientation_angle = -175
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -180
						max_orientation_angle = -180
						hyperlane = no
						initializer = nep_highway_station_W
					}
				}
			}

			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -207.5
							max_orientation_angle = -198.5
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -202.5
						max_orientation_angle = -202.5
						hyperlane = no
						initializer = nep_highway_station_WNW
					}
				}
			}

			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -230
							max_orientation_angle = -221
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -225
						max_orientation_angle = -225
						hyperlane = no
						initializer = nep_highway_station_NW
					}
				}
			}

			10 = { 
				no_scope = {
					if = {
						limit = {
							count_system = {
								count < 430
							}
						}
						spawn_system = {
							min_distance >= 397
							max_distance <= 445
							min_orientation_angle = -252.5
							max_orientation_angle = -243.5
							hyperlane = yes
							initializer = asteroid_init_01
						}
					}
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -247.5
						max_orientation_angle = -247.5
						hyperlane = no
						initializer = nep_highway_station_NNW
					}
				}
			}				
		}
		owner = { set_country_flag = nep_first_station_found }
		random_system = {
			limit = {
				has_star_flag = nep_highway_station_system 
			}
			save_event_target_as = first_highway_station_system 
		}
	}
	
	option = {
		name = nep_highway.4.a
		root.owner = {
			begin_event_chain = {
				event_chain = "nep_highway_chain"
				target = THIS
			}
			create_point_of_interest = {
				id = first_highway_station_system_poi.1
				name = "first_highway_station_system_poi_name"
				desc = "first_highway_station_system_poi_desc"
				event_chain = nep_highway_chain
				location = event_target:first_highway_station_system 
			}
		}
	}
	option = {
		name = nep_highway.4.b
	}
	
	after = {
		hidden_effect = {
			random_system = {
				limit = { has_star_flag = cybrex }
				random_system_planet = {
					limit = { is_planet_class = pc_planet_large_debris }
					remove_planet = yes
				}
			}
		}
	}
}

#Create highway station explore project 
#on_entering_system target = first_highway_station_system 
ship_event = {
	id = nep_highway.5
	title = "nep_highway.5.name"
	desc = "nep_highway.5.desc"	
	picture = GFX_evt_fleet_neutral
	location = THIS
	
	fire_only_once = yes
	
	is_triggered_only = yes		
	
	trigger = {
		owner = {
			is_ai = no
			has_event_chain = "nep_highway_chain"
		}
		FROM = {
			if = { 
				limit = { is_scope_type = galactic_object }
				has_star_flag = nep_highway_station_system
			}
			else = {
				limit = { is_scope_type = ship }
				solar_system = { has_star_flag = nep_highway_station_system }
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = { has_global_flag = malfunctioning_guards_created }
			}
			create_malfunctioning_guards_country = yes
		}
	}
	
	option = {
		name = nep_highway.5.a
		hidden_effect = { 
			OWNER = { remove_point_of_interest = first_highway_station_system_poi.1 } 
			solar_system = { 
				random_system_planet = {
					save_event_target_as = nep_highway_first_station_explore_poi
				}
			}
		}
		enable_special_project = {
			name = "nep_highway_first_station_explore"
			location = event_target:nep_highway_first_station_explore_poi
			owner = THIS.owner
		}
	}
}

#For debug

fleet_event = {
	id = nep_highway.5000
	hide_window = yes
	
	fire_only_once = yes
	
	is_triggered_only = yes		
	
	immediate = {
		random_owned_ship = { ship_event = { id = nep_highway.5 } }
	}
}

#Malfunctioning guards
ship_event = {
	id = nep_highway.6
	title = "nep_highway.6.name"
	desc = "nep_highway.6.desc"
	picture = GFX_evt_fleet_evil
	location = FROM	
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				NOT = { has_global_flag = malfunctioning_guards_created }
			}
			create_malfunctioning_guards_country = yes
		}
		malfunctioning_guards_spawn = yes
	}
	
	option = {
		hidden_effect = { 
			solar_system = { 
				random_system_planet = {
					save_event_target_as = nep_highway_first_station_explore_poi
				}
			}
		}
		
		name = nep_highway.6.a
		enable_special_project = {
			name = "nep_highway_first_station_explore"
			location = event_target:nep_highway_first_station_explore_poi
			owner = THIS.owner
		}
	}
}

#Highway Appears
ship_event = {
	id = nep_highway.7
	title = "nep_highway.7.name"
	desc = "nep_highway.7.desc"	
	picture = GFX_evt_hangar_bay
	#location = FROM	
	
	fire_only_once = yes
			
	is_triggered_only = yes		
	
	immediate = {
		clear_global_event_target = nep_highway_first_station_explore_poi
		set_spawn_system_batch = begin
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_N
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = 90
					max_orientation_angle = 90
					hyperlane = no
					initializer = nep_highway_station_N
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_NNE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = 67.5
					max_orientation_angle = 67.5
					hyperlane = no
					initializer = nep_highway_station_NNE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_NE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = 45
					max_orientation_angle = 45
					hyperlane = no
					initializer = nep_highway_station_NE	
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_ENE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = 22.5
					max_orientation_angle = 22.5
					hyperlane = no
					initializer = nep_highway_station_ENE	
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_E
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = 0
					max_orientation_angle = 0
					hyperlane = no
					initializer = nep_highway_station_E
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_ESE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
						min_orientation_angle = -22.5
						max_orientation_angle = -22.5
						hyperlane = no
						initializer = nep_highway_station_ESE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_SE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
						min_orientation_angle = -45
						max_orientation_angle = -45
						hyperlane = no
						initializer = nep_highway_station_SE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_SSE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -67.5
					max_orientation_angle = -67.5
					hyperlane = no
					initializer = nep_highway_station_SSE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_S
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -90
					max_orientation_angle = -90
					hyperlane = no
					initializer = nep_highway_station_S
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_SSW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -112.5
					max_orientation_angle = -112.5
					hyperlane = no
					initializer = nep_highway_station_SSW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_SW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -135
					max_orientation_angle = -135
					hyperlane = no
					initializer = nep_highway_station_SW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_WSW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -157.5
					max_orientation_angle = -157.5
					hyperlane = no
					initializer = nep_highway_station_WSW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_W
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -180
					max_orientation_angle = -180
					hyperlane = no
					initializer = nep_highway_station_W
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_WNW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -202.5
					max_orientation_angle = -202.5
					hyperlane = no
					initializer = nep_highway_station_WNW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_NW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -225
					max_orientation_angle = -225
					hyperlane = no
					initializer = nep_highway_station_NW
					}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_station_NNW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -247.5
					max_orientation_angle = -247.5
					hyperlane = no
					initializer = nep_highway_station_NNW
				}
			}
		}
				
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_N
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = 90
					max_orientation_angle = 90
					hyperlane = no
					initializer = nep_highway_note_N
				}
			}
		}

		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_NNE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = 67.5
					max_orientation_angle = 67.5
					hyperlane = no
					initializer = nep_highway_note_NNE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_NE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = 45
					max_orientation_angle = 45
					hyperlane = no
					initializer = nep_highway_note_NE	
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_ENE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = 22.5
					max_orientation_angle = 22.5
					hyperlane = no
					initializer = nep_highway_note_ENE	
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_E
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = 0
					max_orientation_angle = 0
					hyperlane = no
					initializer = nep_highway_note_E
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_ESE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
						min_orientation_angle = -22.5
						max_orientation_angle = -22.5
						hyperlane = no
						initializer = nep_highway_note_ESE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_SE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
						min_orientation_angle = -45
						max_orientation_angle = -45
						hyperlane = no
						initializer = nep_highway_note_SE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_SSE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -67.5
					max_orientation_angle = -67.5
					hyperlane = no
					initializer = nep_highway_note_SSE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_S
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -90
					max_orientation_angle = -90
					hyperlane = no
					initializer = nep_highway_note_S
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_SSW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -112.5
					max_orientation_angle = -112.5
					hyperlane = no
					initializer = nep_highway_note_SSW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_SW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -135
					max_orientation_angle = -135
					hyperlane = no
					initializer = nep_highway_note_SW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_WSW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -157.5
					max_orientation_angle = -157.5
					hyperlane = no
					initializer = nep_highway_note_WSW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_W
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -180
					max_orientation_angle = -180
					hyperlane = no
					initializer = nep_highway_note_W
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_WNW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -202.5
					max_orientation_angle = -202.5
					hyperlane = no
					initializer = nep_highway_note_WNW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_NW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -225
					max_orientation_angle = -225
					hyperlane = no
					initializer = nep_highway_note_NW
					}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = nep_highway_note_NNW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -247.5
					max_orientation_angle = -247.5
					hyperlane = no
					initializer = nep_highway_note_NNW
				}
			}
		}
		
		random_system = {
			limit = { has_star_flag = nep_highway_station_N }
			save_global_event_target_as = highway_station_N
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_NNE }
			save_global_event_target_as = highway_station_NNE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_NE }
			save_global_event_target_as = highway_station_NE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_ENE }
			save_global_event_target_as = highway_station_ENE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_E }
			save_global_event_target_as = highway_station_E
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_ESE }
			save_global_event_target_as = highway_station_ESE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_SE }
			save_global_event_target_as = highway_station_SE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_SSE }
			save_global_event_target_as = highway_station_SSE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_S }
			save_global_event_target_as = highway_station_S
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_SSW }
			save_global_event_target_as = highway_station_SSW
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_SW }
			save_global_event_target_as = highway_station_SW
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_WSW }
			save_global_event_target_as = highway_station_WSW
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_W }
			save_global_event_target_as = highway_station_W
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_WNW }
			save_global_event_target_as = highway_station_WNW
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_NW }
			save_global_event_target_as = highway_station_NW
		}
		random_system = {
			limit = { has_star_flag = nep_highway_station_NNW }
			save_global_event_target_as = highway_station_NNW
		}
		
		random_system = {
			limit = { has_star_flag = nep_highway_note_N }
			save_global_event_target_as = highway_note_N
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_NNE }
			save_global_event_target_as = highway_note_NNE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_NE }
			save_global_event_target_as = highway_note_NE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_ENE }
			save_global_event_target_as = highway_note_ENE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_E }
			save_global_event_target_as = highway_note_E
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_ESE }
			save_global_event_target_as = highway_note_ESE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_SE }
			save_global_event_target_as = highway_note_SE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_SSE }
			save_global_event_target_as = highway_note_SSE
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_S }
			save_global_event_target_as = highway_note_S
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_SSW }
			save_global_event_target_as = highway_note_SSW
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_SW }
			save_global_event_target_as = highway_note_SW
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_WSW }
			save_global_event_target_as = highway_note_WSW
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_W }
			save_global_event_target_as = highway_note_W
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_WNW }
			save_global_event_target_as = highway_note_WNW
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_NW }
			save_global_event_target_as = highway_note_NW
		}
		random_system = {
			limit = { has_star_flag = nep_highway_note_NNW }
			save_global_event_target_as = highway_note_NNW
		}
		add_hyperlane = {
			from = event_target:highway_note_N
			to = event_target:highway_note_NNE
		}
		add_hyperlane = {
			from = event_target:highway_note_NE
			to = event_target:highway_note_NNE
		}
		add_hyperlane = {
			from = event_target:highway_note_NE
			to = event_target:highway_note_ENE
		}
		add_hyperlane = {
			from = event_target:highway_note_E
			to = event_target:highway_note_ENE
		}
		add_hyperlane = {
			from = event_target:highway_note_E
			to = event_target:highway_note_ESE
		}
		add_hyperlane = {
			from = event_target:highway_note_SE
			to = event_target:highway_note_ESE
		}
		add_hyperlane = {
			from = event_target:highway_note_SE
			to = event_target:highway_note_SSE
		}
		add_hyperlane = {
			from = event_target:highway_note_S
			to = event_target:highway_note_SSE
		}
		add_hyperlane = {
			from = event_target:highway_note_S
			to = event_target:highway_note_SSW
		}
		add_hyperlane = {
			from = event_target:highway_note_SW
			to = event_target:highway_note_SSW
		}
		add_hyperlane = {
			from = event_target:highway_note_SW
			to = event_target:highway_note_WSW
		}
		add_hyperlane = {
			from = event_target:highway_note_WSW
			to = event_target:highway_note_W
		}
		add_hyperlane = {
			from = event_target:highway_note_WNW
			to = event_target:highway_note_W
		}
		add_hyperlane = {
			from = event_target:highway_note_WNW
			to = event_target:highway_note_NW
		}
		add_hyperlane = {
			from = event_target:highway_note_NNW
			to = event_target:highway_note_NW
		}
		add_hyperlane = {
			from = event_target:highway_note_NNW
			to = event_target:highway_note_N
		}
		add_hyperlane = {
			from = event_target:highway_station_N
			to = event_target:highway_note_N
		}
		add_hyperlane = {
			from = event_target:highway_station_NNE
			to = event_target:highway_note_NNE
		}
		add_hyperlane = {
			from = event_target:highway_station_NE
			to = event_target:highway_note_NE
		}
		add_hyperlane = {
			from = event_target:highway_station_ENE
			to = event_target:highway_note_ENE
		}
		add_hyperlane = {
			from = event_target:highway_station_E
			to = event_target:highway_note_E
		}
		add_hyperlane = {
			from = event_target:highway_station_ESE
			to = event_target:highway_note_ESE
		}
		add_hyperlane = {
			from = event_target:highway_station_SE
			to = event_target:highway_note_SE
		}
		add_hyperlane = {
			from = event_target:highway_station_SSE
			to = event_target:highway_note_SSE
		}
		add_hyperlane = {
			from = event_target:highway_station_S
			to = event_target:highway_note_S
		}
		add_hyperlane = {
			from = event_target:highway_station_SSW
			to = event_target:highway_note_SSW
		}
		add_hyperlane = {
			from = event_target:highway_station_SW
			to = event_target:highway_note_SW
		}
		add_hyperlane = {
			from = event_target:highway_station_WSW
			to = event_target:highway_note_WSW
		}
		add_hyperlane = {
			from = event_target:highway_station_W
			to = event_target:highway_note_W
		}
		add_hyperlane = {
			from = event_target:highway_station_WNW
			to = event_target:highway_note_WNW
		}
		add_hyperlane = {
			from = event_target:highway_station_NW
			to = event_target:highway_note_NW
		}
		add_hyperlane = {
			from = event_target:highway_station_NNW
			to = event_target:highway_note_NNW
		}
		every_system = {
			limit = {
				has_star_flag = nep_highway_station_system
			}
			random_neighbor_system_euclidean = { 
				limit = { 
					nep_st_is_not_outer_system = yes
				}
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		set_spawn_system_batch = end
	}
	
	option = {
		name = nep_highway.7.a
		every_country = {
			if = {
				limit = {
					has_event_chain = "nep_highway_chain"
				}
			end_event_chain = "nep_highway_chain"
			}
		}
		hidden_effect = {
			OWNER = {
				set_country_flag = nep_highway_founder
				event_target:global_event_country = { country_event = { id = nep_highway.8000 } }
				country_event = { id = nep_highway.8 days = 30 } 
			}
		}
	}
}

country_event = {
	id = nep_highway.8
	title = "nep_highway.8.name"
	desc = nep_highway.8.desc
	picture = GFX_evt_news_room
	
	fire_only_once = yes

	is_triggered_only = yes	
	
	trigger = {
		is_ai = no
		has_country_flag = nep_highway_founder
	}
	
	immediate = {
		set_global_flag = nep_highway_used
		every_playable_country = { limit = { is_ai = no } country_event = { id = nep_highway.9999 days = 3 } }
		country_event = { id = nep_seal.1 days = 90 random = 15} #A link to the seal
	}
	
	option = {
		name = nep_highway.8.a
		add_modifier = { modifier = nep_highway_fee days = 3600 }
	}
	
	option = {
		name = nep_highway.8.b
		custom_tooltip = nep_highway.8.b.tooltip
		hidden_effect = {
			every_system = {
				limit = { 
					OR = {
						has_star_flag = nep_highway_station_system
						has_star_flag = nep_highway_note_system
					}					
				}
				every_fleet_in_system = {
					limit = { 						
						any_owned_ship = {
							is_ship_class = shipclass_starbase
						}
					}
					delete_fleet = this
				}
				every_system_planet = {
					set_surveyed = { surveyed = yes surveyor = root }
				}
				create_starbase = { 
					size = starbase_outpost
					owner = root 
				}
			}
			every_playable_country = {
				limit = { 
					NOR = { 
						has_country_flag = nep_highway_founder 
						is_in_federation_with = root
						has_defensive_pact = root
						is_overlord_to = root
						is_loyal_to = root
						is_disloyal_to = root
						is_primitive = yes
					}
				}
				root = {
					set_closed_borders = {
						who = prev
						status = yes
					}
				}
			}
		}
	}
}

country_event = {
	id = nep_highway.8000
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_system = {
			limit = {
				OR = {
					has_star_flag = nep_highway_note_system
					has_star_flag = nep_highway_station_system
				}
			}
			spawn_megastructure = {
				type = "hyper_relay_restored"
				random_pos = yes
				orbit_angle = 360		# range of the randomization
			}
		}
	}
}

country_event = {
	id = nep_highway.9
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { NOT = { any_country = { has_country_flag = nep_galactic_trust_territorys_highway } } }
			create_country = {
				name = NAME_nep_galactic_trust_territorys_highway
				type = nep_galactic_trust_territorys
				#type = default
				auto_delete = no
				flag = {
					icon = {
						category = "ornate"
						file = "flag_ornate_24.dds"
					}
					background = {
						category = "backgrounds"
						file = "00_solid.dds"
					}
					colors ={
						"teal"
						"dark_teal"
						"null"
						"null"
					}
				}
			}
			last_created_country = {
				save_event_target_as = nep_galactic_trust_territorys_highway
				set_country_flag = nep_galactic_trust_territorys_highway
				create_ship_design = {
					design = "NAME_nep_outpost"
				}
				add_ship_design = last_created_design
			}
		}
		every_system = {
			limit = { has_star_flag = nep_highway_note_system }
			if = {
				limit = { exists = starbase }
				starbase = { fleet = { destroy_fleet = this } }
			}
			create_starbase = {
				size = starbase_outpost
				owner = event_target:nep_galactic_trust_territorys_highway
			}
		}
		every_country = {
			establish_communications_no_message = event_target:nep_galactic_trust_territorys_highway
			establish_contact = { who = event_target:nep_galactic_trust_territorys_highway }
			every_system = {
				limit = { has_star_flag = nep_highway_note_system }
				remove_claims = { who = prev num_of_claims = 10 }
			}
		}
		every_country = {
			limit = { has_modifier = nep_highway_fee }
			remove_modifier = nep_highway_fee
		}
	}
}

country_event = {
	id = nep_highway.91
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_system = {
			limit = { has_star_flag = nep_highway_note_system }
			if = {
				limit = { exists = starbase }
				starbase = { fleet = { destroy_fleet = this } }
			}
		}
	}
}

country_event = {
	id = nep_highway.9999
	title = "nep_highway.9999.name"
	desc = nep_highway.9999.desc
	picture = GFX_evt_news_room

	is_triggered_only = yes	
	
	option = {
		name = OK
		default_hide_option = yes
	}
	
	option = {
		name = ONSCREEN
		country_event = { id = nep_highway.10000 }
	}
}
country_event = {
	id = nep_highway.10000
	title = "nep_highway.10000.name"
	desc = "nep_highway.10000.desc"
	picture = GFX_evt_SEoOC_Config
	
	
	is_triggered_only = yes
	
	immediate = {
		
	}
	
	option = {
		name = END_TRANSMISSION
		default_hide_option = yes
	}	
	
	option = {
		name = nep_highway.10000.N.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_N
				NOT = { has_global_flag = nep_highway_station_N_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_N
				to = event_target:highway_note_N
			}
			set_global_flag = nep_highway_station_N_closed
		}
	}
	option = {
		name = nep_highway.10000.N.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_N
				has_global_flag = nep_highway_station_N_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_N
				to = event_target:highway_note_N
			}
			remove_global_flag = nep_highway_station_N_closed
		}
	}	
	option = {
		name = nep_highway.10000.NNE.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_NNE
				NOT = { has_global_flag = nep_highway_station_NNE_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_NNE
				to = event_target:highway_note_NNE
			}
			set_global_flag = nep_highway_station_NNE_closed
		}
	}
	option = {
		name = nep_highway.10000.NNE.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_NNE
				has_global_flag = nep_highway_station_NNE_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_NNE
				to = event_target:highway_note_NNE
			}
			remove_global_flag = nep_highway_station_NNE_closed
		}
	}
	option = {
		name = nep_highway.10000.NE.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_NE
				NOT = { has_global_flag = nep_highway_station_NE_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_NE
				to = event_target:highway_note_NE
			}
			set_global_flag = nep_highway_station_NE_closed
		}
	}
	option = {
		name = nep_highway.10000.NE.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_NE
				has_global_flag = nep_highway_station_NE_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_NE
				to = event_target:highway_note_NE
			}
			remove_global_flag = nep_highway_station_NE_closed
		}
	}
	option = {
		name = nep_highway.10000.ENE.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_ENE
				NOT = { has_global_flag = nep_highway_station_ENE_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_ENE
				to = event_target:highway_note_ENE
			}
			set_global_flag = nep_highway_station_ENE_closed
		}
	}
	option = {
		name = nep_highway.10000.ENE.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_ENE
				has_global_flag = nep_highway_station_ENE_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_ENE
				to = event_target:highway_note_ENE
			}
			remove_global_flag = nep_highway_station_ENE_closed
		}
	}
	option = {
		name = nep_highway.10000.E.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_E
				NOT = { has_global_flag = nep_highway_station_E_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_E
				to = event_target:highway_note_E
			}
			set_global_flag = nep_highway_station_E_closed
		}
	}
	option = {
		name = nep_highway.10000.E.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_E
				has_global_flag = nep_highway_station_E_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_E
				to = event_target:highway_note_E
			}
			remove_global_flag = nep_highway_station_E_closed
		}
	}
	option = {
		name = nep_highway.10000.ESE.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_ESE
				NOT = { has_global_flag = nep_highway_station_ESE_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_ESE
				to = event_target:highway_note_ESE
			}
			set_global_flag = nep_highway_station_ESE_closed
		}
	}
	option = {
		name = nep_highway.10000.ESE.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_ESE
				has_global_flag = nep_highway_station_ESE_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_ESE
				to = event_target:highway_note_ESE
			}
			remove_global_flag = nep_highway_station_ESE_closed
		}
	}
	option = {
		name = nep_highway.10000.SE.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_SE
				NOT = { has_global_flag = nep_highway_station_SE_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_SE
				to = event_target:highway_note_SE
			}
			set_global_flag = nep_highway_station_SE_closed
		}
	}
	option = {
		name = nep_highway.10000.SE.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_SE
				has_global_flag = nep_highway_station_SE_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_SE
				to = event_target:highway_note_SE
			}
			remove_global_flag = nep_highway_station_SE_closed
		}
	}
	option = {
		name = nep_highway.10000.SSE.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_SSE
				NOT = { has_global_flag = nep_highway_station_SSE_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_SSE
				to = event_target:highway_note_SSE
			}
			set_global_flag = nep_highway_station_SSE_closed
		}
	}
	option = {
		name = nep_highway.10000.SSE.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_SSE
				has_global_flag = nep_highway_station_SSE_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_SSE
				to = event_target:highway_note_SSE
			}
			remove_global_flag = nep_highway_station_SSE_closed
		}
	}
	option = {
		name = nep_highway.10000.S.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_S
				NOT = { has_global_flag = nep_highway_station_S_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_S
				to = event_target:highway_note_S
			}
			set_global_flag = nep_highway_station_S_closed
		}
	}
	option = {
		name = nep_highway.10000.S.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_S
				has_global_flag = nep_highway_station_S_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_S
				to = event_target:highway_note_S
			}
			remove_global_flag = nep_highway_station_S_closed
		}
	}
	option = {
		name = nep_highway.10000.SSW.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_SSW
				NOT = { has_global_flag = nep_highway_station_SSW_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_SSW
				to = event_target:highway_note_SSW
			}
			set_global_flag = nep_highway_station_SSW_closed
		}
	}
	option = {
		name = nep_highway.10000.SSW.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_SSW
				has_global_flag = nep_highway_station_SSW_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_SSW
				to = event_target:highway_note_SSW
			}
			remove_global_flag = nep_highway_station_SSW_closed
		}
	}
	option = {
		name = nep_highway.10000.SW.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_SW
				NOT = { has_global_flag = nep_highway_station_SW_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_SW
				to = event_target:highway_note_SW
			}
			set_global_flag = nep_highway_station_SW_closed
		}
	}
	option = {
		name = nep_highway.10000.SW.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_SW
				has_global_flag = nep_highway_station_SW_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_SW
				to = event_target:highway_note_SW
			}
			remove_global_flag = nep_highway_station_SW_closed
		}
	}
	option = {
		name = nep_highway.10000.WSW.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_WSW
				NOT = { has_global_flag = nep_highway_station_WSW_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_WSW
				to = event_target:highway_note_WSW
			}
			set_global_flag = nep_highway_station_WSW_closed
		}
	}
	option = {
		name = nep_highway.10000.WSW.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_WSW
				has_global_flag = nep_highway_station_WSW_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_WSW
				to = event_target:highway_note_WSW
			}
			remove_global_flag = nep_highway_station_WSW_closed
		}
	}
	option = {
		name = nep_highway.10000.W.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_W
				NOT = { has_global_flag = nep_highway_station_W_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_W
				to = event_target:highway_note_W
			}
			set_global_flag = nep_highway_station_W_closed
		}
	}
	option = {
		name = nep_highway.10000.W.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_W
				has_global_flag = nep_highway_station_W_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_W
				to = event_target:highway_note_W
			}
			remove_global_flag = nep_highway_station_W_closed
		}
	}
	option = {
		name = nep_highway.10000.WNW.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_WNW
				NOT = { has_global_flag = nep_highway_station_WNW_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_WNW
				to = event_target:highway_note_WNW
			}
			set_global_flag = nep_highway_station_WNW_closed
		}
	}
	option = {
		name = nep_highway.10000.WNW.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_WNW
				has_global_flag = nep_highway_station_WNW_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_WNW
				to = event_target:highway_note_WNW
			}
			remove_global_flag = nep_highway_station_WNW_closed
		}
	}
	option = {
		name = nep_highway.10000.NW.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_NW
				NOT = { has_global_flag = nep_highway_station_NW_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_NW
				to = event_target:highway_note_NW
			}
			set_global_flag = nep_highway_station_NW_closed
		}
	}
	option = {
		name = nep_highway.10000.NW.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_NW
				has_global_flag = nep_highway_station_NW_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_NW
				to = event_target:highway_note_NW
			}
			remove_global_flag = nep_highway_station_NW_closed
		}
	}
	option = {
		name = nep_highway.10000.NNW.close
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_NNW
				NOT = { has_global_flag = nep_highway_station_NNW_closed }
			}
		}
		hidden_effect = {
			remove_hyperlane = {
				from = event_target:highway_station_NNW
				to = event_target:highway_note_NNW
			}
			set_global_flag = nep_highway_station_NNW_closed
		}
	}
	option = {
		name = nep_highway.10000.NNW.open
		trigger = {
			any_system_within_border = {
				has_star_flag = nep_highway_station_NNW
				has_global_flag = nep_highway_station_NNW_closed
			}
		}
		hidden_effect = {
			add_hyperlane = {
				from = event_target:highway_station_NNW
				to = event_target:highway_note_NNW
			}
			remove_global_flag = nep_highway_station_NNW_closed
		}
	}
}
	