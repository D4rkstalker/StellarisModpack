namespace = forerunner_start

### Forerunner init - add technologies
country_event = {
	id = forerunner_start.1
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			has_civic = civic_forerunner_didact
		
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_civic = civic_forerunner_didact
			}
			random_owned_leader = {
				limit = { leader_class = ruler }
				add_ruler_trait = leader_trait_ruler_forerunner_didact
				set_age = 12500
				set_skill = 5
			}
		}
	}
	immediate = {
		capital_scope = {
			add_building = building_promethean_factory
		}
	}
	immediate = {
		every_planet_within_border = {
			create_species = {
				name = "Promethean"
				plural = "Prometheans"
				adjective = "Promethean"
				name_list = "promethean"
				class = "forerunner_promethean"
				portrait = "promethean"
				homeworld = this
				traits = {
					trait = "trait_mechanical"
					trait = "trait_robot_promethean_ai"
				}
			}
		}
		every_owned_pop = {
			limit = { has_trait = "trait_robot_promethean_ai" }
			set_citizenship_type = {
				type = citizenship_robot_servitude
				cooldown = no
			}
			set_military_service_type = {
				type = military_service_limited
				cooldown = no
			}
		}
		capital_scope = {
			while = {
				count = 4
				create_pop = {
					species = "Promethean"
				}
			}
		}
	}
}
country_event = {
	id = forerunner_start.2
	hide_window = yes
	is_triggered_only = yes

	
	trigger = {
		OR = {
			has_civic = civic_the_mantle_of_responsibility
		
		}
	}

	immediate = {
		every_owned_pop = {
			limit = {
				has_trait = trait_mechanical
			}
			modify_species = {
				portrait = sentinels
				add_trait = trait_robot_sentinel_ai
			}
		}	
	}	
}

country_event = {
	id = forerunner_start.3
	hide_window = yes
	is_triggered_only = yes

	
	trigger = {
		OR = {
			has_civic = civic_forerunner_ecumene
		
		}
	}

	immediate = {
		if = {
			limit = {
				has_civic = civic_forerunner_ecumene
			}
			give_technology = { message = no tech = tech_advanced_start }
			give_technology = { message = no tech = tech_powered_exoskeletons }
			give_technology = { message = no tech = tech_administrative_ai }
			give_technology = { message = no tech = tech_cryostasis_1 }
			give_technology = { message = no tech = tech_self_aware_logic }
			give_technology = { message = no tech = tech_automated_exploration }
			give_technology = { message = no tech = tech_robotic_workers }
			give_technology = { message = no tech = tech_robomodding }
			give_technology = { message = no tech = tech_droid_workers }
			give_technology = { message = no tech = tech_synthetic_workers }
			give_technology = { message = no tech = tech_synthetic_leaders }
			give_technology = { message = no tech = tech_genome_mapping }
			give_technology = { message = no tech = tech_gene_tailoring }
			give_technology = { message = no tech = tech_gene_seed_purification }
			give_technology = { message = no tech = tech_mega_engineering }
			give_technology = { message = no tech = tech_shield_worlds }
			give_technology = { message = no tech = tech_terrestrial_sculpting }
			give_technology = { message = no tech = tech_ecological_adaptation }
			give_technology = { message = no tech = tech_wormhole_stabilization }
			give_technology = { message = no tech = tech_gateway_activation }
			give_technology = { message = no tech = tech_fusion_power }
			give_technology = { message = no tech = tech_shields_2 }
			give_technology = { message = no tech = tech_sensors_2 }
			give_technology = { message = no tech = tech_hyper_drive_2 }
			give_technology = { message = no tech = tech_destroyers }
			give_technology = { message = no tech = tech_lasers_2 }
			give_technology = { message = no tech = tech_thrusters_2 }
			give_technology = { message = no tech = tech_pd_tracking_2 }
			give_technology = { message = no tech = tech_combat_computers_1 }
			give_technology = { message = no tech = tech_combat_computers_2 }
		}
	}
}

country_event = {
	id = forerunner_start.4
	hide_window = yes
	is_triggered_only = yes

	
	trigger = {
		has_origin = origin_forerunner_ark
	}
	
	immediate = {
		clear_blockers = yes
	}
	immediate = {
		capital_scope = {
			clear_deposits = yes
			add_building = building_sentinel_factory
			add_deposit = d_ark_cartographer
			add_deposit = d_ark_citadel
			add_deposit = d_ark_foundry
			add_deposit = d_ark_grid
			add_deposit = d_ark_agriculture
		}
		if = {
			limit = {
				has_origin = origin_forerunner_ark
			}
			give_technology = { message = no tech = tech_mega_engineering }
			give_technology = { message = no tech = tech_ring_world }
			give_technology = { message = no tech = tech_shield_worlds }
			give_technology = { message = no tech = tech_powered_exoskeletons }
			give_technology = { message = no tech = tech_robotic_workers }
			give_technology = { message = no tech = tech_robomodding }
			give_technology = { message = no tech = tech_droid_workers }
		}
	}
			
	immediate = {
		every_planet_within_border = {
			create_species = {
				name = "Sentinel"
				plural = "Sentinels"
				adjective = "Sentinel"
				name_list = "sentinels"
				class = "forerunner_sentinels"
				portrait = "sentinels"
				homeworld = this
				traits = {
					trait = "trait_mechanical"
					trait = "trait_robot_sentinel_ai"
				}
			}
		}
		every_owned_pop = {
			limit = { has_trait = "trait_robot_sentinel_ai" }
			set_citizenship_type = {
				type = citizenship_robot_servitude
				cooldown = no
			}
			set_military_service_type = {
				type = military_service_limited
				cooldown = no
			}
		}
		capital_scope = {
			while = {
				count = 4
				create_pop = {
					species = "Sentinel"
				}
			}
		}
	}
}

country_event = {
	id = forerunner_start.5
	hide_window = yes
	is_triggered_only = yes

	
	trigger = {
		has_origin = origin_forerunner_maethrillian
	}
	
	immediate = {
		clear_deposit_blockers = yes
	}
	immediate = {
		capital_scope = {
			clear_deposits = yes
			add_building = building_sentinel_factory
			add_deposit = d_design_seed
			add_deposit = d_maethrillian_council_amphitheater
			add_deposit = d_maethrillian_crown
			add_deposit = d_maethrillian_grid
			add_deposit = d_maethrillian_metarchy
			add_deposit = d_maethrillian_mysterium
		}
		if = {
			limit = {
				has_origin = origin_forerunner_maethrillian
			}
			give_technology = { message = no tech = tech_powered_exoskeletons }
			give_technology = { message = no tech = tech_robotic_workers }
			give_technology = { message = no tech = tech_robomodding }
			give_technology = { message = no tech = tech_droid_workers }
		}
	}
	immediate = {
		every_planet_within_border = {
			create_species = {
				name = "Sentinel"
				plural = "Sentinels"
				adjective = "Sentinel"
				name_list = "sentinels"
				class = "forerunner_sentinels"
				portrait = "sentinels"
				homeworld = this
				traits = {
					trait = "trait_mechanical"
					trait = "trait_robot_sentinel_ai"
				}
			}
		}
		every_owned_pop = {
			limit = { has_trait = "trait_robot_sentinel_ai" }
			set_citizenship_type = {
				type = citizenship_robot_servitude
				cooldown = no
			}
			set_military_service_type = {
				type = military_service_limited
				cooldown = no
			}
		}
		capital_scope = {
			while = {
				count = 4
				create_pop = {
					species = "Sentinel"
				}
			}
		}
	}
}
country_event = {
	id = forerunner_start.6
	hide_window = yes
	is_triggered_only = yes

	
	trigger = {
		has_modifier = forerunner_artificial_star
	}
	
	immediate = {
		clear_blockers = yes
	}
	immediate = {
		capital_scope = {
			add_deposit = d_sw_apex_site
			add_deposit = d_sw_access_tunnels
			add_deposit = d_sw_surface
		}
	}
}
country_event = {
	id = forerunner_start.7
	hide_window = yes
	is_triggered_only = yes

	
	trigger = {
		is_planet_class = pc_requiem
	}
	
	immediate = {
		clear_blockers = yes
	}
	immediate = {
		capital_scope = {
			add_deposit = d_requiem_apex
			add_deposit = d_requiem_lockup
			add_deposit = d_requiem_ravine
			add_deposit = d_requiem_cauldron
		}
	}
}

