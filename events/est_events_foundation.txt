namespace = est_foundation

### FOUNDATION ###
#Foundation, removes modifiers if empire have swapped to confederacy.
event = {
	id = est_foundation.1
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		Or = {
			has_global_flag = flag_est_foundation_adopt_picked	
			has_global_flag = flag_est_confederacy_adopt_picked	
		}
	}

	immediate = { 
		every_country = {
			limit =  {
				has_swapped_tradition = tr_est_confederacy_adopt
				has_country_flag = est_uses_foundation_traditions_flag
			}
			remove_country_flag = est_uses_foundation_traditions_flag
			set_country_flag = est_uses_confederacy_traditions_flag
			if = {
				limit = {
					Not = {
						has_global_flag = flag_est_confederacy_adopt_picked
					}
				}
				set_global_flag = est_confederacy_adopt_flag
			}	
			if = {
				limit = {
					has_tradition = tr_est_foundation_5
				}
				switch = {
					trigger = has_modifier
					
					mod_est_foundation_5_1_1  = { remove_modifier = "mod_est_foundation_5_1_1" }
					mod_est_foundation_5_1_2  = { remove_modifier = "mod_est_foundation_5_1_2" }
					mod_est_foundation_5_1_3  = { remove_modifier = "mod_est_foundation_5_1_3" }
					mod_est_foundation_5_1_4  = { remove_modifier = "mod_est_foundation_5_1_4" }
					mod_est_foundation_5_1_5  = { remove_modifier = "mod_est_foundation_5_1_5" }
					mod_est_foundation_5_1_6  = { remove_modifier = "mod_est_foundation_5_1_6" }
					mod_est_foundation_5_1_7  = { remove_modifier = "mod_est_foundation_5_1_7" }
					mod_est_foundation_5_1_8  = { remove_modifier = "mod_est_foundation_5_1_8" }
					mod_est_foundation_5_1_9  = { remove_modifier = "mod_est_foundation_5_1_9" }
					mod_est_foundation_5_1_10  = { remove_modifier = "mod_est_foundation_5_1_10" }
					mod_est_foundation_5_1_11  = { remove_modifier = "mod_est_foundation_5_1_11" }
					mod_est_foundation_5_1_12  = { remove_modifier = "mod_est_foundation_5_1_12" }
					mod_est_foundation_5_1_13  = { remove_modifier = "mod_est_foundation_5_1_13" }
					mod_est_foundation_5_1_14  = { remove_modifier = "mod_est_foundation_5_1_14" }
					mod_est_foundation_5_1_15  = { remove_modifier = "mod_est_foundation_5_1_15" }
					mod_est_foundation_5_1_16  = { remove_modifier = "mod_est_foundation_5_1_16" }
					mod_est_foundation_5_1_17  = { remove_modifier = "mod_est_foundation_5_1_17" }
					mod_est_foundation_5_1_18  = { remove_modifier = "mod_est_foundation_5_1_18" }
					mod_est_foundation_5_1_19  = { remove_modifier = "mod_est_foundation_5_1_19" }
					mod_est_foundation_5_1_20  = { remove_modifier = "mod_est_foundation_5_1_20" }
					mod_est_foundation_5_2_1  = { remove_modifier = "mod_est_foundation_5_2_1" }
					mod_est_foundation_5_2_2  = { remove_modifier = "mod_est_foundation_5_2_2" }
					mod_est_foundation_5_2_3  = { remove_modifier = "mod_est_foundation_5_2_3" }
					mod_est_foundation_5_2_4  = { remove_modifier = "mod_est_foundation_5_2_4" }
					mod_est_foundation_5_2_5  = { remove_modifier = "mod_est_foundation_5_2_5" }
					mod_est_foundation_5_2_6  = { remove_modifier = "mod_est_foundation_5_2_6" }
					mod_est_foundation_5_2_7  = { remove_modifier = "mod_est_foundation_5_2_7" }
					mod_est_foundation_5_2_8  = { remove_modifier = "mod_est_foundation_5_2_8" }
					mod_est_foundation_5_2_9  = { remove_modifier = "mod_est_foundation_5_2_9" }
					mod_est_foundation_5_2_10  = { remove_modifier = "mod_est_foundation_5_2_10" }
					mod_est_foundation_5_2_11  = { remove_modifier = "mod_est_foundation_5_2_11" }
					mod_est_foundation_5_2_12  = { remove_modifier = "mod_est_foundation_5_2_12" }
					mod_est_foundation_5_2_13  = { remove_modifier = "mod_est_foundation_5_2_13" }
					mod_est_foundation_5_2_14  = { remove_modifier = "mod_est_foundation_5_2_14" }
					mod_est_foundation_5_2_15  = { remove_modifier = "mod_est_foundation_5_2_15" }
					mod_est_foundation_5_2_16  = { remove_modifier = "mod_est_foundation_5_2_16" }
					mod_est_foundation_5_2_17  = { remove_modifier = "mod_est_foundation_5_2_17" }
					mod_est_foundation_5_2_18  = { remove_modifier = "mod_est_foundation_5_2_18" }
					mod_est_foundation_5_2_19  = { remove_modifier = "mod_est_foundation_5_2_19" }
					mod_est_foundation_5_2_20  = { remove_modifier = "mod_est_foundation_5_2_20" }
					mod_est_foundation_5_3_1  = { remove_modifier = "mod_est_foundation_5_3_1" }
					mod_est_foundation_5_3_2  = { remove_modifier = "mod_est_foundation_5_3_2" }
					mod_est_foundation_5_3_3  = { remove_modifier = "mod_est_foundation_5_3_3" }
					mod_est_foundation_5_3_4  = { remove_modifier = "mod_est_foundation_5_3_4" }
					mod_est_foundation_5_3_5  = { remove_modifier = "mod_est_foundation_5_3_5" }
					mod_est_foundation_5_3_6  = { remove_modifier = "mod_est_foundation_5_3_6" }
					mod_est_foundation_5_3_7  = { remove_modifier = "mod_est_foundation_5_3_7" }
					mod_est_foundation_5_3_8  = { remove_modifier = "mod_est_foundation_5_3_8" }
					mod_est_foundation_5_3_9  = { remove_modifier = "mod_est_foundation_5_3_9" }
					mod_est_foundation_5_3_10  = { remove_modifier = "mod_est_foundation_5_3_10" }
					mod_est_foundation_5_3_11  = { remove_modifier = "mod_est_foundation_5_3_11" }
					mod_est_foundation_5_3_12  = { remove_modifier = "mod_est_foundation_5_3_12" }
					mod_est_foundation_5_3_13  = { remove_modifier = "mod_est_foundation_5_3_13" }
					mod_est_foundation_5_3_14  = { remove_modifier = "mod_est_foundation_5_3_14" }
					mod_est_foundation_5_3_15  = { remove_modifier = "mod_est_foundation_5_3_15" }
					mod_est_foundation_5_3_16  = { remove_modifier = "mod_est_foundation_5_3_16" }
					mod_est_foundation_5_3_17  = { remove_modifier = "mod_est_foundation_5_3_17" }
					mod_est_foundation_5_3_18  = { remove_modifier = "mod_est_foundation_5_3_18" }
					mod_est_foundation_5_3_19  = { remove_modifier = "mod_est_foundation_5_3_19" }
					mod_est_foundation_5_3_20  = { remove_modifier = "mod_est_foundation_5_3_20" }
					mod_est_foundation_5_4_1  = { remove_modifier = "mod_est_foundation_5_4_1" }
					mod_est_foundation_5_4_2  = { remove_modifier = "mod_est_foundation_5_4_2" }
					mod_est_foundation_5_4_3  = { remove_modifier = "mod_est_foundation_5_4_3" }
					mod_est_foundation_5_4_4  = { remove_modifier = "mod_est_foundation_5_4_4" }
					mod_est_foundation_5_4_5  = { remove_modifier = "mod_est_foundation_5_4_5" }
					mod_est_foundation_5_4_6  = { remove_modifier = "mod_est_foundation_5_4_6" }
					mod_est_foundation_5_4_7  = { remove_modifier = "mod_est_foundation_5_4_7" }
					mod_est_foundation_5_4_8  = { remove_modifier = "mod_est_foundation_5_4_8" }
					mod_est_foundation_5_4_9  = { remove_modifier = "mod_est_foundation_5_4_9" }
					mod_est_foundation_5_4_10  = { remove_modifier = "mod_est_foundation_5_4_10" }
					mod_est_foundation_5_4_11  = { remove_modifier = "mod_est_foundation_5_4_11" }
					mod_est_foundation_5_4_12  = { remove_modifier = "mod_est_foundation_5_4_12" }
					mod_est_foundation_5_4_13  = { remove_modifier = "mod_est_foundation_5_4_13" }
					mod_est_foundation_5_4_14  = { remove_modifier = "mod_est_foundation_5_4_14" }
					mod_est_foundation_5_4_15  = { remove_modifier = "mod_est_foundation_5_4_15" }
					mod_est_foundation_5_4_16  = { remove_modifier = "mod_est_foundation_5_4_16" }
					mod_est_foundation_5_4_17  = { remove_modifier = "mod_est_foundation_5_4_17" }
					mod_est_foundation_5_4_18  = { remove_modifier = "mod_est_foundation_5_4_18" }
					mod_est_foundation_5_4_19  = { remove_modifier = "mod_est_foundation_5_4_19" }
					mod_est_foundation_5_4_20  = { remove_modifier = "mod_est_foundation_5_4_20" }	
					mod_est_foundation_5_5_1  = { remove_modifier = "mod_est_foundation_5_5_1" }
					mod_est_foundation_5_5_2  = { remove_modifier = "mod_est_foundation_5_5_2" }
					mod_est_foundation_5_5_3  = { remove_modifier = "mod_est_foundation_5_5_3" }
					mod_est_foundation_5_5_4  = { remove_modifier = "mod_est_foundation_5_5_4" }
					mod_est_foundation_5_5_5  = { remove_modifier = "mod_est_foundation_5_5_5" }
					mod_est_foundation_5_5_6  = { remove_modifier = "mod_est_foundation_5_5_6" }
					mod_est_foundation_5_5_7  = { remove_modifier = "mod_est_foundation_5_5_7" }
					mod_est_foundation_5_5_8  = { remove_modifier = "mod_est_foundation_5_5_8" }
					mod_est_foundation_5_5_9  = { remove_modifier = "mod_est_foundation_5_5_9" }
					mod_est_foundation_5_5_10  = { remove_modifier = "mod_est_foundation_5_5_10" }
					mod_est_foundation_5_5_11  = { remove_modifier = "mod_est_foundation_5_5_11" }
					mod_est_foundation_5_5_12  = { remove_modifier = "mod_est_foundation_5_5_12" }
					mod_est_foundation_5_5_13  = { remove_modifier = "mod_est_foundation_5_5_13" }
					mod_est_foundation_5_5_14  = { remove_modifier = "mod_est_foundation_5_5_14" }
					mod_est_foundation_5_5_15  = { remove_modifier = "mod_est_foundation_5_5_15" }
					mod_est_foundation_5_5_16  = { remove_modifier = "mod_est_foundation_5_5_16" }
					mod_est_foundation_5_5_17  = { remove_modifier = "mod_est_foundation_5_5_17" }
					mod_est_foundation_5_5_18  = { remove_modifier = "mod_est_foundation_5_5_18" }
					mod_est_foundation_5_5_19  = { remove_modifier = "mod_est_foundation_5_5_19" }
					mod_est_foundation_5_5_20  = { remove_modifier = "mod_est_foundation_5_5_20" }
					mod_est_foundation_5_6_1  = { remove_modifier = "mod_est_foundation_5_6_1" }
					mod_est_foundation_5_6_2  = { remove_modifier = "mod_est_foundation_5_6_2" }
					mod_est_foundation_5_6_3  = { remove_modifier = "mod_est_foundation_5_6_3" }
					mod_est_foundation_5_6_4  = { remove_modifier = "mod_est_foundation_5_6_4" }
					mod_est_foundation_5_6_5  = { remove_modifier = "mod_est_foundation_5_6_5" }
					mod_est_foundation_5_6_6  = { remove_modifier = "mod_est_foundation_5_6_6" }
					mod_est_foundation_5_6_7  = { remove_modifier = "mod_est_foundation_5_6_7" }
					mod_est_foundation_5_6_8  = { remove_modifier = "mod_est_foundation_5_6_8" }
					mod_est_foundation_5_6_9  = { remove_modifier = "mod_est_foundation_5_6_9" }
					mod_est_foundation_5_6_10  = { remove_modifier = "mod_est_foundation_5_6_10" }
					mod_est_foundation_5_6_11  = { remove_modifier = "mod_est_foundation_5_6_11" }
					mod_est_foundation_5_6_12  = { remove_modifier = "mod_est_foundation_5_6_12" }
					mod_est_foundation_5_6_13  = { remove_modifier = "mod_est_foundation_5_6_13" }
					mod_est_foundation_5_6_14  = { remove_modifier = "mod_est_foundation_5_6_14" }
					mod_est_foundation_5_6_15  = { remove_modifier = "mod_est_foundation_5_6_15" }
					mod_est_foundation_5_6_16  = { remove_modifier = "mod_est_foundation_5_6_16" }
					mod_est_foundation_5_6_17  = { remove_modifier = "mod_est_foundation_5_6_17" }
					mod_est_foundation_5_6_18  = { remove_modifier = "mod_est_foundation_5_6_18" }
					mod_est_foundation_5_6_19  = { remove_modifier = "mod_est_foundation_5_6_19" }
					mod_est_foundation_5_6_20  = { remove_modifier = "mod_est_foundation_5_6_20" }
					mod_est_foundation_5_7_1  = { remove_modifier = "mod_est_foundation_5_7_1" }
					mod_est_foundation_5_7_2  = { remove_modifier = "mod_est_foundation_5_7_2" }
					mod_est_foundation_5_7_3  = { remove_modifier = "mod_est_foundation_5_7_3" }
					mod_est_foundation_5_7_4  = { remove_modifier = "mod_est_foundation_5_7_4" }
					mod_est_foundation_5_7_5  = { remove_modifier = "mod_est_foundation_5_7_5" }
					mod_est_foundation_5_7_6  = { remove_modifier = "mod_est_foundation_5_7_6" }
					mod_est_foundation_5_7_7  = { remove_modifier = "mod_est_foundation_5_7_7" }
					mod_est_foundation_5_7_8  = { remove_modifier = "mod_est_foundation_5_7_8" }
					mod_est_foundation_5_7_9  = { remove_modifier = "mod_est_foundation_5_7_9" }
					mod_est_foundation_5_7_10  = { remove_modifier = "mod_est_foundation_5_7_10" }
					mod_est_foundation_5_7_11  = { remove_modifier = "mod_est_foundation_5_7_11" }
					mod_est_foundation_5_7_12  = { remove_modifier = "mod_est_foundation_5_7_12" }
					mod_est_foundation_5_7_13  = { remove_modifier = "mod_est_foundation_5_7_13" }
					mod_est_foundation_5_7_14  = { remove_modifier = "mod_est_foundation_5_7_14" }
					mod_est_foundation_5_7_15  = { remove_modifier = "mod_est_foundation_5_7_15" }
					mod_est_foundation_5_7_16  = { remove_modifier = "mod_est_foundation_5_7_16" }
					mod_est_foundation_5_7_17  = { remove_modifier = "mod_est_foundation_5_7_17" }
					mod_est_foundation_5_7_18  = { remove_modifier = "mod_est_foundation_5_7_18" }
					mod_est_foundation_5_7_19  = { remove_modifier = "mod_est_foundation_5_7_19" }
					mod_est_foundation_5_7_20  = { remove_modifier = "mod_est_foundation_5_7_20" }
					mod_est_foundation_5_8_1  = { remove_modifier = "mod_est_foundation_5_8_1" }
					mod_est_foundation_5_8_2  = { remove_modifier = "mod_est_foundation_5_8_2" }
					mod_est_foundation_5_8_3  = { remove_modifier = "mod_est_foundation_5_8_3" }
					mod_est_foundation_5_8_4  = { remove_modifier = "mod_est_foundation_5_8_4" }
					mod_est_foundation_5_8_5  = { remove_modifier = "mod_est_foundation_5_8_5" }
					mod_est_foundation_5_8_6  = { remove_modifier = "mod_est_foundation_5_8_6" }
					mod_est_foundation_5_8_7  = { remove_modifier = "mod_est_foundation_5_8_7" }
					mod_est_foundation_5_8_8  = { remove_modifier = "mod_est_foundation_5_8_8" }
					mod_est_foundation_5_8_9  = { remove_modifier = "mod_est_foundation_5_8_9" }
					mod_est_foundation_5_8_10  = { remove_modifier = "mod_est_foundation_5_8_10" }
					mod_est_foundation_5_8_11  = { remove_modifier = "mod_est_foundation_5_8_11" }
					mod_est_foundation_5_8_12  = { remove_modifier = "mod_est_foundation_5_8_12" }
					mod_est_foundation_5_8_13  = { remove_modifier = "mod_est_foundation_5_8_13" }
					mod_est_foundation_5_8_14  = { remove_modifier = "mod_est_foundation_5_8_14" }
					mod_est_foundation_5_8_15  = { remove_modifier = "mod_est_foundation_5_8_15" }
					mod_est_foundation_5_8_16  = { remove_modifier = "mod_est_foundation_5_8_16" }
					mod_est_foundation_5_8_17  = { remove_modifier = "mod_est_foundation_5_8_17" }
					mod_est_foundation_5_8_18  = { remove_modifier = "mod_est_foundation_5_8_18" }
					mod_est_foundation_5_8_19  = { remove_modifier = "mod_est_foundation_5_8_19" }
					mod_est_foundation_5_8_20  = { remove_modifier = "mod_est_foundation_5_8_20" }
					mod_est_foundation_5_9_1  = { remove_modifier = "mod_est_foundation_5_9_1" }
					mod_est_foundation_5_9_2  = { remove_modifier = "mod_est_foundation_5_9_2" }
					mod_est_foundation_5_9_3  = { remove_modifier = "mod_est_foundation_5_9_3" }
					mod_est_foundation_5_9_4  = { remove_modifier = "mod_est_foundation_5_9_4" }
					mod_est_foundation_5_9_5  = { remove_modifier = "mod_est_foundation_5_9_5" }
					mod_est_foundation_5_9_6  = { remove_modifier = "mod_est_foundation_5_9_6" }
					mod_est_foundation_5_9_7  = { remove_modifier = "mod_est_foundation_5_9_7" }
					mod_est_foundation_5_9_8  = { remove_modifier = "mod_est_foundation_5_9_8" }
					mod_est_foundation_5_9_9  = { remove_modifier = "mod_est_foundation_5_9_9" }
					mod_est_foundation_5_9_10  = { remove_modifier = "mod_est_foundation_5_9_10" }
					mod_est_foundation_5_9_11  = { remove_modifier = "mod_est_foundation_5_9_11" }
					mod_est_foundation_5_9_12  = { remove_modifier = "mod_est_foundation_5_9_12" }
					mod_est_foundation_5_9_13  = { remove_modifier = "mod_est_foundation_5_9_13" }
					mod_est_foundation_5_9_14  = { remove_modifier = "mod_est_foundation_5_9_14" }
					mod_est_foundation_5_9_15  = { remove_modifier = "mod_est_foundation_5_9_15" }
					mod_est_foundation_5_9_16  = { remove_modifier = "mod_est_foundation_5_9_16" }
					mod_est_foundation_5_9_17  = { remove_modifier = "mod_est_foundation_5_9_17" }
					mod_est_foundation_5_9_18  = { remove_modifier = "mod_est_foundation_5_9_18" }
					mod_est_foundation_5_9_19  = { remove_modifier = "mod_est_foundation_5_9_19" }
					mod_est_foundation_5_9_20  = { remove_modifier = "mod_est_foundation_5_9_20" }
					mod_est_foundation_5_10_1  = { remove_modifier = "mod_est_foundation_5_10_1" }
					mod_est_foundation_5_10_2  = { remove_modifier = "mod_est_foundation_5_10_2" }
					mod_est_foundation_5_10_3  = { remove_modifier = "mod_est_foundation_5_10_3" }
					mod_est_foundation_5_10_4  = { remove_modifier = "mod_est_foundation_5_10_4" }
					mod_est_foundation_5_10_5  = { remove_modifier = "mod_est_foundation_5_10_5" }
					mod_est_foundation_5_10_6  = { remove_modifier = "mod_est_foundation_5_10_6" }
					mod_est_foundation_5_10_7  = { remove_modifier = "mod_est_foundation_5_10_7" }
					mod_est_foundation_5_10_8  = { remove_modifier = "mod_est_foundation_5_10_8" }
					mod_est_foundation_5_10_9  = { remove_modifier = "mod_est_foundation_5_10_9" }
					mod_est_foundation_5_10_10  = { remove_modifier = "mod_est_foundation_5_10_10" }
					mod_est_foundation_5_10_11  = { remove_modifier = "mod_est_foundation_5_10_11" }
					mod_est_foundation_5_10_12  = { remove_modifier = "mod_est_foundation_5_10_12" }
					mod_est_foundation_5_10_13  = { remove_modifier = "mod_est_foundation_5_10_13" }
					mod_est_foundation_5_10_14  = { remove_modifier = "mod_est_foundation_5_10_14" }
					mod_est_foundation_5_10_15  = { remove_modifier = "mod_est_foundation_5_10_15" }
					mod_est_foundation_5_10_16  = { remove_modifier = "mod_est_foundation_5_10_16" }
					mod_est_foundation_5_10_17  = { remove_modifier = "mod_est_foundation_5_10_17" }
					mod_est_foundation_5_10_18  = { remove_modifier = "mod_est_foundation_5_10_18" }
					mod_est_foundation_5_10_19  = { remove_modifier = "mod_est_foundation_5_10_19" }
					mod_est_foundation_5_10_20  = { remove_modifier = "mod_est_foundation_5_10_20" }	
				}
			}
			every_owned_planet = {
				if = {
					limit = {
						has_modifier = mod_est_foundation_adopt
					}
					remove_modifier = "mod_est_foundation_adopt"
				}
				if = {
					limit = {
						has_modifier = mod_est_foundation_1
					}
					remove_modifier = "mod_est_foundation_1"
				}
				if = {
					limit = {
						has_modifier = mod_est_foundation_2_1
					}
					remove_modifier = "mod_est_foundation_2_1"
				}
				if = {
					limit = {
						has_modifier = mod_est_foundation_2_2
					}
					remove_modifier = "mod_est_foundation_2_2"
				}
				if = {
					limit = {
						has_modifier = mod_est_foundation_2_3
					}
					remove_modifier = "mod_est_foundation_2_3"
				}
			}
		}
		every_country = {
			limit =  {
				has_non_swapped_tradition = tr_est_foundation_adopt
				has_country_flag = est_uses_confederacy_traditions_flag
			}
			remove_country_flag = est_uses_confederacy_traditions_flag
			set_country_flag = est_uses_foundation_traditions_flag
			if = {
				limit = {
					Not = {
						has_global_flag = flag_est_foundation_adopt_picked
					}
				}
				set_global_flag = est_foundation_adopt_flag
			}	
			every_owned_planet = {
				if = {
					limit = {
						has_modifier = mod_est_confederacy_adopt
					}
					remove_modifier = "mod_est_confederacy_adopt"
				}
				if = {
					limit = {
						has_modifier = mod_est_confederacy_2
					}
					remove_modifier = "mod_est_confederacy_2"
				}
			}
		}
	}
}

#Foundation adopt, 1 and finish. Bonus to core planets.
event = {
	id = est_foundation.2
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = flag_est_foundation_adopt_picked	
	}

	immediate = { 
		every_country = {
			limit =  {
				has_non_swapped_tradition = tr_est_foundation_adopt
			}			
			if = {
				limit = {
					Not = {
						has_non_swapped_tradition = tr_est_foundation_1					
					}	
				}
				every_owned_planet = {
					if = {
						limit = {
							est_is_core_world = yes
						}
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_foundation_adopt	
								}
							}
							add_modifier = {
								modifier = "mod_est_foundation_adopt"
							}
						}	
					}
					else = {	
						if = {
							limit = {
								has_modifier = mod_est_foundation_adopt	
							}
							remove_modifier = "mod_est_foundation_adopt"
						}				
					}
				}	
			}	
			else = {
				every_owned_planet = {
					if = {
						limit = {
							est_is_core_world = yes
						}
					}
					else = {
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_foundation_1	
								}
							}
							add_modifier = {
								modifier = "mod_est_foundation_1"
							}
						}	
						if = {
							limit = {
								has_modifier = mod_est_foundation_1
							}
							remove_modifier = "mod_est_foundation_1"
						}					
					}
				}	
			}			
		}		
	}
}

#Foundation 2, bonus to capital.
event = {
	id = est_foundation.3
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = est_foundation_2_picked_flag		
	}
	
	immediate = { 
		every_country = {	
			limit =  {
				has_non_swapped_tradition = tr_est_foundation_2
				exists = capital_scope
			}	
			capital_scope = {		
				if = {
					limit = {
						owner = {
							has_technology = tech_galactic_administration
						}
					}	
					if = {
						limit = {
							Not = {
								has_modifier = mod_est_foundation_2_3
							}
						}
						add_modifier = {
							modifier = "mod_est_foundation_2_3"
						}	
						owner = {
							country_event = {
								id = est_foundation.4
							}
						}
					}
				}
				else = {
					if = {
						limit = {
							owner = {
								has_technology = tech_colonial_centralization
							}
						}
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_foundation_2_2
								}
							}
							add_modifier = {
								modifier = "mod_est_foundation_2_2"
							}	
							owner = {
								country_event = {
									id = est_foundation.4
								}
							}
						}
					}
					else = {
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_foundation_2_1
								}
							}
							add_modifier = {
								modifier = "mod_est_foundation_2_1"
							}	
							owner = {
								country_event = {
									id = est_foundation.4
								}
							}
						}
					}
				}
			}
        }
	}
}

#Foundation 2, we have changed capital, remove bonus from old capital.
country_event = {
	id = est_foundation.4
	hide_window = yes
	is_triggered_only = yes
	
	immediate = { 
		every_owned_planet = {
			limit = {
				is_capital = no
				Or = {
					has_modifier = mod_est_foundation_2_1
					has_modifier = mod_est_foundation_2_2
					has_modifier = mod_est_foundation_2_3
				}
			}
			switch = {
				trigger = has_modifier
				
				mod_est_foundation_2_1 = { remove_modifier = "mod_est_foundation_2_1" }	
				mod_est_foundation_2_2 = { remove_modifier = "mod_est_foundation_2_2" }	
				mod_est_foundation_2_3 = { remove_modifier = "mod_est_foundation_2_3" }	
			}
		}
	}
}

#Foundation 2, update bonus to capital with tech.
country_event = {
	id = est_foundation.5
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_non_swapped_tradition = tr_est_foundation_2
	}
	
	immediate = { 
		if = {
			limit = {
				last_increased_tech = tech_galactic_administration
			}
			capital_scope = {
				if = {
					limit = {
						has_modifier = mod_est_foundation_2_2
					}				
					remove_modifier = "mod_est_foundation_2_2"
				}
				else = {
					owner = {
						country_event = {
							id = est_foundation.4
						}
					}
				}
				add_modifier = {
					modifier = "mod_est_foundation_2_3"
				}					
			}
		}
		if = {
			limit = {
				last_increased_tech = tech_colonial_centralization
			}
			capital_scope = {
				if = {
					limit = {
						has_modifier = mod_est_foundation_2_1
					}				
					remove_modifier = "mod_est_foundation_2_1"
				}
				else = {
					owner = {
						country_event = {
							id = est_foundation.4
						}
					}
				}
				add_modifier = {
					modifier = "mod_est_foundation_2_2"
				}					
			}
		}
	}
}

#Foundation 5, fires event for appropriate empires.
event = {
	id = est_foundation.6
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = est_foundation_5_picked_flag
	}

	immediate = {
		log = "Event have fired"
		every_country = {
			limit = {			
				has_non_swapped_tradition = tr_est_foundation_5
			}
			country_event = {
				id = est_foundation.7
			}
		}
	}
}

#Foundation 5, gives naval capacity form core worlds
country_event = {
	id = est_foundation.7
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {		
			limit = { check_variable = { which = var_est_foundation_5_tech_count value < 6 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_tech_count value < 4 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 1 } }
					country_event = { id = est_foundation.91 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.101 }
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 2 } }
					country_event = { id = est_foundation.92 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.102 }
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 3 } }
					country_event = { id = est_foundation.93 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.103 }
				}	
			}				
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 4 } }
					country_event = { id = est_foundation.94 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.104 }
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 5 } }
					country_event = { id = est_foundation.95 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.105 }
				}
			}
		}
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_tech_count value < 9 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 6 } }
					country_event = { id = est_foundation.96 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.106 }
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 7 } }
					country_event = { id = est_foundation.97 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.107 }
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 8 } }
					country_event = { id = est_foundation.98 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.108 }
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 9 } }
					country_event = { id = est_foundation.99 }
				country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.109 }
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 10 } }
					country_event = { id = est_foundation.910 }
				country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.1010 }
				}
			}
		}
	}
}

#Foundation 5, counts number of core worlds.
country_event = {
	id = est_foundation.8
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		set_variable = { 
			which = var_est_foundation_5_core_count 
			value = 0 
		}
		every_owned_planet = {
			limit = {
				sector = {
					est_is_core_world = yes
				}
			}
			owner = {
				change_variable = {
					which = var_est_foundation_5_core_count
					value = 1
				}
			}
		}
	}
}

#Foundation 5, removes old modifiers (1).
country_event = {
	id = est_foundation.91
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						remove_modifier = "mod_est_foundation_5_1_1"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 2 } }
						remove_modifier = "mod_est_foundation_5_1_2"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						remove_modifier = "mod_est_foundation_5_1_3"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						remove_modifier = "mod_est_foundation_5_1_4"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						remove_modifier = "mod_est_foundation_5_1_5"
					}
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						remove_modifier = "mod_est_foundation_5_1_6"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						remove_modifier = "mod_est_foundation_5_1_7"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						remove_modifier = "mod_est_foundation_5_1_8"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						remove_modifier = "mod_est_foundation_5_1_9"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						remove_modifier = "mod_est_foundation_5_1_10"
					}
				}
			}
		}			
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						remove_modifier = "mod_est_foundation_5_1_11"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						remove_modifier = "mod_est_foundation_5_1_12"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						remove_modifier = "mod_est_foundation_5_1_13"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						remove_modifier = "mod_est_foundation_5_1_14"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						remove_modifier = "mod_est_foundation_5_1_15"
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						remove_modifier = "mod_est_foundation_5_1_16"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						remove_modifier = "mod_est_foundation_5_1_17"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						remove_modifier = "mod_est_foundation_5_1_18"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 19 } }
						remove_modifier = "mod_est_foundation_5_1_19"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						remove_modifier = "mod_est_foundation_5_1_20"
					}
				}
			}
		}
	}
}

#Foundation 5, adds new modifiers (1).
country_event = {
	id = est_foundation.101
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_1" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 2 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_2" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_3" days = -1 }
					}
				}					
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_4" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_5" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_6" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_7" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_8" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_9" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_10" days = -1 }
					}
				}
			}
		}		
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_11" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_12" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_13" days = -1 }
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_14" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_15" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_16" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_17" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_18" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_19" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_1_20" days = -1 }
					}
				}
			}
		}
	}
}

#Foundation 5, removes old modifiers (2).
country_event = {
	id = est_foundation.92
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						remove_modifier = "mod_est_foundation_5_2_1"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 2 } }
						remove_modifier = "mod_est_foundation_5_2_2"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						remove_modifier = "mod_est_foundation_5_2_3"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						remove_modifier = "mod_est_foundation_5_2_4"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						remove_modifier = "mod_est_foundation_5_2_5"
					}
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						remove_modifier = "mod_est_foundation_5_2_6"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						remove_modifier = "mod_est_foundation_5_2_7"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						remove_modifier = "mod_est_foundation_5_2_8"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						remove_modifier = "mod_est_foundation_5_2_9"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						remove_modifier = "mod_est_foundation_5_2_10"
					}
				}
			}
		}			
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						remove_modifier = "mod_est_foundation_5_2_11"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						remove_modifier = "mod_est_foundation_5_2_12"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						remove_modifier = "mod_est_foundation_5_2_13"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						remove_modifier = "mod_est_foundation_5_2_14"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						remove_modifier = "mod_est_foundation_5_2_15"
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						remove_modifier = "mod_est_foundation_5_2_16"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						remove_modifier = "mod_est_foundation_5_2_17"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						remove_modifier = "mod_est_foundation_5_2_18"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 19 } }
						remove_modifier = "mod_est_foundation_5_2_19"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						remove_modifier = "mod_est_foundation_5_2_20"
					}
				}
			}
		}
	}
}

#Foundation 5, adds new modifiers (2).
country_event = {
	id = est_foundation.102
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_1" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 2 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_2" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_3" days = -1 }
					}
				}					
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_4" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_5" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_6" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_7" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_8" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_9" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_10" days = -1 }
					}
				}
			}
		}		
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_11" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_12" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_13" days = -1 }
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_14" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_15" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_16" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_17" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_18" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_19" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_2_20" days = -1 }
					}
				}
			}
		}
	}
}

#Foundation 5, removes old modifiers (3).
country_event = {
	id = est_foundation.93
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						remove_modifier = "mod_est_foundation_5_3_1"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 2 } }
						remove_modifier = "mod_est_foundation_5_3_2"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						remove_modifier = "mod_est_foundation_5_3_3"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						remove_modifier = "mod_est_foundation_5_3_4"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						remove_modifier = "mod_est_foundation_5_3_5"
					}
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						remove_modifier = "mod_est_foundation_5_3_6"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						remove_modifier = "mod_est_foundation_5_3_7"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						remove_modifier = "mod_est_foundation_5_3_8"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						remove_modifier = "mod_est_foundation_5_3_9"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						remove_modifier = "mod_est_foundation_5_3_10"
					}
				}
			}
		}			
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						remove_modifier = "mod_est_foundation_5_3_11"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						remove_modifier = "mod_est_foundation_5_3_12"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						remove_modifier = "mod_est_foundation_5_3_13"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						remove_modifier = "mod_est_foundation_5_3_14"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						remove_modifier = "mod_est_foundation_5_3_15"
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						remove_modifier = "mod_est_foundation_5_3_16"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						remove_modifier = "mod_est_foundation_5_3_17"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						remove_modifier = "mod_est_foundation_5_3_18"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 19 } }
						remove_modifier = "mod_est_foundation_5_3_19"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						remove_modifier = "mod_est_foundation_5_3_20"
					}
				}
			}
		}
	}
}

#Foundation 5, adds new modifiers (3).
country_event = {
	id = est_foundation.103
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_1" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 2 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_2" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_3" days = -1 }
					}
				}					
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_4" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_5" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_6" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_7" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_8" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_9" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_10" days = -1 }
					}
				}
			}
		}		
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_11" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_12" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_13" days = -1 }
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_14" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_15" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_16" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_17" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_18" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_19" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_3_20" days = -1 }
					}
				}
			}
		}
	}
}

#Foundation 5, removes old modifiers (4).
country_event = {
	id = est_foundation.94
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						remove_modifier = "mod_est_foundation_5_4_1"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 2 } }
						remove_modifier = "mod_est_foundation_5_4_2"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						remove_modifier = "mod_est_foundation_5_4_3"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						remove_modifier = "mod_est_foundation_5_4_4"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						remove_modifier = "mod_est_foundation_5_4_5"
					}
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						remove_modifier = "mod_est_foundation_5_4_6"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						remove_modifier = "mod_est_foundation_5_4_7"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						remove_modifier = "mod_est_foundation_5_4_8"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						remove_modifier = "mod_est_foundation_5_4_9"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						remove_modifier = "mod_est_foundation_5_4_10"
					}
				}
			}
		}			
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						remove_modifier = "mod_est_foundation_5_4_11"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						remove_modifier = "mod_est_foundation_5_4_12"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						remove_modifier = "mod_est_foundation_5_4_13"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						remove_modifier = "mod_est_foundation_5_4_14"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						remove_modifier = "mod_est_foundation_5_4_15"
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						remove_modifier = "mod_est_foundation_5_4_16"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						remove_modifier = "mod_est_foundation_5_4_17"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						remove_modifier = "mod_est_foundation_5_4_18"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 19 } }
						remove_modifier = "mod_est_foundation_5_4_19"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						remove_modifier = "mod_est_foundation_5_4_20"
					}
				}
			}
		}
	}
}

#Foundation 5, adds new modifiers (4).
country_event = {
	id = est_foundation.104
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_1" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 2 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_2" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_3" days = -1 }
					}
				}					
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_4" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_5" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_6" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_7" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_8" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_9" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_10" days = -1 }
					}
				}
			}
		}		
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_11" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_12" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_13" days = -1 }
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_14" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_15" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_16" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_17" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_18" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_19" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_4_20" days = -1 }
					}
				}
			}
		}
	}
}

#Foundation 5, removes old modifiers (5).
country_event = {
	id = est_foundation.95
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						remove_modifier = "mod_est_foundation_5_5_1"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 2 } }
						remove_modifier = "mod_est_foundation_5_5_2"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						remove_modifier = "mod_est_foundation_5_5_3"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						remove_modifier = "mod_est_foundation_5_5_4"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						remove_modifier = "mod_est_foundation_5_5_5"
					}
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						remove_modifier = "mod_est_foundation_5_5_6"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						remove_modifier = "mod_est_foundation_5_5_7"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						remove_modifier = "mod_est_foundation_5_5_8"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						remove_modifier = "mod_est_foundation_5_5_9"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						remove_modifier = "mod_est_foundation_5_5_10"
					}
				}
			}
		}			
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						remove_modifier = "mod_est_foundation_5_5_11"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						remove_modifier = "mod_est_foundation_5_5_12"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						remove_modifier = "mod_est_foundation_5_5_13"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						remove_modifier = "mod_est_foundation_5_5_14"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						remove_modifier = "mod_est_foundation_5_5_15"
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						remove_modifier = "mod_est_foundation_5_5_16"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						remove_modifier = "mod_est_foundation_5_5_17"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						remove_modifier = "mod_est_foundation_5_5_18"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 19 } }
						remove_modifier = "mod_est_foundation_5_5_19"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						remove_modifier = "mod_est_foundation_5_5_20"
					}
				}
			}
		}
	}
}

#Foundation 5, adds new modifiers (5).
country_event = {
	id = est_foundation.105
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_1" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 2 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_2" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_3" days = -1 }
					}
				}					
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_4" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_5" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_6" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_7" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_8" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_9" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_10" days = -1 }
					}
				}
			}
		}		
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_11" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_12" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_13" days = -1 }
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_14" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_15" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_16" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_17" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_18" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_19" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_5_20" days = -1 }
					}
				}
			}
		}
	}
}

#Foundation 5, removes old modifiers (6).
country_event = {
	id = est_foundation.96
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						remove_modifier = "mod_est_foundation_5_6_1"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 2 } }
						remove_modifier = "mod_est_foundation_5_6_2"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						remove_modifier = "mod_est_foundation_5_6_3"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						remove_modifier = "mod_est_foundation_5_6_4"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						remove_modifier = "mod_est_foundation_5_6_5"
					}
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						remove_modifier = "mod_est_foundation_5_6_6"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						remove_modifier = "mod_est_foundation_5_6_7"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						remove_modifier = "mod_est_foundation_5_6_8"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						remove_modifier = "mod_est_foundation_5_6_9"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						remove_modifier = "mod_est_foundation_5_6_10"
					}
				}
			}
		}			
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						remove_modifier = "mod_est_foundation_5_6_11"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						remove_modifier = "mod_est_foundation_5_6_12"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						remove_modifier = "mod_est_foundation_5_6_13"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						remove_modifier = "mod_est_foundation_5_6_14"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						remove_modifier = "mod_est_foundation_5_6_15"
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						remove_modifier = "mod_est_foundation_5_6_16"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						remove_modifier = "mod_est_foundation_5_6_17"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						remove_modifier = "mod_est_foundation_5_6_18"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 19 } }
						remove_modifier = "mod_est_foundation_5_6_19"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						remove_modifier = "mod_est_foundation_5_6_20"
					}
				}
			}
		}
	}
}

#Foundation 5, adds new modifiers (6).
country_event = {
	id = est_foundation.106
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_1" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 2 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_2" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_3" days = -1 }
					}
				}					
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_4" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_5" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_6" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_7" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_8" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_9" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_10" days = -1 }
					}
				}
			}
		}		
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_11" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_12" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_13" days = -1 }
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_14" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_15" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_16" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_17" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_18" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_19" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_6_20" days = -1 }
					}
				}
			}
		}
	}
}

#Foundation 5, removes old modifiers (7).
country_event = {
	id = est_foundation.97
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						remove_modifier = "mod_est_foundation_5_7_1"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 2 } }
						remove_modifier = "mod_est_foundation_5_7_2"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						remove_modifier = "mod_est_foundation_5_7_3"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						remove_modifier = "mod_est_foundation_5_7_4"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						remove_modifier = "mod_est_foundation_5_7_5"
					}
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						remove_modifier = "mod_est_foundation_5_7_6"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						remove_modifier = "mod_est_foundation_5_7_7"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						remove_modifier = "mod_est_foundation_5_7_8"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						remove_modifier = "mod_est_foundation_5_7_9"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						remove_modifier = "mod_est_foundation_5_7_10"
					}
				}
			}
		}			
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						remove_modifier = "mod_est_foundation_5_7_11"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						remove_modifier = "mod_est_foundation_5_7_12"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						remove_modifier = "mod_est_foundation_5_7_13"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						remove_modifier = "mod_est_foundation_5_7_14"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						remove_modifier = "mod_est_foundation_5_7_15"
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						remove_modifier = "mod_est_foundation_5_7_16"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						remove_modifier = "mod_est_foundation_5_7_17"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						remove_modifier = "mod_est_foundation_5_7_18"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 19 } }
						remove_modifier = "mod_est_foundation_5_7_19"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						remove_modifier = "mod_est_foundation_5_7_20"
					}
				}
			}
		}
	}
}

#Foundation 5, adds new modifiers (7).
country_event = {
	id = est_foundation.107
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_1" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 2 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_2" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_3" days = -1 }
					}
				}					
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_4" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_5" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_6" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_7" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_8" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_9" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_10" days = -1 }
					}
				}
			}
		}		
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_11" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_12" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_13" days = -1 }
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_14" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_15" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_16" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_17" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_18" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_19" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_7_20" days = -1 }
					}
				}
			}
		}
	}
}

#Foundation 5, removes old modifiers (8).
country_event = {
	id = est_foundation.98
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						remove_modifier = "mod_est_foundation_5_8_1"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 2 } }
						remove_modifier = "mod_est_foundation_5_8_2"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						remove_modifier = "mod_est_foundation_5_8_3"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						remove_modifier = "mod_est_foundation_5_8_4"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						remove_modifier = "mod_est_foundation_5_8_5"
					}
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						remove_modifier = "mod_est_foundation_5_8_6"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						remove_modifier = "mod_est_foundation_5_8_7"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						remove_modifier = "mod_est_foundation_5_8_8"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						remove_modifier = "mod_est_foundation_5_8_9"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						remove_modifier = "mod_est_foundation_5_8_10"
					}
				}
			}
		}			
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						remove_modifier = "mod_est_foundation_5_8_11"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						remove_modifier = "mod_est_foundation_5_8_12"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						remove_modifier = "mod_est_foundation_5_8_13"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						remove_modifier = "mod_est_foundation_5_8_14"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						remove_modifier = "mod_est_foundation_5_8_15"
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						remove_modifier = "mod_est_foundation_5_8_16"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						remove_modifier = "mod_est_foundation_5_8_17"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						remove_modifier = "mod_est_foundation_5_8_18"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 19 } }
						remove_modifier = "mod_est_foundation_5_8_19"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						remove_modifier = "mod_est_foundation_5_8_20"
					}
				}
			}
		}
	}
}

#Foundation 5, adds new modifiers (8).
country_event = {
	id = est_foundation.108
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_1" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 2 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_2" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_3" days = -1 }
					}
				}					
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_4" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_5" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_6" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_7" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_8" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_9" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_10" days = -1 }
					}
				}
			}
		}		
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_11" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_12" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_13" days = -1 }
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_14" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_15" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_16" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_17" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_18" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_19" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_8_20" days = -1 }
					}
				}
			}
		}
	}
}

#Foundation 5, removes old modifiers (9).
country_event = {
	id = est_foundation.99
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						remove_modifier = "mod_est_foundation_5_9_1"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 2 } }
						remove_modifier = "mod_est_foundation_5_9_2"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						remove_modifier = "mod_est_foundation_5_9_3"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						remove_modifier = "mod_est_foundation_5_9_4"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						remove_modifier = "mod_est_foundation_5_9_5"
					}
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						remove_modifier = "mod_est_foundation_5_9_6"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						remove_modifier = "mod_est_foundation_5_9_7"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						remove_modifier = "mod_est_foundation_5_9_8"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						remove_modifier = "mod_est_foundation_5_9_9"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						remove_modifier = "mod_est_foundation_5_9_10"
					}
				}
			}
		}			
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						remove_modifier = "mod_est_foundation_5_9_11"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						remove_modifier = "mod_est_foundation_5_9_12"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						remove_modifier = "mod_est_foundation_5_9_13"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						remove_modifier = "mod_est_foundation_5_9_14"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						remove_modifier = "mod_est_foundation_5_9_15"
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						remove_modifier = "mod_est_foundation_5_9_16"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						remove_modifier = "mod_est_foundation_5_9_17"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						remove_modifier = "mod_est_foundation_5_9_18"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 19 } }
						remove_modifier = "mod_est_foundation_5_9_19"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						remove_modifier = "mod_est_foundation_5_9_20"
					}
				}
			}
		}
	}
}

#Foundation 5, adds new modifiers (9).
country_event = {
	id = est_foundation.109
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_1" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 2 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_2" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_3" days = -1 }
					}
				}					
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_4" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_5" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_6" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_7" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_8" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_9" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_10" days = -1 }
					}
				}
			}
		}		
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_11" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_12" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_13" days = -1 }
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_14" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_15" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_16" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_17" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_18" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_19" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_9_20" days = -1 }
					}
				}
			}
		}
	}
}

#Foundation 5, removes old modifiers (10).
country_event = {
	id = est_foundation.910
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						remove_modifier = "mod_est_foundation_5_10_1"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 2 } }
						remove_modifier = "mod_est_foundation_5_10_2"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						remove_modifier = "mod_est_foundation_5_10_3"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						remove_modifier = "mod_est_foundation_5_10_4"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						remove_modifier = "mod_est_foundation_5_10_5"
					}
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						remove_modifier = "mod_est_foundation_5_10_6"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						remove_modifier = "mod_est_foundation_5_10_7"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						remove_modifier = "mod_est_foundation_5_10_8"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						remove_modifier = "mod_est_foundation_5_10_9"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						remove_modifier = "mod_est_foundation_5_10_10"
					}
				}
			}
		}			
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						remove_modifier = "mod_est_foundation_5_10_11"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						remove_modifier = "mod_est_foundation_5_10_12"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						remove_modifier = "mod_est_foundation_5_10_13"
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						remove_modifier = "mod_est_foundation_5_10_14"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						remove_modifier = "mod_est_foundation_5_10_15"
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						remove_modifier = "mod_est_foundation_5_10_16"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						remove_modifier = "mod_est_foundation_5_10_17"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						remove_modifier = "mod_est_foundation_5_10_18"
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count  value = 19 } }
						remove_modifier = "mod_est_foundation_5_10_19"
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						remove_modifier = "mod_est_foundation_5_10_20"
					}
				}
			}
		}
	}
}

#Foundation 5, adds new modifiers (10).
country_event = {
	id = est_foundation.1010
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { check_variable = { which = var_est_foundation_5_core_count value < 11 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 6 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 4 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 1 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_1" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 2 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_2" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 3 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_3" days = -1 }
					}
				}					
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 4 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_4" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 5 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_5" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 9 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 6 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_6" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 7 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_7" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 8 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_8" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 9 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_9" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 10 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_10" days = -1 }
					}
				}
			}
		}		
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_core_count value < 16 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 14 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 11 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_11" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 12 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_12" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 13 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_13" days = -1 }
					}	
				}				
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 14 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_14" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 15 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_15" days = -1 }
					}
				}
			}	
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_core_count value < 19 } }
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 16 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_16" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 17 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_17" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 18 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_18" days = -1 }
					}
				}
				else = {
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value = 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_19" days = -1 }
					}
					if = {		
						limit = { check_variable = { which = var_est_foundation_5_core_count value > 19 } }
						add_modifier = { modifier = "mod_est_foundation_5_10_20" days = -1 }
					}
				}
			}
		}
	}
}

#Foundation 5, update technology count.
country_event = {
	id = est_foundation.11
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_non_swapped_tradition = tr_est_foundation_5
		Or = {
			last_increased_tech = "tech_doctrine_navy_size_1"
			last_increased_tech = "tech_doctrine_navy_size_2"
			last_increased_tech = "tech_doctrine_navy_size_3"
			last_increased_tech = "tech_doctrine_navy_size_4"
			last_increased_tech = "tech_doctrine_fleet_size_1"
			last_increased_tech = "tech_doctrine_fleet_size_2"
			last_increased_tech = "tech_doctrine_fleet_size_3"
			last_increased_tech = "tech_doctrine_fleet_size_4"
			last_increased_tech = "tech_doctrine_fleet_size_5"
		}
	}
	
	immediate = { 
		if = {		
			limit = { check_variable = { which = var_est_foundation_5_tech_count value < 6 } }
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_tech_count value < 4 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 1 } }
					country_event = { id = est_foundation.91 }
					change_variable = { which = var_est_foundation_5_tech_count value = 1 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.102 }
					break = yes
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 2 } }
					country_event = { id = est_foundation.92 }
					change_variable = { which = var_est_foundation_5_tech_count value = 1 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.103 }
					break = yes
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 3 } }
					country_event = { id = est_foundation.93 }
					change_variable = { which = var_est_foundation_5_tech_count value = 1 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.104 }
					break = yes
				}	
			}				
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 4 } }
					country_event = { id = est_foundation.94 }
					change_variable = { which = var_est_foundation_5_tech_count value = 1 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.105 }
					break = yes
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 5 } }
					country_event = { id = est_foundation.95 }
					change_variable = { which = var_est_foundation_5_tech_count value = 1 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.106 }
					break = yes
				}
			}
		}
		else = {
			if = {		
				limit = { check_variable = { which = var_est_foundation_5_tech_count value < 9 } }
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 6 } }
					country_event = { id = est_foundation.96 }
					change_variable = { which = var_est_foundation_5_tech_count value = 1 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.107 }
						break = yes
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 7 } }
					country_event = { id = est_foundation.97 }
					change_variable = { which = var_est_foundation_5_tech_count value = 1 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.108 }
						break = yes
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 8 } }
					country_event = { id = est_foundation.98 }
					change_variable = { which = var_est_foundation_5_tech_count value = 1 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.109 }
						break = yes
				}
			}
			else = {
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 9 } }
					country_event = { id = est_foundation.99 }
					change_variable = { which = var_est_foundation_5_tech_count value = 1 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.1010 }
					break = yes
				}
				if = {		
					limit = { check_variable = { which = var_est_foundation_5_tech_count value = 10 } }
					country_event = { id = est_foundation.910 }
					change_variable = { which = var_est_foundation_5_tech_count value = 1 }
					country_event = { id = est_foundation.8 }
					country_event = { id = est_foundation.1010 }
					break = yes
				}
			}
		}
	}
}

#Foundation 5, update AI Naval Capacity Bonus
country_event = {
	id = est_foundation.12
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_swapped_tradition = tr_est_foundation_5_AI
	}
	
	immediate = { 
		if = {
			limit = {
				last_increased_tech = tech_doctrine_fleet_size_1
			}
			add_modifier = {
				modifier = "mod_est_foundation_5_AI_1"
				days = -1				
			}
		}
		if = {
			limit = {
				last_increased_tech = tech_doctrine_fleet_size_2
			}
			remove_modifier = "mod_est_foundation_5_AI_1"
			add_modifier = {
				modifier = "mod_est_foundation_5_AI_2"
				days = -1				
			}
		}
		if = {
			limit = {
				last_increased_tech = tech_doctrine_fleet_size_3
			}
			remove_modifier = "mod_est_foundation_5_AI_2"
			add_modifier = {
				modifier = "mod_est_foundation_5_AI_3"
				days = -1				
			}
		}
		if = {
			limit = {
				last_increased_tech = tech_doctrine_fleet_size_4
			}
			remove_modifier = "mod_est_foundation_5_AI_3"
			add_modifier = {
				modifier = "mod_est_foundation_5_AI_4"
				days = -1				
			}
		}
		if = {
			limit = {
				last_increased_tech = tech_doctrine_fleet_size_5
			}
			remove_modifier = "mod_est_foundation_5_AI_4"
			add_modifier = {
				modifier = "mod_est_foundation_5_AI_5"
				days = -1				
			}
		}
	}
}


### CONFEDERACY ###

#Confederacy Adopt and 2, gives bonus to sector planets (that have a governor, in the case of 2)
event = {
	id = est_foundation.13
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {	
		has_global_flag = flag_est_confederacy_adopt_picked
	}
	
	immediate = {
		every_country = {
			limit = {
				has_swapped_tradition = tr_est_confederacy_adopt
			}
			every_owned_planet = {	
				if = {
					limit = {
						est_is_core_world = no
					}
					if = {
						limit = {
							Not = {
								has_modifier = mod_est_confederacy_adopt
							}							
						}
						add_modifier = {
							modifier = "mod_est_confederacy_adopt"							
							days = -1
						}
					}
					if = {
						limit = {
							sector = {
								exists = leader
							}
							owner = {
								has_swapped_tradition = tr_est_confederacy_2
							}
						}
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_confederacy_2
								}							
							}
							add_modifier = {
								modifier = "mod_est_confederacy_2"							
								days = -1
							}
						}	
					}
					else = {
						if = {
							limit = {
								has_modifier = mod_est_confederacy_2								
							}
							remove_modifier = "mod_est_confederacy_2"
						}
					}
				}
				else = {
					if = {
						limit = {
							has_modifier = mod_est_confederacy_adopt								
						}
						remove_modifier = "mod_est_confederacy_adopt"
					}	
					if = {
						limit = {
							has_modifier = mod_est_confederacy_2								
						}
						remove_modifier = "mod_est_confederacy_2"
					}						
				}
			}
		}
	}
}

#Confederacy 4, gives bonuses to subjects.
event = {
	id = est_foundation.14
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {	
		has_global_flag = est_confederacy_4_picked_flag
	}
	immediate = {
		every_country = {
			if = {
				limit = {
					is_subject = yes
					overlord = {
						has_swapped_tradition = tr_est_confederacy_4	
					}
				}
				if = {
					limit = {
						Not = {
							has_modifier = mod_est_confederacy_4
						}
					}
					add_modifier = {
						modifier = "mod_est_confederacy_4"
						days = -1
					}
				}
			}					
			else = {
				if = {
					limit = {
						has_modifier = mod_est_confederacy_4								
					}
					remove_modifier = "mod_est_confederacy_4"
				}					
			}
		}	
	}
}


### SUBMINDS ###

#Subminds Adopt and 2, gives bonus to sector planets (that have a governor, in the case of 2)
event = {
	id = est_foundation.15
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {	
		has_global_flag = est_subminds_adopt_picked_flag
	}
	
	immediate = {
		every_country = {
			limit = {
				Or = {
					has_swapped_tradition = tr_est_subminds_adopt
				}
			}
			every_owned_planet = {	
				if = {
					limit = {
						est_is_core_world = no
					}
					if = {
						limit = {
							Nor = {
								sector = {
									exists = leader
								}
								owner = {
									has_swapped_tradition = tr_est_subminds_2
								}
							}
						}
						if = {
							limit = {
								has_modifier = mod_est_subminds_2								
							}
							remove_modifier = "mod_est_subminds_2"
						}	
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_subminds_adopt
								}							
							}
							add_modifier = {
								modifier = "mod_est_subminds_adopt"							
								days = -1
							}
						}
					}
					else = {
						if = {
							limit = {
								has_modifier = mod_est_subminds_adopt								
							}
							remove_modifier = "mod_est_subminds_adopt"
						}	
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_subminds_2
								}							
							}
							add_modifier = {
								modifier = "mod_est_subminds_2"							
								days = -1
							}
						}
					}
				}
				else = {
					if = {
						limit = {
							has_modifier = mod_est_subminds_adopt								
						}
						remove_modifier = "mod_est_subminds_adopt"
					}	
					if = {
						limit = {
							has_modifier = mod_est_subminds_2								
						}
						remove_modifier = "mod_est_subminds_2"
					}						
				}
			}
		}
	}
}

#Subminds 3, edict bonus for sector planets
event = {
	id = est_foundation.16
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {	
		Or = {
			has_global_flag = est_subminds_3_picked_flag
		}
	}
	
	immediate = {
		every_country = {
			limit = {
				Or = {
					has_swapped_tradition = tr_est_subminds_3
					has_swapped_tradition = tr_est_subminds_3_machines
				}
			}
			if = {
				limit = {
					has_policy_flag = policy_flag_est_subminds_3_energy
				}
				every_owned_planet = {
					if = {
						limit = {
							est_is_core_world = no						
						}
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_subminds_3_energy
								}
							}
							add_modifier = {
								modifier = "mod_est_subminds_3_energy"							
								days = -1
							}
						}
					}
					else = {
						if = {
							limit = {
								has_modifier = mod_est_subminds_3_energy
							}
							remove_modifier = "mod_est_subminds_3_energy"		
						}
					}
				}
			}
			if = {
				limit = {
					has_policy_flag = policy_flag_est_subminds_3_food
				}
				every_owned_planet = {
					if = {
						limit = {
							est_is_core_world = no						
						}
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_subminds_3_food
								}
							}
							add_modifier = {
								modifier = "mod_est_subminds_3_food"							
								days = -1
							}
						}
					}
					else = {
						if = {
							limit = {
								has_modifier = mod_est_subminds_3_food
							}
							remove_modifier = "mod_est_subminds_3_food"		
						}
					}
				}
			}
			if = {
				limit = {
					has_policy_flag = policy_flag_est_subminds_3_minerals
				}
				every_owned_planet = {
					if = {
						limit = {
							est_is_core_world = no				
						}
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_subminds_3_minerals
								}
							}
							add_modifier = {
								modifier = "mod_est_subminds_3_minerals"							
								days = -1
							}
						}
					}
					else = {
						if = {
							limit = {
								has_modifier = mod_est_subminds_3_minerals
							}
							remove_modifier = "mod_est_subminds_3_minerals"		
						}
					}
				}
			}
			if = {
				limit = {
					has_policy_flag = policy_flag_est_subminds_3_research
				}
				every_owned_planet = {
					if = {
						limit = {
							est_is_core_world = no						
						}
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_subminds_3_research
								}
							}
							add_modifier = {
								modifier = "mod_est_subminds_3_research"							
								days = -1
							}
						}
					}
					else = {
						if = {
							limit = {
								has_modifier = mod_est_subminds_3_research
							}
							remove_modifier = "mod_est_subminds_3_research"		
						}
					}
				}
			}
			if = {
				limit = {
					has_policy_flag = policy_flag_est_subminds_3_unity
				}
				every_owned_planet = {
					if = {
						limit = {
							est_is_core_world = no			
						}
						if = {
							limit = {
								Not = {
									has_modifier = mod_est_subminds_3_unity
								}
							}
							add_modifier = {
								modifier = "mod_est_subminds_3_unity"							
								days = -1
							}
						}
					}
					else = {
						if = {
							limit = {
								has_modifier = mod_est_subminds_3_unity
							}
							remove_modifier = "mod_est_subminds_3_unity"		
						}
					}
				}
			}
		}
	}
}
