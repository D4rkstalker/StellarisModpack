namespace = gpm_solar
# gpm_solar_storm
# gpm_violent_sun
# gpm_increased_solar_output
# gpm_decreased_solar_output
# gpm_increased_solar_activity
# gpm_decreased_solar_activity

# Solar Storms
event = {
	id = gpm_solar.10
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		log = "---- Fired Event gpm_solar.10 ----"
		random_system = {
			limit = { NOR = { has_star_flag = gpm_solar_event } }
			random_system_planet = {
				limit = {
					AND = {
						is_star = yes
						gpm_is_planet_class_star = yes
					}
				}
				add_modifier = { modifier = "gpm_violent_sun" days = 180 }
			}
			every_system_planet = {
				limit = { NOT = { is_star = yes	} }
				add_modifier = { modifier = "gpm_solar_storm" days = 180 }
			}
			set_timed_star_flag = { flag = gpm_solar_event days = 360 }
		}
	}
}
# Increased Solar Activity
event = {
	id = gpm_solar.20
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		log = "---- Fired Event gpm_solar.20 ----"
		random_system = {
			limit = { NOT = { has_star_flag = gpm_solar_event } }
			random_system_planet = {
				limit = {
					AND = {
						is_star = yes
						gpm_is_planet_class_star = yes
					}
				}
				add_modifier = { modifier = "gpm_increased_solar_activity" days = 1800 }
			}
			every_system_planet = {
				limit = { NOT = { is_star = yes	} }
				add_modifier = { modifier = "gpm_increased_solar_output" days = 1800 }
			}
			set_timed_star_flag = { flag = gpm_solar_event days = 2400 }
		}
	}
}
# Decreased Solar Activity
event = {
	id = gpm_solar.30
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		log = "---- Fired Event gpm_solar.30 ----"
		random_system = {
			limit = { NOR = { has_star_flag = gpm_solar_event  } }
			random_system_planet = {
				limit = {
					AND = {
						is_star = yes
						gpm_is_planet_class_star = yes
					}
				}
				add_modifier = { modifier = "gpm_decreased_solar_activity" days = 1800 }
			}
			every_system_planet = {
				limit = { NOT = { is_star = yes	} }
				add_modifier = { modifier = "gpm_decreased_solar_output" days = 1800 }
			}
			set_timed_star_flag = { flag = gpm_solar_event days = 2400 }
		}
	}
}
# Meteor Shower
event = {
	id = gpm_solar.40
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		log = "---- Fired Event gpm_solar.40 ----"
		random_planet = {
			limit = {
				NOT = {
					AND = {
						has_modifier = gpm_periodic_meteor_showers 
						is_star = no 
					}
				}
			}
			add_modifier = { modifier = "gpm_periodic_meteor_showers" days = 60 }
		}
	}
}