namespace = legendary

country_event = {
	id = legendary.1
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		from = {
			is_legendary_guardian_country = yes
		}
	}

	immediate = {
		from = {
			establish_communications_no_message = root
			save_event_target_as = legendary_guardian_country
		}
	}
}

ship_event = {
	id = legendary.2
	title = "legendarysystem"
	desc = "legendguardian.1"
	picture = GFX_evt_space_dragon_blue
	show_sound = event_yellow_alert_01
	location = FROM
	
	is_triggered_only = yes

	trigger = {
		owner = {
			NOT = { 
				has_country_flag = mm_encountered_legendary 
			}
		}
		FROM = {
			has_star_flag = mm_legendary_planet_system
		}
	}

	immediate = {
		owner = {
			set_country_flag = mm_encountered_legendary
		}
	}	

	option = {
		name = "legoresp.1"
		
	}

}

country_event = {
	id = legendary.3
	title = "legendguardian.31"
	desc = "legendguardian.3"
	picture = GFX_evt_space_dragon_blue
	show_sound = event_mystic_reveal

	is_triggered_only = yes

	trigger = {			
		this = { NOT = { has_country_flag = lego_dead } }
		any_playable_country = { is_country = prev }
		from = {
				is_country_type = legendary_guardian	
				FROMFROM = { is_ship_size = legendary_guardian }						
		}
	}

	immediate = {
		set_country_flag = lego_dead
		this = { set_star_flag = mm_legendary_dead }
		every_system = {
			limit = { has_star_flag = mm_legendary_dead }
			remove_star_flag = mm_legendary_planet_system
		}
	}

	option = {
		name = "legoresp.3"
		add_research_option = mm_regen
		add_research_option = mm_hull
		
	}
}
