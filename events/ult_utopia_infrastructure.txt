namespace = ult_utopia_infrastructure

### regular planets
planet_event = {
	id = ult_utopia_infrastructure.1
	title = "ult_utopia_infrastructure.1.name"
	desc = "ult_utopia_infrastructure.1.1.desc"
	picture = GFX_evt_ult_utopia_infrastructure
	show_sound = event_primitive_civilization

	is_triggered_only = yes
	
	immediate = {
        # City districts replacement
        while = {
            limit = {
                    has_district = district_city
            }

            remove_district = district_city
            add_district = district_ult_utopia_arcology
        }

        # Generator district replacements
        while = {
            limit = {
                    has_district = district_generator
            }

            remove_district = district_generator
            add_district = district_ult_commercial_center
        }

        # Mining district replacements
        while = {
            limit = {
                    has_district = district_mining
            }
            
            remove_district = district_mining
            add_district = district_ult_automatic_mining_zone
        }

        # Farming districts replacement
        while = {
            limit = {
                    has_district = district_farming
            }
            remove_district = district_farming
            add_district = district_ult_nano_garden_district
        }
        
        # Industrial districts replacement
        while = {
            limit = {
                    has_district = district_industrial
            }
            remove_district = district_industrial
            add_district = district_ult_industrial_zone
        }
    }

    option = {
        name = ult_utopia_infrastructure.1.a
    }

}


### habitats

planet_event = {
	id = ult_utopia_infrastructure.2
	title = "ult_utopia_infrastructure.1.name"
	desc = "ult_utopia_infrastructure.1.1.desc"
	picture = GFX_evt_ult_utopia_infrastructure_habitat
	show_sound = event_primitive_civilization

	is_triggered_only = yes
	
	immediate = {
        # City districts replacement
        while = {
            limit = {
                    has_district = district_hab_housing
                }
            remove_district = district_hab_housing
            add_district = district_ult_hab_utopia_arcology

        }

        # Generator district replacements
        while = {
            limit = {
                OR = {
                    has_district = district_hab_energy
                    has_district = district_hab_commercial
                }
            }

            if = {
                limit = {
                    has_district = district_hab_energy
                }
                remove_district = district_hab_energy
                add_district = district_ult_hab_commercial_center
            }
            else_if = {
                limit = {
                    has_district = district_hab_commercial
                }
                remove_district = district_hab_commercial
                add_district = district_ult_hab_commercial_center
            }
        }

        # Mining district replacements
        while = {
            limit = {
                    has_district = district_hab_mining
            }

            remove_district = district_hab_mining
            add_district = district_ult_hab_automatic_mining_zone
        }
        
        # Industrial districts replacement
        while = {
            limit = {
                    has_district = district_hab_industrial
            }
            remove_district = district_hab_industrial
            add_district = district_ult_hab_industrial_zone
        }

        # Farming districts replacement
        while = {
            limit = {
                OR = {
                    has_district = district_hab_science
                    has_district = district_hab_cultural
                }
            }

            if = {
                limit = {
                    has_district = district_hab_science
                }
                remove_district = district_hab_science
                add_district = district_ult_hab_utopia_arcology
            }
            else_if = {
                limit = {
                    has_district = district_hab_cultural
                }
                remove_district = district_hab_cultural
                add_district = district_ult_hab_utopia_arcology
            }

        }
    }

    option = {
        name = ult_utopia_infrastructure.1.a
    }

}


### habitats research

planet_event = {
	id = ult_utopia_infrastructure.3
	title = "ult_utopia_infrastructure.1.name"
	desc = "ult_utopia_infrastructure.1.1.desc"
	picture = GFX_evt_ult_utopia_infrastructure_habitat
	show_sound = event_primitive_civilization

	is_triggered_only = yes
	
	is_triggered_only = yes
	
	immediate = {
        # City districts replacement
        while = {
            limit = {
                    has_district = district_hab_housing
                }
            remove_district = district_hab_housing
            add_district = district_ult_hab_utopia_arcology

        }

        # Generator district replacements
        while = {
            limit = {
                OR = {
                    has_district = district_hab_energy
                    has_district = district_hab_commercial
                }
            }

            if = {
                limit = {
                    has_district = district_hab_energy
                }
                remove_district = district_hab_energy
                add_district = district_ult_hab_dark_energy_power_center
            }
            else_if = {
                limit = {
                    has_district = district_hab_commercial
                }
                remove_district = district_hab_commercial
                add_district = district_ult_hab_dark_energy_power_center
            }
        }

        # Mining district replacements
        while = {
            limit = {
                    has_district = district_hab_mining
            }

            remove_district = district_hab_mining
            add_district = district_ult_hab_automatic_mining_zone
        }

        # science districts replacement
        while = {
            limit = {
                OR = {
                    has_district = district_hab_science
                    has_district = district_hab_cultural
                    has_district = district_hab_industrial
                }
            }

            if = {
                limit = {
                    has_district = district_hab_science
                }
                remove_district = district_hab_science
                add_district = district_ult_hab_science_district
            }
            else_if = {
                limit = {
                    has_district = district_hab_cultural
                }
                remove_district = district_hab_cultural
                add_district = district_ult_hab_science_district
            }
            else_if = {
                limit = {
                    has_district = district_hab_industrial
                }
                remove_district = district_hab_industrial
                add_district = district_ult_hab_science_district
            }

        }
    }

    option = {
        name = ult_utopia_infrastructure.1.a
    }

}


### ring world 

planet_event = {
	id = ult_utopia_infrastructure.4
	title = "ult_utopia_infrastructure.1.name"
	desc = "ult_utopia_infrastructure.1.1.desc"
	picture = GFX_evt_ult_utopia_infrastructure_rw
	show_sound = event_primitive_civilization

	is_triggered_only = yes
	
	immediate = {
        # City districts replacement
        while = {
            limit = {
                    has_district = district_rw_city
            }
            remove_district = district_rw_city
            add_district = district_ult_rw_utopia_arcology
        }

        # Generator district replacements
        while = {
            limit = {
                    has_district = district_rw_commercial
            }
            remove_district = district_rw_commercial
            add_district = district_ult_rw_commercial_center
        }

        # Mining district replacements
        while = {
            limit = {
                    has_district = district_rw_science
            }
            remove_district = district_rw_science
            add_district = district_ult_rw_automatic_mining_zone
        }
        
        # Industrial districts replacement
        while = {
            limit = {
                    has_district = district_rw_industrial 
            }
            remove_district = district_rw_industrial 
            add_district = district_ult_rw_industrial_zone
        }

        # Farming districts replacement
        while = {
            limit = {
                    has_district = district_rw_farming
            }
            remove_district = district_rw_farming
            add_district = district_ult_rw_nano_garden_district
        }
    }

    option = {
        name = ult_utopia_infrastructure.1.a
    }

}

### ring world research

planet_event = {
	id = ult_utopia_infrastructure.5
	title = "ult_utopia_infrastructure.1.name"
	desc = "ult_utopia_infrastructure.1.1.desc"
	picture = GFX_evt_ult_utopia_infrastructure_rw
	show_sound = event_primitive_civilization

	is_triggered_only = yes
	
	immediate = {
        # City districts replacement
        while = {
            limit = {
                    has_district = district_rw_city
            }
            remove_district = district_rw_city
            add_district = district_ult_rw_utopia_arcology
        }

        # Commercial district replacements
        while = {
            limit = {
                    has_district = district_rw_commercial
            }
            remove_district = district_rw_commercial
            add_district = district_ult_rw_dark_energy_power_center
        }

        # Science district replacements
        while = {
            limit = {
                    has_district = district_rw_science
            }
            remove_district = district_rw_science
            add_district = district_ult_rw_science_district
        }
        
        # Industrial districts replacement
        while = {
            limit = {
                    has_district = district_rw_industrial 
            }
            remove_district = district_rw_industrial 
            add_district = district_ult_rw_science_district
        }

        # Farming districts replacement
        while = {
            limit = {
                    has_district = district_rw_farming
            }
            remove_district = district_rw_farming
            add_district = district_ult_rw_industrial_zone
        }
    }

    option = {
        name = ult_utopia_infrastructure.1.a
    }

}


### ecumenopolis

planet_event = {
	id = ult_utopia_infrastructure.6
	title = "ult_utopia_infrastructure.1.name"
	desc = "ult_utopia_infrastructure.1.1.desc"
	picture = GFX_evt_ult_utopia_infrastructure_ecu
	show_sound = event_primitive_civilization

	is_triggered_only = yes
	
	immediate = {
        # City districts replacement
        while = {
            limit = {
                has_district = district_arcology_housing
            }

            remove_district = district_arcology_housing
            add_district = district_ult_ecu_utopia_arcology
        }

        # Arms industry districts replacement
        while = {
            limit = {
                has_district = district_arcology_arms_industry
            }

            remove_district = district_arcology_arms_industry
            add_district = district_ult_ecu_industrial_zone
        }

        # Civilian industry districts replacement
        while = {
            limit = {
                has_district = district_arcology_civilian_industry
            }

            remove_district = district_arcology_civilian_industry
            add_district = district_ult_ecu_industrial_zone
        }

        # Leisure district replacement
        while = {
            limit = {
                has_district = district_arcology_leisure
            }

            remove_district = district_arcology_leisure
            add_district = district_ult_ecu_commercial_center
        }
    }

    option = {
        name = ult_utopia_infrastructure.1.a
    }

}

###regular planets research

planet_event = {
	id = ult_utopia_infrastructure.7
	title = "ult_utopia_infrastructure.1.name"
	desc = "ult_utopia_infrastructure.1.1.desc"
	picture = GFX_evt_ult_utopia_infrastructure
	show_sound = event_primitive_civilization

	is_triggered_only = yes
	
	immediate = {
        # City districts replacement
        while = {
            limit = {
                    has_district = district_city
            }

            remove_district = district_city
            add_district = district_ult_utopia_arcology
        }

        # Generator district replacements
        while = {
            limit = {
                    has_district = district_generator
            }

            remove_district = district_generator
            add_district = district_ult_dark_energy_power_center
        }

        # Mining district replacements
        while = {
            limit = {
                    has_district = district_mining
            }
            
            remove_district = district_mining
            add_district = district_ult_automatic_mining_zone
        }

        # Farming districts replacement
        while = {
            limit = {
                    has_district = district_farming
            }
            remove_district = district_farming
            add_district = district_ult_science_district
        }
        
        # Industrial districts replacement
        while = {
            limit = {
                    has_district = district_industrial
            }
            remove_district = district_industrial
            add_district = district_ult_science_district
        }
    }

    option = {
        name = ult_utopia_infrastructure.1.a
    }

}