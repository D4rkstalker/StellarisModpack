namespace = parasitic

#Purity government: purging pops yields unity
planet_event = {
	id = parasitic.1
	hide_window = yes
	is_triggered_only = yes
	
	title = OK
	desc = OK

	trigger = {
		FROM = {
			has_valid_civic = civic_hive_parasitic
		}
		FROMFROM = {
			is_robot_pop = no
			NOT = {
				is_same_species = owner_species
			}
		}
		is_controlled_by = FROM
	}
	
	immediate = {
		create_message = {
			type = MESSAGE_TYPE_PARASITE_COMPLETE
			localization = MESSAGE_PARASITE_COMPLETE
			days = 30
			target = this
				variable = {
					type = name
					localization = PLANET
					scope = this
				}	
		}	

			while = {
		count = 1
		create_pop = {
			species = owner_main_species
			}
		}
	}
}