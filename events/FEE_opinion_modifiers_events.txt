#--
#--		--------------------------- --------------------------- --------------------------- ---------------------------
#--		Fallen Empire Expanded - Opinion Modifier Events for Fallen Empires with new ethos
#--		--------------------------- --------------------------- --------------------------- ---------------------------
#--
#--		PREFACE
#--		�	This file handles empire-to-empire opinion modifiers of fallen empires.
#--		�	Opinion modifiers events provides the framework for mod-added "common/opinion_modifiers" for fallen empires.
#--		�	Wtihout this file, mod-added opinion modifiers will not function.
#--
#--		OPINIONS
#--		�	FEE_opinion.1xx		Fanatic Militarists / Puppet States
#--
#--		--------------------------- --------------------------- --------------------------- ---------------------------
#--

namespace = FEE_opinion

#	--------------------------- --------------------------- --------------------------- ---------------------------
#	FEE_opinion.1xx - Fanatical Militarists
#	--------------------------- --------------------------- --------------------------- ---------------------------

#	--------------------------- --------------------------- --------------------------- ---------------------------
#	FEE_opinion.101 - Stagnant Fanatical Militarist > Opinion of fleet power of other empires (No Crisis)
#	--------------------------- --------------------------- --------------------------- ---------------------------

country_event = {
	id = FEE_opinion.101
	hide_window = yes

	trigger = {
		AND = {
			has_country_flag = "fallen_empire_militarist"
			is_country_type = fallen_empire
			NOT = {
				has_global_flag = galactic_crisis_happened
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		every_country = {
			limit = {
				is_country_type = default
				NOR = {
					has_country_flag = "fallen_empire_militarist_vassal"
					ROOT = {
						has_opinion_modifier = {
							who = prev
							modifier = surface_modifier_id
						}
					}
				}
			}
			root = {
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_dangerous
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_threatening
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_formidable
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_major
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_moderate
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_minor
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_trival
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_none
				}
			}
			switch = {
				trigger = fleet_power
				95000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_fleet_power_dangerous
						}
					}
				}
				80000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_fleet_power_threatening
						}
					}
				}
				65000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_fleet_power_formidable
						}
					}
				}
				50000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_fleet_power_major
						}
					}
				}
				35000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_fleet_power_moderate
						}
					}
				}
				20000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_fleet_power_minor
						}
					}
				}
				10000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_fleet_power_trival
						}
					}
				}
				10000 < {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_fleet_power_none
						}
					}
				}
			}
		}
	}
}

#	--------------------------- --------------------------- --------------------------- ---------------------------
#	FEE_opinion.102 - Awakened Fanatical Militarist > Opinion of fleet power of other empires (No Crisis)
#	--------------------------- --------------------------- --------------------------- ---------------------------

country_event = {
	id = FEE_opinion.102
	hide_window = yes

	trigger = {
		AND = {
			has_country_flag = "fallen_empire_militarist"
			is_country_type = awakened_fallen_empire
			NOT = {
				has_global_flag = galactic_crisis_happened
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		every_country = {
			limit = {
				OR = {
					is_country_type = default
					is_country_type = fallen_empire
				}
				NOR = {
					has_country_flag = "fallen_empire_militarist_vassal"
					ROOT = {
						has_opinion_modifier = {
							who = prev
							modifier = surface_modifier_id
						}
					}
				}
			}
			root = {
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_dangerous
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_threatening
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_formidable
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_major
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_moderate
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_minor
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_trival
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_none
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_equivalent
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_powerful
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_noteworthy
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_potent
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_capable
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_mediocre
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_weak
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_powerless
				}
			}
			switch = {
				trigger = fleet_power
				200000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_awakened_equivalent
						}
					}
				}
				100000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_awakened_powerful
						}
					}
				}
				80000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_awakened_noteworthy
						}
					}
				}
				50000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_awakened_potent
						}
					}
				}
				35000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_awakened_capable
						}
					}
				}
				20000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_awakened_mediocre
						}
					}
				}
				5000 > {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_awakened_weak
						}
					}
				}
				5000 < {
					root = {
						add_opinion_modifier = {
							who = prev
							modifier = FEE_opinion_militarist_awakened_powerless
						}
					}
				}
			}
		}
	}
}

country_event = {
	id = FEE_opinion.105
	hide_window = yes

	trigger = {
		AND = {
			has_country_flag = "fallen_empire_militarist"
			OR = {
				is_country_type = awakened_fallen_empire
				is_country_type = fallen_empire
			}
			has_global_flag = galactic_crisis_happened
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		every_country = {
			limit = {
				OR = {
					is_country_type = default
					is_country_type = fallen_empire
				}
				NOR = {
					has_country_flag = "fallen_empire_militarist_vassal"
					ROOT = {
						has_opinion_modifier = {
							who = prev
							modifier = surface_modifier_id
						}
					}
				}
			}
			root = {
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_dangerous
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_threatening
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_formidable
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_major
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_moderate
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_minor
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_trival
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_fleet_power_none
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_equivalent
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_powerful
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_noteworthy
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_potent
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_capable
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_mediocre
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_weak
				}
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_awakened_powerless
				}
				add_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_crisis
				}
			}
		}
	}
}

#	--------------------------- --------------------------- --------------------------- ---------------------------
#	FEE_opinion.103 - Fanatical Militarist > Opinion of subject / Puppet States > Opinion of overlord
#	--------------------------- --------------------------- --------------------------- ---------------------------

country_event = {
	id = FEE_opinion.103
	hide_window = yes

	trigger = {
		OR = {
			has_country_flag = "fallen_empire_militarist_vassal"
			has_country_flag = "fallen_empire_militarist"
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		every_country = {
			limit = {
				OR = {
					has_country_flag = "fallen_empire_militarist_vassal"
					has_country_flag = "fallen_empire_militarist"
				}
			}
			root = {
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_vassal_relations
				}
			}
			root = {
				add_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_vassal_relations
				}
			}
		}
	}
}

#	--------------------------- --------------------------- --------------------------- ---------------------------
#	FEE_opinion.104 - Puppet State belligerent towards other empires
#	--------------------------- --------------------------- --------------------------- ---------------------------

country_event = {
	id = FEE_opinion.104
	hide_window = yes

	trigger = {
		has_country_flag = "fallen_empire_militarist_vassal"
	}

	mean_time_to_happen = {
		days = 30
	}

	immediate = {
		every_country = {
			limit = {
				is_country_type = default
				is_neighbor_of = root
				NOR = {
					has_country_flag = "fallen_empire_militarist"
					ROOT = {
						has_opinion_modifier = {
							who = prev
							modifier = surface_modifier_id
						}
					}
				}

			}
			root = {
				remove_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_vassal_belligerent
				}
			}
			root = {
				add_opinion_modifier = {
					who = prev
					modifier = FEE_opinion_militarist_vassal_belligerent
				}
			}
		}
	}
}