namespace = gigaalderson
#specialization
country_event = {
	id = gigaalderson.1000
	title = gigaalderson.1000.title
	desc = gigaalderson.1000.desc
	picture = GFX_evt_alderson
	show_sound = event_dyson_sphere_build_upgrade_panel  
	location = FROMFROM

	is_triggered_only = yes

	trigger = {
		FROM = { is_megastructure_type = alderson_disk_2_specialize }
	}
	
	option = {
		name = gigaalderson.1000.a
		custom_tooltip = gigaalderson.1000.a.tooltip
		hidden_effect = {
			FROM = {
				upgrade_megastructure_to = alderson_disk_2_construction_gaia
			}
  		}
	}
	
	option = {
		name = gigaalderson.1000.b
		custom_tooltip = gigaalderson.1000.b.tooltip
		allow = {
			ROOT = {
				has_technology = tech_giga_planetary_computer
			}
		}
		hidden_effect = {
			FROM = {
				upgrade_megastructure_to = alderson_disk_2_construction_pc
			}
  		}
	}

	option = {
		name = gigaalderson.1000.c
		custom_tooltip = gigaalderson.1000.c.tooltip
		allow = {
			ROOT = {
				has_ascension_perk = ap_arcology_project
			}
		}
		hidden_effect = {
			FROM = {
				upgrade_megastructure_to = alderson_disk_2_construction_ecu
			}
  		}
	}
}

#swap out the megas when terraforming
#terraformed to gaia
planet_event = {
	id = gigaalderson.999
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			is_planet_class = pc_alderson_slice_gaia
			is_planet_class = pc_alderson_slice_pc
			is_planet_class = pc_alderson_slice_ecu
		}
	}

	immediate = {
		if = {
			limit = {
				is_planet_class = pc_alderson_slice_gaia
			}
			planet_event = { id = gigaalderson.1001 }
		}
		else_if = {
			limit = {
				is_planet_class = pc_alderson_slice_ecu
			}
			planet_event = { id = gigaalderson.1002 }
		}
		else_if = {
			limit = {
				is_planet_class = pc_alderson_slice_pc
			}
			planet_event = { id = gigaalderson.1003 }
		}
	}
}

planet_event = {
	id = gigaalderson.1001
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				has_planet_flag = alderson_one
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_one
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_gaia_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_two
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_two
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_gaia_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_three
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_three
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_gaia_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_four
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_four
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_gaia_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_five
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_five
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_gaia_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_six
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_six
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_gaia_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_seven
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_seven
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_gaia_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_eight
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_eight
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_gaia_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
	}
}

#terraformed to ecu
planet_event = {
	id = gigaalderson.1002
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				has_planet_flag = alderson_one
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_one
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_ecu_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_two
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_two
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_ecu_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_three
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_three
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_ecu_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_four
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_four
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_ecu_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_five
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_five
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_ecu_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_six
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_six
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_ecu_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_seven
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_seven
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_ecu_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_eight
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_eight
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_ecu_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
	}
}

#terraformed to pc
planet_event = {
	id = gigaalderson.1003
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				has_planet_flag = alderson_one
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_one
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_pc_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_two
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_two
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_pc_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_three
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_three
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_pc_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_four
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_four
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_pc_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_five
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_five
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_pc_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_six
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_six
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_pc_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_seven
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_seven
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_pc_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_planet_flag = alderson_eight
			}
			solar_system = {
				random_system_megastructure = {
					limit = {
						has_megastructure_flag = alderson_eight
					}
					delete_megastructure = THIS
					solar_system = {
						spawn_megastructure = {
							type = alderson_disk_2_pc_terraformed
							location = ROOT
							owner = space_owner
						}
					}
				}
			}
		}
	}
}

#construction site
country_event = {
	id = gigaalderson.1
	title = gigaalderson.1.title
	desc = gigaalderson.1.desc
	picture = GFX_evt_alderson
	show_sound = event_dyson_sphere_build_start
	location = FROMFROM

	is_triggered_only = yes

	trigger = {
		FROM = { is_megastructure_type = alderson_disk_0 }
	}
	
	option = {
		name = gigaalderson.1.a
	}
}

#frame
country_event = {
	id = gigaalderson.2
	title = gigaalderson.2.title
	desc = gigaalderson.2.desc
	picture = GFX_evt_alderson
	show_sound = event_dyson_sphere_build_upgrade_frame
	location = FROMFROM

	is_triggered_only = yes

	trigger = {
		FROM = { is_megastructure_type = alderson_disk_1 }
	}
	
	option = {
		name = gigaalderson.2.a
		custom_tooltip = gigaalderson.2.a.tooltip
	}
}

#slice (gaia)
country_event = {
	id = gigaalderson.31
	title = gigaalderson.31.title
	desc = gigaalderson.31.desc
	picture = GFX_evt_alderson
	show_sound = event_ringworld_build_complete
	location = FROMFROM

	is_triggered_only = yes

	trigger = {
		FROM = { is_megastructure_type = alderson_disk_2_gaia }
	}
	
	option = {
		name = gigaalderson.31.a
	}
}

#slice (pc)
country_event = {
	id = gigaalderson.32
	title = gigaalderson.32.title
	desc = gigaalderson.32.desc
	picture = GFX_evt_alderson
	show_sound = event_ringworld_build_complete
	location = FROMFROM

	is_triggered_only = yes

	trigger = {
		FROM = { is_megastructure_type = alderson_disk_2_pc }
	}
	
	option = {
		name = gigaalderson.32.a
		custom_tooltip = gigaalderson.32.a.tooltip
	}
}

#slice (ecu)
country_event = {
	id = gigaalderson.33
	title = gigaalderson.33.title
	desc = gigaalderson.33.desc
	picture = GFX_evt_alderson
	show_sound = event_ringworld_build_complete
	location = FROMFROM

	is_triggered_only = yes

	trigger = {
		FROM = { is_megastructure_type = alderson_disk_2_ecu }
	}
	
	option = {
		name = gigaalderson.33.a
	}
}

#fully complete
country_event = {
	id = gigaalderson.40
	title = gigaalderson.40.title
	desc = gigaalderson.40.desc
	picture = GFX_evt_alderson
	show_sound = event_ringworld_build_complete
	location = FROMFROM
	
	is_triggered_only = yes
	
	trigger = {
		FROM = { 
			OR = {
				is_megastructure_type = alderson_disk_2_ecu
				is_megastructure_type = alderson_disk_2_pc
				is_megastructure_type = alderson_disk_2_gaia
			}
		}
		FROMFROM = {
			NOT = {
				any_system_megastructure = 	{		
					OR = {
						is_megastructure_type = alderson_disk_2_construction_gaia
						is_megastructure_type = alderson_disk_2_construction_pc
						is_megastructure_type = alderson_disk_2_construction_ecu
						is_megastructure_type = alderson_disk_2_specialize
						is_megastructure_type = alderson_disk_2
					}
				}
			}
		}
	}
	
	option = {
		name = gigaalderson.40.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier5unityreward
			}
		}
	}
}