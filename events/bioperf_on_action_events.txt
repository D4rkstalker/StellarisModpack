#-----On-Action Events-----#

namespace = ytraits

#-----New leaders get Bio Perfection Trait-----#

country_event = {
	id = ytraits.0
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		every_owned_leader = {
			add_yanz_leader_traits_after_modification = yes
			remove_yanz_leader_traits_after_modification = yes
		}
		every_pool_leader = {
			add_yanz_leader_traits_after_modification = yes
			remove_yanz_leader_traits_after_modification = yes
		}
	}
}


country_event = {
	id = ytraits.1
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		from = {
			species = { has_trait = trait_yanz_biological_perfection }
		}
	}
	
	immediate = {
	set_country_flag = bioperf_empire
		from = {
			if = {
				limit = { leader_class = admiral }
				add_trait = leader_trait_admiral_yanz_biological_perfection
				add_ruler_trait = leader_trait_ruler_yanz_biological_perfection
				break = yes
			}
			if = {
				limit = { leader_class = general }
				add_trait = leader_trait_general_yanz_biological_perfection
				add_ruler_trait = leader_trait_ruler_yanz_biological_perfection
				break = yes
			}
			if = {
				limit = { leader_class = governor }
				add_trait = leader_trait_governor_yanz_biological_perfection
				add_ruler_trait = leader_trait_ruler_yanz_biological_perfection
				break = yes
			}
			if = {
				limit = { leader_class = scientist }
				add_trait = leader_trait_scientist_yanz_biological_perfection
				add_ruler_trait = leader_trait_ruler_yanz_biological_perfection
				break = yes
			}
			if = {
				limit = { leader_class = ruler }
				add_trait = leader_trait_ruler_yanz_biological_perfection
				add_ruler_trait = leader_trait_ruler_yanz_biological_perfection
				break = yes
			}
		}
	}
}

#-----New leaders get Genius Trait-----#

country_event = {
	id = ytraits.2
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		from = {
			species = { has_trait = trait_yanz_genius }
		}
	}
	
	immediate = {
	set_country_flag = bioperf_empire
		from = {
			if = {
				limit = { leader_class = admiral }
				add_trait = leader_trait_admiral_yanz_genius
				add_ruler_trait = leader_trait_ruler_yanz_genius
				break = yes
			}
			if = {
				limit = { leader_class = general }
				add_trait = leader_trait_general_yanz_genius
				add_ruler_trait = leader_trait_ruler_yanz_genius
				break = yes
			}
			if = {
				limit = { leader_class = governor }
				add_trait = leader_trait_governor_yanz_genius
				add_ruler_trait = leader_trait_ruler_yanz_genius
				break = yes
			}
			if = {
				limit = { leader_class = scientist }
				add_trait = leader_trait_scientist_yanz_genius
				add_ruler_trait = leader_trait_ruler_yanz_genius
				break = yes
			}
			if = {
				limit = { leader_class = ruler }
				add_trait = leader_trait_ruler_yanz_genius
				add_ruler_trait = leader_trait_ruler_yanz_genius
				break = yes
			}
		}
	}
}

#-----New leaders get Synthesis-----#

country_event = {
	id = ytraits.3
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		from = {
			species = { has_trait = trait_yanz_biological_perfection_synthesis }
		}
	}
	
	immediate = {
	set_country_flag = bioperf_empire
		from = {
			if = {
				limit = { leader_class = admiral }
				add_trait = leader_trait_admiral_yanz_biological_perfectionm
				add_ruler_trait = leader_trait_ruler_yanz_biological_perfectionm
				break = yes
			}
			if = {
				limit = { leader_class = general }
				add_trait = leader_trait_general_yanz_biological_perfectionm
				add_ruler_trait = leader_trait_ruler_yanz_biological_perfectionm
				break = yes
			}
			if = {
				limit = { leader_class = governor }
				add_trait = leader_trait_governor_yanz_biological_perfectionm
				add_ruler_trait = leader_trait_ruler_yanz_biological_perfectionm
				break = yes
			}
			if = {
				limit = { leader_class = scientist }
				add_trait = leader_trait_scientist_yanz_biological_perfectionm
				add_ruler_trait = leader_trait_ruler_yanz_biological_perfectionm
				break = yes
			}
			if = {
				limit = { leader_class = ruler }
				add_trait = leader_trait_ruler_yanz_biological_perfectionm
				add_ruler_trait = leader_trait_ruler_yanz_biological_perfectionm
				break = yes
			}
		}
	}
}

#-----New Synth leaders get Genius Trait-----#

country_event = {
	id = ytraits.4
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		from = {
			species = { has_trait = trait_yanz_geniusm }
		}
	}
	
	immediate = {
	set_country_flag = genius_empire
		from = {
			if = {
				limit = { leader_class = admiral }
				add_trait = leader_trait_admiral_yanz_genius
				add_ruler_trait = leader_trait_ruler_yanz_genius
				break = yes
			}
			if = {
				limit = { leader_class = general }
				add_trait = leader_trait_general_yanz_genius
				add_ruler_trait = leader_trait_ruler_yanz_genius
				break = yes
			}
			if = {
				limit = { leader_class = governor }
				add_trait = leader_trait_governor_yanz_genius
				add_ruler_trait = leader_trait_ruler_yanz_genius
				break = yes
			}
			if = {
				limit = { leader_class = scientist }
				add_trait = leader_trait_scientist_yanz_genius
				add_ruler_trait = leader_trait_ruler_yanz_genius
				break = yes
			}
			if = {
				limit = { leader_class = ruler }
				add_trait = leader_trait_ruler_yanz_genius
				add_ruler_trait = leader_trait_ruler_yanz_genius
				break = yes
			}
		}
	}
}