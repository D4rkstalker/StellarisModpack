namespace = skalla

event = {
	id = skalla.1
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_country = {
			is_country_type = default
			is_ai = yes
		}
	}

	immediate = {
		every_country = {
			limit = {
				is_country_type = default
				is_ai = yes
			}			
			add_modifier = {
				modifier = "SKALLA_AI_BOOST_EARLY"
				days = -1
			}
		}
	}	
}

event = {
	id = skalla.2
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_country = {
			is_country_type = default
			is_ai = yes
		}
	}

	immediate = {
		every_country = {
			limit = {
				is_country_type = default
				is_ai = yes
			}			
			add_modifier = {
				modifier = "SKALLA_AI_BOOST_LATE"
				days = -1
			}
		}
	}	
}

event = {
	id = skalla.3
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		years_passed > 10
		OR = {
			from = {
				is_country_type = default
				used_naval_capacity_percent < 0.5
			}	
			root = {
				is_country_type = default
				used_naval_capacity_percent < 0.5
			}	
		}
	}

	immediate = {
		from = {
			if = { limit = {
					is_country_type = default
					used_naval_capacity_percent < 0.5 
				}
				add_modifier = {
					modifier = "SKALLA_AI_BOOST_WAR_RECOVERY"
					days = 1800
				}
			}
		}
		root = {
			if = { limit = {
					is_country_type = default
					used_naval_capacity_percent < 0.5 
				}
				add_modifier = {
					modifier = "SKALLA_AI_BOOST_WAR_RECOVERY"
					days = 1800
				}
			}
		}
	}	
}

event = {
	id = skalla.4
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_country = {
			is_country_type = default
			is_ai = yes
			years_passed > 10
		}	
	}

	immediate = {
		every_country = {
			limit = {
				is_country_type = default
				is_ai = yes
				used_naval_capacity_percent < 0.5
			}
			add_modifier = {
				modifier = "SKALLA_AI_BOOST_BUILDUP"
				days = 360
			}
		}
	}	
}

event = {
	id = skalla.5
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_country = {
			is_country_type = default
		}	
	}

	immediate = {
		every_country = {
			limit = {
				is_country_type = default
				used_naval_capacity_percent > 0.5
				has_modifier = {		
					modifier = "SKALLA_AI_BOOST_WAR_RECOVERY"					
				}
			}
			remove_modifier = {
				modifier = "SKALLA_AI_BOOST_WAR_RECOVERY"
				days = -1
			}
		}
	}	
}

event = {
	id = skalla.6
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		any_country = {
			is_country_type = default
			is_ai = yes
		}	
	}

	immediate = {
		every_country = {
			limit = {
				is_country_type = default
				is_ai = yes
			}					
			add_modifier = {
				modifier = "SKALLA_AI_BOOST_MID"
				days = -1
			}
		}
	}	
}

ship_event = {
	id = skalla.7
	hide_window = yes

	trigger = {
		OR = {
			is_ship_class = shipclass_military
			is_ship_class = shipclass_transport
			is_ship_class = shipclass_starbase
		}
		is_in_combat = yes
		NOT = { has_ship_flag = SKALLA_IN_COMBAT }
	}

	immediate = {
		set_ship_flag = SKALLA_IN_COMBAT
		add_modifier = { modifier = SKALLA_SHIP_IN_COMBAT }
	}	
}

ship_event = {
	id = skalla.8
	hide_window = yes

	trigger = {
		OR = {
			is_ship_class = shipclass_military
			is_ship_class = shipclass_transport
			is_ship_class = shipclass_starbase
		}
		is_in_combat = no
	}

	immediate = {
		remove_ship_flag = SKALLA_IN_COMBAT
		remove_modifier = SKALLA_SHIP_IN_COMBAT
	}	
}

country_event = {
	id = skalla.9
	title = "skalla.9.name"
	desc = "skalla.9.desc"
	picture = GFX_evt_crisis_defeated
	show_sound = event_celebration

	is_triggered_only = yes

	immediate = {	
		add_modifier = { SKALLA_GAL_FOCUS_REWARD }
	}
}