namespace = TechAscendant

### Mod Flag
country_event = {
	id = TechAscendant.5000
	hide_window = yes
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	trigger = { NOT = { has_global_flag = TechAscendant_active } }
	immediate = { set_global_flag = TechAscendant_active }
}

### Mapmode Counter
country_event = {
    id = TechAscendant.2000
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        OR = { 
			last_increased_tech = tech_materials_breakthrough
			last_increased_tech = tech_industry_breakthrough
			last_increased_tech = tech_voidcraft_breakthrough
			last_increased_tech = tech_rocketry_breakthrough
			last_increased_tech = tech_particles_breakthrough
			last_increased_tech = tech_field_manipulation_breakthrough
			last_increased_tech = tech_computing_breakthrough
			last_increased_tech = tech_psionics_breakthrough
			last_increased_tech = tech_biology_breakthrough
			last_increased_tech = tech_statecraft_breakthrough
			last_increased_tech = tech_new_worlds_breakthrough
			last_increased_tech = tech_military_theory_breakthrough
			last_increased_tech = tech_archeo_breakthrough
        }
    }
    immediate = {
        change_variable = { which = breakthroughs value = 1 }
		if = {
			limit = {
				NOT = {
					has_event_chain = breakthrough_techs
				}
			}
			begin_event_chain = {
				event_chain = breakthrough_techs
				target = root
			}
		}
		add_event_chain_counter = {
			event_chain = breakthrough_techs
			counter = breakthroughs_known
			amount = 1
		}
		if = {
			limit = { 
				has_technology = tech_materials_breakthrough
				has_point_of_interest = { poi = materials_breakthrough }
			}
			remove_point_of_interest = materials_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_materials_breakthrough
				has_point_of_interest = { poi = materials_breakthrough_origin }
			}
			remove_point_of_interest = materials_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_industry_breakthrough
				has_point_of_interest = { poi = industry_breakthrough }
			}
			remove_point_of_interest = industry_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_industry_breakthrough
				has_point_of_interest = { poi = industry_breakthrough_origin }
			}
			remove_point_of_interest = industry_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_rocketry_breakthrough
				has_point_of_interest = { poi = rocketry_breakthrough }
			}
			remove_point_of_interest = rocketry_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_rocketry_breakthrough
				has_point_of_interest = { poi = rocketry_breakthrough_origin }
			}
			remove_point_of_interest = rocketry_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_voidcraft_breakthrough
				has_point_of_interest = { poi = voidcraft_breakthrough }
			}
			remove_point_of_interest = voidcraft_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_voidcraft_breakthrough
				has_point_of_interest = { poi = voidcraft_breakthrough_origin }
			}
			remove_point_of_interest = voidcraft_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_particles_breakthrough
				has_point_of_interest = { poi = particles_breakthrough }
			}
			remove_point_of_interest = particles_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_particles_breakthrough
				has_point_of_interest = { poi = particles_breakthrough_origin }
			}
			remove_point_of_interest = particles_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_field_manipulation_breakthrough
				has_point_of_interest = { poi = field_manipulation_breakthrough }
			}
			remove_point_of_interest = field_manipulation_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_field_manipulation_breakthrough
				has_point_of_interest = { poi = field_manipulation_breakthrough_origin }
			}
			remove_point_of_interest = field_manipulation_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_computing_breakthrough
				has_point_of_interest = { poi = computing_breakthrough }
			}
			remove_point_of_interest = computing_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_computing_breakthrough
				has_point_of_interest = { poi = computing_breakthrough_origin }
			}
			remove_point_of_interest = computing_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_psionics_breakthrough
				has_point_of_interest = { poi = psionics_breakthrough }
			}
			remove_point_of_interest = psionics_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_psionics_breakthrough
				has_point_of_interest = { poi = psionics_breakthrough_origin }
			}
			remove_point_of_interest = psionics_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_biology_breakthrough
				has_point_of_interest = { poi = biology_breakthrough }
			}
			remove_point_of_interest = biology_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_biology_breakthrough
				has_point_of_interest = { poi = biology_breakthrough_origin }
			}
			remove_point_of_interest = biology_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_statecraft_breakthrough
				has_point_of_interest = { poi = statecraft_breakthrough }
			}
			remove_point_of_interest = statecraft_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_statecraft_breakthrough
				has_point_of_interest = { poi = statecraft_breakthrough_origin }
			}
			remove_point_of_interest = statecraft_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_new_worlds_breakthrough
				has_point_of_interest = { poi = new_worlds_breakthrough }
			}
			remove_point_of_interest = new_worlds_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_new_worlds_breakthrough
				has_point_of_interest = { poi = new_worlds_breakthrough_origin }
			}
			remove_point_of_interest = new_worlds_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_military_theory_breakthrough
				has_point_of_interest = { poi = military_theory_breakthrough }
			}
			remove_point_of_interest = military_theory_breakthrough	
		}
		if = {
			limit = { 
				has_technology = tech_military_theory_breakthrough
				has_point_of_interest = { poi = military_theory_breakthrough_origin }
			}
			remove_point_of_interest = military_theory_breakthrough_origin	
		}
		if = {
			limit = { 
				has_technology = tech_archeo_breakthrough
				has_point_of_interest = { poi = archeo_breakthrough_origin }
			}
			remove_point_of_interest = archeo_breakthrough_origin	
		}
	}
}

### Chance to get breakthrough On Tech Increased
country_event = {
    id = TechAscendant.1
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        has_breakthrough_option = no
		NOT = {
			has_country_flag = breakthrough_pending
		}
    }
    immediate = {
		get_breakthrough_chances = yes
		set_country_flag = breakthough_pending
        random_list = {            
            1 = {
                modifier = {
                    factor = value:breakthrough_cummulative_penalty      
                }
				remove_country_flag = breakthough_pending                    
            }
            1 = {
                modifier = {
                    factor = value:materials_breakthrough_score  
                }
				country_event = {
					id = TechAscendant.100
				}
            }
			1 = {
                modifier = {
                    factor = value:industry_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.200
				}               
            }
			1 = {
                modifier = {
                    factor = value:voidcraft_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.300
				}
            }
			1 = {
                modifier = {
                    factor = value:rocketry_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.400
				}
            }
			1 = {
                modifier = {
                    factor = value:particles_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.500
				}
            }
			1 = {
                modifier = {
                    factor = value:field_manipulation_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.600
				}
            }
			1 = {
                modifier = {
                    factor = value:computing_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.700
				}
            }
			1 = {
                modifier = {
                    factor = value:psionics_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.800
				}
            }
			1 = {
                modifier = {
                    factor = value:biology_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.900
				}
            }
			1 = {
                modifier = {
                    factor = value:statecraft_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.1000
				}
            }
			1 = {
                modifier = {
                    factor = value:new_worlds_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.1100
				}
            }
			1 = {
                modifier = {
                    factor = value:military_theory_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.1200
				}
            }
			1 = {
                modifier = {
                    factor = value:archeo_breakthrough_score  
                }                              
                country_event = {
					id = TechAscendant.1300
				}
            }
        }
    }
}

### Variable Tracker, monthly, player only
country_event = {
    id = TechAscendant.2
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        is_ai = no
    }
    immediate = {
        get_breakthrough_chances = yes
	}
}

### Debug Chance Revealer
country_event = {
    id = TechAscendant.3
    hide_window = yes
    is_triggered_only = yes
    
    immediate = {
		country_event = {
			id = TechAscendant.2
			days = 0
		}
		begin_event_chain = {
			event_chain = breakthrough_techs_debug
			target = root
		}
	}
}

### Announce a known Breakthrough
country_event = {
    id = TechAscendant.5
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
		NOT = {
			has_country_flag = breakthrough_announced
		}
    }
    immediate = {
		if = {
			limit = {
				NOT = { has_country_flag = materials_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_materials_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.111 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = industry_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_industry_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.211 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = voidcraft_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_voidcraft_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.311 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = rocketry_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_rocketry_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.411 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = particles_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_particles_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.511 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = field_manipulation_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_field_manipulation_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.611 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = computing_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_computing_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.711 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = psionics_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_psionics_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.811 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = biology_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_biology_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.911 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = statecraft_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_statecraft_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.1011 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = new_worlds_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_new_worlds_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.1111 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = military_theory_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_military_theory_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.1211 }
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = archeo_known  }
				any_playable_country = {
					AND = {
						has_technology = tech_archeo_breakthrough
                    	has_communications = root
					}					
				}
			}
			country_event = { id = TechAscendant.1311 }
		}
		else = {}
    }
}  

country_event = {
    id = TechAscendant.100
  	title = materials_breakthrough.title
	desc = breakthrough.materials.desc
	picture = GFX_evt_nanofab

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = engineering_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_materials
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_materials
				}
				save_event_target_as = engineering_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = engineering_researcher
			}
		}		
	}
	option = {
		name = MARVELOUS        
		add_research_option = tech_materials_breakthrough
		custom_tooltip = "materials.tooltip"
		hidden_effect = {
			set_country_flag = materials_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = materials_breakthrough_origin
					}                        
				}
				remove_point_of_interest = materials_breakthrough_origin
			}
			create_point_of_interest = {
				id = materials_breakthrough
				name = "poi_materials_breakthrough"
				desc = "poi_materials_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:engineering_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = materials_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 0
		}
	}
	after = {
		remove_country_flag = breakthough_pending
	}
}

### A Foriegn Empire has discovered the materials breakthrough
country_event = {
    id = TechAscendant.111
  	title =  materials_discovered.title
	desc = materials_discovered.desc
	picture = GFX_evt_nanofab

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_materials_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= materials_known }
    }

	immediate = {
		set_country_flag = materials_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_materials_breakthrough
			    has_communications = root
			}
			save_event_target_as = materials_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = materials.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = materials_breakthrough_origin
				name = "poi_materials_breakthrough"
				desc = "poi_materials_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:materials_origin.capital_scope
			}
		}		
	}
}



country_event = {
    id = TechAscendant.200
	title = industry_breakthrough.title
	desc = breakthrough.industry.desc
	picture = GFX_evt_replicator

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = engineering_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_industry
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_industry
				}
				save_event_target_as = engineering_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = engineering_researcher
			}
		}		
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_industry_breakthrough
		custom_tooltip = "industry.tooltip"
		hidden_effect = {
			set_country_flag = industry_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = industry_breakthrough_origin
					}                        
				}
				remove_point_of_interest = industry_breakthrough_origin
			}
			create_point_of_interest = {
				id = industry_breakthrough
				name = "poi_industry_breakthrough"
				desc = "poi_industry_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:engineering_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = industry_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 0
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the industry breakthrough
country_event = {
    id = TechAscendant.211
  	title =  industry_discovered.title
	desc = industry_discovered.desc
	picture = GFX_evt_replicator

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_industry_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= industry_known }
    }

	immediate = {
		set_country_flag = industry_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_industry_breakthrough
			    has_communications = root
			}
			save_event_target_as = industry_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = industry.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = industry_breakthrough_origin
				name = "poi_industry_breakthrough"
				desc = "poi_industry_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:industry_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.300
	title = voidcraft_breakthrough.title
	desc = breakthrough.voidcraft.desc
	picture = GFX_evt_organic_starship

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = engineering_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_voidcraft
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_voidcraft
				}
				save_event_target_as = engineering_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = engineering_researcher
			}
		}		
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_voidcraft_breakthrough
		custom_tooltip = "voidcraft.tooltip"
		hidden_effect = {
			set_country_flag = voidcraft_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = voidcraft_breakthrough_origin
					}                        
				}
				remove_point_of_interest = voidcraft_breakthrough_origin
			}
			create_point_of_interest = {
				id = voidcraft_breakthrough
				name = "poi_voidcraft_breakthrough"
				desc = "poi_voidcraft_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:engineering_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = voidcraft_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 0
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the voidcraft breakthrough
country_event = {
    id = TechAscendant.311
  	title =  voidcraft_discovered.title
	desc = voidcraft_discovered.desc
	picture = GFX_evt_organic_starship

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_voidcraft_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= voidcraft_known }
    }

	immediate = {
		set_country_flag = voidcraft_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_voidcraft_breakthrough
			    has_communications = root
			}
			save_event_target_as = voidcraft_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = voidcraft.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = voidcraft_breakthrough_origin
				name = "poi_voidcraft_breakthrough"
				desc = "poi_voidcraft_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:voidcraft_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.400
	title = rocketry_breakthrough.title
	desc = breakthrough.rocketry.desc
	picture = GFX_evt_inertialess_drive

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = engineering_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_propulsion
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_propulsion
				}
				save_event_target_as = engineering_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = engineering_researcher
			}
		}		
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_rocketry_breakthrough
		custom_tooltip = "rocketry.tooltip"
		hidden_effect = {
			set_country_flag = rocketry_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = rocketry_breakthrough_origin
					}                        
				}
				remove_point_of_interest = rocketry_breakthrough_origin
			}
			create_point_of_interest = {
				id = rocketry_breakthrough
				name = "poi_rocketry_breakthrough"
				desc = "poi_rocketry_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:engineering_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = rocketry_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 0
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the rocketry breakthrough
country_event = {
    id = TechAscendant.411
  	title =  rocketry_discovered.title
	desc = rocketry_discovered.desc
	picture = GFX_evt_inertialess_drive

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_rocketry_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= rocketry_known }
    }

	immediate = {
		set_country_flag = rocketry_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_rocketry_breakthrough
			    has_communications = root
			}
			save_event_target_as = rocketry_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = rocketry.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = rocketry_breakthrough_origin
				name = "poi_rocketry_breakthrough"
				desc = "poi_rocketry_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:rocketry_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.500
	title = particles_breakthrough.title
	desc = breakthrough.particles.desc
	picture = GFX_evt_particles

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = physics_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_particles
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_particles
				}
				save_event_target_as = physics_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = physics_researcher
			}
		}		
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_particles_breakthrough
		custom_tooltip = "particles.tooltip"
		hidden_effect = {
			set_country_flag = particles_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = particles_breakthrough_origin
					}                        
				}
				remove_point_of_interest = particles_breakthrough_origin
			}
			create_point_of_interest = {
				id = particles_breakthrough
				name = "poi_particles_breakthrough"
				desc = "poi_particles_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:physics_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = particles_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 0
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the particles breakthrough
country_event = {
    id = TechAscendant.511
  	title =  particles_discovered.title
	desc = particles_discovered.desc
	picture = GFX_evt_particles

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_particles_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= particles_known }
    }

	immediate = {
		set_country_flag = particles_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_particles_breakthrough
			    has_communications = root
			}
			save_event_target_as = particles_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = particles.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = particles_breakthrough_origin
				name = "poi_particles_breakthrough"
				desc = "poi_particles_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:particles_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.600
	title = field_manipulation_breakthrough.title
	desc = breakthrough.field_manipulation.desc
	picture = GFX_evt_shields

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = physics_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_field_manipulation
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_field_manipulation
				}
				save_event_target_as = physics_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = physics_researcher
			}
		}
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_field_manipulation_breakthrough
		custom_tooltip = "field_manipulation.tooltip"
		hidden_effect = {
			set_country_flag = field_manipulation_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = field_manipulation_breakthrough_origin
					}                        
				}
				remove_point_of_interest = field_manipulation_breakthrough_origin
			}
			create_point_of_interest = {
				id = field_manipulation_breakthrough
				name = "poi_field_manipulation_breakthrough"
				desc = "poi_field_manipulation_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:physics_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = field_manipulation_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 0
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the field_manipulation breakthrough
country_event = {
    id = TechAscendant.611
  	title =  field_manipulation_discovered.title
	desc = field_manipulation_discovered.desc
	picture = GFX_evt_shields

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_field_manipulation_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= field_manipulation_known }
    }

	immediate = {
		set_country_flag = field_manipulation_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_field_manipulation_breakthrough
			    has_communications = root
			}
			save_event_target_as = field_manipulation_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = field_manipulation.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = field_manipulation_breakthrough_origin
				name = "poi_field_manipulation_breakthrough"
				desc = "poi_field_manipulation_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:field_manipulation_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.700
	title = computing_breakthrough.title
	desc = breakthrough.computing.desc
	picture = GFX_evt_singularity

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = physics_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_computing
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_computing
				}
				save_event_target_as = physics_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = physics_researcher
			}
		}
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_computing_breakthrough
		custom_tooltip = "computing.tooltip"
		hidden_effect = {
			set_country_flag = computing_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = computing_breakthrough_origin
					}                        
				}
				remove_point_of_interest = computing_breakthrough_origin
			}
			create_point_of_interest = {
				id = computing_breakthrough
				name = "poi_computing_breakthrough"
				desc = "poi_computing_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:physics_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = computing_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 0
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the computing breakthrough
country_event = {
    id = TechAscendant.711
  	title =  computing_discovered.title
	desc = computing_discovered.desc
	picture = GFX_evt_singularity

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_computing_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= computing_known }
    }

	immediate = {
		set_country_flag = computing_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_computing_breakthrough
			    has_communications = root
			}
			save_event_target_as = computing_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = computing.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = computing_breakthrough_origin
				name = "poi_computing_breakthrough"
				desc = "poi_computing_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:computing_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.800
	title = psionics_breakthrough.title
	desc = breakthrough.psionics.desc
	picture = GFX_evt_vision

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = society_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_psionics
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_psionics
				}
				save_event_target_as = society_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = society_researcher
			}
		}
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_psionics_breakthrough
		custom_tooltip = "psionics.tooltip"
		hidden_effect = {
			set_country_flag = psionics_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = psionics_breakthrough_origin
					}                        
				}
				remove_point_of_interest = psionics_breakthrough_origin
			}
			create_point_of_interest = {
				id = psionics_breakthrough
				name = "poi_psionics_breakthrough"
				desc = "poi_psionics_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:society_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = psionics_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 0
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the psionics breakthrough
country_event = {
    id = TechAscendant.811
  	title =  psionics_discovered.title
	desc = psionics_discovered.desc
	picture = GFX_evt_vision

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_psionics_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= psionics_known }
    }

	immediate = {
		set_country_flag = psionics_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_psionics_breakthrough
			    has_communications = root
			}
			save_event_target_as = psionics_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = psionics.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = psionics_breakthrough_origin
				name = "poi_psionics_breakthrough"
				desc = "poi_psionics_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:psionics_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.900
	title = biology_breakthrough.title
	desc = breakthrough.biology.desc
	picture = GFX_evt_gene_targeting

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = society_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_biology
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_biology 
				}
				save_event_target_as = society_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = society_researcher
			}
		}
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_biology_breakthrough
		custom_tooltip = "biology.tooltip"
		hidden_effect = {
			set_country_flag = biology_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = biology_breakthrough_origin
					}                        
				}
				remove_point_of_interest = biology_breakthrough_origin
			}
			create_point_of_interest = {
				id = biology_breakthrough
				name = "poi_biology_breakthrough"
				desc = "poi_biology_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				has_authority = auth_machine_intelligence
				factor = 0
			}
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:society_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = biology_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 10
			modifier = {
				NOT = { has_authority = auth_machine_intelligence }
				factor = 0
			}
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the biology breakthrough
country_event = {
    id = TechAscendant.911
  	title =  biology_discovered.title
	desc = biology_discovered.desc
	picture = GFX_evt_gene_targeting

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_biology_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= biology_known }
    }

	immediate = {
		set_country_flag = biology_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_biology_breakthrough
			    has_communications = root
			}
			save_event_target_as = biology_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = biology.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = biology_breakthrough_origin
				name = "poi_biology_breakthrough"
				desc = "poi_biology_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:biology_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.1000
	title = statecraft_breakthrough.title
	desc = breakthrough.statecraft.desc
	picture = GFX_evt_babylon5

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = society_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_statecraft
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_statecraft
				}
				save_event_target_as = society_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = society_researcher
			}
		}
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_statecraft_breakthrough
		custom_tooltip = "statecraft.tooltip"
		hidden_effect = {
			set_country_flag = statecraft_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = statecraft_breakthrough_origin
					}                        
				}
				remove_point_of_interest = statecraft_breakthrough_origin
			}
			create_point_of_interest = {
				id = statecraft_breakthrough
				name = "poi_statecraft_breakthrough"
				desc = "poi_statecraft_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				is_homicidal = yes
				factor = 0
			}
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:society_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = statecraft_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 10
			modifier = {
				is_homicidal = no
				factor = 0
			}
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the statecraft breakthrough
country_event = {
    id = TechAscendant.1011
  	title =  statecraft_discovered.title
	desc = statecraft_discovered.desc
	picture = GFX_evt_babylon5

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_statecraft_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= statecraft_known }
    }

	immediate = {
		set_country_flag = statecraft_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_statecraft_breakthrough
			    has_communications = root
			}
			save_event_target_as = statecraft_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = statecraft.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = statecraft_breakthrough_origin
				name = "poi_statecraft_breakthrough"
				desc = "poi_statecraft_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:statecraft_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.1100
	title = new_worlds_breakthrough.title
	desc = breakthrough.new_worlds.desc
	picture = GFX_evt_colony

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = society_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_new_worlds
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_new_worlds
				}
				save_event_target_as = society_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = society_researcher
			}
		}
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_new_worlds_breakthrough
		custom_tooltip = "new_worlds.tooltip"
		hidden_effect = {
			set_country_flag = new_worlds_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = new_worlds_breakthrough_origin
					}                        
				}
				remove_point_of_interest = new_worlds_breakthrough_origin
			}
			create_point_of_interest = {
				id = new_worlds_breakthrough
				name = "poi_new_worlds_breakthrough"
				desc = "poi_new_worlds_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:society_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = new_worlds_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 0
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the new_worlds breakthrough
country_event = {
    id = TechAscendant.1111
  	title =  new_worlds_discovered.title
	desc = new_worlds_discovered.desc
	picture = GFX_evt_colony

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_new_worlds_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= new_worlds_known }
    }

	immediate = {
		set_country_flag = new_worlds_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_new_worlds_breakthrough
			    has_communications = root
			}
			save_event_target_as = new_worlds_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = new_worlds.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = new_worlds_breakthrough_origin
				name = "poi_new_worlds_breakthrough"
				desc = "poi_new_worlds_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:new_worlds_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.1200
	title = military_theory_breakthrough.title
	desc = breakthrough.military_theory.desc
	picture = GFX_evt_chess

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = society_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_military_theory
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_military_theory
				}
				save_event_target_as = society_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = society_researcher
			}
		}
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_military_theory_breakthrough
		custom_tooltip = "military_theory.tooltip"
		hidden_effect = {
			set_country_flag = military_theory_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = military_theory_breakthrough_origin
					}                        
				}
				remove_point_of_interest = military_theory_breakthrough_origin
			}
			create_point_of_interest = {
				id = military_theory_breakthrough
				name = "poi_military_theory_breakthrough"
				desc = "poi_military_theory_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:society_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = military_theory_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 0
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the military_theory breakthrough
country_event = {
    id = TechAscendant.1211
  	title =  military_theory_discovered.title
	desc = military_theory_discovered.desc
	picture = GFX_evt_chess

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_military_theory_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= military_theory_known }
    }

	immediate = {
		set_country_flag = military_theory_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_military_theory_breakthrough
			    has_communications = root
			}
			save_event_target_as = military_theory_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = military_theory.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = military_theory_breakthrough_origin
				name = "poi_military_theory_breakthrough"
				desc = "poi_military_theory_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:military_theory_origin.capital_scope
			}
		}		
	}
}

country_event = {
    id = TechAscendant.1300
	title = archeo_breakthrough.title
	desc = breakthrough.archeo.desc
	picture = GFX_evt_Deus_ex_Machina

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { is_gestalt = yes }
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_gestalt_scientist
				}
				save_event_target_as = society_researcher
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_councilor = yes
					has_trait = leader_trait_expertise_archaeostudies
				}
			}
			random_owned_leader = {
				limit = {
					is_councilor = yes
					has_trait = leader_trait_expertise_archaeostudies
				}
				save_event_target_as = society_researcher
			}			
		}
		else = {
			random_owned_leader = {
				limit = {
					is_councilor_type = councilor_research
				}
				save_event_target_as = society_researcher
			}
		}
	}

	option = {
		name = MARVELOUS        
		add_research_option = tech_archeo_breakthrough
		custom_tooltip = "archeo.tooltip"
		hidden_effect = {
			set_country_flag = archeo_known
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			if = {
				limit = {
					has_point_of_interest = {
						poi = archeo_breakthrough_origin
					}                        
				}
				remove_point_of_interest = archeo_breakthrough_origin
			}
			create_point_of_interest = {
				id = archeo_breakthrough
				name = "poi_archeo_breakthrough"
				desc = "poi_archeo_breakthrough_desc"
				event_chain = breakthrough_techs
				location = root.capital_scope
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				is_materialist = no
				factor = 0				
			}
		}
	}
    
    option = {
		name = NOT_TODAY
		event_target:society_researcher = {
			add_skill_without_trait_selection = 1
		}
		custom_tooltip = "breakthrough_rejected.tooltip"
		set_timed_country_flag = {
			flag = archeo_breakthrough_rejected
			years = 20
		}
		ai_chance = {
			factor = 10
		}
	}
	after = {
		remove_country_flag = breakthough_pending 
	}
}

### A Foriegn Empire has discovered the archeo breakthrough
country_event = {
    id = TechAscendant.1311
  	title =  archeo_discovered.title
	desc = archeo_discovered.desc
	picture = GFX_evt_Deus_ex_Machina

    is_triggered_only = yes
		
    trigger = {
        any_playable_country = { 
            has_technology = tech_archeo_breakthrough
            has_communications = root
        }       
        NOT = { has_country_flag= archeo_known }
    }

	immediate = {
		set_country_flag = archeo_known
		set_timed_country_flag = {
			flag = breakthrough_announced
			days = 400
		}
		random_playable_country = {
			limit = { 
			    has_technology = tech_archeo_breakthrough
			    has_communications = root
			}
			save_event_target_as = archeo_origin
		}  
	}
	option = {
		name = Unlock_secrets
		custom_tooltip = archeo.spread 
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_event_chain = breakthrough_techs }
				}
				begin_event_chain = {
					event_chain = breakthrough_techs
					target = root
				}                    
			}
			create_point_of_interest = {
				id = archeo_breakthrough_origin
				name = "poi_archeo_breakthrough"
				desc = "poi_archeo_breakthrough_origin"
				event_chain = breakthrough_techs
				location = event_target:archeo_origin.capital_scope
			}
		}		
	}
}