
#########################################
#
# on_action_events
#
#########################################

namespace = acot_diplo

event = {
    id = acot_diplo.1
    hide_window = yes
    is_triggered_only = yes

    immediate = {
        if = {
            limit = { 
                NOT = {
                    has_global_flag = acot_events_forbidden
                }
                any_country = {
                    has_technology = tech_dark_matter_power_core
                    OR = {
                        is_country_type = default
                        is_country_type = lost_empire
                        is_country_type = ascended_empire
                        is_country_type = eternal_empire
                    }
                    NOR = {  
                        is_country_type = fallen_empire
                        is_country_type = awakened_fallen_empire
                        has_country_flag = about_to_be_negotiated
                        has_valid_civic = civic_fanatic_purifiers
                        has_valid_civic = civic_machine_terminator
                        has_valid_civic = civic_hive_devouring_swarm
                    }                      
                }
            }  
            random_list = {
                70 = { }
                30 = {
                    if = {
                        limit = {
                            any_country = {
                                has_technology = tech_dark_matter_power_core
                                OR = {
                                    is_country_type = default
                                    is_country_type = lost_empire
                                    is_country_type = ascended_empire
                                    is_country_type = eternal_empire
                                }
                                NOR = {  
                                    is_country_type = fallen_empire
                                    is_country_type = awakened_fallen_empire
                                    has_country_flag = about_to_be_negotiated
                                    has_valid_civic = civic_fanatic_purifiers
                                    has_valid_civic = civic_machine_terminator
                                    has_valid_civic = civic_hive_devouring_swarm
                                }                               
                            }
                         }
                         random_country = {
                            limit = {
                                has_technology = tech_dark_matter_power_core
                                NOR = {  
                                    is_country_type = fallen_empire
                                    is_country_type = awakened_fallen_empire
                                    has_country_flag = about_to_be_negotiated
                                    has_valid_civic = civic_fanatic_purifiers
                                    has_valid_civic = civic_machine_terminator
                                    has_valid_civic = civic_hive_devouring_swarm
                                }                
                            }
                            country_event = { id = acot_diplo.2  }
                        }                       
                    }
                    else = {
                        
                    }
                }
            } 
        }
    }
}

country_event = {
    id = acot_diplo.2
    hide_window = yes
    trigger = {
        NOT = {
            has_global_flag = acot_events_forbidden
        }
        has_technology = tech_dark_matter_power_core
        OR = {
            is_country_type = default
            is_country_type = lost_empire
            is_country_type = ascended_empire
            is_country_type = eternal_empire
        }
        NOR = {  
            is_country_type = fallen_empire
            is_country_type = awakened_fallen_empire
            has_country_flag = about_to_be_negotiated
            has_valid_civic = civic_fanatic_purifiers
            has_valid_civic = civic_machine_terminator
            has_valid_civic = civic_hive_devouring_swarm
        }  
    }

    mean_time_to_happen = {
        years = 10
    }

    immediate = {
        if = {
            limit = { 
                any_country = {
                    is_ai = yes
                    is_country_type = default
                    has_established_contact = root
                    has_technology = tech_zero_point_power
                    has_technology = tech_mine_dark_matter
                    OR = {   
                        is_in_federation_with = root
                        is_friendly_to = root
                        is_cordial_to = root
                        is_neighbor_of = root
                    }
                    NOR = {
                        is_unfriendly_to = root
                        is_rival = root
                        is_hostile_to = root
                        is_disloyal_to = root
                        has_technology = tech_dark_matter_power_core
                        has_tech_option = tech_dark_matter_power_core
                        has_country_flag = delay_before_ask_dm
                    }
                }
            }
            set_country_flag = about_to_be_negotiated
            random_country = {
                limit = {
                    is_ai = yes
                    is_country_type = default
                    has_established_contact = root
                    has_technology = tech_zero_point_power
                    has_technology = tech_mine_dark_matter
                    OR = {
                        is_in_federation_with = root
                        is_friendly_to = root
                        is_cordial_to = root
                        is_neighbor_of = root
                    }
                    NOR = {
                        is_unfriendly_to = root
                        is_rival = root
                        is_hostile_to = root
                        is_disloyal_to = root
                        has_technology = tech_dark_matter_power_core
                        has_tech_option = tech_dark_matter_power_core
                        has_country_flag = delay_before_ask_dm
                    }                  
                }
                save_event_target_as = interested_buyer
            }
            country_event = { id = acot_diplo.3  }           
        }
        else = {
            
        }
    }
}

country_event = {
	id = acot_diplo.3
	title = acot_diplo.3.name
	
	is_triggered_only = yes
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:interested_buyer
		planet_background = event_target:interested_buyer
		graphical_culture = event_target:interested_buyer
		city_level = event_target:interested_buyer
		room = event_target:interested_buyer.ruler
	}
		

	desc = {
		text = acot_diplo.3.desc.friendly
		trigger = {
			event_target:interested_buyer = { 
				OR = {
                    is_friendly_to = ROOT
                    is_cordial_to = ROOT
                    has_defensive_pact = root
                    is_in_federation_with = ROOT
				}
			}
		}
	}
	desc = {
		text = acot_diplo.3.desc.neutral
		trigger = {
			event_target:interested_buyer = { 
				NOR = {
                    is_friendly_to = ROOT
                    is_cordial_to = ROOT
                    has_defensive_pact = root
                    is_in_federation_with = ROOT
				}
			}
		}
	}


	option = {
		name = acot_diplo.3.a
        response_text = acot_diplo.3.a.response
        custom_tooltip = dm_with_assist_tooltip
        event_target:interested_buyer = { 
            add_research_option = tech_dark_matter_power_core
            set_country_flag = have_received_dm
            add_tech_progress = {
                tech = tech_dark_matter_power_core
                progress = 0.50
            }
            if = {
                limit = {
                    ROOT = {
                        has_technology = tech_dark_matter_propulsion
                    }
                 }
                 add_research_option = tech_dark_matter_propulsion
            }
            if = {
                limit = {
                    ROOT = {
                        has_technology = tech_dark_matter_deflector
                    }
                 }
                 add_research_option = tech_dark_matter_deflector
            }
            add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_with_assist }
        }
		hidden_effect = {
            every_country = {
                limit = {
                    is_country_type = default
                    OR = {
                        is_friendly_to = ROOT
                        is_cordial_to = ROOT
                        has_defensive_pact = root
                        is_in_federation_with = ROOT          
                    }
                    NOR = {
                        is_same_value = root
                        is_same_value = event_target:interested_buyer
                    }
                }
                add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_with_assist_neighbour }
            }
            every_country = {
                limit = {
                    OR = {
                        is_rival = event_target:interested_buyer
                        is_unfriendly_to = event_target:interested_buyer
                        is_hostile_to = event_target:interested_buyer
                        is_overlord_to = event_target:interested_buyer           
                    }
                    NOR = {
                        is_same_value = root
                    }
                }
                add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_to_enemy }
            }
			remove_country_flag = about_to_be_negotiated
        }
        
        ai_chance = {
            factor = 5
            modifier = {
                factor = 10
                OR = {
                    is_friendly_to = from
                    is_in_federation_with = from            
                }
            }
        }
	}

	option = {
		name = acot_diplo.3.b
        response_text = acot_diplo.3.b.response
        custom_tooltip = dm_with_assist_tooltip
        event_target:interested_buyer = { 
            set_country_flag = have_received_dm
            add_research_option = tech_dark_matter_power_core
            add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_normal }
        }
		hidden_effect = {
            every_country = {
                limit = {
                    is_country_type = default
                    OR = {
                        is_friendly_to = ROOT
                        is_cordial_to = ROOT
                        has_defensive_pact = root
                        is_in_federation_with = ROOT            
                    }
                    NOR = {
                        is_same_value = root
                        is_same_value = event_target:interested_buyer
                    }
                }
                add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_normal_neighbour }
            }
            every_country = {
                limit = {
                    OR = {
                        is_rival = event_target:interested_buyer
                        is_unfriendly_to = event_target:interested_buyer
                        is_hostile_to = event_target:interested_buyer
                        is_overlord_to = event_target:interested_buyer           
                    }
                    NOR = {
                        is_same_value = root
                    }
                }
                add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_to_enemy }
            }
			remove_country_flag = about_to_be_negotiated
        }
        
        ai_chance = {
            factor = 5
            modifier = {
                factor = 10
                OR = {
                    is_cordial_to = from        
                }
            }
        }
	}

	option = {
		name = acot_diplo.3.c
        response_text = acot_diplo.3.c.response
        custom_tooltip = dm_with_assist_tooltip
        trigger = {
            NOR = {
                has_country_flag = taught_how_to_dm
            }
        }
        add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_normal_neighbour }
        event_target:interested_buyer = { 
            set_timed_country_flag = {
                flag = delay_before_ask_dm
                days = 3600
            }
            set_country_flag = taught_how_to_dm
            random_owned_leader = {
                limit = {
                    leader_class = scientist
                    is_researching_area = society
                }
                if = {
                    limit = { 
                        has_skill <= 5 
                     }
                     set_skill = 6
                }
                if = {
                    limit = { 
                        NOT = { has_trait = leader_trait_spark_of_genius }
                     }
                     add_trait = leader_trait_spark_of_genius
                }
            }
            random_owned_leader = {
                limit = {
                    leader_class = scientist
                    is_researching_area = physics
                }
                if = {
                    limit = { 
                        has_skill <= 5 
                     }
                     set_skill = 6
                }
                if = {
                    limit = { 
                        NOT = { has_trait = leader_trait_spark_of_genius }
                     }
                     add_trait = leader_trait_spark_of_genius
                }
            }
            random_owned_leader = {
                limit = {
                    leader_class = scientist
                    is_researching_area = engineering
                }
                if = {
                    limit = { 
                        has_skill <= 5 
                     }
                     set_skill = 6
                }
                if = {
                    limit = { 
                        NOT = { has_trait = leader_trait_spark_of_genius }
                     }
                     add_trait = leader_trait_spark_of_genius
                }
            }
        }
		hidden_effect = {
			remove_country_flag = about_to_be_negotiated
        }
        
	}

	option = {
		name = acot_diplo.3.d
        response_text = acot_diplo.3.d.response
        trigger = {
            event_target:interested_buyer = { 
                OR = {
                    is_friendly_to = ROOT
                    is_cordial_to = ROOT
                    has_defensive_pact = root
                    is_in_federation_with = ROOT
                }
            }         
        }
        event_target:interested_buyer = {
            add_opinion_modifier = { who = root modifier = triggered_opinion_refuse_dm_friendly }
            if = {
                limit = { has_country_flag = asked_for_dm } 
                set_timed_country_flag = {
                    flag = delay_before_ask_dm
                    days = 3600
                }   
            }
            else = {
                set_timed_country_flag = {
                    flag = delay_before_ask_dm
                    days = 1800
                }    
                set_country_flag = asked_for_dm
                break = yes             
            }
            every_country = {
                limit = {
                    OR = {
                        is_friendly_to = ROOT
                        is_cordial_to = ROOT
                        has_defensive_pact = root
                        is_in_federation_with = ROOT                   
                    }
                    NOR = {
                        is_same_value = ROOT
                        is_same_value = event_target:interested_buyer                    
                    }
                }
                add_opinion_modifier = { who = root modifier = triggered_opinion_refuse_dm_friendly_others }
            }           
        }
		hidden_effect = {
			remove_country_flag = about_to_be_negotiated
        }
        
        ai_chance = {
            factor = 5
            modifier = {
                factor = 7
                NOR = {
                    is_cordial_to = from  
                    is_friendly_to = from
                }
            }
            modifier = {
                factor = 10
                OR = {
                    has_ethic = ethic_fanatic_xenophobe
                    has_ethic = ethic_xenophobe
                }
            }
        }
    }
    
	option = {
		name = acot_diplo.3.e
        response_text = acot_diplo.3.e.response
        trigger = {
            event_target:interested_buyer = { 
                NOR = {
                    is_friendly_to = ROOT
                    is_cordial_to = ROOT
                    has_defensive_pact = root
                    is_in_federation_with = ROOT
                }
            }         
        }

        event_target:interested_buyer = {
            add_opinion_modifier = { who = root modifier = triggered_opinion_refuse_dm_neutral }
            if = {
                limit = { has_country_flag = asked_for_dm } 
                set_timed_country_flag = {
                    flag = delay_before_ask_dm
                    days = 3600
                }   
            }
            else = {
                set_timed_country_flag = {
                    flag = delay_before_ask_dm
                    days = 1800
                }    
                set_country_flag = asked_for_dm
                break = yes             
            }
        }
		hidden_effect = {
			remove_country_flag = about_to_be_negotiated
        }
        
        ai_chance = {
            factor = 5
            modifier = {
                factor = 7
                NOR = {
                    is_cordial_to = from  
                    is_friendly_to = from
                }
            }
            modifier = {
                factor = 10
                OR = {
                    has_ethic = ethic_fanatic_xenophobe
                    has_ethic = ethic_xenophobe
                }
            }
        }
    }
    
	option = {
		name = acot_diplo.3.f
        response_text = acot_diplo.3.f.response
        trigger = {
            event_target:interested_buyer = { 
                any_owned_megastructure = {
                    is_megastructure_type = lgate_base
                }
            }         
        }
        event_target:interested_buyer = { 
            set_country_flag = have_received_dm
            add_research_option = tech_dark_matter_power_core
            add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_normal }
            random_system = {
                limit = {
                    is_owned_by = event_target:interested_buyer 
                    has_megastructure = lgate_base
                }
                random_fleet_in_system = {
                    limit = {
                        any_owned_ship = {
                            is_ship_class = shipclass_starbase
                        }
                    }
                    set_owner = ROOT
                }
                every_system_planet = {
                    limit = {
                        OR = {
                            habitable_planet = yes
                            habitable_structure = yes
                        }
                    }
                    set_owner = ROOT
                }
            }
        }
		hidden_effect = {
            every_country = {
                limit = {
                    OR = {
                        is_rival = event_target:interested_buyer
                        is_unfriendly_to = event_target:interested_buyer
                        is_hostile_to = event_target:interested_buyer
                        is_overlord_to = event_target:interested_buyer           
                    }
                    NOR = {
                        is_same_value = root
                    }
                }
                add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_to_enemy }
            }
			remove_country_flag = about_to_be_negotiated
        }        
    }
    
	option = {
		name = acot_diplo.3.g
        response_text = acot_diplo.3.g.response
        trigger = {
            event_target:interested_buyer = { 
                any_owned_megastructure = {
                    is_megastructure_type = sofe_outer_gate
                }
            }         
        }
        event_target:interested_buyer = { 
            set_country_flag = have_received_dm
            add_research_option = tech_dark_matter_power_core
            add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_normal }
            random_system = {
                limit = {
                    is_owned_by = event_target:interested_buyer 
                    has_megastructure = sofe_outer_gate
                }
                random_fleet_in_system = {
                    limit = {
                        any_owned_ship = {
                            is_ship_class = shipclass_starbase
                        }
                    }
                    set_owner = ROOT
                }
                every_system_planet = {
                    limit = {
                        OR = {
                            habitable_planet = yes
                            habitable_structure = yes
                        }
                    }
                    set_owner = ROOT
                }
            }
        }
		hidden_effect = {
            every_country = {
                limit = {
                    OR = {
                        is_rival = event_target:interested_buyer
                        is_unfriendly_to = event_target:interested_buyer
                        is_hostile_to = event_target:interested_buyer
                        is_overlord_to = event_target:interested_buyer           
                    }
                    NOR = {
                        is_same_value = root
                    }
                }
                add_opinion_modifier = { who = root modifier = triggered_opinion_give_dm_to_enemy }
            }
			remove_country_flag = about_to_be_negotiated
        }        
	}
}


country_event = {
    id = acot_diplo.4
    hide_window = yes
    trigger = {
        is_country_type = default
        has_technology = tech_dark_matter_power_core
        NOR = {  
            has_ascension_perk = ap_enigmatic_engineering          
            has_country_flag = will_not_have_ambushed_ship
        }     
       NOT = {
          has_global_flag = acot_events_forbidden
        }
        any_owned_ship = {
            is_ship_class = shipclass_science_ship
            leader = {
                has_skill <= 5
            }
            NOR = {
                is_inside_border = root
                solar_system = {
                    NOR = {
                        has_owner = yes
                        any_ship_in_system = {
                            is_ship_class = shipclass_military
                        }                       
                    }
                }
            }
        }     
        any_country = {
            is_ai = yes
            is_country_type = default
            has_established_contact = root
            NOR = {
                has_country_flag = hiring_in_progress   
                is_in_federation_with = root
                is_friendly_to = root
                is_cordial_to = root
                has_technology = tech_dark_matter_power_core
            }
            OR = {
                is_unfriendly_to = root
                is_rival = root
                is_hostile_to = root
            }
        }  
   }

   mean_time_to_happen = {
       years = 10
   }

    immediate = {
        set_timed_country_flag = {
            flag = will_not_have_ambushed_ship
            days = 3600
        }
        ############SELLECT THE HIRER#############
         random_country = {
            limit = {
                is_ai = yes
                is_country_type = default
                has_established_contact = root
                NOR = {   
                    has_country_flag = hiring_in_progress   
                    is_in_federation_with = root
                    is_friendly_to = root
                    is_cordial_to = root
                    has_technology = tech_dark_matter_power_core
                }
                OR = {
                    is_unfriendly_to = root
                    is_rival = root
                    is_hostile_to = root
                }                  
            }
            save_event_target_as = raiding_hirer_country
            set_country_flag = hiring_in_progress
            capital_scope = {
                save_event_target_as = raiding_hirer_capital
                set_planet_flag = raiding_hirer_capital_planet
            }
        }
            #######RANDOM A SCIENCE SHIP################
        random_owned_ship = {
            limit = {
                is_ship_class = shipclass_science_ship
                leader = {
                    has_skill <= 5
                }
                NOR = {
                    is_inside_border = root
                    solar_system = {
                        has_owner = yes
                        any_ship_in_system = {
                            is_ship_class = shipclass_military
                        }    
                    }
                }
            }  
            save_event_target_as = kidnapped_science_ship             
        }
        ########CREATE A RAIDER####################
        create_country = {
            type = acot_techno_pirate
            name = "Pubstompah"
        }
        last_created_country = {
            save_event_target_as = pirate_of_science_ship
            set_country_flag = raider_hired_by@event_target:raiding_hirer_country
            create_fleet = {
                name = "NAME_Raiding_Fleet"
                effect = {
                    set_owner = event_target:pirate_of_science_ship # For ship names
                    create_techno_raiders_small = yes
                    set_location = event_target:kidnapped_science_ship
                    set_fleet_stance = aggressive
                    set_aggro_range_measure_from = self
                    set_aggro_range = 250
                    set_fleet_flag = science_ship_raider_fleet
                    auto_move_to_planet = {
                        target = event_target:raiding_hirer_capital
                        clear_auto_move_on_arrival = no
                    }
                }
            }
            set_faction_hostility = {
                target = root
                set_hostile = yes
                set_neutral = no
                set_friendly = no
            }
            set_faction_hostility = {
                target = event_target:raiding_hirer_country
                set_hostile = no
                set_neutral = no
                set_friendly = yes
            }
            establish_communications_no_message = root
            every_country = {
                establish_communications_no_message = event_target:pirate_of_science_ship            
            }
        }
        event_target:raiding_hirer_country = {
            set_country_flag = hirer_of@event_target:pirate_of_science_ship
        }
        destroy_ship = event_target:kidnapped_science_ship
        country_event = { id = acot_diplo.5  }        
    }
}

country_event = {
    id = acot_diplo.5
    title = acot_diplo.5.name
    desc = acot_diplo.5.desc
    picture = GFX_evt_pirates_attacking_cargo
    show_sound = event_red_alert
    is_triggered_only = yes


    immediate = {
    }

    option = {
        name = acot_diplo.5.a
        hidden_effect = {
            country_event = { id = acot_diplo.50 }
        }    
    }
}

country_event = {
	id = acot_diplo.50
	title = acot_diplo.8.name
	
	is_triggered_only = yes
	diplomatic = yes
	
	picture_event_data = {
		room = no_video_feed_room
	}
    
    desc = {
		text = acot_diplo.8.desc.a
	}
    desc = {
		text = acot_diplo.8.desc.b
	}
    desc = {
		text = acot_diplo.8.desc.c
	}

    option = {
        name = acot_diplo.8.a
        default_hide_option = yes
    }

    option = {
        name = acot_diplo.8.b
    }

}

fleet_event = {
    id = acot_diplo.6
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        OWNER = {
            is_country_type = acot_techno_pirate
        }
        FROM = {
            has_planet_flag = raiding_hirer_capital_planet
        }
    }

    immediate = {
        owner = {
            remove_country_flag = raider_hired_by@event_target:raiding_hirer_country      
            destroy_country = yes
            every_owned_fleet = {
                destroy_fleet = this
            }     
        }
        FROM = {
            remove_planet_flag = raiding_hirer_capital_planet
            owner = {
                remove_country_flag = hirer_of@event_target:pirate_of_science_ship   
                remove_country_flag = hiring_in_progress   
                give_technology = { tech = tech_dark_matter_power_core }
                give_technology = { tech = tech_dark_matter_propulsion }
                give_technology = { tech = tech_dark_matter_deflector }               
            }
        }
    }

}



country_event = {
    id = acot_diplo.9
    hide_window = yes
    trigger = {
        NOR = {
            has_global_flag = acot_events_forbidden
        }
        has_technology = tech_dark_matter_power_core_ae
        OR = {
            is_country_type = default
            is_country_type = lost_empire
            is_country_type = ascended_empire
        }
        any_country = {
            is_ai = yes
            OR = {
                is_country_type = fallen_empire
                is_country_type = awakened_fallen_empire
                AND = {
                    NOT = {
                        has_country_flag = awakened_by_wih
                    }
                }
            }
            is_at_war = no
            fleet_power > 40000
            NOT = {
                has_ethic = ethic_gestalt_consciousness
            }
        }
    }

    mean_time_to_happen = {
        years = 10
    }

    immediate = {
        random_country = {
            limit = {
                is_ai = yes
                is_fallen_empire = yes
                is_at_war = no
                fleet_power > 40000
                NOT = {
                    has_ethic = ethic_gestalt_consciousness
                }                 
            }
            save_event_target_as = FallenEmpireTaskOrigin
            set_country_flag = awakened_by_wih
        }
        save_event_target_as = FallenEmpireTaskTarget
        country_event = { id = acot_diplo.10  }     
    }
}


country_event = {
	id = acot_diplo.10
	title = acot_diplo.10.name
	
	is_triggered_only = yes
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:FallenEmpireTaskOrigin
		planet_background = event_target:FallenEmpireTaskOrigin
		graphical_culture = event_target:FallenEmpireTaskOrigin
		city_level = event_target:FallenEmpireTaskOrigin
		room = event_target:FallenEmpireTaskOrigin.ruler
	}
    
    desc = {
		text = acot_diplo.10.desc.spiritualist
		trigger = {
			event_target:FallenEmpireTaskOrigin = { 
				has_ethic = ethic_fanatic_spiritualist
			}
		}
	}
    desc = {
		text = acot_diplo.10.desc.materialist
		trigger = {
			event_target:FallenEmpireTaskOrigin = { 
				has_ethic = ethic_fanatic_materialist
			}
		}
	}
    desc = {
		text = acot_diplo.10.desc.xenophile
		trigger = {
			event_target:FallenEmpireTaskOrigin = { 
				has_ethic = ethic_fanatic_xenophile
			}
		}
	}
	desc = {
		text = acot_diplo.10.desc.xenophobe
		trigger = {
			event_target:FallenEmpireTaskOrigin = { 
				has_ethic = ethic_fanatic_xenophobe
			}
		}
    }

    option = {
        name = acot_diplo.10.a
        custom_tooltip = acot_diplo.10.a.tooltip
        response_text = acot_diplo.10.a.response
        set_country_flag = prepare_to_die_by_fe
        save_event_target_as = FallenEmpireTaskTarget
        event_target:FallenEmpireTaskOrigin = { 
            add_opinion_modifier = { 
                who = root modifier = opinion_majorly_failed_fallen_empire_task
             }  
        }	
        hidden_effect = {
            event_target:FallenEmpireTaskOrigin = { 
                country_event = { id = acot_diplo.12 }	
            }	          
        }
        ai_chance = {
            factor = 1
            modifier = {
                factor = 5
                OR = {
                    is_militarist = yes
                    is_xenophobe = yes
                }
            }
            modifier = {
                factor = 0
                OR = {
                    is_at_war = yes
                    fleet_power <= 200000
                }
            }
        }
    }

    option = {
        name = acot_diplo.10.b
        response_text = acot_diplo.10.b.response
        custom_tooltip = acot_diplo.10.b.tooltip
        hidden_effect = {
            event_target:FallenEmpireTaskOrigin = { 
                set_country_flag = ae_tier_permitted
                country_event = { id = acot_diplo.12 }	
            }	          
        }
        ai_chance = {
            factor = 1
            modifier = {
                factor = 5
                OR = {
                    is_xenophile= yes
                    is_pacifist = yes
                }
            }
        }
    }

    option = {
        name = acot_diplo.10.c
        response_text = acot_diplo.10.c.response
        custom_tooltip = acot_diplo.10.c.tooltip
        trigger = {
            any_owned_leader = {
                leader_class = ruler
                has_skill >= 10
                has_trait = trait_ruler_charismatic
            }
        }
        hidden_effect = {
            event_target:FallenEmpireTaskOrigin = { 
                random_list = {
                    90 = { 
                        event_target:FallenEmpireTaskTarget = {
                            set_country_flag = prepare_to_die_by_fe
                        }
                        country_event = { id = acot_diplo.14 days = 15 }	
                    }
                    10 = {
                        country_event = { id = acot_diplo.15 days = 15 }	
                    }
                }
            }	          
        }
    }
}

####AFE AWAKENING TO RECLAIM GALOHAREH
country_event = {
	id = acot_diplo.12
	hide_window = yes

	is_triggered_only = yes

	immediate = {
        if = {
            limit = { 
                is_country_type = fallen_empire
             }
             set_country_type = awakened_fallen_empire
             change_government = {
                civics = {
                    civic = civic_revanchist_fervor
                    civic = civic_ancient_caches_of_technology
                }
            }

            add_resource = { minerals = 500000 }
            add_resource = { energy = 500000 }
            add_resource = { food = 50000 }
            add_resource = { influence = 1000 }
            add_resource = { alloys = 50000 }
            add_resource = { consumer_goods = 50000 }
            add_resource = { sr_dark_matter = 50000 }
            add_resource = { volatile_motes = 50000 }
            add_resource = { exotic_gases = 50000 }
            add_resource = { rare_crystals = 50000 }
            add_resource = { acot_sr_dark_energy = 50000 }

            country_event = { id = fallen_empires.13 }
            country_event = { id = fallen_empires.13 }
            country_event = { id = fallen_empires.13 }
            every_country = {
                limit = {
                    is_ai = no
                }
                country_event = { id = acot_diplo.13 }
            }
        }

		# Changing country type resets resources, so give them full stores

		# Establish communications
		every_country = {
			limit = {
				OR = {
					is_country_type = default
					is_country_type = fallen_empire
                    is_country_type = awakened_fallen_empire
                    is_country_type = ascended_empire
                    is_country_type = lost_empire
                    is_country_type = eternal_empire
				}
				NOT = { has_communications = root }
			}

			establish_communications_no_message = root
			root = { save_event_target_as = contact_empire }
			country_event = { id = action.1 }
        }

        if = {
            limit = { has_country_flag = ae_tier_permitted }
            give_technology = { tech = tech_autocannons_ae }
            give_technology = { tech = tech_arc_emitter_ae }	
            give_technology = { tech = tech_disruptor_ae }
            give_technology = { tech = tech_energy_lance_ae }			
            give_technology = { tech = tech_energy_torpedo_ae }
            give_technology = { tech = tech_flak_batteries_ae }	
            give_technology = { tech = tech_kinetic_artillery_ae }
            give_technology = { tech = tech_laser_ae }			
            give_technology = { tech = tech_mass_accelerator_ae }		
            give_technology = { tech = tech_mass_driver_ae }	
            give_technology = { tech = tech_missile_ae }		
            give_technology = { tech = tech_perdition_beam_ae }	
            give_technology = { tech = tech_plasma_ae }	
            give_technology = { tech = tech_point_defense_ae }	
            give_technology = { tech = tech_strike_craft_bomber_ae }	
            give_technology = { tech = tech_swarmer_missile_ae }	
            give_technology = { tech = tech_torpedo_ae }	
            give_technology = { tech = tech_sensor_fe }	
            give_technology = { tech = tech_armor_ae }	
            give_technology = { tech = tech_dark_matter_power_core_ae }	
            give_technology = { tech = tech_fe_thruster_2 }				
            give_technology = { tech = tech_dark_matter_deflector_ae }	
            give_technology = { tech = tech_enigmatic_drive }	
            give_technology = { tech = tech_resized_energy_lance_ae }				
            give_technology = { tech = tech_resized_arc_emitter_ae }	
            give_technology = { tech = tech_resized_mass_accelerator_ae }			
    
            give_technology = { tech = tech_darkmatter_afterburners }
            give_technology = { tech = tech_darkmatter_star_charter }				
            give_technology = { tech = tech_darkmatter_aura_energy_drainer }	
            give_technology = { tech = tech_darkmatter_hyper_jump_drive }	
            give_technology = { tech = tech_darkmatter_reactive_drone }				
            give_technology = { tech = tech_darkmatter_reactor_booster }	
            give_technology = { tech = tech_darkmatter_shield_supercharger }     
            
            if = {
                limit = {
                    is_fallen_empire_machine = yes
                 }
                 add_global_ship_design = "NAME_AE_Omega"
                 add_global_ship_design = "NAME_AE_Alpha"
                 add_global_ship_design = "NAME_AE_Beta"
                 add_global_ship_design = "NAME_AE_Gamma"
                 add_global_ship_design = "NAME_AE_Theta"
                 add_global_ship_design = "NAME_AE_Tau"
                 add_global_ship_design = "NAME_AE_Sigma"			               
            }
            if = {
                limit = {
                    is_fallen_empire_spiritualist = yes
                 }
                 add_global_ship_design = "NAME_AE_Cleanser"				
                 add_global_ship_design = "NAME_AE_Eternal"
                 add_global_ship_design = "NAME_AE_Avatar"
                 add_global_ship_design = "NAME_AE_Zealot"
                 add_global_ship_design = "NAME_AE_Penitent"
                 add_global_ship_design = "NAME_AE_Faith"
                 add_global_ship_design = "NAME_AE_Pilgrim"			               
            }
            if = {
                limit = {
                    is_fallen_empire_materialist = yes
                 }
                 add_global_ship_design = "NAME_AE_Enforcer"
                 add_global_ship_design = "NAME_AE_Savant"
                 add_global_ship_design = "NAME_AE_Scholar"
                 add_global_ship_design = "NAME_AE_Sage"
                 add_global_ship_design = "NAME_AE_Cloaker"
                 add_global_ship_design = "NAME_AE_Librarian"
                 add_global_ship_design = "NAME_AE_Archivist"				               
            }
            if = {
                limit = {
                    is_fallen_empire_xenophobe = yes
                 }
                 add_global_ship_design = "NAME_AE_Reaper"
                 add_global_ship_design = "NAME_AE_Imperium"
                 add_global_ship_design = "NAME_AE_Supremacy"
                 add_global_ship_design = "NAME_AE_Glory"
                 add_global_ship_design = "NAME_AE_Devastator"
                 add_global_ship_design = "NAME_AE_Servitor"
                 add_global_ship_design = "NAME_AE_Destiny"			               
            }
            if = {
                limit = {
                    is_fallen_empire_xenophile = yes
                 }
                 add_global_ship_design = "NAME_AE_Adjuster"
                 add_global_ship_design = "NAME_AE_Keeper"
                 add_global_ship_design = "NAME_AE_Custodian"
                 add_global_ship_design = "NAME_AE_Warden"
                 add_global_ship_design = "NAME_AE_Watcher"
                 add_global_ship_design = "NAME_AE_Seeder"
                 add_global_ship_design = "NAME_AE_Builder"				               
            }
        }
	}
}

####WARGOAL GO####
country_event = {
	id = acot_diplo.1200
    hide_window = yes

    trigger = {
        NOT = {
            has_global_flag = acot_events_forbidden
        }
        NOR = {
            has_country_flag = acot_mountain_king_winner
            has_country_flag = acot_robbed_of_victory
        }
        has_technology = tech_dark_matter_power_core_ae
        has_technology = tech_dark_matter_power_core_ae
        has_country_flag = prepare_to_die_by_fe
        OR = {
            is_country_type = default
            is_country_type = lost_empire
            is_country_type = ascended_empire
        }
        any_country = {
            is_ai = yes
            is_country_type = awakened_fallen_empire
            is_at_war = no
            fleet_power > 40000
            NOT = {
                has_ethic = ethic_gestalt_consciousness
            }
            NOR = {
                is_at_war_with = root
                has_truce = root
            }
        }
    }

    mean_time_to_happen = {
        years = 5
    }

    immediate = {
        save_event_target_as = FallenEmpireTaskTarget
        country_event = { id = acot_diplo.1201  }     
        random_country = {
            limit = {
                is_ai = yes
                is_country_type = awakened_fallen_empire
                is_at_war = no
                fleet_power > 40000
                NOT = {
                    has_ethic = ethic_gestalt_consciousness
                }   
                NOR = {
                    is_at_war_with = root
                    has_truce = root
                }              
            }
            save_event_target_as = FallenEmpireTaskOrigin
            establish_communications_no_message = event_target:FallenEmpireTaskTarget
            declare_war = {
                target = event_target:FallenEmpireTaskTarget
                attacker_war_goal = acot_wg_mountain_king
            }
            # Add some more fleet
            country_event = { id = fallen_empires.13 }
            country_event = { id = fallen_empires.13 }
        }    
    }
}

country_event = {
	id = acot_diplo.1201
	title = acot_diplo.1201.name
	
	is_triggered_only = yes
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:FallenEmpireTaskOrigin
		planet_background = event_target:FallenEmpireTaskOrigin
		graphical_culture = event_target:FallenEmpireTaskOrigin
		city_level = event_target:FallenEmpireTaskOrigin
		room = event_target:FallenEmpireTaskOrigin.ruler
	}
    
    desc = {
		text = acot_diplo.1201.desc.spiritualist
		trigger = {
			event_target:FallenEmpireTaskOrigin = { 
				has_ethic = ethic_fanatic_spiritualist
			}
		}
	}
    desc = {
		text = acot_diplo.1201.desc.materialist
		trigger = {
			event_target:FallenEmpireTaskOrigin = { 
				has_ethic = ethic_fanatic_materialist
			}
		}
	}
    desc = {
		text = acot_diplo.1201.desc.xenophile
		trigger = {
			event_target:FallenEmpireTaskOrigin = { 
				has_ethic = ethic_fanatic_xenophile
			}
		}
	}
	desc = {
		text = acot_diplo.1201.desc.xenophobe
		trigger = {
			event_target:FallenEmpireTaskOrigin = { 
				has_ethic = ethic_fanatic_xenophobe
			}
		}
    }

    option = {
        name = acot_diplo.1201.a.default
    }

    option = {
        name = acot_diplo.1201.a.mat
        trigger = {
            is_materialist = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.spirit
        trigger = {
            is_spiritualist = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.paci
        trigger = {
            is_pacifist = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.mili
        trigger = {
            is_militarist = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.phile
        trigger = {
            is_xenophile = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.phobe
        trigger = {
            is_xenophobe = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.ega
        trigger = {
            is_egalitarian = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.auth
        trigger = {
            is_authoritarian = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.hive
        trigger = {
            is_hive_empire = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.machine
        trigger = {
            is_machine_empire = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.mega
        trigger = {
            is_megacorp = yes
        }
    }

    option = {
        name = acot_diplo.1201.a.swarm
        trigger = {
            has_valid_civic = civic_hive_devouring_swarm
        }
    }

    option = {
        name = acot_diplo.1201.a.termin
        trigger = {
            has_valid_civic = civic_machine_terminator
        }
    }

    option = {
        name = acot_diplo.1201.a.purifier
        trigger = {
            has_valid_civic = civic_fanatic_purifiers
        }
    }
}


####ANNOUCEMENT####
country_event = {
	id = acot_diplo.13
	title = acot_diplo.13.name
	desc = acot_diplo.13.desc
	picture = GFX_evt_fallen_empire
	show_sound = event_alien_signal
	location = from

	is_triggered_only = yes

	option = {
        trigger = {
            is_same_value = event_target:FallenEmpireTaskTarget
        }
		name = acot_diplo.13.a
    }
    
	option = {
        trigger = {
            NOT = {
                is_same_value = event_target:FallenEmpireTaskTarget              
            }
        }
		name = acot_diplo.13.b
	}
}

####BOMBLOL#####
country_event = {
    id = acot_diplo.14
    hide_window = yes
	location = from

	is_triggered_only = yes

    immediate = {
        capital_scope = {
            if = {
                limit = {
                    habitable_planet = yes
                    NOR = {
                        is_planet_class = pc_ringworld_habitable
                        is_planet_class = pc_habitat          
                    }
                 }
                 change_pc = pc_molten               
            }
            if = {
                limit = {
                    is_planet_class = pc_ringworld_habitable
                 }
                 change_pc = pc_ringworld_habitable_damaged               
            }
            solar_system = {
                every_fleet_in_system = {
                    destroy_fleet = this
                }
            }
        }
        every_playable_country = {
            country_event = { id = acot_diplo.18 }
        }
        country_event = { id = acot_diplo.12 days = 30 }	
    }
}

country_event = {
    id = acot_diplo.15
    hide_window = yes
	location = from

	is_triggered_only = yes

    immediate = {
        every_owned_planet = {
            if = {
                limit = {
                    habitable_planet = yes
                    NOR = {
                        is_planet_class = pc_ringworld_habitable
                        is_planet_class = pc_habitat          
                    }
                 }
                 change_pc = pc_molten               
            }
            if = {
                limit = {
                    is_planet_class = pc_ringworld_habitable
                 }
                 change_pc = pc_ringworld_habitable_damaged               
            }          
        }
        destroy_country = yes
        every_playable_country = {
            country_event = { id = acot_diplo.19 }
        }
    }
}

#Wargoal Win - Default
country_event = {
	id = acot_diplo.16
    title = acot_diplo.10.name
    desc = {
        text = acot_diplo.16.desc.phobe
        trigger = {
            is_fallen_empire_xenophobe = yes
        }
    }
    desc = {
        text = acot_diplo.16.desc.phile
        trigger = {
            is_fallen_empire_xenophile = yes
        }
    }
    desc = {
        text = acot_diplo.16.desc.spirit
        trigger = {
            is_fallen_empire_spiritualist = yes
        }
    }
    desc = {
        text = acot_diplo.16.desc.mat
        trigger = {
            is_fallen_empire_materialist = yes
        }
    }
		
	
	is_triggered_only = yes
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:mountain_king_loser
		planet_background = event_target:mountain_king_loser
		graphical_culture = event_target:mountain_king_loser
		city_level = event_target:mountain_king_loser
		room = event_target:mountain_king_loser.ruler
	}
    
    immediate = {
        save_event_target_as = mountain_king_victor
        set_timed_country_flag = {
            flag = acot_mountain_king_winner
            years = 10
        }
    }


    option = {
        name = acot_diplo.16.a
        response_text = acot_diplo.16.a.response
        trigger = {
            is_country_type = default
        }
        allow = {
            NAND = {
                has_technology = tech_precursor_design
                has_technology = tech_precursor_escort
                has_technology = tech_precursor_bc
                has_technology = tech_fe_tower_offense
                has_technology = tech_fe_assault_carrier
                has_technology = tech_gatekeepers
                has_technology = tech_precursor_titan
                has_technology = tech_precursor_guardian
                has_technology = tech_precursor_colossus
            }    
        }
        if = {
            limit = { 
                NOT = {
                    has_technology = tech_precursor_design
                }
             }
            add_research_option = tech_precursor_design
            add_tech_progress = {
                tech = tech_precursor_design
                progress = 0.10
            }
        }
        random_list = {
            15 = { 
				modifier = {
					factor = 0
					has_technology = tech_precursor_escort
				}
                add_research_option = tech_precursor_escort    
                add_tech_progress = {
                tech = tech_precursor_escort
                    progress = 0.15
                }         	   
            }
            15 = { 
				modifier = {
					factor = 0
					has_technology = tech_precursor_bc
				}
                add_research_option = tech_precursor_bc    
                add_tech_progress = {
                tech = tech_precursor_bc
                    progress = 0.15
                }         	   
            }
            15 = { 
				modifier = {
					factor = 0
					has_technology = tech_precursor_guardian
				}
                add_research_option = tech_precursor_guardian    
                add_tech_progress = {
                tech = tech_precursor_guardian
                    progress = 0.15
                }         	   
            }
            15 = { 
				modifier = {
					factor = 0
					has_technology = tech_fe_assault_carrier
				}
                add_research_option = tech_fe_assault_carrier    
                add_tech_progress = {
                tech = tech_fe_assault_carrier
                    progress = 0.15
                }         	   
            }
            15 = { 
				modifier = {
					factor = 0
					has_technology = tech_fe_tower_offense
				}
                add_research_option = tech_fe_tower_offense    
                add_tech_progress = {
                tech = tech_fe_tower_offense
                    progress = 0.15
                }         	   
            }
            10 = { 
				modifier = {
                    factor = 0
					has_technology = tech_gatekeepers
                }
                add_research_option = tech_gatekeepers    
                add_tech_progress = {
                tech = tech_gatekeepers
                    progress = 0.15
                }         	   
            }
            10 = { 
				modifier = {
					factor = 0
					has_technology = tech_precursor_titan
				}
                add_research_option = tech_precursor_titan    
                add_tech_progress = {
                tech = tech_precursor_titan
                    progress = 0.15
                }         	   
            }
            10 = { 
				modifier = {
                    factor = 0
                    OR = {
                        has_technology = tech_precursor_colossus
                        NOT = {
                            host_has_dlc = Apocalypse  
                        }
                    }
				}
                add_research_option = tech_precursor_colossus    
                add_tech_progress = {
                tech = tech_precursor_colossus
                    progress = 0.15
                }         	   
            }
        }
    }

    option = {
        name = acot_diplo.16.b
        response_text = acot_diplo.16.b.response
        add_resource = {
            energy = 250000
            minerals = 250000
            food = 250000
            alloys = 100000
            consumer_goods = 100000
            sr_dark_matter = 5000
            acot_sr_dark_energy = 5000
            volatile_motes = 25000
            rare_crystals = 25000
            exotic_gases = 25000
            minor_artifacts = 2500
        }
        if = { limit = { FROM = { is_fallen_empire_materialist = yes } }
            add_resource = {
                sr_living_metal = 5000
            }           
        }
        if = { limit = { FROM = { is_fallen_empire_spiritualist = yes } }
        add_resource = {
            sr_zro = 5000
            }           
        }
        if = { limit = { FROM = { is_fallen_empire_xenophobe = yes } }
        add_resource = {
            nanites = 2500
            }           
        }
        if = { limit = { FROM = { is_fallen_empire_xenophile = yes } }
        add_resource = {
            energy = 125000
            minerals = 125000
            food = 125000
            alloys = 50000
            }           
        }
        hidden_effect = {      
        }
    }

    option = {
        name = acot_diplo.16.c
        add_resource = {
            unity = 1000000
            influence = 1000
        }
        every_country = {
            limit = {
                is_country_type = default
                NOT = {
                    is_same_value = root
                }
            }
            add_opinion_modifier = { who = root modifier = triggered_opinion_beat_the_fe }
        }
        hidden_effect = {
            event_target:mountain_king_loser = {
                every_playable_country = {
                    country_event = { id = acot_diplo.20 days = 5 }
                }    
            }   
        }
    }
}

#Wargoal Win - FE
country_event = {
	id = acot_diplo.17
    title = acot_diplo.10.name
    desc = acot_diplo.17.desc
	
	is_triggered_only = yes
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:mountain_king_victor
		planet_background = event_target:mountain_king_victor
		graphical_culture = event_target:mountain_king_victor
		city_level = event_target:mountain_king_victor
		room = event_target:mountain_king_victor.ruler
    }
    
    option = {
        name = acot_diplo.17.a
        set_country_flag = acot_robbed_of_victory
        remove_country_flag = prepare_to_die_by_fe
        every_owned_leader = {  
            kill_leader = {
            }
        }
        hidden_effect = {  
            event_target:mountain_king_victor = {
                set_country_flag = ae_tier_permitted

                give_technology = { tech = tech_autocannons_ae }
                give_technology = { tech = tech_arc_emitter_ae }	
                give_technology = { tech = tech_disruptor_ae }
                give_technology = { tech = tech_energy_lance_ae }			
                give_technology = { tech = tech_energy_torpedo_ae }
                give_technology = { tech = tech_flak_batteries_ae }	
                give_technology = { tech = tech_kinetic_artillery_ae }
                give_technology = { tech = tech_laser_ae }			
                give_technology = { tech = tech_mass_accelerator_ae }		
                give_technology = { tech = tech_mass_driver_ae }	
                give_technology = { tech = tech_missile_ae }		
                give_technology = { tech = tech_perdition_beam_ae }	
                give_technology = { tech = tech_plasma_ae }	
                give_technology = { tech = tech_point_defense_ae }	
                give_technology = { tech = tech_strike_craft_bomber_ae }	
                give_technology = { tech = tech_swarmer_missile_ae }	
                give_technology = { tech = tech_torpedo_ae }	
                give_technology = { tech = tech_sensor_fe }	
                give_technology = { tech = tech_armor_ae }	
                give_technology = { tech = tech_dark_matter_power_core_ae }	
                give_technology = { tech = tech_fe_thruster_2 }				
                give_technology = { tech = tech_dark_matter_deflector_ae }	
                give_technology = { tech = tech_enigmatic_drive }	
                give_technology = { tech = tech_resized_energy_lance_ae }				
                give_technology = { tech = tech_resized_arc_emitter_ae }	
                give_technology = { tech = tech_resized_mass_accelerator_ae }			
        
                give_technology = { tech = tech_darkmatter_afterburners }
                give_technology = { tech = tech_darkmatter_star_charter }				
                give_technology = { tech = tech_darkmatter_aura_energy_drainer }	
                give_technology = { tech = tech_darkmatter_hyper_jump_drive }	
                give_technology = { tech = tech_darkmatter_reactive_drone }				
                give_technology = { tech = tech_darkmatter_reactor_booster }	
                give_technology = { tech = tech_darkmatter_shield_supercharger } 

                if = {
                    limit = {
                        is_fallen_empire_machine = yes
                     }
                     add_global_ship_design = "NAME_AE_Omega"
                     add_global_ship_design = "NAME_AE_Alpha"
                     add_global_ship_design = "NAME_AE_Beta"
                     add_global_ship_design = "NAME_AE_Gamma"
                     add_global_ship_design = "NAME_AE_Theta"
                     add_global_ship_design = "NAME_AE_Tau"
                     add_global_ship_design = "NAME_AE_Sigma"			               
                }
                if = {
                    limit = {
                        is_fallen_empire_spiritualist = yes
                     }
                     add_global_ship_design = "NAME_AE_Cleanser"				
                     add_global_ship_design = "NAME_AE_Eternal"
                     add_global_ship_design = "NAME_AE_Avatar"
                     add_global_ship_design = "NAME_AE_Zealot"
                     add_global_ship_design = "NAME_AE_Penitent"
                     add_global_ship_design = "NAME_AE_Faith"
                     add_global_ship_design = "NAME_AE_Pilgrim"			               
                }
                if = {
                    limit = {
                        is_fallen_empire_materialist = yes
                     }
                     add_global_ship_design = "NAME_AE_Enforcer"
                     add_global_ship_design = "NAME_AE_Savant"
                     add_global_ship_design = "NAME_AE_Scholar"
                     add_global_ship_design = "NAME_AE_Sage"
                     add_global_ship_design = "NAME_AE_Cloaker"
                     add_global_ship_design = "NAME_AE_Librarian"
                     add_global_ship_design = "NAME_AE_Archivist"				               
                }
                if = {
                    limit = {
                        is_fallen_empire_xenophobe = yes
                     }
                     add_global_ship_design = "NAME_AE_Reaper"
                     add_global_ship_design = "NAME_AE_Imperium"
                     add_global_ship_design = "NAME_AE_Supremacy"
                     add_global_ship_design = "NAME_AE_Glory"
                     add_global_ship_design = "NAME_AE_Devastator"
                     add_global_ship_design = "NAME_AE_Servitor"
                     add_global_ship_design = "NAME_AE_Destiny"			               
                }
                if = {
                    limit = {
                        is_fallen_empire_xenophile = yes
                     }
                     add_global_ship_design = "NAME_AE_Adjuster"
                     add_global_ship_design = "NAME_AE_Keeper"
                     add_global_ship_design = "NAME_AE_Custodian"
                     add_global_ship_design = "NAME_AE_Warden"
                     add_global_ship_design = "NAME_AE_Watcher"
                     add_global_ship_design = "NAME_AE_Seeder"
                     add_global_ship_design = "NAME_AE_Builder"				               
                }
            }
         }
    }   
}   

####ANNOUCEMENT####
country_event = {
	id = acot_diplo.18
	title = acot_diplo.18.name
	desc = {
        trigger = {
            NOT = {
                is_same_value = event_target:FallenEmpireTaskTarget        
            }
        }
        text = acot_diplo.18.desc.others
    }
    desc = {
        trigger = {
            is_same_value = event_target:FallenEmpireTaskTarget     
        }
        text = acot_diplo.18.desc
    }
	picture = GFX_evt_fallen_empire
	show_sound = event_ship_explosion
	location = from

	is_triggered_only = yes

	option = {
        trigger = {
            is_same_value = event_target:FallenEmpireTaskTarget
        }
		name = acot_diplo.18.a
    }
    
	option = {
        trigger = {
            NOT = {
                is_same_value = event_target:FallenEmpireTaskTarget              
            }
        }
		name = acot_diplo.18.b
	}
}

country_event = {
	id = acot_diplo.19
	title = acot_diplo.19.name
	desc = {
        trigger = {
            NOT = {
                is_same_value = event_target:FallenEmpireTaskTarget        
            }
        }
        text = acot_diplo.19.desc.others
    }
    desc = {
        trigger = {
            is_same_value = event_target:FallenEmpireTaskTarget     
        }
        text = acot_diplo.19.desc
    }
	picture = GFX_evt_fallen_empire
	show_sound = event_ship_explosion
	location = from

	is_triggered_only = yes

	option = {
        trigger = {
            is_same_value = event_target:FallenEmpireTaskTarget
        }
		name = acot_diplo.18.a
    }
    
	option = {
        trigger = {
            NOT = {
                is_same_value = event_target:FallenEmpireTaskTarget              
            }
        }
		name = acot_diplo.18.b
	}
}

#Wargoal Win - Default
country_event = {
	id = acot_diplo.20
    title = acot_diplo.10.name
    desc = acot_diplo.20.desc
	
	is_triggered_only = yes
	diplomatic = yes
	
	picture_event_data = {
		portrait = event_target:mountain_king_loser
		planet_background = event_target:mountain_king_loser
		graphical_culture = event_target:mountain_king_loser
		city_level = event_target:mountain_king_loser
		room = event_target:mountain_king_loser.ruler
	}
    
    option = {
        name = GOOD
    }
}