namespace = birch
#Trigger for core event chain
event = {
	id = birch.1
	is_triggered_only = yes
	hide_window = yes
	
	trigger = {
		NOR = {
			has_global_flag = birch_black_hole_occured
			has_global_flag = giga_core_disabled
		}
		OR = {
			mid_game_years_passed >= 1
			years_passed >= 100
		}
	}
	
	immediate = {
		random_country = {
			limit = { is_ai = no }
			country_event = { id = birch.2 days = 10 random = 360 }
		}
		random_country = {
			limit = { is_country_type = global_event }
			set_global_flag = birch_black_hole_occured
		}
	}
}

country_event = {
	id = birch.2
	title = birch.2.name
	desc = birch.2.desc
	picture = GFX_evt_black_hole
	show_sound = event_sensor_ping
	
	is_triggered_only = yes
	
	option = {
		name = birch.2.a
		hidden_effect = { save_event_target_as = find_galactic_core_owner }
		capital_scope = {
			enable_special_project = {
				name = "INVESTIGATE_GALACTIC_CORE"
				location = this
				owner = root
			}
		}
	}
}

###INACTIVE CORE###
country_event = {
	id = birch.10
	title = birch.10.name
	desc = birch.10.desc
	picture = GFX_evt_black_hole
	show_sound = event_sensor_ping
	
	is_triggered_only = yes

	immediate = {
		set_spawn_system_batch = begin
		no_scope = {
			spawn_system = {
				min_distance >= 0
				max_distance <= 0
				min_orientation_angle = 44
				max_orientation_angle = 46
				initializer = giga_black_hole_core_initializer
			}
			event_target:giga_core_system = {
				spawn_system = {
					min_distance >= 5
					max_distance <= 15
					min_orientation_angle = 10
					max_orientation_angle = 40
					initializer = "giga_inner_1_initializer"
				}
				spawn_system = {
					min_distance >= 6
					max_distance <= 12
					min_orientation_angle = 50
					max_orientation_angle = 70
					initializer = "giga_inner_2_initializer"
				}
				spawn_system = {
					min_distance >= 8
					max_distance <= 25
					min_orientation_angle = 80
					max_orientation_angle = 100
					initializer = "giga_inner_3_initializer"
				}
				spawn_system = {
					min_distance >= 9
					max_distance <= 21
					min_orientation_angle = 110
					max_orientation_angle = 160
					initializer = "giga_inner_7_initializer"
				}
				spawn_system = {
					min_distance >= 9
					max_distance <= 21
					min_orientation_angle = 170
					max_orientation_angle = 200
					initializer = "giga_inner_4_initializer"
				}
				spawn_system = {
					min_distance >= 6
					max_distance <= 21
					min_orientation_angle = 210
					max_orientation_angle = 240
					initializer = "giga_inner_5_initializer"
				}
				spawn_system = {
					min_distance >= 9
					max_distance <= 18
					min_orientation_angle = 260
					max_orientation_angle = 340
					initializer = "giga_inner_6_initializer"
				}
				spawn_system = {
					min_distance >= 30
					max_distance <= 50
					min_orientation_angle = 100
					max_orientation_angle = 120
					initializer = "giga_outer_1_initializer"
				}
				spawn_system = {
					min_distance >= 35
					max_distance <= 55
					min_orientation_angle = 220
					max_orientation_angle = 240
					initializer = "giga_outer_2_initializer"
				}
				spawn_system = {
					min_distance >= 30
					max_distance <= 60
					min_orientation_angle = 340
					max_orientation_angle = 360
					initializer = "giga_outer_3_initializer"
				}
			}
		}
		event_target:giga_core_system = {
			isolate_system = yes
			add_hyperlane = {
				from = event_target:giga_core_system
				to = event_target:giga_inner_1
			}
			add_hyperlane = {
				from = event_target:giga_core_system
				to = event_target:giga_inner_3
			}
			add_hyperlane = {
				from = event_target:giga_core_system
				to = event_target:giga_inner_6
			}
		}
		event_target:giga_inner_1 = {
			add_hyperlane = {
				from = event_target:giga_inner_1
				to = event_target:giga_inner_2
			}
			add_hyperlane = {
				from = event_target:giga_inner_1
				to = event_target:giga_inner_6
			}
		}
		event_target:giga_inner_2 = {
			add_hyperlane = {
				from = event_target:giga_inner_2
				to = event_target:giga_inner_4
			}
		}
		event_target:giga_inner_5 = {
			add_hyperlane = {
				from = event_target:giga_inner_5
				to = event_target:giga_inner_4
			}
			add_hyperlane = {
				from = event_target:giga_inner_5
				to = event_target:giga_inner_6
			}
		}
		event_target:giga_inner_7 = {
			add_hyperlane = {
				from = event_target:giga_inner_7
				to = event_target:giga_inner_4
			}
		}
		event_target:giga_inner_2 = {
			add_hyperlane = {
				from = event_target:giga_inner_2
				to = event_target:giga_outer_1
			}
		}
		event_target:giga_inner_4 = {
			add_hyperlane = {
				from = event_target:giga_inner_4
				to = event_target:giga_outer_2
			}
		}
		event_target:giga_inner_6 = {
			add_hyperlane = {
				from = event_target:giga_inner_6
				to = event_target:giga_outer_3
			}
		}
		event_target:giga_outer_1 = {
			random_neighbor_system = {
				limit = {
					NOT = {
						has_star_flag = giga_inner
					}
				}
				ignore_hyperlanes = yes
				add_hyperlane = {
					from = PREV
					to = THIS
				}
			}
		}
		event_target:giga_outer_2 = {
			random_neighbor_system = {
				limit = {
					NOT = {
						has_star_flag = giga_inner
					}
				}
				ignore_hyperlanes = yes
				add_hyperlane = {
					from = PREV
					to = THIS
				}
			}
		}
		event_target:giga_outer_3 = {
			random_neighbor_system = {
				limit = {
					NOT = {
						has_star_flag = giga_inner
					}
				}
				ignore_hyperlanes = yes
				add_hyperlane = {
					from = PREV
					to = THIS
				}
			}
		}
		set_spawn_system_batch = end
		random_planet = {
			limit = {
				is_planet_class = pc_core_black_hole
			}
			random_list = {
				80 = {
					set_name = "Corey's Gut"
				}
				100 = {
					set_name = "Time's Agony"
				}
				100 = {
					set_name = "Undying Fury"
				}
				100 = {
					set_name = "Eternal Horizon"
				}
				100 = {
					set_name = "Sagittrevorius A"
				}
				100= {
					set_name = "Pouchkinn's Vortex"
				}
				100= {
					set_name = "The End"
				}
				100 = {
					set_name = "Voluptia"
				}
				100 = {
					set_name = "Powehi"
				}
				100 = {
					set_name = "Centaurus A"
				}
				100 = {
					set_name = "Cygnus X-1"
				}
				100 = {
					set_name = "Sagittarius A*"
				}
				100 = {
					set_name = "TON 618"
				}
				50 = {
					set_name = "Steve"
				}
				30 = {
					set_name = "Sbeve"
				}
				100 = {
					set_name = "Twissell"
				}
				50 = {
					set_name = "Anulus"
				}
				100 = {
					set_name = "Aria"
				}
				100 = {
					set_name = "Nero"
				}
				100 = {
					set_name = "Temporal Itch"
				}
				100 = {
					set_name = "Stellar Beholder"
				}
				100 = {
					set_name = "Grim Reaper"
				}
				100 = {
					set_name = "dQw4w9WgXcQ"
				}
				100 = {
					set_name = "Shatterer of Behemoths"
				}
				100 = {
					set_name = "Grand Gargantua"
				}
				100 = {
					set_name = "111001"
				}
				20 = {
					set_name = "Great Mother"
				}
				20 = {
					set_name = "Placeholder black hole, real one is being renovated, apologies for the inconvenience"
				}
				1 = {
					set_name = "Despacito"
				}
			}
		}
	}
	
	option = {
		name = birch.10.a
	}
}

###QUASAR###
country_event = {
	id = birch.11
	title = birch.10.name
	desc = birch.10.desc
	picture = GFX_evt_black_hole
	show_sound = event_sensor_ping
	
	is_triggered_only = yes

	immediate = {
		set_spawn_system_batch = begin
		no_scope = {
			spawn_system = {
				min_distance >= 0
				max_distance <= 0
				min_orientation_angle = 44
				max_orientation_angle = 46
				initializer = giga_black_hole_quasar_initializer
			}
			event_target:giga_core_system = {
				spawn_system = {
					min_distance >= 5
					max_distance <= 15
					min_orientation_angle = 10
					max_orientation_angle = 40
					initializer = "giga_inner_1_initializer"
				}
				spawn_system = {
					min_distance >= 6
					max_distance <= 12
					min_orientation_angle = 50
					max_orientation_angle = 70
					initializer = "giga_inner_2_initializer"
				}
				spawn_system = {
					min_distance >= 8
					max_distance <= 25
					min_orientation_angle = 80
					max_orientation_angle = 100
					initializer = "giga_inner_3_initializer"
				}
				spawn_system = {
					min_distance >= 9
					max_distance <= 21
					min_orientation_angle = 110
					max_orientation_angle = 160
					initializer = "giga_inner_7_initializer"
				}
				spawn_system = {
					min_distance >= 9
					max_distance <= 21
					min_orientation_angle = 170
					max_orientation_angle = 200
					initializer = "giga_inner_4_initializer"
				}
				spawn_system = {
					min_distance >= 6
					max_distance <= 21
					min_orientation_angle = 210
					max_orientation_angle = 240
					initializer = "giga_inner_5_initializer"
				}
				spawn_system = {
					min_distance >= 9
					max_distance <= 18
					min_orientation_angle = 260
					max_orientation_angle = 340
					initializer = "giga_inner_6_initializer"
				}
				spawn_system = {
					min_distance >= 30
					max_distance <= 50
					min_orientation_angle = 100
					max_orientation_angle = 120
					initializer = "giga_outer_1_initializer"
				}
				spawn_system = {
					min_distance >= 35
					max_distance <= 55
					min_orientation_angle = 220
					max_orientation_angle = 240
					initializer = "giga_outer_2_initializer"
				}
				spawn_system = {
					min_distance >= 30
					max_distance <= 60
					min_orientation_angle = 340
					max_orientation_angle = 360
					initializer = "giga_outer_3_initializer"
				}
			}
		}
		event_target:giga_core_system = {
			isolate_system = yes
			add_hyperlane = {
				from = event_target:giga_core_system
				to = event_target:giga_inner_1
			}
			add_hyperlane = {
				from = event_target:giga_core_system
				to = event_target:giga_inner_3
			}
			add_hyperlane = {
				from = event_target:giga_core_system
				to = event_target:giga_inner_6
			}
		}
		event_target:giga_inner_1 = {
			add_hyperlane = {
				from = event_target:giga_inner_1
				to = event_target:giga_inner_2
			}
			add_hyperlane = {
				from = event_target:giga_inner_1
				to = event_target:giga_inner_6
			}
		}
		event_target:giga_inner_2 = {
			add_hyperlane = {
				from = event_target:giga_inner_2
				to = event_target:giga_inner_4
			}
		}
		event_target:giga_inner_5 = {
			add_hyperlane = {
				from = event_target:giga_inner_5
				to = event_target:giga_inner_4
			}
			add_hyperlane = {
				from = event_target:giga_inner_5
				to = event_target:giga_inner_6
			}
		}
		event_target:giga_inner_7 = {
			add_hyperlane = {
				from = event_target:giga_inner_7
				to = event_target:giga_inner_4
			}
		}
		event_target:giga_inner_2 = {
			add_hyperlane = {
				from = event_target:giga_inner_2
				to = event_target:giga_outer_1
			}
		}
		event_target:giga_inner_4 = {
			add_hyperlane = {
				from = event_target:giga_inner_4
				to = event_target:giga_outer_2
			}
		}
		event_target:giga_inner_6 = {
			add_hyperlane = {
				from = event_target:giga_inner_6
				to = event_target:giga_outer_3
			}
		}
		event_target:giga_outer_1 = {
			random_neighbor_system = {
				limit = {
					NOT = {
						has_star_flag = giga_inner
					}
				}
				ignore_hyperlanes = yes
				add_hyperlane = {
					from = PREV
					to = THIS
				}
			}
		}
		event_target:giga_outer_2 = {
			random_neighbor_system = {
				limit = {
					NOT = {
						has_star_flag = giga_inner
					}
				}
				ignore_hyperlanes = yes
				add_hyperlane = {
					from = PREV
					to = THIS
				}
			}
		}
		event_target:giga_outer_3 = {
			random_neighbor_system = {
				limit = {
					NOT = {
						has_star_flag = giga_inner
					}
				}
				ignore_hyperlanes = yes
				add_hyperlane = {
					from = PREV
					to = THIS
				}
			}
		}
		set_spawn_system_batch = end
		random_planet = {
			limit = {
				is_planet_class = pc_core_quasar
			}
			random_list = {
				80 = {
					set_name = "Corey's Gut"
				}
				100 = {
					set_name = "Time's Agony"
				}
				100 = {
					set_name = "Undying Fury"
				}
				100 = {
					set_name = "Eternal Horizon"
				}
				100 = {
					set_name = "Sagittrevorius A"
				}
				100= {
					set_name = "Pouchkinn's Vortex"
				}
				100= {
					set_name = "The Beginning"
				}
				100 = {
					set_name = "Voluptia"
				}
				100 = {
					set_name = "Powehi"
				}
				100 = {
					set_name = "Centaurus A"
				}
				100 = {
					set_name = "Cygnus X-1"
				}
				100 = {
					set_name = "Sagittarius A*"
				}
				100 = {
					set_name = "TON 618"
				}
				50 = {
					set_name = "Steve"
				}
				30 = {
					set_name = "Sbeve"
				}
				100 = {
					set_name = "Twissell"
				}
				50 = {
					set_name = "Anulus"
				}
				100 = {
					set_name = "Aria"
				}
				100 = {
					set_name = "Nero"
				}
				100 = {
					set_name = "Temporal Itch"
				}
				100 = {
					set_name = "Stellar Beholder"
				}
				100 = {
					set_name = "Grim Reaper"
				}
				100 = {
					set_name = "ub82Xb1C8os"
				}
				100 = {
					set_name = "Shatterer of Behemoths"
				}
				100 = {
					set_name = "Grand Gargantua"
				}
				100 = {
					set_name = "111001"
				}
				20 = {
					set_name = "Great Mother"
				}
				20 = {
					set_name = "Placeholder quasar, real one is being renovated, apologies for the inconvenience"
				}
				1 = {
					set_name = "Despacito 2"
				}
			}
		}
	}
	
	option = {
		name = birch.10.a
	}
}

#CONSTRUCTION

country_event = {
	id = birch.100
	title = birch.100.name
	desc = birch.100.desc
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_start
	location = FROMFROM
	
	is_triggered_only = yes
	
	trigger = {
		FROM = { is_megastructure_type = birch_world_0 }
	}
	
	option = {
		name = birch.100.a
	}
}

#Solar capacitors built
country_event = {
	id = birch.101
	title = birch.101.name
	desc = birch.101.desc
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = FROMFROM
	
	is_triggered_only = yes
	
	trigger = {
		FROM = { is_megastructure_type = birch_world_1 }
	}
	
	option = {
		name = birch.101.a
	}
}

#Main databank built
country_event = {
	id = birch.102
	title = birch.102.name
	desc = birch.102.desc
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = FROMFROM
	
	is_triggered_only = yes
	
	trigger = {
		FROM = { is_megastructure_type = birch_world_2 }
	}
	
	option = {
		name = birch.102.a
	}
}

#Central processor built
country_event = {
	id = birch.103
	title = birch.103.name
	desc = birch.103.desc
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_complete
	location = FROMFROM
	
	is_triggered_only = yes
	
	trigger = {
		FROM = { is_megastructure_type = birch_world_3 }
	}
	
	option = {
		name = birch.103.a
	}
}

#system events
#inactive black hole
ship_event = {
	id = birch.200
	title = birch.200.name
	desc = birch.200.desc
	picture = GFX_evt_black_hole
	show_sound = event_radio_chatter
	location = FROM
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = found_giga_black_hole }
		}
		FROM = {
			has_star_flag = giga_core_01
		}
	}
	
	immediate = {
		owner = { set_country_flag = found_giga_black_hole }
	}		
	
	option = {
		name = "birch.200.a"
	}
}

#active quasar
ship_event = {
	id = birch.300
	title = birch.300.name
	desc = birch.300.desc
	picture = GFX_evt_black_hole
	show_sound = event_radio_chatter
	location = FROM
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			NOT = { has_country_flag = found_giga_black_hole_quasar }
		}
		FROM = {
			has_star_flag = giga_core_02
		}
	}
	
	immediate = {
		owner = { set_country_flag = found_giga_black_hole_quasar }
	}		
	
	option = {
		name = "birch.300.a"
	}
}