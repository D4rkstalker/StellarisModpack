namespace = independentstartup

# by NF insights and inspiration taken from GPM and Gigas
# opening initialiser for single player only dialog box
# set each band to check for a specific flag and only fire if the nations have that flag
# alternately set it so that an event is disabled if it is not chosen
# global flags might work, set each band checker to see if an OR function of one of the bands they appear in is selewcted
# eg global flag IPdef, IP1, IP2, IP3, IPcus




# menu contents, selector, 6 presets, done
# 6 presets = fill the galaxy, 20/40/80/160/320/640/1280, 30/70/120/180/250
# 35/100/200/400 (default), 50/250/600, 100/400, Disabled


# Option 1 default
# option 2 OFF
# option 3-6 most frequent to less
# Option 7 fill the galaxy

# event to trigger the window at start of game
country_event = {
    id = independentstartup.0002
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        is_multiplayer = no
        is_ai = no
        NOT = {
            has_global_flag = menu_attempted
        }
    }
    immediate = {
        set_global_flag = menu_attempted
        country_event = { id = independentstartup.001 }
    }
}

country_event = {
    id = independentstartup.0003
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        is_multiplayer = yes
        NOT = {
            has_global_flag = multiplayer_colonies
        }
    }
    immediate = {
        set_global_flag = multiplayer_colonies
        set_global_flag = independent_default_selection
    }
}

country_event = {
    id = independentstartup.0001
    title = independentstartup.0001.name
    desc = independentstartup.0001.desc
    picture = GFX_evt_outpost
    location = FROMFROM
    is_triggered_only = yes

    # default
    option = {
        name = independentstartup.0001.a
        custom_tooltip = independentstartup.0001.a.tooltip
        set_global_flag = independent_default_selection
    }


    # disable
    option = {
        name = independentstartup.0001.b
        custom_tooltip = independentstartup.0001.b.tooltip
    }


    # low and alot
    option = {
        name = independentstartup.0001.c
        custom_tooltip = independentstartup.0001.c.tooltip
        set_global_flag = independent_superlow_selection
    }


    # low and less alot
    option = {
        name = independentstartup.0001.d
        custom_tooltip = independentstartup.0001.d.tooltip
        set_global_flag = independent_low_selection
    }


    # slow and less
    option = {
        name = independentstartup.0001.e
        custom_tooltip = independentstartup.0001.e.tooltip
        set_global_flag = independent_high_selection
    }


    # barely any
    option = {
        name = independentstartup.0001.f
        custom_tooltip = independentstartup.0001.f.tooltip
        set_global_flag = independent_superhigh_selection
    }


    # fill the galaxy
    option = {
        name = independentstartup.0001.g
        custom_tooltip = independentstartup.0001.g.tooltip
        set_global_flag = independent_fill_selection
        country_event = { id = independentstartup.0004 days = 360 }
    }
}

country_event = {
    id = independentstartup.0004
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        set_global_flag = spawn_spin_cycle_off
    }
}

event = {
    id = independentstartup.0005
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        set_global_flag = independent_superlow_selection
    }
}