namespace = ag_epsilon

# Hidden, Spawn the Epsilon Area
country_event = {
    id = ag_epsilon.1
    hide_window = yes
	is_triggered_only = yes
	
    immediate = {
		ag_spawn_ancient_system = { ag_system_to_spawn = "ag_ancient_epsilon_init" }
		ag_spawned_system_effect = yes
		create_point_of_interest = {
			id = ag_beta_area
			name = "ag_epsilon_area"
			desc = "ag_epsilon_area_desc"
			event_chain = ag_hidden_system_chain
			location = event_target:ag_ancient_epsilon_star
		}
    }
	
	after = {
		every_country = {
			limit = { has_special_project = ag_located_epsilon_area }
			abort_special_project = {
				type = "ag_located_epsilon_area"
				location = capital_scope
			}
		}
	}
}

# on_entering_system_fleet, Notification for entering the Epsilon Area first time
fleet_event = {
	id = ag_epsilon.2
	title = "ag_epsilon.2.name"
	desc = "ag_epsilon.2.desc"
	diplomatic = yes
	custom_gui = "ag_ancient_event_window"
	custom_gui_option = "ag_ancient_event_option"
	picture_event_data = { room = ag_event_ruined_system_room }
	show_sound = event_mystic_reveal_light
	location = root
	
	is_triggered_only = yes
	
	trigger = {
		from = { has_star_flag = ag_ancient_epsilon_system }
		owner = {
			is_ai = no
			NOT = { has_country_flag = ag_epsilon_area_entered }
		}
		NOT = { has_global_flag = ag_epsilon_ringworld_unlocked }
	}
	
    immediate = {
		owner = {
			set_country_flag = ag_epsilon_area_entered
			ag_refresh_ancient_system_poi = { ag_system_id = ag_epsilon_area }
		}
	}
	
	option = { name = "ag_epsilon.2.a" }
}

# TODO
