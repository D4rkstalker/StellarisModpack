namespace = mzilli_anomaly_events

### Shadow World
ship_event = {
	id = mzilli_anomaly_events.1
	title = "mzilli_anomaly_events.1.name"
	desc = "mzilli_anomaly_events.1.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = cara.4041.a
		owner = {
			add_modifier = {
				modifier = "mzilli_shadow_world_discovered"
				days = -1
			}
		}
	}
}

### Supervolcano
ship_event = {
	id = mzilli_anomaly_events.2
	title = "mzilli_anomaly_events.2.name"
	desc = "mzilli_anomaly_events.2.desc"
	picture = {
		trigger = { event_target:supervolcano_planet = { is_planet_class = pc_continental } }
		picture = GFX_evt_continental
	}
	picture = {
		trigger = { event_target:supervolcano_planet = { is_planet_class = pc_tropical } }
		picture = GFX_evt_tropical
	}
	picture = {
		trigger = { event_target:supervolcano_planet = { is_planet_class = pc_ocean } }
		picture = GFX_evt_ocean
	}
	picture = {
		trigger = { event_target:supervolcano_planet = { is_planet_class = pc_arid } }
		picture = GFX_evt_arid
	}
	picture = {
		trigger = {
			event_target:supervolcano_planet = {
				OR = {
					is_planet_class = pc_desert
					is_planet_class = pc_savannah
				}
			}
		}
		picture = GFX_evt_desert
	}
	picture = {
		trigger = { event_target:supervolcano_planet = { is_planet_class = pc_arctic } }
		picture = GFX_evt_arctic
	}
	picture = {
		trigger = { event_target:supervolcano_planet = { is_planet_class = pc_gaia } }
		picture = GFX_evt_gaia
	}
	picture = {
		trigger = { event_target:supervolcano_planet = { is_planet_class = pc_nuked } }
		picture = GFX_evt_tomb_world
	}
	picture = {
		trigger = { event_target:supervolcano_planet = { is_planet_class = pc_relic } }
		picture = GFX_evt_relic_world
	}
	picture = {
		trigger = {
			event_target:supervolcano_planet = {
				NOR = {
					is_planet_class = pc_continental
					is_planet_class = pc_tropical
					is_planet_class = pc_ocean
					is_planet_class = pc_arid
					is_planet_class = pc_desert
					is_planet_class = pc_savannah
					is_planet_class = pc_arctic
					is_planet_class = pc_gaia
					is_planet_class = pc_nuked
					is_planet_class = pc_relic
				}
			}
		}
		picture = GFX_evt_tundra
	}
	show_sound = event_solar_fusion
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = REMARKABLE
		custom_tooltip = "mzilli_anomaly_events.2.tooltip"
	}
}

### Do Not Go Gentle
ship_event = {
	id = mzilli_anomaly_events.3
	title = "mzilli_anomaly_events.3.name"
	desc = "mzilli_anomaly_events.3.desc"
	picture = GFX_evt_asteroid_approaching_planet
	show_sound = event_super_explosion
	location = FROM
	
	is_triggered_only = yes

	immediate = { owner = { country_event = { id = story.5 days = 30 } } }

	option = {
		trigger = { FROM = { is_planet_class = pc_nuked } }
		name = REMARKABLE
		FROM = {
			add_modifier = {
				modifier = mzilli_faster_terraforming
				days = -1
			}
		}
	}

	option = {
		trigger = { FROM = { NOT = { is_planet_class = pc_nuked } } }
		name = REMARKABLE
		custom_tooltip = mzilli_anomaly_events.3.tooltip
		hidden_effect = {
			FROM = {
				add_modifier = {
					modifier = terraforming_candidate
					days = -1
				}
			}
		}
	}
}

# Clear Faster Terraforming modifier
planet_event = {
	id = mzilli_anomaly_events.4
	is_triggered_only = yes
	hide_window = yes

	trigger = { has_modifier = mzilli_faster_terraforming }
	
	immediate = { remove_modifier = mzilli_faster_terraforming }
}

### Time in a Planet
ship_event = {
	id = mzilli_anomaly_events.5
	title = "mzilli_anomaly_events.5.name"
	desc = "mzilli_anomaly_events.5.desc"
	picture = GFX_evt_surreal_visions
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name =  anomaly.230.a
		FROM = { add_deposit = d_physics_6 }
	}
	option = {
		name =  mzilli_anomaly_events.5.b
		FROM = {
			enable_special_project = {
				name = "REVERSE_AGING_PROJECT"
				location = this
				owner = root
			}
		}
	}
}

### Special Project Failed
ship_event = {
	id = mzilli_anomaly_events.6
	title = PROJECT_FAILURE
	desc = "mzilli_anomaly_events.6.desc"
	picture = GFX_evt_exploding_planet
	show_sound = event_super_explosion
	location = FROMFROM
	
	is_triggered_only = yes

	option = {
		name = CURSES
		custom_tooltip = mzilli_anomaly_events.6.tooltip
		FROMFROM = { add_deposit = d_minerals_6 }
		hidden_effect = { reduce_hp = 60 }
	}
}

### Special Project Completed
ship_event = {
	id = mzilli_anomaly_events.7
	title = PROJECT_COMPLETE
	desc = {
		trigger = {
			FROMFROM = {
				exists = owner
				OR = {
					is_planet_class = pc_continental
					is_planet_class = pc_tropical
					is_planet_class = pc_ocean
					is_planet_class = pc_gaia
				}
			}
		}
		text = mzilli_anomaly_events.7.desc.wet.inhabited
	}
	desc = {
		trigger = {
			FROMFROM = {
				NOT = { exists = owner }
				OR = {
					is_planet_class = pc_continental
					is_planet_class = pc_tropical
					is_planet_class = pc_ocean
					is_planet_class = pc_gaia
				}
			}
		}
		text = mzilli_anomaly_events.7.desc.wet.uninhabited
	}
	desc = {
		trigger = {
			FROMFROM = {
				exists = owner
				OR = {
					is_planet_class = pc_alpine
					is_planet_class = pc_arctic
					is_planet_class = pc_tundra
				}
			}
		}
		text = mzilli_anomaly_events.7.desc.cold.inhabited
	}
	desc = {
		trigger = {
			FROMFROM = {
				NOT = { exists = owner }
				OR = {
					is_planet_class = pc_nuked
					is_planet_class = pc_alpine
					is_planet_class = pc_arctic
					is_planet_class = pc_tundra
				}
			}
		}
		text = mzilli_anomaly_events.7.desc.cold.uninhabited
	}
	desc = {
		trigger = {
			FROMFROM = {
				exists = owner
				OR = {
					is_planet_class = pc_desert
					is_planet_class = pc_savannah
					is_planet_class = pc_arid
				}
			}
		}
		text = mzilli_anomaly_events.7.desc.dry.inhabited
	}
	desc = {
		trigger = {
			FROMFROM = {
				NOT = { exists = owner }
				OR = {
					is_planet_class = pc_desert
					is_planet_class = pc_savannah
					is_planet_class = pc_arid
				}
			}
		}
		text = mzilli_anomaly_events.7.desc.dry.uninhabited
	}
	desc = {
		trigger = {
			FROMFROM = {
				OR = {
					is_planet_class = pc_molten
					is_planet_class = pc_toxic
				}
			}
		}
		text = mzilli_anomaly_events.7.desc.molten
	}
	desc = {
		trigger = {
			FROMFROM = {
				exists = owner
				OR = {
					is_planet_class = pc_nuked
					is_planet_class = pc_relic
				}
			}
		}
		text = mzilli_anomaly_events.7.desc.relic
	}
	picture = {
		trigger = {
			FROMFROM = {
				OR = {
					is_planet_class = pc_alpine
					is_planet_class = pc_arctic
				}
			}
		}
		picture = GFX_evt_arctic
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_tundra } }
		picture = GFX_evt_tundra
	}
	picture = {
		trigger = {
			FROMFROM = {
				OR = {
					is_planet_class = pc_arid
					is_planet_class = pc_savannah
				}
			}
		}
		picture = GFX_evt_arid
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_desert } }
		picture = GFX_evt_desert
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_continental } }
		picture = GFX_evt_continental
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_tropical } }
		picture = GFX_evt_tropical
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_ocean } }
		picture = GFX_evt_ocean
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_relic } }
		picture = GFX_evt_relic_world
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_nuked } }
		picture = GFX_evt_tomb_world
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_molten } }
		picture = GFX_evt_molten
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_toxic } }
		picture = GFX_evt_toxic
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_gaia } }
		picture = GFX_evt_gaia
	}
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	immediate = {
		FROMFROM = {
			set_planet_flag = colony_event
			if = {
				limit = { exists = owner }
				owner = {
					establish_contact = { who = root.owner }
					establish_communications = root.owner
				}
			}
			else_if = {
				limit = { is_planet_class = pc_toxic }
				change_planet_size = -1
			}
			else_if = {
				limit = { is_planet_class = pc_molten }
				change_planet_size = -2
			}
		}
	}

	option = {
		trigger = {
			FROMFROM = {
				OR = {
					is_planet_class = pc_molten
					is_planet_class = pc_toxic
				}
			}
		}
		name = AMAZING
		custom_tooltip = mzilli_anomaly_events.7.tooltip.molten
		FROMFROM = { add_deposit = d_physics_6 }
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier5researchreward
				min = @tier5researchmin
				max = @tier5researchmax
			}
		}
	}
	option = {
		trigger = { FROMFROM = { exists = owner } }
		name = AMAZING
		custom_tooltip = mzilli_anomaly_events.7.tooltip.inhabited
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier5researchreward
				min = @tier5researchmin
				max = @tier5researchmax
			}
		}
		hidden_effect = {
			FROMFROM = {
				if = {
					limit = { owner = { NOT = { has_country_flag = stone_age } } }
					random_list = {
						10 = { set_name = random }
						10 = { set_name = "[owner.GetSpeciesName]" }
					}
				}
			}
			owner = { country_event = { id = story.6 days = 30 } }
		}
	}
	option = {
		trigger = {
			FROMFROM = {
				NOR = {
					is_planet_class = pc_molten
					is_planet_class = pc_toxic
					exists = owner
				}
			}
		}
		name = AMAZING
		custom_tooltip = mzilli_anomaly_events.7.tooltip.uninhabited
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
	}
}

### Elliptical Orbit
ship_event = {
	id = mzilli_anomaly_events.8
	title = "mzilli_anomaly_events.8.name"
	desc = {
		trigger = {
			FROM = {
				NOT = { has_planet_flag = binary_planet }
				NOT = { is_moon = yes }
			}
		}
		text = "mzilli_anomaly_events.8.desc.unary_planet"
	}
	desc = {
		trigger = {
			FROM = {
				NOT = { has_planet_flag = binary_planet }
				is_moon = yes
			}
		}
		text = "mzilli_anomaly_events.8.desc.unary_moon"
	}
	desc = {
		trigger = {
			FROM = {
				has_planet_flag = binary_planet
				NOT = { is_moon = yes }
			}
		}
		text = "mzilli_anomaly_events.8.desc.binary_planet"
	}
	desc = {
		trigger = {
			FROM = {
				has_planet_flag = binary_planet
				is_moon = yes
			}
		}
		text = "mzilli_anomaly_events.8.desc.binary_moon"
	}
	picture = {
		trigger = { FROM = { is_planet_class = pc_arctic } }
		picture = GFX_evt_arctic
	}
	picture = {
		trigger = { FROM = { is_planet_class = pc_ocean } }
		picture = GFX_evt_ocean
	}
	picture = {
		trigger = { FROM = { is_planet_class = pc_savannah } }
		picture = GFX_evt_arid
	}
	picture = {
		trigger = {
			FROM = {
				NOR = {
					is_planet_class = pc_arctic
					is_planet_class = pc_ocean
					is_planet_class = pc_savannah
				}
			}
		}
		picture = GFX_evt_tundra
	}
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = FASCINATING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		hidden_effect = {
			FROM = {
				if = {
					limit = { has_planet_flag = binary_planet }
					remove_planet_flag = binary_planet
				}
			}
		}
	}
}

### Luna Two
ship_event = {
	id = mzilli_anomaly_events.9
	title = "mzilli_anomaly_events.9.name"
	desc = {
		trigger = {
			OR = {
				AND = {
					event_target:moon_luna = { planet_size = 5 }
					FROM = { planet_size = 5 }
				}
				AND = {
					event_target:moon_luna = { planet_size = 10 }
					FROM = { planet_size = 10 }
				}
			}
		}
		text = "mzilli_anomaly_events.9.desc.a"
	}
	desc = {
		trigger = {
			NOR = {
				AND = {
					event_target:moon_luna = { planet_size = 5 }
					FROM = { planet_size = 5 }
				}
				AND = {
					event_target:moon_luna = { planet_size = 10 }
					FROM = { planet_size = 10 }
				}
			}
		}
		text = "mzilli_anomaly_events.9.desc.b"
	}
	picture = GFX_evt_cold_barren
	show_sound = event_mystic_reveal
	location = FROM

	immediate = {
		FROM = { add_modifier = { modifier = mzilli_luna_two days = -1 } }
		owner = { country_event = { id = story.5 days = 30 } }
	}
	
	is_triggered_only = yes

	option = {
		name = ASTOUNDING
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier5researchreward
				min = @tier5researchmin
				max = @tier5researchmax
			}
		}
		FROM = { add_deposit = d_trade_value_9 }
	}
}

### Gravity Slingshot part 1
ship_event = {
	id = mzilli_anomaly_events.10
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		FROM = {
			solar_system = {
				random_system_planet = {
					limit = { has_planet_flag = slingshot_planet }
					remove_planet_flag = slingshot_planet
					save_global_event_target_as = slingshot_planet
				}
			}
		}
		ship_event = { id = mzilli_anomaly_events.11 }
	}
}

### Gravity Slingshot part 2
ship_event = {
	id = mzilli_anomaly_events.11
	title = "mzilli_anomaly_events.11.name"
	desc = "mzilli_anomaly_events.11.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	option = {
		name = REMARKABLE
		if = {
			limit = {
				FROMFROM = {
					NOR = {
						is_colonizable = yes
						has_deposit_for = shipclass_mining_station
					}
				}
			}
			FROMFROM = { add_deposit = d_physics_6 }
		}
		else = {
			owner = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier3researchreward
					min = @tier3researchmin
					max = @tier3researchmax
				}
			}
		}
		hidden_effect = {
			clear_global_event_target = slingshot_planet
		}
	}
}

### Landlocked
ship_event = {
	id = mzilli_anomaly_events.12
	title = "mzilli_anomaly_events.12.name"
	desc = {
		trigger = {
			FROM = {
				exists = owner
				owner = { is_country_type = primitive }
			}
		}
		text = "mzilli_anomaly_events.12.desc.a"
	}
	desc = {
		trigger = {
			FROM = {
				NOT = {
					exists = owner
					owner = { is_country_type = primitive }
				}
			}
		}
		text = "mzilli_anomaly_events.12.desc.b"
	}
	picture = {
		trigger = {
			FROM = {
				exists = owner
				owner = { is_country_type = primitive }
			}
		}
		picture = GFX_evt_relic_world
	}
	picture = {
		trigger = {
			FROM = {
				NOT = {
					exists = owner
					owner = { is_country_type = primitive }
				}
			}
		}
		picture = GFX_evt_tomb_world
	}
	show_sound = event_cityscape
	location = FROM
	
	is_triggered_only = yes

	option = {
		trigger = {
			FROM = {
				exists = owner
				owner = { is_country_type = primitive }
			}
			owner = {
				NOR = {
					has_ethic = ethic_fanatic_xenophobe
					has_civic = civic_fanatic_purifiers
					has_civic = civic_machine_terminator
					has_civic = civic_hive_devouring_swarm
				}
			}
		}
		name = anomaly.625.a
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
	}
	option = {
		name = mzilli_anomaly_events.12.b
		trigger = {
			FROM = {
				exists = owner
				owner = { is_country_type = primitive }
			}
		}
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
	}
	option = {
		name = anomaly.625.a
		trigger = {
			FROM = {
				NOT = {
					exists = owner
					owner = { is_country_type = primitive }
				}
			}
		}
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
	}
}

# Landlocked - Observation
planet_event = {
	id = mzilli_anomaly_events.13
	hide_window = yes
	
	trigger = {
		is_planet = event_target:landlocked_planet
		has_observation_outpost = yes
		NOR = {
			has_anomaly = yes
			has_planet_flag = has_been_helped
		}
		observation_outpost = {
			NOR = {
				has_mission = technological_enlightenment_1
				has_mission = technological_enlightenment_2
				has_mission = technological_enlightenment_3
				has_mission = technological_enlightenment_4
				has_mission = technological_enlightenment_5
				has_mission = technological_enlightenment_6
				has_mission = technological_enlightenment_7
				has_mission = technological_enlightenment_8
				has_mission = technological_enlightenment_9
			}
		}
		observation_outpost_owner = {
			NOR = {
				has_country_flag = landlocked_ticking_clock
				has_ethic = ethic_fanatic_xenophobe
				has_civic = civic_fanatic_purifiers
				has_civic = civic_machine_terminator
				has_civic = civic_hive_devouring_swarm
			}
		}
	}
	
	mean_time_to_happen = {
		months = 60
	}
	
	immediate = {
		observation_outpost_owner = {
			set_country_flag = landlocked_ticking_clock
			country_event = { id = mzilli_anomaly_events.14 }
			set_country_flag = landlocked_observer_country
		}
	}
}

# Landlocked: A Ticking Clock
country_event = {
	id = mzilli_anomaly_events.14
	title = "mzilli_anomaly_events.14.name"
	desc = "mzilli_anomaly_events.14.desc"
	picture = GFX_evt_relic_world
	show_sound = event_planetary_riot
	location = event_target:landlocked_planet

	is_triggered_only = yes
	
	option = {
		name = mzilli_anomaly_events.14.a
		begin_event_chain = {
			event_chain = "help_landlocked_planet"
			target = ROOT
		}
		enable_special_project = {
			name = "HELP_LANDLOCKED_PLANET_1"
			location = event_target:landlocked_planet
			owner = root
		}
		enable_special_project = {
			name = "HELP_LANDLOCKED_PLANET_2"
			location = event_target:landlocked_planet
			owner = root
		}
	}
	option = {
		trigger = {
			NOR = {
				has_authority = auth_corporate
				has_civic = civic_corporate_dominion
			}
		}
		name = mzilli_anomaly_events.14.b
		custom_tooltip = mzilli_anomaly_events.14.tooltip
	}
	option = {
		trigger = {
			OR = {
				has_authority = auth_corporate
				has_civic = civic_corporate_dominion
			}
		}
		name = mzilli_anomaly_events.14.c
		custom_tooltip = mzilli_anomaly_events.14.tooltip
	}
}

#Landlocked: Thanks
ship_event = {
	id = mzilli_anomaly_events.17
	title = mzilli_anomaly_events.17.name
	desc = {
		trigger = {
			exists = event_target:non_landlocked_planet
			event_target:non_landlocked_planet = { exists = space_owner }
		}
		text = mzilli_anomaly_events.17.desc.a
	}
	desc = {
		trigger = {
			exists = event_target:non_landlocked_planet
			event_target:non_landlocked_planet = { NOT = { exists = space_owner } }
		}
		text = mzilli_anomaly_events.17.desc.b
	}
	desc = {
		trigger = { NOT = { exists = event_target:non_landlocked_planet } }
		text = mzilli_anomaly_events.17.desc.c
	}
	show_sound = event_ship_bridge

	location = event_target:landlocked_planet

	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:landlocked_leader
		room = ethic_spaceship_room
	}

	option = {
		trigger = { exists = event_target:non_landlocked_planet }
		name = mzilli_anomaly_events.17.a
		enable_special_project = {
			name = "HELP_LANDLOCKED_PLANET_3"
			location = event_target:non_landlocked_planet
			owner = root
		}
	}
	option = {
		trigger = { exists = event_target:non_landlocked_planet }
		name = mzilli_anomaly_events.17.b
		custom_tooltip = mzilli_anomaly_events.17.tooltip
		hidden_effect = {
			event_target:non_landlocked_immigration_planet = {
				while = {
					count = 3
					create_pop = { species = event_target:landlocked_species }
				}
			}
		}
	}
	option = {
		trigger = { NOT = { exists = event_target:non_landlocked_planet } }
		name = mzilli_anomaly_events.17.c
		custom_tooltip = mzilli_anomaly_events.17.tooltip
		hidden_effect = {
			event_target:non_landlocked_immigration_planet = {
				while = {
					count = 3
					create_pop = { species = event_target:landlocked_species }
				}
			}
		}
	}
}

# Landlocked No More
ship_event = {
	id = mzilli_anomaly_events.18
	title = "mzilli_anomaly_events.18.name"
	desc = {
		trigger = { event_target:non_landlocked_planet = { NOT = { is_planet_class = pc_relic } } }
		text = "mzilli_anomaly_events.18.desc.a"
	}
	desc = {
		trigger = { event_target:non_landlocked_planet = { is_planet_class = pc_relic } }
		text = "mzilli_anomaly_events.18.desc.b"
	}
	picture = {
		trigger = { event_target:non_landlocked_planet = { NOT = { is_planet_class = pc_relic } } }
		picture = GFX_evt_colony_settlement
	}
	picture = {
		trigger = { event_target:non_landlocked_planet = { is_planet_class = pc_relic } }
		picture = GFX_evt_ship_offloading_cargo
	}
	show_sound = event_celebration
	location = event_target:non_landlocked_planet

	is_triggered_only = yes

	immediate = { event_target:non_landlocked_planet = { set_planet_flag = new_landlocked_homeworld } }
	
	option = {
		name = mzilli_anomaly_events.18.a
		owner = { end_event_chain = "help_landlocked_planet" }
		custom_tooltip = mzilli_anomaly_events.18.tooltip
		hidden_effect = { event_target:non_landlocked_planet = { set_name = "New [landlocked_species.GetName]" } }
	}
}

# Landlocked - Beaten by the Rush
ship_event = {
	id = mzilli_anomaly_events.19
	title = "mzilli_anomaly_events.19.name"
	desc = {
		trigger = {
			event_target:owned_non_landlocked_planet = { exists = owner }
			exists = event_target:non_landlocked_planet
		}
		text = mzilli_anomaly_events.19.desc.a
	}
	desc = {
		trigger = {
			event_target:owned_non_landlocked_planet = { exists = owner }
			NOT = { exists = event_target:non_landlocked_planet }
		}
		text = mzilli_anomaly_events.19.desc.b
	}
	desc = {
		trigger = {
			event_target:owned_non_landlocked_planet = { NOT = { exists = owner } }
			exists = event_target:non_landlocked_planet
		}
		text = mzilli_anomaly_events.19.desc.c
	}
	desc = {
		trigger = {
			event_target:owned_non_landlocked_planet = { NOT = { exists = owner } }
			NOT = { exists = event_target:non_landlocked_planet }
		}
		text = mzilli_anomaly_events.19.desc.d
	}
	picture = {
		trigger = { event_target:owned_non_landlocked_planet = { exists = owner } }
		picture = GFX_evt_ship_in_orbit
	}
	picture = {
		trigger = { event_target:owned_non_landlocked_planet = { NOT = { exists = owner } } }
		picture = GFX_evt_shattered_planet
	}
	show_sound = event_radio_chatter
	location = event_target:owned_non_landlocked_planet

	is_triggered_only = yes
	
	option = {
		trigger = { exists = event_target:non_landlocked_planet }
		name = mzilli_anomaly_events.19.a
		event_target:non_landlocked_planet = {
			enable_special_project = {
				name = "HELP_LANDLOCKED_PLANET_3"
				location = this
				owner = root
			}
		}
	}
	option = {
		trigger = { exists = event_target:non_landlocked_planet }
		name = mzilli_anomaly_events.19.b
		custom_tooltip = mzilli_anomaly_events.17.tooltip
		hidden_effect = {
			event_target:non_landlocked_immigration_planet = {
				while = {
					count = 3
					create_pop = { species = event_target:landlocked_species }
				}
			}
		}
	}
	option = {
		trigger = { NOT = { exists = event_target:non_landlocked_planet } }
		name = mzilli_anomaly_events.19.c
		custom_tooltip = mzilli_anomaly_events.17.tooltip
		hidden_effect = {
			event_target:non_landlocked_immigration_planet = {
				while = {
					count = 3
					create_pop = { species = event_target:landlocked_species }
				}
			}
		}
	}
}

# Asteroid Delivered
ship_event = {
	id = mzilli_anomaly_events.20
	title = "mzilli_anomaly_events.20.name"
	desc = "mzilli_anomaly_events.20.desc"
	picture = GFX_evt_asteroid_approaching_planet
	show_sound = event_crystal_ship
	location = event_target:landlocked_asteroid

	is_triggered_only = yes
	
	option = {
		name = mzilli_anomaly_events.18.a
		custom_tooltip = mzilli_anomaly_events.20.tooltip
		owner = { end_event_chain = "help_landlocked_planet" }
	}
}

# Post-Nuclear War / Early Space Age
event = {
	id = mzilli_anomaly_events.21
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		event_target:landlocked_planet = {
			OR = {
				is_planet_class = pc_nuked
				is_planet_class = pc_toxic
				AND = {
					exists = owner
					owner = { has_country_flag = early_space_age }
					NOT = { has_planet_flag = advanced_notification }
				}
			}
		}
	}
	
	immediate = {
		event_target:landlocked_planet = {
			if = {
				limit = {
					OR = {
						is_planet_class = pc_nuked
						is_planet_class = pc_toxic
					}
				}
				destroy_colony = yes
				if = {
					limit = { is_planet_class = pc_nuked }
					change_pc = pc_barren_cold
				}
				else = { change_pc = pc_barren }
				clear_deposits = yes
				solar_system = {
					random_system_planet = {
						limit = { is_planet_class = pc_rare_crystal_asteroid }
						remove_planet = yes
					}
				}
				if = {
					limit = { exists = space_owner }
					space_owner = { country_event = { id = mzilli_anomaly_events.22 } }
				}
			}
			else = {
				set_planet_flag = advanced_notification
				if = {
					limit = { exists = space_owner }
					space_owner = { country_event = { id = mzilli_anomaly_events.24 } }
				}
			}
			every_country = {
				limit = {
					NOT = { is_country = space_owner }
					has_event_chain = help_landlocked_planet
				}
				abort_special_project = {
					type = HELP_LANDLOCKED_PLANET_1
					location = event_target:landlocked_planet
				}
				abort_special_project = {
					type = HELP_LANDLOCKED_PLANET_2
					location = event_target:landlocked_planet
				}
				if = {
					limit = { NOT = { has_special_project = HELP_LANDLOCKED_PLANET_3 } }
					end_event_chain = "help_landlocked_planet"
				}
			}
		}
	}
}

# Landlocked - Ashes to Ashes / 
country_event = {
	id = mzilli_anomaly_events.22
	title = "mzilli_anomaly_events.22.name"
	desc = {
		trigger = {
			NOR = {
				any_system = { any_galaxy_planet = { has_planet_flag = new_landlocked_homeworld } }
				any_country = { has_special_project = HELP_LANDLOCKED_PLANET_3 }
			}
		}
		text = "mzilli_anomaly_events.22.desc.a"
	}
	desc = {
		trigger = {
			OR = {
				any_system = { any_galaxy_planet = { has_planet_flag = new_landlocked_homeworld } }
				any_country = { has_special_project = HELP_LANDLOCKED_PLANET_3 }
			}
		}
		text = "mzilli_anomaly_events.22.desc.b"
	}
	picture = {
		trigger = { event_target:landlocked_planet = { is_planet_class = pc_barren } }
		picture = GFX_evt_relic_world_street
	}
	picture = {
		trigger = { event_target:landlocked_planet = { is_planet_class = pc_barren_cold } }
		picture = GFX_evt_cold_barren
	}
	show_sound = event_solar_fusion
	location = event_target:landlocked_planet

	is_triggered_only = yes
	
	option = {
		name = anomaly.625.a
		custom_tooltip = mzilli_anomaly_events.22.tooltip.a
		if = {
			limit = { has_special_project = HELP_LANDLOCKED_PLANET_1 }
			custom_tooltip = mzilli_anomaly_events.22.tooltip.b
			abort_special_project = {
				type = HELP_LANDLOCKED_PLANET_1
				location = event_target:landlocked_planet
			}
		}
		if = {
			limit = { has_special_project = HELP_LANDLOCKED_PLANET_2 }
			custom_tooltip = mzilli_anomaly_events.22.tooltip.c
			abort_special_project = {
				type = HELP_LANDLOCKED_PLANET_2
				location = event_target:landlocked_planet
			}
		}
	}
}

# Removes asteroid from Landlocked system
planet_event = {
	id = mzilli_anomaly_events.23
	is_triggered_only = yes
	hide_window = yes
	
	immediate = { remove_planet = yes }
}

# Landlocked No More
country_event = {
	id = mzilli_anomaly_events.24
	title = "mzilli_anomaly_events.24.name"
	desc = "mzilli_anomaly_events.24.desc"
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = event_target:landlocked_planet

	is_triggered_only = yes
	
	option = {
		name = mzilli_anomaly_events.18.a
		custom_tooltip = mzilli_anomaly_events.20.tooltip
	}
}

### "Mustafar"
ship_event = {
	id = mzilli_anomaly_events.25
	title = "mzilli_anomaly_events.25.name"
	desc = "mzilli_anomaly_events.25.desc"
	picture = GFX_evt_molten
	show_sound = event_solar_fusion
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = REMARKABLE
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
	}
}

### Toxic Ocean World
ship_event = {
	id = mzilli_anomaly_events.26
	title = "mzilli_anomaly_events.26.name"
	desc = "mzilli_anomaly_events.26.desc"
	picture = GFX_evt_toxic
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = FASCINATING
		trigger = { FROM = { has_deposit_for = shipclass_mining_station } }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
	}
	option = {
		name = FASCINATING
		trigger = { FROM = { NOT = { has_deposit_for = shipclass_mining_station } } }
		FROM = { add_deposit = d_society_6 }
	}
}

### Celestial Peaks
ship_event = {
	id = mzilli_anomaly_events.27
	title = "mzilli_anomaly_events.27.name"
	desc = "mzilli_anomaly_events.27.desc"
	picture = GFX_evt_ship_in_orbit
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = REMARKABLE
		FROM = { add_deposit = d_celestial_peaks }
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
	}
}

### Brown Dwarf part 1
ship_event = {
	id = mzilli_anomaly_events.28
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		FROM = {
			add_modifier = {
				modifier = mzilli_events_brown_dwarf
				days = -1
			}
			every_moon = {
				add_modifier = {
					modifier = mzilli_events_brown_dwarf_moon
					days = -1
				}
				if = {
					limit = { has_planet_flag = superjovian_tf_candidate }
					add_modifier = {
						modifier = terraforming_candidate
						days = -1
					}
				}
			}
			random_moon = {
				limit = { has_planet_flag = superjovian_tf_candidate }
				remove_planet_flag = superjovian_tf_candidate
				if = {
					limit = { orbit = { NOT = { any_moon = { has_planet_flag = superjovian_tf_candidate } } } }
					save_global_event_target_as = superjovian_tf_candidate
				}
			}
		}
		ship_event = { id = mzilli_anomaly_events.29 }
	}
}

### Brown Dwarf part 2
ship_event = {
	id = mzilli_anomaly_events.29
	title = "mzilli_anomaly_events.29.name"
	desc = {
		trigger = { exists = event_target:superjovian_tf_candidate }
		text = "mzilli_anomaly_events.29.desc.a"
	}
	desc = {
		trigger = { NOT = { exists = event_target:superjovian_tf_candidate } }
		text = "mzilli_anomaly_events.29.desc.b"
	}
	picture = GFX_evt_star_brown_dwarf
	show_sound = event_solar_fusion
	location = FROMFROM
	
	is_triggered_only = yes

	immediate = { FROMFROM = { every_moon = { remove_planet_flag = superjovian_tf_candidate } } }

	option = {
		name = REMARKABLE
		FROMFROM = {
			if = {
				limit = { has_deposit_for = shipclass_mining_station }
				add_deposit = d_energy_6
			}
			else = { add_deposit = d_physics_6 }
		}
		if = {
			limit = { exists = event_target:superjovian_tf_candidate }
			custom_tooltip = mzilli_anomaly_events.29.tooltip.a
		}
		else = { custom_tooltip = mzilli_anomaly_events.29.tooltip.b }
		hidden_effect = { clear_global_event_target = superjovian_tf_candidate }
	}
}

### Decaying Moon
ship_event = {
	id = mzilli_anomaly_events.31
	title = "mzilli_anomaly_events.31.name"
	desc = {
		trigger = {
			FROM.orbit = {
				OR = {
					is_planet_class = pc_gas_giant
					is_planet_class = pc_ice_giant
					is_planet_class = pc_bespin
				}
			}
		}
		text = "mzilli_anomaly_events.31.desc.a"
	}
	desc = {
		trigger = {
			FROM.orbit = {
				NOR = {
					is_planet_class = pc_gas_giant
					is_planet_class = pc_ice_giant
					is_planet_class = pc_bespin
				}
			}
		}
		text = "mzilli_anomaly_events.31.desc.b"
	}
	picture = GFX_evt_ancient_alien_temple
	show_sound = event_solar_fusion
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = mzilli_anomaly_events.31.no_science
		FROM.orbit = {
			if = {
				limit = { has_modifier = terraforming_candidate }
				remove_modifier = terraforming_candidate
			}
		}
		hidden_effect = {
			FROM = {
				planet_event = {
					id = mzilli_anomaly_events.34
					days = 345000
					random = 30000
				}
			}
		}
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
	}
	option = {
		trigger = {
			owner = { NOT = { is_ai = yes } }
			OR = {
				owner = { has_ethic = ethic_materialist }
				owner = { has_ethic = ethic_fanatic_materialist }
				owner = { has_ethic = ethic_militarist }
				owner = { has_ethic = ethic_fanatic_militarist }
				owner = { has_ethic = ethic_gestalt_consciousness }
				leader = { has_trait = leader_trait_maniacal }
			}
		}
		name = mzilli_anomaly_events.31.science
		FROM.orbit = {
			if = {
				limit = { has_modifier = terraforming_candidate }
				remove_modifier = terraforming_candidate
			}
		}
		FROM = {
			enable_special_project = {
				name = "DOOMED_MOON_PROJECT_1"
				location = this
				owner = root
			}
		}
	}
}

### Decaying Faster
ship_event = {
	id = mzilli_anomaly_events.32
	title = "mzilli_anomaly_events.32.name"
	desc = {
		trigger = {
			FROMFROM = {
				OR = {
					is_colonizable = yes
					exists = owner
				}
			}
		}
		text = "mzilli_anomaly_events.32.desc.a"
	}
	desc = {
		trigger = {
			FROMFROM = {
				NOR = {
					is_colonizable = yes
					exists = owner
				}
			}
		}
		text = "mzilli_anomaly_events.32.desc.b"
	}
	picture = {
		trigger = {
			FROMFROM.orbit = {
				OR = {
					is_planet_class = pc_gas_giant
					is_planet_class = pc_ice_giant
					is_planet_class = pc_bespin
				}
			}
		}
		picture = GFX_evt_gas_giant
	}
	picture = {
		trigger = {
			FROMFROM.orbit = {
				NOR = {
					is_planet_class = pc_gas_giant
					is_planet_class = pc_ice_giant
					is_planet_class = pc_bespin
				}
			}
		}
		picture = GFX_evt_atmospheric_entry
	}
	show_sound = event_solar_fusion
	location = FROMFROM
	
	is_triggered_only = yes

	immediate = {
		FROMFROM = {
			remove_modifier = mzilli_decaying_moon_1
			add_modifier = {
				modifier = mzilli_decaying_moon_2
				days = -1
			}
			if = {
				limit = { NOT = { has_modifier = hazardous_weather } }
				add_modifier = {
					modifier = hazardous_weather
					days = -1
				}
			}
			else_if = {
				limit = { NOT = { has_modifier = wild_storms } }
				add_modifier = {
					modifier = wild_storms
					days = -1
				}
			}
			else_if = {
				limit = { NOT = { has_modifier = bleak_planet } }
				add_modifier = {
					modifier = bleak_planet
					days = -1
				}
			}
		}
		FROMFROM.orbit = {
			remove_modifier = mzilli_decaying_moon_planet_1
			if = {
				limit = {
					NOR = {
						is_planet_class = pc_gas_giant
						is_planet_class = pc_ice_giant
						is_planet_class = pc_bespin
					}
				}
				add_modifier = {
					modifier = mzilli_decaying_moon_planet_2
					days = -1
				}
			}
		}
	}

	option = {
		name = action.39.a
		FROMFROM = {
			hidden_effect = {
				planet_event = {
					id = mzilli_anomaly_events.34
					days = 34500
					random = 3000
				}
			}
		}
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
	}
	option = {
		name = mzilli_anomaly_events.32.a
		FROMFROM = {
			enable_special_project = {
				name = "DOOMED_MOON_PROJECT_2"
				location = this
				owner = root
			}
		}
	}
}

### Decaying Even Faster
ship_event = {
	id = mzilli_anomaly_events.33
	title = "mzilli_anomaly_events.33.name"
	desc = "mzilli_anomaly_events.33.desc"
	picture = {
		trigger = {
			FROMFROM.orbit = {
				OR = {
					is_planet_class = pc_gas_giant
					is_planet_class = pc_ice_giant
					is_planet_class = pc_bespin
				}
			}
		}
		picture = GFX_evt_gas_giant
	}
	picture = {
		trigger = {
			FROMFROM.orbit = {
				NOR = {
					is_planet_class = pc_gas_giant
					is_planet_class = pc_ice_giant
					is_planet_class = pc_bespin
				}
			}
		}
		picture = GFX_evt_asteroid_approaching_planet
	}
	show_sound = event_solar_fusion
	location = FROMFROM
	
	is_triggered_only = yes

	immediate = {
		FROMFROM = {
			remove_modifier = mzilli_decaying_moon_2
			add_modifier = {
				modifier = mzilli_decaying_moon_3
				days = -1
			}
			if = {
				limit = { NOT = { has_modifier = wild_storms } }
				add_modifier = {
					modifier = wild_storms
					days = -1
				}
			}
			else_if = {
				limit = { NOT = { has_modifier = bleak_planet } }
				add_modifier = {
					modifier = bleak_planet
					days = -1
				}
			}
		}
		FROMFROM.orbit = {
			remove_modifier = mzilli_decaying_moon_planet_2
			if = {
				limit = {
					NOR = {
						is_planet_class = pc_gas_giant
						is_planet_class = pc_ice_giant
						is_planet_class = pc_bespin
					}
				}
				add_modifier = {
					modifier = mzilli_decaying_moon_planet_3
					days = -1
				}
			}
			if = {
				limit = { NOT = { has_modifier = hazardous_weather } }
				add_modifier = {
					modifier = hazardous_weather
					days = -1
				}
			}
			else_if = {
				limit = { NOT = { has_modifier = wild_storms } }
				add_modifier = {
					modifier = wild_storms
					days = -1
				}
			}
		}
	}

	option = {
		name = action.39.a
		FROMFROM = {
			hidden_effect = {
				planet_event = {
					id = mzilli_anomaly_events.34
					days = 3450
					random = 300
				}
			}
		}
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}
	}
}

### Roche Limit - Part 1
planet_event = {
	id = mzilli_anomaly_events.34
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				exists = space_owner
				OR = {
					exists = owner
					orbit = { exists = owner }
				}
			}
			space_owner = { set_country_flag = owned_doomed_moon }
			destroy_colony = yes
		}
		change_pc = pc_molten
		remove_modifier = mzilli_decaying_moon_1
		remove_modifier = mzilli_decaying_moon_2
		remove_modifier = hazardous_weather
		remove_modifier = bleak_planet
		remove_modifier = wild_storms
		remove_modifier = unstable_tectonics
		if = {
			limit = { NOT = { has_modifier = mzilli_decaying_moon_3 } }
			add_modifier = {
				modifier = mzilli_decaying_moon_3
				days = -1
			}
		}
		if = {
			limit = { exists = space_owner }
			space_owner = { country_event = { id = mzilli_anomaly_events.35 } }
		}
		planet_event = {
			id = mzilli_anomaly_events.36
			days = 60
			random = 30
		}
		orbit = {
			remove_modifier = mzilli_decaying_moon_planet_1
			remove_modifier = mzilli_decaying_moon_planet_2
			remove_modifier = mzilli_decaying_moon_planet_3
			add_modifier = {
				modifier = mzilli_decaying_moon_planet_3
				days = -1
			}
			if = {
				limit = {
					NOR = {
						has_modifier = unstable_tectonics
						is_planet_class = pc_gas_giant
						is_planet_class = pc_ice_giant
						is_planet_class = pc_bespin
					}
				}
				add_modifier = {
					modifier = unstable_tectonics
					days = -1
				}
			}
		}
	}
}

### Roche Limit - Part 2
country_event = {
	id = mzilli_anomaly_events.35
	title = "mzilli_anomaly_events.35.name"
	desc = {
		trigger = {
			FROM = {
				orbit = {
					OR = {
						is_planet_class = pc_pas_giant
						is_planet_class = pc_ice_giant
						is_planet_class = pc_bespin
					}
				}
			}
		}
		text = "mzilli_anomaly_events.35.desc.a"
	}
	desc = {
		trigger = {
			FROM = {
				orbit = {
					NOR = {
						is_planet_class = pc_pas_giant
						is_planet_class = pc_ice_giant
						is_planet_class = pc_bespin
					}
				}
			}
		}
		text = "mzilli_anomaly_events.35.desc.b"
	}
	picture = GFX_evt_molten
	show_sound = event_solar_fusion
	location = FROM
	
	is_triggered_only = yes

	option = {
		trigger = { NOT = { has_country_flag = owned_doomed_moon } }
		name = origin.1200.c
		custom_tooltip = mzilli_anomaly_events.35.tooltip
	}
	option = {
		trigger = { has_country_flag = owned_doomed_moon }
		name = UNFORTUNATE
		custom_tooltip = mzilli_anomaly_events.35.tooltip
		hidden_effect = { remove_country_flag = owned_doomed_moon }
	}
}

### Roche Limit - Part 3
planet_event = {
	id = mzilli_anomaly_events.36
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		clear_planet_modifiers = yes
		change_pc = pc_shattered
		remove_modifier = mzilli_decaying_moon_3
		space_owner = { country_event = { id = mzilli_anomaly_events.37 } }
		clear_deposits = yes
		orbit = {
			remove_modifier = mzilli_decaying_moon_planet_1
			remove_modifier = mzilli_decaying_moon_planet_2
			remove_modifier = mzilli_decaying_moon_planet_3
			add_modifier = {
				modifier = asteroid_belt
				days = -1
			}
			if = {
				limit = {
					NOR = {
						is_planet_class = pc_gas_giant
						is_planet_class = pc_ice_giant
						is_planet_class = pc_bespin
					}
				}
				change_pc = pc_molten
				clear_planet_modifiers = yes
				remove_modifier = hazardous_weather
				remove_modifier = bleak_planet
				remove_modifier = wild_storms
				remove_modifier = unstable_tectonics
				if = {
					limit = { NOT = { has_modifier = asteroid_impacts } }
					add_modifier = { modifier = asteroid_impacts }
				}
			}
			planet_event = { id = mzilli_anomaly_events.38 days = 345 random = 30 }
		}
	}
}

### Roche Limit - Part 4
country_event = {
	id = mzilli_anomaly_events.37
	title = "mzilli_anomaly_events.37.name"
	desc = {
		trigger = {
			FROM.orbit = {
				OR = {
					is_planet_class = pc_gas_giant
					is_planet_class = pc_ice_giant
					is_planet_class = pc_bespin
				}
			}
		}
		text = "mzilli_anomaly_events.37.desc.a"
	}
	desc = {
		trigger = {
			FROM.orbit = {
				NOR = {
					is_planet_class = pc_gas_giant
					is_planet_class = pc_ice_giant
					is_planet_class = pc_bespin
				}
			}
		}
		text = "mzilli_anomaly_events.37.desc.b"
	}
	picture = GFX_evt_gray_gooed_planet
	show_sound = event_super_explosion
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = AMAZING
		custom_tooltip = mzilli_anomaly_events.37.tooltip
		if = {
			limit = {
				FROM.orbit = {
					NOR = {
						is_planet_class = pc_gas_giant
						is_planet_class = pc_ice_giant
						is_planet_class = pc_bespin
						has_deposit_for = shipclass_research_station
					}
				}
				add_deposit = d_minerals_6
			}
		}
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier5researchreward
				min = @tier5researchmin
				max = @tier5researchmax
			}
		}
	}
}

### Roche Limit - Part 5
planet_event = {
	id = mzilli_anomaly_events.38
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		set_ring = yes
		if = {
			limit = { has_modifier = mzilli_binary_planet }
			remove_modifier = mzilli_binary_planet
		}
		random_moon = {
			limit = { is_planet_class = pc_shattered }
			remove_planet = yes
		}
	}
}

### Binary/Trinary suns part 1
ship_event = {
	id = mzilli_anomaly_events.39
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { FROM = { has_planet_flag = binary_planet } }
			ship_event = { id = mzilli_anomaly_events.40 }
		}
		else = { ship_event = { id = mzilli_anomaly_events.41 } }
	}
}

### Binary Sunset
ship_event = {
	id = mzilli_anomaly_events.40
	title = "mzilli_anomaly_events.40.name"
	desc = {
		trigger = { FROMFROM = { NOT = { is_moon = yes } } }
		text = "mzilli_anomaly_events.40.desc.planet"
	}
	desc = {
		trigger = { FROMFROM = { is_moon = yes } }
		text = "mzilli_anomaly_events.40.desc.moon"
	}
	picture = {
		trigger = {
			FROMFROM = {
				OR = {
					is_planet_class = pc_nuked
					is_planet_class = pc_relic
				}
			}
		}
		picture = GFX_evt_huge_monument
	}
	picture = {
		trigger = {
			FROMFROM = {
				NOR = {
					is_planet_class = pc_nuked
					is_planet_class = pc_relic
				}
			}
		}
		picture = GFX_evt_animal_wildlife
	}
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	immediate = { FROMFROM = { remove_planet_flag = binary_planet } }

	option = {
		trigger = {
			NAND = {
				FROMFROM = { is_planet_class = pc_desert }
				FROM.owner = { species_portrait = human }
			}
		}
		name = AMAZING
		owner = {
			add_modifier = {
				modifier = mzilli_binary_sunset_art
				days = 1800
			}
		}
		FROMFROM = {
			if = {
				limit = { NOT = { has_modifier = natural_beauty } }
				add_modifier = {
					modifier = natural_beauty
					days = -1
				}
			}
		}
		hidden_effect = { clear_global_event_target = binary_sunset_planet }
	}
	option = {
		trigger = {
			AND = {
				FROMFROM = { is_planet_class = pc_desert }
				FROM.owner = { species_portrait = human }
			}
		}
		name = mzilli_anomaly_events.40.a
		owner = {
			add_modifier = {
				modifier = mzilli_binary_sunset_art
				days = 1800
			}
		}
		FROMFROM = {
			if = {
				limit = { NOT = { has_modifier = natural_beauty } }
				add_modifier = {
					modifier = natural_beauty
					days = -1
				}
			}
		}
		hidden_effect = { clear_global_event_target = binary_sunset_planet }
	}
}

### Trinary Sunset
ship_event = {
	id = mzilli_anomaly_events.41
	title = "mzilli_anomaly_events.41.name"
	desc = {
		trigger = { FROMFROM = { NOT = { is_moon = yes } } }
		text = "mzilli_anomaly_events.41.desc.planet"
	}
	desc = {
		trigger = { FROMFROM = { is_moon = yes } }
		text = "mzilli_anomaly_events.41.desc.moon"
	}
	picture = {
		trigger = {
			FROMFROM = {
				OR = {
					is_planet_class = pc_nuked
					is_planet_class = pc_relic
				}
			}
		}
		picture = GFX_evt_huge_monument
	}
	picture = {
		trigger = {
			FROMFROM = {
				NOR = {
					is_planet_class = pc_nuked
					is_planet_class = pc_relic
				}
			}
		}
		picture = GFX_evt_animal_wildlife
	}
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	immediate = { FROMFROM = { remove_planet_flag = trinary_planet } }

	option = {
		name = AMAZING
		owner = {
			add_modifier = {
				modifier = mzilli_trinary_sunset_art
				days = 1800
			}
		}
		FROMFROM = {
			if = {
				limit = { NOT = { has_modifier = natural_beauty } }
				add_modifier = {
					modifier = natural_beauty
					days = -1
				}
			}
		}
		hidden_effect = { clear_global_event_target = binary_sunset_planet }
	}
}

### Young Sun
ship_event = {
	id = mzilli_anomaly_events.42
	title = "mzilli_anomaly_events.42.name"
	desc = "mzilli_anomaly_events.42.desc"
	picture = GFX_evt_hive
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = FASCINATING
		FROM = {
			add_deposit = d_physics_6
			add_deposit = d_engineering_6
		}
	}
}

### Cuteness Proximity
ship_event = {
	id = mzilli_anomaly_events.43
	title = "mzilli_anomaly_events.43.name"
	desc = {
		trigger = { owner = { has_civic = civic_machine_servitor } }
		text = "mzilli_anomaly_events.43.desc.c"
	}
	desc = {
		trigger = {
			owner = {
				NOT = { has_civic = civic_machine_servitor }
				species_portrait = human
			}
		}
		text = "mzilli_anomaly_events.43.desc.a"
	}
	desc = {
		trigger = {
			owner = {
				NOT = { has_civic = civic_machine_servitor }
				NOT = { species_portrait = human }
			}
		}
		text = "mzilli_anomaly_events.43.desc.b"
	}
	picture = GFX_evt_animal_wildlife
	show_sound = event_alien_nature
	location = FROM
	
	is_triggered_only = yes

	option = {
		trigger = { owner = { NOT = { has_ethic = ethic_fanatic_xenophobe } } }
		name = mzilli_anomaly_events.43.a
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		leader = {
			if = {
				limit = { NOT = { has_trait = leader_trait_expertise_new_worlds } }
				add_trait = leader_trait_expertise_new_worlds
			}
			else_if = {
				limit = { NOT = { has_trait = leader_trait_expertise_biology } }
				add_trait = leader_trait_expertise_biology
			}
		}
		FROM = {
			add_modifier = {
				modifier = mzilli_cuteness_proximity
				days = -1
			}
		}
	}
	option = {
		trigger = { owner = { has_ethic = ethic_fanatic_xenophobe } }
		name = mzilli_anomaly_events.43.b
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		FROM = {
			add_modifier = {
				modifier = mzilli_cuteness_proximity
				days = -1
			}
		}
	}
}

### Ringed Moon
ship_event = {
	id = mzilli_anomaly_events.44
	title = "mzilli_anomaly_events.44.name"
	desc = "mzilli_anomaly_events.44.desc"
	picture = GFX_evt_ship_in_orbit
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	immediate = { owner = { country_event = { id = story.5 days = 30 } } }

	option = {
		name = anomaly.120.b
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
	}
}

### Chthonian Ice Planet
ship_event = {
	id = mzilli_anomaly_events.45
	title = "mzilli_anomaly_events.45.name"
	desc = "mzilli_anomaly_events.45.desc"
	picture = GFX_evt_ship_in_orbit_2
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	immediate = {
		FROM = {
			if = {
				limit = { NOT = { has_modifier = chthonian_planet } }
				add_modifier = {
					modifier = chthonian_planet
					days = -1
				}
			}
		}
	}

	option = {
		name = FASCINATING
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}
		hidden_effect = {
			FROM = { 
				if = {
					limit = { has_planet_flag = binary_planet }
					remove_planet_flag = binary_planet
				}
			}
		}
	}
}

### Runaway Greenhouse Effect part 1
ship_event = {
	id = mzilli_anomaly_events.46
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { owner = { any_owned_planet = { has_planet_flag = planet_earth } } }
			random_galaxy_planet = {
				limit = { has_planet_flag = planet_venus }
				save_global_event_target_as = planet_venus
			}
		}
		FROM = {
			set_planet_flag = greenhouse_planet
			if = {
				limit = { is_moon = yes }
				orbit = { save_global_event_target_as = greenhouse_primary }
			}
			else = { save_global_event_target_as = greenhouse_primary }
			solar_system = {
				random_system_planet = {
					limit = { has_planet_flag = greenhouse_sun }
					save_global_event_target_as = greenhouse_sun
				}
			}
		}
		ship_event = { id = mzilli_anomaly_events.47 }
	}
}

### Runaway Greenhouse Effect part 2
ship_event = {
	id = mzilli_anomaly_events.47
	title = "anomaly.685.name"
	desc = {
		trigger = { exists = event_target:planet_venus }
		text = "mzilli_anomaly_events.47.desc.a"
	}
	desc = {
		trigger = { NOT = { exists = event_target:planet_venus } }
		text = "mzilli_anomaly_events.47.desc.b"
	}
	picture = GFX_evt_inhabited_solar_system
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	option = {
		name = mzilli_anomaly_events.47.a
		hidden_effect = { clear_global_event_target = planet_venus }
		event_target:greenhouse_primary = {
			enable_special_project = {
				name = "REVERSE_GREENHOUSE"
				location = this
				owner = root
			}
		}
	}

	option = {
		name = mzilli_anomaly_events.47.b
		FROMFROM = { set_deposit = d_physics_6 }
		hidden_effect = {
			clear_global_event_target = planet_venus
			clear_global_event_target = greenhouse_primary
			clear_global_event_target = greenhouse_sun
		}
	}
}

### Greenhouse No More
ship_event = {
	id = mzilli_anomaly_events.48
	title = "mzilli_anomaly_events.48.name"
	desc = {
		trigger = { event_target:greenhouse_planet = { NOT = { is_moon = yes } } }
		text = "mzilli_anomaly_events.48.desc.a"
	}
	desc = {
		trigger = { event_target:greenhouse_planet = { is_moon = yes } }
		text = "mzilli_anomaly_events.48.desc.b"
	}
	picture = GFX_evt_drilling_for_gas
	show_sound = event_celebration
	location = event_target:greenhouse_planet
	
	is_triggered_only = yes

	option = {
		name = MARVELOUS
		custom_tooltip = mzilli_anomaly_events.48.tooltip.a
		hidden_effect = { event_target:greenhouse_planet = { remove_modifier = mzilli_greenhouse_effect } }
		if = {
			limit = {
				event_target:greenhouse_planet = {
					OR = {
						is_planet_class = pc_barren
						is_planet_class = pc_barren_cold
					}
				}
			}
			custom_tooltip = mzilli_anomaly_events.48.tooltip.b
			hidden_effect = {
				event_target:greenhouse_planet = {
					add_modifier = {
						modifier = terraforming_candidate
						days = -1
					}
				}
			}
			clear_global_event_target = greenhouse_planet
			clear_global_event_target = greenhouse_sun
		}
	}
}

### Crooked Planet part 1
ship_event = {
	id = mzilli_anomaly_events.49
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { owner = { any_owned_planet = { has_planet_flag = planet_earth } } }
			random_galaxy_planet = {
				limit = { has_planet_flag = planet_uranus }
				save_global_event_target_as = planet_uranus
			}
		}
		#FROM = { save_global_event_target_as = crooked_planet }
		ship_event = { id = mzilli_anomaly_events.50 }
	}
}

### Crooked Planet part 2
ship_event = {
	id = mzilli_anomaly_events.50
	title = "mzilli_anomaly_events.50.name"
	desc = {
		trigger = { exists = event_target:planet_uranus }
		text = "mzilli_anomaly_events.50.desc.a"
	}
	desc = {
		trigger = { NOT = { exists = event_target:planet_uranus } }
		text = "mzilli_anomaly_events.50.desc.b"
	}
	picture = GFX_evt_nuclear_explosion
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	option = {
		name = FASCINATING
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		hidden_effect = { clear_global_event_target = planet_uranus }
	}
}

### Supernova Remnant part 1
ship_event = {
	id = mzilli_anomaly_events.51
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		owner = {
			if = {
				limit = { has_origin = origin_lost_colony }
				capital_scope = { save_global_event_target_as = supernova_observed_planet }
			}
			else = { home_planet = { save_global_event_target_as = supernova_observed_planet } }
		}
		ship_event = { id = mzilli_anomaly_events.52 }
	}
}

### Supernova Remnant part 2
ship_event = {
	id = mzilli_anomaly_events.52
	title = "mzilli_anomaly_events.52.name"
	desc = "mzilli_anomaly_events.52.desc"
	picture = GFX_evt_mysterious_signal
	show_sound = event_solar_fusion
	location = FROMFROM
	
	is_triggered_only = yes

	option = {
		name = mzilli_anomaly_events.52.a
		trigger = { owner = { NOT = { has_origin = origin_doomsday } } }
		FROMFROM = { add_deposit = d_trade_value_9 }
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		hidden_effect = { clear_global_event_target = supernova_observed_planet }
	}
	option = {
		name = mzilli_anomaly_events.52.b
		trigger = { owner = { has_origin = origin_doomsday } }
		FROMFROM = { add_deposit = d_trade_value_9 }
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		hidden_effect = { clear_global_event_target = supernova_observed_planet }
	}
}

### Frail Fusion
ship_event = {
	id = mzilli_anomaly_events.53
	title = "mzilli_anomaly_events.53.name"
	desc = "mzilli_anomaly_events.53.desc"
	picture = GFX_evt_inhabited_solar_system
	show_sound = event_solar_fusion
	location = FROM

	immediate = {
		FROM = {
			add_modifier = {
				modifier = mzilli_frail_fusion
				days = -1
			}
			planet_event = {
				id = mzilli_anomaly_events.54
				days = 36000
			}
			solar_system = {
				every_system_planet = {
					limit = { has_planet_flag = frail_fusion }
					remove_modifier = bleak_planet
					add_modifier = {
						modifier = bleak_planet
						days = 36000
					}
				}
			}
		}
	}
	
	is_triggered_only = yes

	option = {
		name = FASCINATING
		custom_tooltip = mzilli_anomaly_events.53.tooltip
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		FROM = { set_deposit = d_physics_9 }
	}
}

# Frail Fusion Ended part 1
planet_event = {
	id = mzilli_anomaly_events.54
	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		remove_modifier = mzilli_frail_fusion
		solar_system = {
			every_system_planet = {
				limit = {
					has_planet_flag = frail_fusion
					has_modifier = bleak_planet
				}
				remove_planet_flag = frail_fusion
				remove_modifier = bleak_planet
			}
		}
		if = {
			limit = { exists = space_owner }
			space_owner = { country_event = { id = mzilli_anomaly_events.55 } }
		}
	}
}

# Frail Fusion Ended part 2
country_event = {
	id = mzilli_anomaly_events.55
	title = "mzilli_anomaly_events.55.name"
	desc = "mzilli_anomaly_events.55.desc"
	picture = {
		trigger = {
			FROM = {
				OR = {
					is_planet_class = pc_m_giant_star
					is_planet_class = pc_k_star
					is_planet_class = pc_k_giant_star
					is_planet_class = pc_g_star
				}
			}
		}
		picture = GFX_evt_star_yellow
	}
	picture = {
		trigger = {
			FROM = {
				OR = {
					is_planet_class = pc_f_star
					is_planet_class = pc_a_star
					is_planet_class = pc_b_star
				}
			}
		}
		picture = GFX_evt_star_white
	}
	show_sound = event_solar_fusion
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = AMAZING
		custom_tooltip = mzilli_anomaly_events.55.tooltip
	}
}

### Stalled Rotation part 1
ship_event = {
	id = mzilli_anomaly_events.56
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		FROM = {
			solar_system = {
				random_system_planet = {
					limit = { has_planet_flag = tidally_locked_sun }
					remove_planet_flag = tidally_locked_sun
					save_global_event_target_as = tidally_locked_sun
				}
			}
		}
		ship_event = { id = mzilli_anomaly_events.57 }
	}
}

### Stalled Rotation part 2
ship_event = {
	id = mzilli_anomaly_events.57
	title = "mzilli_anomaly_events.57.name"
	desc = "mzilli_anomaly_events.57.desc"
	picture = GFX_evt_alien_nature
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	option = {
		name = FASCINATING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		hidden_effect = { clear_global_event_target = tidally_locked_sun }
	}
}

### Bad Poetry
ship_event = {
	id = mzilli_anomaly_events.58
	title = "mzilli_anomaly_events.58.name"
	desc = {
		trigger = { owner = { NOT = { is_species_class = MACHINE } } }
		text = "mzilli_anomaly_events.58.desc.a"
	}
	desc = {
		trigger = { owner = { is_species_class = MACHINE } }
		text = "mzilli_anomaly_events.58.desc.b"
	}
	picture = GFX_evt_habitable_dig_site
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	immediate = { owner = { country_event = { id = story.5 days = 30 } } }

	option = {
		name = mzilli_anomaly_events.58.a
		FROM = {
			add_deposit = d_society_6
			hidden_effect = {
				add_modifier = {
					modifier = mzilli_bad_poetry_modifier
					days = -1
				}
			}
		}
		if = {
			limit = { owner = { NOT = { is_species_class = MACHINE } } }
			leader = {
				if = {
					limit = { NOT = { has_trait = leader_trait_substance_abuser } }
					add_trait = leader_trait_substance_abuser
				}
				else_if = {
					limit = { NOT = { has_trait = leader_trait_maniacal } }
					add_trait = leader_trait_maniacal
				}
			}
		}
		else = {
			leader = {
				if = {
					limit = { NOT = { has_trait = leader_trait_rigid_programming } }
					add_trait = leader_trait_rigid_programming
				}
			}
		}
	}
	option = {
		name = mzilli_anomaly_events.58.b
		if = {
			limit = { owner = { NOT = { is_species_class = MACHINE } } }
			leader = {
				if = {
					limit = { NOT = { has_trait = leader_trait_roamer } }
					add_trait = leader_trait_roamer
				}
			}
		}
		else = {
			leader = {
				if = {
					limit = { NOT = { has_trait = leader_trait_cataloger } }
					add_trait = leader_trait_cataloguer
				}
			}
		}
	}
}

### Gasping For Air
ship_event = {
	id = mzilli_anomaly_events.59
	title = "mzilli_anomaly_events.59.name"
	desc = "mzilli_anomaly_events.59.desc"
	picture = GFX_evt_gray_gooed_planet
	show_sound = event_mystic_reveal_light
	location = FROM
	
	is_triggered_only = yes

	immediate = { owner = { country_event = { id = story.5 days = 30 } } }

	option = {
		name = anomaly.625.a
		FROM = {
			add_deposit = d_society_3
			add_deposit = d_physics_3
			add_deposit = d_engineering_3
		}
	}
}

### Moonmoon
ship_event = {
	id = mzilli_anomaly_events.60
	title = "mzilli_anomaly_events.60.name"
	desc = "mzilli_anomaly_events.60.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = FASCINATING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
	}
}

### Sickly Sun part 1
ship_event = {
	id = mzilli_anomaly_events.61
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		FROM = {
			#save_global_event_target_as = sickly_planet
			solar_system = {
				if = {
					limit = {
						any_system_planet = {
							is_star = yes
							any_moon = {
								OR = {
									is_planet = FROM
									any_moon = { is_planet = FROM }
								}
							}
						}
					}
					random_system_planet = {
						limit = {
							is_star = yes
							any_moon = {
								OR = {
									is_planet = FROM
									any_moon = { is_planet = FROM }
								}
							}
						}
						save_global_event_target_as = sickly_sun
					}
				}
				else = {
					random_system_planet = {
						limit = { is_star = yes }
						save_global_event_target_as = sickly_sun
					}
				}
			}
		}
		ship_event = { id = mzilli_anomaly_events.62 }
	}
}

### Sickly Sun part 2
ship_event = {
	id = mzilli_anomaly_events.62
	title = "mzilli_anomaly_events.62.name"
	desc = {
		trigger = { FROMFROM = { has_planet_flag = red_sun } }
		text = "mzilli_anomaly_events.62.desc.red"
	}
	desc = {
		trigger = { FROMFROM = { has_planet_flag = orange_sun } }
		text = "mzilli_anomaly_events.62.desc.orange"
	}
	desc = {
		trigger = { FROMFROM = { has_planet_flag = yellow_sun } }
		text = "mzilli_anomaly_events.62.desc.yellow"
	}
	desc = {
		trigger = { FROMFROM = { has_planet_flag = white_sun } }
		text = "mzilli_anomaly_events.62.desc.white"
	}
	desc = {
		trigger = { FROMFROM = { has_planet_flag = blue_sun } }
		text = "mzilli_anomaly_events.62.desc.blue"
	}
	picture = GFX_evt_relic_world_building
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	option = {
		name = DISCONCERTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		hidden_effect = {
			FROMFROM = {
				if = {
					limit = { has_planet_flag = red_sun }
					remove_planet_flag = red_sun
				}
				else_if = {
					limit = { has_planet_flag = orange_sun }
					remove_planet_flag = orange_sun
				}
				else_if = {
					limit = { has_planet_flag = yellow_sun }
					remove_planet_flag = yellow_sun
				}
				else_if = {
					limit = { has_planet_flag = white_sun }
					remove_planet_flag = white_sun
				}
				else_if = {
					limit = { has_planet_flag = blue_sun }
					remove_planet_flag = blue_sun
				}
			}
			#clear_global_event_target = sickly_planet
			clear_global_event_target = sickly_sun
		}
	}
}

### Spinning Apart
ship_event = {
	id = mzilli_anomaly_events.63
	title = "mzilli_anomaly_events.63.name"
	desc = "mzilli_anomaly_events.63.desc"
	picture = GFX_evt_ship_in_orbit_2
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	immediate = {
		FROM = {
			add_modifier = {
				modifier = "mzilli_bulge_planet"
				days = -1
			}
		}
	}

	option = {
		name = FASCINATING
		FROM = {
			if = {
				limit = { NOT = { has_deposit_for = shipclass_mining_station } }
				add_deposit = d_physics_6
			}
			else = { add_deposit = d_energy_6 }
		}
	}
}

### Poor, dumb pacifists
ship_event = {
	id = mzilli_anomaly_events.64
	title = "mzilli_anomaly_events.64.name"
	desc = "mzilli_anomaly_events.64.desc"
	picture = GFX_evt_debris
	show_sound = event_ship_explosion
	location = FROM
	
	is_triggered_only = yes

	immediate = { owner = { country_event = { id = story.5 days = 30 } } }

	option = {
		trigger = {
			NOR = {
				owner = { has_ethic = ethic_militarist }
				owner = { has_ethic = ethic_fanatic_militarist }
				owner = { has_ethic = ethic_pacifist }
				owner = { has_ethic = ethic_fanatic_pacifist }
			}
		}
		name = mzilli_anomaly_events.64.a
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
	}
	option = {
		trigger = {
			OR = {
				owner = { has_ethic = ethic_militarist }
				owner = { has_ethic = ethic_fanatic_militarist }
			}
		}
		name = mzilli_anomaly_events.64.b
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
	}
	option = {
		trigger = {
			OR = {
				owner = { has_ethic = ethic_pacifist }
				owner = { has_ethic = ethic_fanatic_pacifist }
			}
		}
		name = mzilli_anomaly_events.64.c
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
	}
}

### Fallen Mountains
ship_event = {
	id = mzilli_anomaly_events.65
	title = "mzilli_anomaly_events.65.name"
	desc = "mzilli_anomaly_events.65.desc"
	picture = GFX_evt_alien_planet
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = ASTOUNDING
		FROM = {
			add_modifier = {
				modifier = "mzilli_fallen_mountains"
				days = -1
			}
		}
	}
}

### The Last Outpost part 1
ship_event = {
	id = mzilli_anomaly_events.66
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		FROM = {
			if = {
				limit = { any_galaxy_planet = { has_modifier = mzilli_settled_dormant } }
				if = {
					limit = { is_planet_class = pc_barren }
					change_pc = {
						class = pc_dormant
						inherit_entity = yes
					}
					add_deposit = d_geothermal_vent
				}
				else = {
					change_pc = {
						class = pc_dormant_cold
						inherit_entity = yes
					}
					add_deposit = d_helium_3
				}
				add_modifier = {
					modifier = mzilli_settled_dormant
					days = -1
				}
				add_deposit = d_rich_mountain
				add_deposit = d_arid_highlands
				add_deposit = d_veiny_cliffs
				random_list = {
					10 = { add_deposit = d_arid_highlands }
					10 = { add_deposit = d_veiny_cliffs }
				}
				if = {
					limit = { planet_size > 12 }
					random_list = {
						10 = { add_deposit = d_searing_desert }
						10 = { add_deposit = d_prosperous_mesa }
					}
				}
				if = {
					limit = { planet_size > 15 }
					random_list = {
						10 = {
							add_deposit = d_arid_highlands
							add_deposit = d_arid_highlands
						}
						10 = { add_deposit = d_ore_rich_caverns }
					}
				}
				if = {
					limit = { planet_size > 18 }
					random_list = {
						10 = { add_deposit = d_arid_highlands }
						10 = { add_deposit = d_veiny_cliffs }
					}
				}
				if = {
					limit = { planet_size > 21 }
					if = {
						limit = { is_planet_class = pc_dormant }
						add_deposit = d_geothermal_vent
					}
					else = { add_deposit = d_helium_3 }
					add_deposit = d_rich_mountain
				}
			}
			solar_system = {
				random_system_planet = {
					limit = { has_planet_flag = last_outpost_builders }
					remove_planet_flag = last_outpost_builders
					save_global_event_target_as = last_outpost_builders
				}
			}
		}
		ship_event = { id = mzilli_anomaly_events.67 }
	}
}

### The Last Outpost part 2
ship_event = {
	id = mzilli_anomaly_events.67
	title = "mzilli_anomaly_events.67.name"
	desc = "mzilli_anomaly_events.67.desc"
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_barren } }
		picture = GFX_evt_warm_barren
	}
	picture = {
		trigger = { FROMFROM = { is_planet_class = pc_barren_cold } }
		picture = GFX_evt_cold_barren
	}
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	option = {
		name = REMARKABLE
		if = {
			limit = {
				FROMFROM = {
					NOR = {
						is_planet_class = pc_dormant
						is_planet_class = pc_dormant_cold
					}
				}
			}
			custom_tooltip = mzilli_anomaly_events.67.a.tooltip
			hidden_effect = {
				FROMFROM = {
					add_modifier = {
						modifier = "terraforming_candidate"
						days = -1
					}
				}
			}
		}
		else = { custom_tooltip = mzilli_anomaly_events.67.b.tooltip }
		hidden_effect = { clear_global_event_target = last_outpost_builders }
	}
}

### Threnody for a Dead Planet
ship_event = {
	id = mzilli_anomaly_events.68
	title = "mzilli_anomaly_events.68.name"
	desc = "mzilli_anomaly_events.68.desc"
	picture = GFX_evt_ruined_system
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = "mzilli_anomaly_events.68.a"
		hidden_effect = { FROM = { save_global_event_target_as = rogue_planet_lament } }
		enable_special_project = {
			name = "FIND_ROGUE_PLANET_PROJECT"
			location = root.owner.capital_scope
			owner = root.owner
		}
	}

	option = {
		name = NOTIME
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}	
		}
	}
}

### Rogue Planet Found
country_event = {
	id = mzilli_anomaly_events.69
	title = "mzilli_anomaly_events.69.name"
	desc = "mzilli_anomaly_events.69.desc"
	picture = GFX_evt_star_chart
	show_sound = event_mystic_reveal
	location = event_target:rogue_planet_lament.solar_system
	
	is_triggered_only = yes

	option = {
		name = "precursor.100.a"
		add_hyperlane = {
			from = event_target:rogue_planet_lament.solar_system
			to = event_target:rogue_planet_system
		}
		hidden_effect = { clear_global_event_target = rogue_planet_scientist }
	}
	option = {
		trigger = { NOT = { is_ai = yes } }
		name = mzilli_anomaly_events.69.b
		custom_tooltip = mzilli_anomaly_events.69.tooltip
		hidden_effect = {
			clear_global_event_target = rogue_planet_scientist
			begin_event_chain = {
				event_chain = mzilli_rogue_planet_chain
				target = this
			}
			create_point_of_interest = {
				id = mzilli_rogue_planet_poi
				name = mzilli_rogue_planet_poi_title
				desc = mzilli_rogue_planet_poi_desc
				event_chain = mzilli_rogue_planet_chain
				location = event_target:rogue_planet_system
			}
			random_galaxy_planet = {
				limit = { is_planet_class = pc_mzilli_rogue }
				create_archaeological_site = mzilli_arch_rogue_planet
			}
		}
	}
}

### Dextro-Amino Planet
ship_event = {
	id = mzilli_anomaly_events.71
	title = "mzilli_anomaly_events.71.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					is_species_class = MACHINE
					is_species_class = ROBOT
					is_species_class = LITHOID
				}
			}
		}
		text = "mzilli_anomaly_events.71.desc.org"
	}
	desc = {
		trigger = {
			owner = {
				OR = {
					is_species_class = MACHINE
					is_species_class = ROBOT
					is_species_class = LITHOID
				}
			}
		}
		text = "mzilli_anomaly_events.71.desc.mach"
	}
	picture = GFX_evt_microscopic_life
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = FASCINATING
		custom_tooltip = mzilli_anomaly_events.71.tooltip
	}
}

### Antimatter Asteroid
ship_event = {
	id = mzilli_anomaly_events.72
	title = "mzilli_anomaly_events.72.name"
	desc = "mzilli_anomaly_events.72.desc"
	picture = GFX_evt_hive
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	immediate = {
		FROM = {
			add_modifier = {
				modifier = mzilli_antimatter_asteroid_modifier
				days = -1
			}
		}
	}

	option = {
		name = mzilli_anomaly_events.72.a
		FROM = {
			add_deposit = d_physics_5
			add_deposit = d_engineering_5
		}
	}
	option = {
		name = mzilli_anomaly_events.72.b
		FROM = { add_deposit = d_energy_10 }
	}
}

### Abandoned Mass Accelerator
ship_event = {
	id = mzilli_anomaly_events.73
	title = "mzilli_anomaly_events.73.name"
	desc = "mzilli_anomaly_events.73.desc"
	picture = GFX_evt_ship_in_orbit_2
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = EXCELLENT
		owner = {
			if = {
				limit = { NOT = { has_technology = tech_mass_drivers_3 } }
				if = {
					limit = { NOT = { has_technology = tech_mass_drivers_2 } }
					give_technology = { tech = tech_mass_drivers_2 message = no }
				}
				give_technology = { tech = tech_mass_drivers_3 message = yes }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_mass_drivers_4 } }
				give_technology = { tech = tech_mass_drivers_4 message = yes }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_mass_drivers_5 } }
				give_technology = { tech = tech_mass_drivers_5 message = yes }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_kinetic_artillery_1 } }
				give_technology = { tech = tech_kinetic_artillery_1 message = yes }
			}
			else_if = {
				limit = { NOT = { has_technology = tech_kinetic_artillery_2 } }
				give_technology = { tech = tech_kinetic_artillery_2 message = yes }
			}
			else = {
				add_monthly_resource_mult = {
					resource = engineering_research
					value = @tier4researchreward
					min = @tier4researchmin
					max = @tier4researchmax
				}
			}
		}
	}
}

### From the Ashes
ship_event = {
	id = mzilli_anomaly_events.74
	title = "mzilli_anomaly_events.74.name"
	desc = "mzilli_anomaly_events.74.desc"
	picture = GFX_evt_alien_cavemen
	show_sound = event_scanner
	location = FROM

	immediate = {
		FROM = {
			solar_system = { set_star_flag = primitive_system }
			if = {
				limit = { solar_system = { has_star_flag = sol } }
				create_species = {
					name = Human
					plural = Humans
					class = "HUM"
					portrait = "human"
					homeworld = THIS
					namelist = HUMAN3
					traits = {
						ideal_planet_class = pc_continental
						trait = trait_survivor
						trait = trait_adaptive
						trait = trait_nomadic
						trait = trait_wasteful
					}
				}
			}
			else = {
				change_pc = rl_habitable_normal
				create_species = {
					name = random
					class = random_non_machine
					portrait = random
					homeworld = THIS
					traits = { trait = trait_survivor trait = random_traits }
				}
				change_pc = pc_nuked
			}
			create_early_primitive_empire = yes
			setup_primitive_planet = yes
		}
	}
	
	is_triggered_only = yes

	option = {
		name = FASCINATING
		custom_tooltip = mzilli_anomaly_events.74.tooltip.1
		if = {
			limit = { last_created_country = { NOT = { has_country_flag = stone_age } } }
			custom_tooltip = mzilli_anomaly_events.74.tooltip.2
			hidden_effect = {
				FROM = {
					if = {
						limit = { solar_system = { NOT = { has_star_flag = sol } } }
						random_list = {
							10 = { set_name = random }
							10 = { set_name = "[last_created_country.GetSpeciesName]" }
						}
					}
					else = { set_name = "Earth" }
				}
			}
		}
		hidden_effect = { owner = { country_event = { id = story.6 } } }
	}
}

### Red Giant planet
ship_event = {
	id = mzilli_anomaly_events.75
	title = "mzilli_anomaly_events.75.name"
	desc = "mzilli_anomaly_events.75.desc"
	picture = GFX_evt_relic_world_building
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = DISCONCERTING
		FROM = {
			add_modifier = {
				modifier = mzilli_red_giant_planet_modifier
				days = -1
			}
		}
	}
}

### Not a Brown Dwarf
ship_event = {
	id = mzilli_anomaly_events.77
	title = "mzilli_anomaly_events.77.name"
	desc = "mzilli_anomaly_events.77.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = mzilli_anomaly_events.77.a
		custom_tooltip = mzilli_anomaly_events.77.tooltip
		hidden_effect = {
			leader = {
				remove_trait = leader_trait_carefree
				add_trait = leader_trait_meticulous
			}
		}
	}
}

### Sky's the Limit
ship_event = {
	id = mzilli_anomaly_events.78
	title = "mzilli_anomaly_events.78.name"
	desc = {
		trigger = {
			owner = {
				exists = home_planet
				#home_planet = {
				#	exists = owner
				#	owner = { is_country = root.owner }
				#}
			}
			
		}
		text = "mzilli_anomaly_events.78.desc.homeworld"
	}
	desc = {
		trigger = {
			owner = { NOT = { exists = home_planet } }
			#NOT = {
			#	owner = {
			#		home_planet = {
			#			exists = owner
			#			owner = { is_country = root.owner }
			#		}
			#	}
			#}
		}
		text = "mzilli_anomaly_events.78.desc.no_homeworld"
	}
	picture = GFX_evt_relic_world_building
	show_sound = event_mystic_reveal_light
	location = FROM
	
	is_triggered_only = yes

	immediate = { owner = { country_event = { id = story.5 days = 30 } } }

	option = {
		name = FASCINATING
		FROM = {
			add_deposit = d_society_3
			add_deposit = d_physics_3
			add_deposit = d_engineering_3
		}
	}
}

### Lunar Base part 1
ship_event = {
	id = mzilli_anomaly_events.79
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		FROM = {
			solar_system = {
				random_system_planet = {
					limit = { has_planet_flag = lunar_base_builders }
					remove_planet_flag = lunar_base_builders
					save_global_event_target_as = lunar_base_builders
				}
			}
		}
		ship_event = { id = mzilli_anomaly_events.80 }
	}
}

### Lunar Base part 2
ship_event = {
	id = mzilli_anomaly_events.80
	title = "mzilli_anomaly_events.80.name"
	desc = {
		trigger = { event_target:lunar_base_builders = { NOT = { is_moon = yes } } }
		text = "mzilli_anomaly_events.80.desc.planet"
	}
	desc = {
		trigger = { event_target:lunar_base_builders = { is_moon = yes } }
		text = "mzilli_anomaly_events.80.desc.moon"
	}
	picture = GFX_evt_barren_dig_site
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	option = {
		name = REMARKABLE
		FROMFROM = { add_deposit = d_society_3 }
		hidden_effect = { clear_global_event_target = lunar_base_builders }
	}
}

### Veiled Planet
ship_event = {
	id = mzilli_anomaly_events.81
	title = "mzilli_anomaly_events.81.name"
	desc = {
		trigger = { FROM = { NOT = { has_planet_flag = binary_planet } } }
		text = "mzilli_anomaly_events.81.desc.a"
	}
	desc = {
		trigger = { FROM = { has_planet_flag = binary_planet } }
		text = "mzilli_anomaly_events.81.desc.b"
	}
	picture = GFX_evt_alien_nature
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = FASCINATING
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		FROM = {
			hidden_effect = {
				remove_modifier = mzilli_veiled
				remove_planet_flag = binary_planet
			}
			add_modifier = {
				modifier = mzilli_veiled
				days = -1
			}
		}
	}
}

### Starchips, part 1
ship_event = {
	id = mzilli_anomaly_events.82
	location = FROM
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		random_system = {
			limit = { has_star_flag = starchip_origin_for_@from }
			remove_star_flag = starchip_origin_for_@from
			save_global_event_target_as = starchip_origin
		}
		ship_event = { id = mzilli_anomaly_events.83 }
	}
}

### Starchips, part 2
ship_event = {
	id = mzilli_anomaly_events.83
	title = "mzilli_anomaly_events.83.name"
	desc = "mzilli_anomaly_events.83.desc"
	picture = GFX_evt_ship_travel
	show_sound = event_mystic_reveal
	location = FROMFROM
	
	is_triggered_only = yes

	option = {
		name = REMARKABLE
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		FROMFROM = {
			if = {
				limit = { NOT = { has_deposit_for = shipclass_mining_station } }
				add_deposit = d_engineering_2
			}
		}
		hidden_effect = { clear_global_event_target = starchip_origin }
	}
}

### Big Moon
ship_event = {
	id = mzilli_anomaly_events.84
	title = "mzilli_anomaly_events.84.name"
	desc = "mzilli_anomaly_events.84.desc"
	picture = GFX_evt_hive
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = REMARKABLE
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
	}
}

### Unstable Tectonics
ship_event = {
	id = mzilli_anomaly_events.85
	title = "mzilli_anomaly_events.85.name"
	desc = "mzilli_anomaly_events.85.desc"
	picture = GFX_evt_nuclear_explosion
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	immediate = {
		FROM = {
			add_modifier = {
				modifier = doomsday_1
				days = -1
			}
		}
	}

	option = {
		trigger = { owner = { NOT = { has_origin = origin_doomsday } } }
		name = mzilli_anomaly_events.85.a
		if = {
			limit = { FROM = { has_deposit_for = shipclass_research_station } }
			FROM = {	
				add_deposit = d_physics_3
				add_deposit = d_engineering_3
			}
		}
		else = {
			owner = {
				add_monthly_resource_mult = {
					resource = engineering_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
			FROM = { add_deposit = d_rare_crystals_5 }
		}
		hidden_effect = { ship_event = { id = distar.305 days = 1 } }
	}

	option = {
		trigger = { owner = { has_origin = origin_doomsday } }
		name = mzilli_anomaly_events.85.b
		if = {
			limit = { FROM = { has_deposit_for = shipclass_research_station } }
			FROM = {	
				add_deposit = d_physics_3
				add_deposit = d_engineering_3
			}
		}
		else = {
			owner = {
				add_monthly_resource_mult = {
					resource = engineering_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier2researchreward
					min = @tier2researchmin
					max = @tier2researchmax
				}
			}
			FROM = { add_deposit = d_rare_crystals_5 }
		}
		hidden_effect = { ship_event = { id = distar.305 days = 1 } }
	}
}

### Ancient Star
ship_event = {
	id = mzilli_anomaly_events.86
	title = "mzilli_anomaly_events.86.name"
	desc = "mzilli_anomaly_events.86.desc"
	picture = GFX_evt_hive
	show_sound = event_mystic_reveal
	location = FROM
	
	is_triggered_only = yes

	option = {
		name = AMAZING
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}
	}
}