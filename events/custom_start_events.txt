namespace = custom_start

event = {
	id = custom_start.100
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_country = {
			limit = {
				is_ai = no
			}
			country_event = {
				id = custom_start.1
			}
		}
	}
}

##################################################################################spawn systems

country_event = {
	id = custom_start.1
	title = "custom_start.1.name"
	desc = "custom_start.1.desc"
	picture = GFX_evt_wormhole
	is_triggered_only = yes

	option = {
		name = custom_start.1.a
		custom_tooltip = custom_start.1.a.desc
    	set_global_flag = custom_start_1_spawned
  	
		hidden_effect = {
			country_event = { 
				id = custom_start.10
			}
		}
	}
	
	option = {
		name = custom_start.1.b
		custom_tooltip = custom_start.1.b.desc
    	set_global_flag = custom_start_1_spawned
    
		hidden_effect = {
			country_event = { 
				id = custom_start.11
			}
		}
	}

	option = {
		name = custom_start.1.c
		custom_tooltip = custom_start.1.c.desc
    	set_global_flag = custom_start_1_spawned
    	hidden_effect = {
			country_event = { 
				id = custom_start.12
			}
		}
	}
}

country_event = {
	id = custom_start.2
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		event_target:custom_homeworld = {
			set_owner = root
			change_pc_to_normal = yes
			generate_start_buildings_and_districts = yes

			while = {
				count = 10
				create_pop = {
					species = owner_main_species
				}
			}

			if = {
				limit = {
					exists = owner
					owner = {
						NOR = {
							has_authority = auth_hive_mind
							has_authority = auth_machine_intelligence
						}
					}
				}
				add_district = district_city
				add_district = district_city

			}

			if = {
				limit = {
					exists = owner
					owner = {
						has_authority = auth_hive_mind
					}
				}
				add_district = district_hive
				add_district = district_hive

			}

			if = {
				limit = {
					exists = owner
					owner = {
						has_authority = auth_machine_intelligence
					}
				}
				add_district = district_nexus
				add_district = district_nexus

			}

			if = {
				limit = {
					has_planet_flag = op_homeworld
				}
				#add_building = building_dimensional_fabricator
				#add_building = building_dimensional_fabricator
				#add_building = building_class_4_singularity
				#add_building = building_class_4_singularity
				while = {
					count = 10
					create_pop = {
						species = owner_main_species
					}
				}
			}

			if = {
				limit = {
					has_planet_flag = good_homeworld
				}
				#add_building = building_dimensional_fabricator
				#add_building = building_class_4_singularity
				while = {
					count = 10
					create_pop = {
						species = owner_main_species
					}
				}
			}

			root = {
				every_owned_pop = {
					resettle_pop = {
						pop = this
						planet = prevprev
					}
				}
				every_owned_fleet = {
					if = {
						limit = {
							or = {
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_starbase
							}
						}
						delete_fleet = this
					}
					else = {
						set_location = prevprev.system_star
					}
				}
				capital_scope = {
					destroy_buildings_and_colony = yes
				}
			}
			set_capital = yes
			create_starbase_starport_from_planet = yes
			starbase_add_shipyard_0 = yes

		}
	}
}

country_event = {
	id = custom_start.10
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		set_spawn_system_batch = begin

		#the first system's position has to be relative to the galactic core. Any systems spawned after this can be relative to each other.
		no_scope = {
  	  		spawn_system = {
				min_distance >=  600 
				max_distance <=  600 
				min_orientation_angle = 45 
				max_orientation_angle = 45 
				initializer = custom_cluster_01
				hyperlane = no
			}
	
			#find all systems with has_star_flag = custom_cluster_01 and select a random one (there should only be one, but won't throw errors if there are multiple, while every_system might cause issues).
			random_system = {
  	   			limit = { has_star_flag = custom_cluster_01 }
  	   			save_global_event_target_as = custom_cluster_01
	
				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 19
					max_orientation_angle = 25
					initializer = custom_cluster_02
				}

				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 70
					max_orientation_angle = 78
					initializer = custom_cluster_03
				}

				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 120
					max_orientation_angle = 125
					initializer = custom_cluster_04
				}

				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 200
					max_orientation_angle = 205
					initializer = custom_cluster_05
				}

				spawn_system = {
					min_distance >= 20
					max_distance <= 22
					min_orientation_angle = 260
					max_orientation_angle = 267
					initializer = custom_cluster_06
				}

				spawn_system = {
					min_distance >= 30
					max_distance <= 35
					min_orientation_angle = 320
					max_orientation_angle = 325
					initializer = custom_cluster_07
				}
  	 		}
  		}

  	#################################################################################tag systems

  		random_system = {
			limit = { has_star_flag = custom_cluster_02 }
			save_global_event_target_as = custom_cluster_02

			spawn_system = {
				min_distance >= 14
				max_distance <= 18
				min_orientation_angle = 310
				max_orientation_angle = 325
				initializer = custom_cluster_14
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_03 }
			save_global_event_target_as = custom_cluster_03

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 100
				max_orientation_angle = 102
				initializer = custom_cluster_10
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_04 }
			save_global_event_target_as = custom_cluster_04

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 135
				max_orientation_angle = 137
				initializer = custom_cluster_08
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_05 }
			save_global_event_target_as = custom_cluster_05

			spawn_system = {
				min_distance >= 25
				max_distance <= 27
				min_orientation_angle = 225
				max_orientation_angle = 227
				initializer = custom_cluster_11
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_06 }
			save_global_event_target_as = custom_cluster_06

			spawn_system = {
				min_distance >= 19
				max_distance <= 25
				min_orientation_angle = 280
				max_orientation_angle = 285
				initializer = custom_cluster_13
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_07 }
			save_global_event_target_as = custom_cluster_07
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_08 }
			save_global_event_target_as = custom_cluster_08

			spawn_system = {
				min_distance >= 20
				max_distance <= 22
				min_orientation_angle = 79
				max_orientation_angle = 81
				initializer = custom_cluster_09
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_08 }
			save_global_event_target_as = custom_cluster_08

			spawn_system = {
				min_distance >= 25
				max_distance <= 27
				min_orientation_angle = 225
				max_orientation_angle = 227
				initializer = custom_cluster_16
			}
		}

		#saving systems to memory as targets without spawning more systems
		random_system = {
			limit = { has_star_flag = custom_cluster_16 }
			save_global_event_target_as = custom_cluster_16
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_09 }
			save_global_event_target_as = custom_cluster_09
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_10 }
			save_global_event_target_as = custom_cluster_10
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_11 }
			save_global_event_target_as = custom_cluster_11

			spawn_system = {
				min_distance >= 25
				max_distance <= 28
				min_orientation_angle = 288
				max_orientation_angle = 290
				initializer = custom_cluster_12
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_11 }
			save_global_event_target_as = custom_cluster_11

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 120
				max_orientation_angle = 123
				initializer = custom_cluster_15
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_12 }
			save_global_event_target_as = custom_cluster_12
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_13 }
			save_global_event_target_as = custom_cluster_13
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_14 }
			save_global_event_target_as = custom_cluster_14
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_15 }
			save_global_event_target_as = custom_cluster_15
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_13 }
			save_global_event_target_as = custom_cluster_13

			spawn_system = {
				min_distance >= 18
				max_distance <= 22
				min_orientation_angle = 20
				max_orientation_angle = 23
				initializer = custom_cluster_17
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_17 }
			save_global_event_target_as = custom_cluster_17

			spawn_system = {
				min_distance >= 18
				max_distance <= 22
				min_orientation_angle = 20
				max_orientation_angle = 23
				initializer = custom_cluster_18
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_18 }
			save_global_event_target_as = custom_cluster_18

			spawn_system = {
				min_distance >= 14
				max_distance <= 16
				min_orientation_angle = 40
				max_orientation_angle = 43
				initializer = custom_cluster_19
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_19 }
			save_global_event_target_as = custom_cluster_19

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 80
				max_orientation_angle = 82
				initializer = custom_cluster_20
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_20 }
			save_global_event_target_as = custom_cluster_20

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 110
				max_orientation_angle = 112
				initializer = custom_cluster_21
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_21 }
			save_global_event_target_as = custom_cluster_21

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 104
				max_orientation_angle = 106
				initializer = custom_cluster_22
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_22 }
			save_global_event_target_as = custom_cluster_22

			spawn_system = {
				min_distance >= 25
				max_distance <= 36
				min_orientation_angle = 100
				max_orientation_angle = 102
				initializer = custom_cluster_23
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_23 }
			save_global_event_target_as = custom_cluster_23
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_18 }
			save_global_event_target_as = custom_cluster_18

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 240
				max_orientation_angle = 245
				initializer = custom_cluster_24
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_24 }
			save_global_event_target_as = custom_cluster_24

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 200
				max_orientation_angle = 205
				initializer = custom_cluster_25
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_25 }
			save_global_event_target_as = custom_cluster_25

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 170
				max_orientation_angle = 175
				initializer = custom_cluster_26
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_24 }
			save_global_event_target_as = custom_cluster_24
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_25 }
			save_global_event_target_as = custom_cluster_25
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_26 }
			save_global_event_target_as = custom_cluster_26
		}

##################################################################################hyperlane managing

  	 	#remove all hyperlanes from the cluster
		every_system = {
			limit = { has_star_flag = custom_cluster }
			isolate_system = yes
		}

  	 	# add hyperlanes
  		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_02
			}
		}

  	     event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_03
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_04
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_05
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_06
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_07
			}
		}

		event_target:custom_cluster_02 = {
			add_hyperlane = {
				from = event_target:custom_cluster_02
				to = event_target:custom_cluster_03
			}
		}

		event_target:custom_cluster_03 = {
			add_hyperlane = {
				from = event_target:custom_cluster_03
				to = event_target:custom_cluster_04
			}
		}

		event_target:custom_cluster_04 = {
			add_hyperlane = {
				from = event_target:custom_cluster_04
				to = event_target:custom_cluster_05
			}
		}

		event_target:custom_cluster_05 = {
			add_hyperlane = {
				from = event_target:custom_cluster_05
				to = event_target:custom_cluster_06
			}
		}

		event_target:custom_cluster_06 = {
			add_hyperlane = {
				from = event_target:custom_cluster_06
				to = event_target:custom_cluster_07
			}
		}

		event_target:custom_cluster_07 = {
			add_hyperlane = {
				from = event_target:custom_cluster_07
				to = event_target:custom_cluster_02
			}
		}

		############################################# upper pentagon

		event_target:custom_cluster_04 = {
			add_hyperlane = {
				from = event_target:custom_cluster_04
				to = event_target:custom_cluster_08
			}
		}

		event_target:custom_cluster_08 = {
			add_hyperlane = {
				from = event_target:custom_cluster_08
				to = event_target:custom_cluster_09
			}
		}

		event_target:custom_cluster_09 = {
			add_hyperlane = {
				from = event_target:custom_cluster_09
				to = event_target:custom_cluster_10
			}
		}

		event_target:custom_cluster_10 = {
			add_hyperlane = {
				from = event_target:custom_cluster_10
				to = event_target:custom_cluster_03
			}
		}

		############################################# lower pentagon

		event_target:custom_cluster_05 = {
			add_hyperlane = {
				from = event_target:custom_cluster_05
				to = event_target:custom_cluster_11
			}
		}

		event_target:custom_cluster_11 = {
			add_hyperlane = {
				from = event_target:custom_cluster_11
				to = event_target:custom_cluster_12
			}
		}

		event_target:custom_cluster_12 = {
			add_hyperlane = {
				from = event_target:custom_cluster_12
				to = event_target:custom_cluster_13
			}
		}

		event_target:custom_cluster_13 = {
			add_hyperlane = {
				from = event_target:custom_cluster_13
				to = event_target:custom_cluster_06
			}
		}

		############################################# far triangle

		event_target:custom_cluster_14 = {
			add_hyperlane = {
				from = event_target:custom_cluster_14
				to = event_target:custom_cluster_02
			}
		}

		event_target:custom_cluster_14 = {
			add_hyperlane = {
				from = event_target:custom_cluster_14
				to = event_target:custom_cluster_07
			}
		}

		event_target:custom_cluster_11 = {
			add_hyperlane = {
				from = event_target:custom_cluster_11
				to = event_target:custom_cluster_15
			}
		}

		event_target:custom_cluster_08 = {
			add_hyperlane = {
				from = event_target:custom_cluster_08
				to = event_target:custom_cluster_16
			}
		}

		event_target:custom_cluster_16 = {
			add_hyperlane = {
				from = event_target:custom_cluster_16
				to = event_target:custom_cluster_15
			}
		}

		event_target:custom_cluster_13 = {
			add_hyperlane = {
				from = event_target:custom_cluster_13
				to = event_target:custom_cluster_17
			}
		}

		event_target:custom_cluster_17 = {
			add_hyperlane = {
				from = event_target:custom_cluster_17
				to = event_target:custom_cluster_18
			}
		}

		event_target:custom_cluster_18 = {
			add_hyperlane = {
				from = event_target:custom_cluster_18
				to = event_target:custom_cluster_19
			}
		}

		event_target:custom_cluster_19 = {
			add_hyperlane = {
				from = event_target:custom_cluster_19
				to = event_target:custom_cluster_20
			}
		}

		event_target:custom_cluster_07 = {
			add_hyperlane = {
				from = event_target:custom_cluster_07
				to = event_target:custom_cluster_18
			}
		}

		event_target:custom_cluster_20 = {
			add_hyperlane = {
				from = event_target:custom_cluster_20
				to = event_target:custom_cluster_21
			}
		}

		event_target:custom_cluster_21 = {
			add_hyperlane = {
				from = event_target:custom_cluster_21
				to = event_target:custom_cluster_22
			}
		}

		event_target:custom_cluster_02 = {
			add_hyperlane = {
				from = event_target:custom_cluster_02
				to = event_target:custom_cluster_22
			}
		}

		event_target:custom_cluster_22 = {
			add_hyperlane = {
				from = event_target:custom_cluster_22
				to = event_target:custom_cluster_23
			}
		}

		event_target:custom_cluster_23 = {
			add_hyperlane = {
				from = event_target:custom_cluster_23
				to = event_target:custom_cluster_10
			}
		}

		event_target:custom_cluster_18 = {
			add_hyperlane = {
				from = event_target:custom_cluster_18
				to = event_target:custom_cluster_24
			}
		}

		event_target:custom_cluster_24 = {
			add_hyperlane = {
				from = event_target:custom_cluster_24
				to = event_target:custom_cluster_25
			}
		}

		event_target:custom_cluster_25 = {
			add_hyperlane = {
				from = event_target:custom_cluster_25
				to = event_target:custom_cluster_26
			}
		}

		event_target:custom_cluster_26 = {
			add_hyperlane = {
				from = event_target:custom_cluster_26
				to = event_target:custom_cluster_12
			}
		}

##################################################wormholes

  		#add wormholes
  		capital_scope.solar_system = {
  		   	event_target:custom_cluster_09 = {
			   	#done this way to ensure we don't spawn "orphan" wormholes (wormholes that aren't linked to anything)
			   	spawn_natural_wormhole = {
			   		bypass_type = wormhole
			   		random_pos = yes
			   		orbit_angle = 360
			   	}
			}

			spawn_natural_wormhole = {
			  	bypass_type = wormhole
			   	random_pos = yes
			   	orbit_angle = 360
			}
			link_wormholes = event_target:custom_cluster_09
  		}
  		set_spawn_system_batch = end

	  	random_planet = {
			limit = { has_planet_flag = custom_homeworld }
			save_global_event_target_as = custom_homeworld
			set_planet_flag = op_homeworld
		}

		every_country = {
			limit = {
				is_ai = no
			}
			country_event = {
				id = custom_start.2
			}
		}
	}
}

country_event = {
	id = custom_start.11
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		set_spawn_system_batch = begin

		#the first system's position has to be relative to the galactic core. Any systems spawned after this can be relative to each other.
		no_scope = {
  	  		spawn_system = {
				min_distance >=  600 
				max_distance <=  600 
				min_orientation_angle = 45 
				max_orientation_angle = 45 
				initializer = custom_cluster_01
				hyperlane = no
			}
	
			#find all systems with has_star_flag = custom_cluster_01 and select a random one (there should only be one, but won't throw errors if there are multiple, while every_system might cause issues).
			random_system = {
  	   			limit = { has_star_flag = custom_cluster_01 }
  	   			save_global_event_target_as = custom_cluster_01
	
				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 19
					max_orientation_angle = 25
					initializer = custom_cluster_02
				}

				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 70
					max_orientation_angle = 78
					initializer = custom_cluster_03
				}

				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 120
					max_orientation_angle = 125
					initializer = custom_cluster_04
				}

				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 200
					max_orientation_angle = 205
					initializer = custom_cluster_05
				}

				spawn_system = {
					min_distance >= 20
					max_distance <= 22
					min_orientation_angle = 260
					max_orientation_angle = 267
					initializer = custom_cluster_06
				}

				spawn_system = {
					min_distance >= 30
					max_distance <= 35
					min_orientation_angle = 320
					max_orientation_angle = 325
					initializer = custom_cluster_07
				}
  	 		}
  		}

  	#################################################################################tag systems

  		random_system = {
			limit = { has_star_flag = custom_cluster_02 }
			save_global_event_target_as = custom_cluster_02

			spawn_system = {
				min_distance >= 14
				max_distance <= 18
				min_orientation_angle = 310
				max_orientation_angle = 325
				initializer = custom_cluster_14
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_03 }
			save_global_event_target_as = custom_cluster_03

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 100
				max_orientation_angle = 102
				initializer = custom_cluster_10
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_04 }
			save_global_event_target_as = custom_cluster_04

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 135
				max_orientation_angle = 137
				initializer = custom_cluster_08
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_05 }
			save_global_event_target_as = custom_cluster_05

			spawn_system = {
				min_distance >= 25
				max_distance <= 27
				min_orientation_angle = 225
				max_orientation_angle = 227
				initializer = custom_cluster_11
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_06 }
			save_global_event_target_as = custom_cluster_06

			spawn_system = {
				min_distance >= 19
				max_distance <= 25
				min_orientation_angle = 280
				max_orientation_angle = 285
				initializer = custom_cluster_13
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_07 }
			save_global_event_target_as = custom_cluster_07
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_08 }
			save_global_event_target_as = custom_cluster_08

			spawn_system = {
				min_distance >= 20
				max_distance <= 22
				min_orientation_angle = 79
				max_orientation_angle = 81
				initializer = custom_cluster_09
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_08 }
			save_global_event_target_as = custom_cluster_08

			spawn_system = {
				min_distance >= 25
				max_distance <= 27
				min_orientation_angle = 225
				max_orientation_angle = 227
				initializer = custom_cluster_16
			}
		}

		#saving systems to memory as targets without spawning more systems
		random_system = {
			limit = { has_star_flag = custom_cluster_16 }
			save_global_event_target_as = custom_cluster_16
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_09 }
			save_global_event_target_as = custom_cluster_09
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_10 }
			save_global_event_target_as = custom_cluster_10
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_11 }
			save_global_event_target_as = custom_cluster_11

			spawn_system = {
				min_distance >= 25
				max_distance <= 28
				min_orientation_angle = 288
				max_orientation_angle = 290
				initializer = custom_cluster_12
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_11 }
			save_global_event_target_as = custom_cluster_11

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 120
				max_orientation_angle = 123
				initializer = custom_cluster_15
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_12 }
			save_global_event_target_as = custom_cluster_12
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_13 }
			save_global_event_target_as = custom_cluster_13
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_14 }
			save_global_event_target_as = custom_cluster_14
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_15 }
			save_global_event_target_as = custom_cluster_15
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_13 }
			save_global_event_target_as = custom_cluster_13

			spawn_system = {
				min_distance >= 18
				max_distance <= 22
				min_orientation_angle = 20
				max_orientation_angle = 23
				initializer = custom_cluster_17
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_17 }
			save_global_event_target_as = custom_cluster_17

			spawn_system = {
				min_distance >= 18
				max_distance <= 22
				min_orientation_angle = 20
				max_orientation_angle = 23
				initializer = custom_cluster_18
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_18 }
			save_global_event_target_as = custom_cluster_18

			spawn_system = {
				min_distance >= 14
				max_distance <= 16
				min_orientation_angle = 40
				max_orientation_angle = 43
				initializer = custom_cluster_19
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_19 }
			save_global_event_target_as = custom_cluster_19

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 80
				max_orientation_angle = 82
				initializer = custom_cluster_20
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_20 }
			save_global_event_target_as = custom_cluster_20

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 110
				max_orientation_angle = 112
				initializer = custom_cluster_21
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_21 }
			save_global_event_target_as = custom_cluster_21

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 104
				max_orientation_angle = 106
				initializer = custom_cluster_22
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_22 }
			save_global_event_target_as = custom_cluster_22

			spawn_system = {
				min_distance >= 25
				max_distance <= 36
				min_orientation_angle = 100
				max_orientation_angle = 102
				initializer = custom_cluster_23
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_23 }
			save_global_event_target_as = custom_cluster_23
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_18 }
			save_global_event_target_as = custom_cluster_18

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 240
				max_orientation_angle = 245
				initializer = custom_cluster_24
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_24 }
			save_global_event_target_as = custom_cluster_24

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 200
				max_orientation_angle = 205
				initializer = custom_cluster_25
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_25 }
			save_global_event_target_as = custom_cluster_25

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 170
				max_orientation_angle = 175
				initializer = custom_cluster_26
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_24 }
			save_global_event_target_as = custom_cluster_24
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_25 }
			save_global_event_target_as = custom_cluster_25
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_26 }
			save_global_event_target_as = custom_cluster_26
		}

##################################################################################hyperlane managing

  	 	#remove all hyperlanes from the cluster
		every_system = {
			limit = { has_star_flag = custom_cluster }
			isolate_system = yes
		}

  	 	# add hyperlanes
  		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_02
			}
		}

  	     event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_03
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_04
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_05
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_06
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_07
			}
		}

		event_target:custom_cluster_02 = {
			add_hyperlane = {
				from = event_target:custom_cluster_02
				to = event_target:custom_cluster_03
			}
		}

		event_target:custom_cluster_03 = {
			add_hyperlane = {
				from = event_target:custom_cluster_03
				to = event_target:custom_cluster_04
			}
		}

		event_target:custom_cluster_04 = {
			add_hyperlane = {
				from = event_target:custom_cluster_04
				to = event_target:custom_cluster_05
			}
		}

		event_target:custom_cluster_05 = {
			add_hyperlane = {
				from = event_target:custom_cluster_05
				to = event_target:custom_cluster_06
			}
		}

		event_target:custom_cluster_06 = {
			add_hyperlane = {
				from = event_target:custom_cluster_06
				to = event_target:custom_cluster_07
			}
		}

		event_target:custom_cluster_07 = {
			add_hyperlane = {
				from = event_target:custom_cluster_07
				to = event_target:custom_cluster_02
			}
		}

		############################################# upper pentagon

		event_target:custom_cluster_04 = {
			add_hyperlane = {
				from = event_target:custom_cluster_04
				to = event_target:custom_cluster_08
			}
		}

		event_target:custom_cluster_08 = {
			add_hyperlane = {
				from = event_target:custom_cluster_08
				to = event_target:custom_cluster_09
			}
		}

		event_target:custom_cluster_09 = {
			add_hyperlane = {
				from = event_target:custom_cluster_09
				to = event_target:custom_cluster_10
			}
		}

		event_target:custom_cluster_10 = {
			add_hyperlane = {
				from = event_target:custom_cluster_10
				to = event_target:custom_cluster_03
			}
		}

		############################################# lower pentagon

		event_target:custom_cluster_05 = {
			add_hyperlane = {
				from = event_target:custom_cluster_05
				to = event_target:custom_cluster_11
			}
		}

		event_target:custom_cluster_11 = {
			add_hyperlane = {
				from = event_target:custom_cluster_11
				to = event_target:custom_cluster_12
			}
		}

		event_target:custom_cluster_12 = {
			add_hyperlane = {
				from = event_target:custom_cluster_12
				to = event_target:custom_cluster_13
			}
		}

		event_target:custom_cluster_13 = {
			add_hyperlane = {
				from = event_target:custom_cluster_13
				to = event_target:custom_cluster_06
			}
		}

		############################################# far triangle

		event_target:custom_cluster_14 = {
			add_hyperlane = {
				from = event_target:custom_cluster_14
				to = event_target:custom_cluster_02
			}
		}

		event_target:custom_cluster_14 = {
			add_hyperlane = {
				from = event_target:custom_cluster_14
				to = event_target:custom_cluster_07
			}
		}

		event_target:custom_cluster_11 = {
			add_hyperlane = {
				from = event_target:custom_cluster_11
				to = event_target:custom_cluster_15
			}
		}

		event_target:custom_cluster_08 = {
			add_hyperlane = {
				from = event_target:custom_cluster_08
				to = event_target:custom_cluster_16
			}
		}

		event_target:custom_cluster_16 = {
			add_hyperlane = {
				from = event_target:custom_cluster_16
				to = event_target:custom_cluster_15
			}
		}

		event_target:custom_cluster_13 = {
			add_hyperlane = {
				from = event_target:custom_cluster_13
				to = event_target:custom_cluster_17
			}
		}

		event_target:custom_cluster_17 = {
			add_hyperlane = {
				from = event_target:custom_cluster_17
				to = event_target:custom_cluster_18
			}
		}

		event_target:custom_cluster_18 = {
			add_hyperlane = {
				from = event_target:custom_cluster_18
				to = event_target:custom_cluster_19
			}
		}

		event_target:custom_cluster_19 = {
			add_hyperlane = {
				from = event_target:custom_cluster_19
				to = event_target:custom_cluster_20
			}
		}

		event_target:custom_cluster_07 = {
			add_hyperlane = {
				from = event_target:custom_cluster_07
				to = event_target:custom_cluster_18
			}
		}

		event_target:custom_cluster_20 = {
			add_hyperlane = {
				from = event_target:custom_cluster_20
				to = event_target:custom_cluster_21
			}
		}

		event_target:custom_cluster_21 = {
			add_hyperlane = {
				from = event_target:custom_cluster_21
				to = event_target:custom_cluster_22
			}
		}

		event_target:custom_cluster_02 = {
			add_hyperlane = {
				from = event_target:custom_cluster_02
				to = event_target:custom_cluster_22
			}
		}

		event_target:custom_cluster_22 = {
			add_hyperlane = {
				from = event_target:custom_cluster_22
				to = event_target:custom_cluster_23
			}
		}

		event_target:custom_cluster_23 = {
			add_hyperlane = {
				from = event_target:custom_cluster_23
				to = event_target:custom_cluster_10
			}
		}

		event_target:custom_cluster_18 = {
			add_hyperlane = {
				from = event_target:custom_cluster_18
				to = event_target:custom_cluster_24
			}
		}

		event_target:custom_cluster_24 = {
			add_hyperlane = {
				from = event_target:custom_cluster_24
				to = event_target:custom_cluster_25
			}
		}

		event_target:custom_cluster_25 = {
			add_hyperlane = {
				from = event_target:custom_cluster_25
				to = event_target:custom_cluster_26
			}
		}

		event_target:custom_cluster_26 = {
			add_hyperlane = {
				from = event_target:custom_cluster_26
				to = event_target:custom_cluster_12
			}
		}

##################################################wormholes

  		#add wormholes
  		capital_scope.solar_system = {
  		   	event_target:custom_cluster_09 = {
			   	#done this way to ensure we don't spawn "orphan" wormholes (wormholes that aren't linked to anything)
			   	spawn_natural_wormhole = {
			   		bypass_type = wormhole
			   		random_pos = yes
			   		orbit_angle = 360
			   	}
			}

			spawn_natural_wormhole = {
			  	bypass_type = wormhole
			   	random_pos = yes
			   	orbit_angle = 360
			}
			link_wormholes = event_target:custom_cluster_09
  		}
  		set_spawn_system_batch = end

	  	random_planet = {
			limit = { has_planet_flag = custom_homeworld }
			save_global_event_target_as = custom_homeworld
			set_planet_flag = good_homeworld
		}

		every_country = {
			limit = {
				is_ai = no
			}
			country_event = {
				id = custom_start.2
			}
		}
	}
}

country_event = {
	id = custom_start.12
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		set_spawn_system_batch = begin

		#the first system's position has to be relative to the galactic core. Any systems spawned after this can be relative to each other.
		no_scope = {
  	  		spawn_system = {
				min_distance >=  600 
				max_distance <=  600 
				min_orientation_angle = 45 
				max_orientation_angle = 45 
				initializer = custom_cluster_01
				hyperlane = no
			}
	
			#find all systems with has_star_flag = custom_cluster_01 and select a random one (there should only be one, but won't throw errors if there are multiple, while every_system might cause issues).
			random_system = {
  	   			limit = { has_star_flag = custom_cluster_01 }
  	   			save_global_event_target_as = custom_cluster_01
	
				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 19
					max_orientation_angle = 25
					initializer = custom_cluster_02
				}

				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 70
					max_orientation_angle = 78
					initializer = custom_cluster_03
				}

				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 120
					max_orientation_angle = 125
					initializer = custom_cluster_04
				}

				spawn_system = {
					min_distance >= 25
					max_distance <= 31
					min_orientation_angle = 200
					max_orientation_angle = 205
					initializer = custom_cluster_05
				}

				spawn_system = {
					min_distance >= 20
					max_distance <= 22
					min_orientation_angle = 260
					max_orientation_angle = 267
					initializer = custom_cluster_06
				}

				spawn_system = {
					min_distance >= 30
					max_distance <= 35
					min_orientation_angle = 320
					max_orientation_angle = 325
					initializer = custom_cluster_07
				}
  	 		}
  		}

  	#################################################################################tag systems

  		random_system = {
			limit = { has_star_flag = custom_cluster_02 }
			save_global_event_target_as = custom_cluster_02

			spawn_system = {
				min_distance >= 14
				max_distance <= 18
				min_orientation_angle = 310
				max_orientation_angle = 325
				initializer = custom_cluster_14
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_03 }
			save_global_event_target_as = custom_cluster_03

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 100
				max_orientation_angle = 102
				initializer = custom_cluster_10
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_04 }
			save_global_event_target_as = custom_cluster_04

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 135
				max_orientation_angle = 137
				initializer = custom_cluster_08
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_05 }
			save_global_event_target_as = custom_cluster_05

			spawn_system = {
				min_distance >= 25
				max_distance <= 27
				min_orientation_angle = 225
				max_orientation_angle = 227
				initializer = custom_cluster_11
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_06 }
			save_global_event_target_as = custom_cluster_06

			spawn_system = {
				min_distance >= 19
				max_distance <= 25
				min_orientation_angle = 280
				max_orientation_angle = 285
				initializer = custom_cluster_13
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_07 }
			save_global_event_target_as = custom_cluster_07
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_08 }
			save_global_event_target_as = custom_cluster_08

			spawn_system = {
				min_distance >= 20
				max_distance <= 22
				min_orientation_angle = 79
				max_orientation_angle = 81
				initializer = custom_cluster_09
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_08 }
			save_global_event_target_as = custom_cluster_08

			spawn_system = {
				min_distance >= 25
				max_distance <= 27
				min_orientation_angle = 225
				max_orientation_angle = 227
				initializer = custom_cluster_16
			}
		}

		#saving systems to memory as targets without spawning more systems
		random_system = {
			limit = { has_star_flag = custom_cluster_16 }
			save_global_event_target_as = custom_cluster_16
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_09 }
			save_global_event_target_as = custom_cluster_09
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_10 }
			save_global_event_target_as = custom_cluster_10
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_11 }
			save_global_event_target_as = custom_cluster_11

			spawn_system = {
				min_distance >= 25
				max_distance <= 28
				min_orientation_angle = 288
				max_orientation_angle = 290
				initializer = custom_cluster_12
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_11 }
			save_global_event_target_as = custom_cluster_11

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 120
				max_orientation_angle = 123
				initializer = custom_cluster_15
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_12 }
			save_global_event_target_as = custom_cluster_12
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_13 }
			save_global_event_target_as = custom_cluster_13
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_14 }
			save_global_event_target_as = custom_cluster_14
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_15 }
			save_global_event_target_as = custom_cluster_15
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_13 }
			save_global_event_target_as = custom_cluster_13

			spawn_system = {
				min_distance >= 18
				max_distance <= 22
				min_orientation_angle = 20
				max_orientation_angle = 23
				initializer = custom_cluster_17
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_17 }
			save_global_event_target_as = custom_cluster_17

			spawn_system = {
				min_distance >= 18
				max_distance <= 22
				min_orientation_angle = 20
				max_orientation_angle = 23
				initializer = custom_cluster_18
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_18 }
			save_global_event_target_as = custom_cluster_18

			spawn_system = {
				min_distance >= 14
				max_distance <= 16
				min_orientation_angle = 40
				max_orientation_angle = 43
				initializer = custom_cluster_19
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_19 }
			save_global_event_target_as = custom_cluster_19

			spawn_system = {
				min_distance >= 20
				max_distance <= 21
				min_orientation_angle = 80
				max_orientation_angle = 82
				initializer = custom_cluster_20
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_20 }
			save_global_event_target_as = custom_cluster_20

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 110
				max_orientation_angle = 112
				initializer = custom_cluster_21
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_21 }
			save_global_event_target_as = custom_cluster_21

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 104
				max_orientation_angle = 106
				initializer = custom_cluster_22
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_22 }
			save_global_event_target_as = custom_cluster_22

			spawn_system = {
				min_distance >= 25
				max_distance <= 36
				min_orientation_angle = 100
				max_orientation_angle = 102
				initializer = custom_cluster_23
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_23 }
			save_global_event_target_as = custom_cluster_23
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_18 }
			save_global_event_target_as = custom_cluster_18

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 240
				max_orientation_angle = 245
				initializer = custom_cluster_24
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_24 }
			save_global_event_target_as = custom_cluster_24

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 200
				max_orientation_angle = 205
				initializer = custom_cluster_25
			}
		}

  	 	random_system = {
			limit = { has_star_flag = custom_cluster_25 }
			save_global_event_target_as = custom_cluster_25

			spawn_system = {
				min_distance >= 18
				max_distance <= 20
				min_orientation_angle = 170
				max_orientation_angle = 175
				initializer = custom_cluster_26
			}
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_24 }
			save_global_event_target_as = custom_cluster_24
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_25 }
			save_global_event_target_as = custom_cluster_25
		}

		random_system = {
			limit = { has_star_flag = custom_cluster_26 }
			save_global_event_target_as = custom_cluster_26
		}

##################################################################################hyperlane managing

  	 	#remove all hyperlanes from the cluster
		every_system = {
			limit = { has_star_flag = custom_cluster }
			isolate_system = yes
		}

  	 	# add hyperlanes
  		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_02
			}
		}

  	     event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_03
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_04
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_05
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_06
			}
		}

		event_target:custom_cluster_01 = {
			add_hyperlane = {
				from = event_target:custom_cluster_01
				to = event_target:custom_cluster_07
			}
		}

		event_target:custom_cluster_02 = {
			add_hyperlane = {
				from = event_target:custom_cluster_02
				to = event_target:custom_cluster_03
			}
		}

		event_target:custom_cluster_03 = {
			add_hyperlane = {
				from = event_target:custom_cluster_03
				to = event_target:custom_cluster_04
			}
		}

		event_target:custom_cluster_04 = {
			add_hyperlane = {
				from = event_target:custom_cluster_04
				to = event_target:custom_cluster_05
			}
		}

		event_target:custom_cluster_05 = {
			add_hyperlane = {
				from = event_target:custom_cluster_05
				to = event_target:custom_cluster_06
			}
		}

		event_target:custom_cluster_06 = {
			add_hyperlane = {
				from = event_target:custom_cluster_06
				to = event_target:custom_cluster_07
			}
		}

		event_target:custom_cluster_07 = {
			add_hyperlane = {
				from = event_target:custom_cluster_07
				to = event_target:custom_cluster_02
			}
		}

		############################################# upper pentagon

		event_target:custom_cluster_04 = {
			add_hyperlane = {
				from = event_target:custom_cluster_04
				to = event_target:custom_cluster_08
			}
		}

		event_target:custom_cluster_08 = {
			add_hyperlane = {
				from = event_target:custom_cluster_08
				to = event_target:custom_cluster_09
			}
		}

		event_target:custom_cluster_09 = {
			add_hyperlane = {
				from = event_target:custom_cluster_09
				to = event_target:custom_cluster_10
			}
		}

		event_target:custom_cluster_10 = {
			add_hyperlane = {
				from = event_target:custom_cluster_10
				to = event_target:custom_cluster_03
			}
		}

		############################################# lower pentagon

		event_target:custom_cluster_05 = {
			add_hyperlane = {
				from = event_target:custom_cluster_05
				to = event_target:custom_cluster_11
			}
		}

		event_target:custom_cluster_11 = {
			add_hyperlane = {
				from = event_target:custom_cluster_11
				to = event_target:custom_cluster_12
			}
		}

		event_target:custom_cluster_12 = {
			add_hyperlane = {
				from = event_target:custom_cluster_12
				to = event_target:custom_cluster_13
			}
		}

		event_target:custom_cluster_13 = {
			add_hyperlane = {
				from = event_target:custom_cluster_13
				to = event_target:custom_cluster_06
			}
		}

		############################################# far triangle

		event_target:custom_cluster_14 = {
			add_hyperlane = {
				from = event_target:custom_cluster_14
				to = event_target:custom_cluster_02
			}
		}

		event_target:custom_cluster_14 = {
			add_hyperlane = {
				from = event_target:custom_cluster_14
				to = event_target:custom_cluster_07
			}
		}

		event_target:custom_cluster_11 = {
			add_hyperlane = {
				from = event_target:custom_cluster_11
				to = event_target:custom_cluster_15
			}
		}

		event_target:custom_cluster_08 = {
			add_hyperlane = {
				from = event_target:custom_cluster_08
				to = event_target:custom_cluster_16
			}
		}

		event_target:custom_cluster_16 = {
			add_hyperlane = {
				from = event_target:custom_cluster_16
				to = event_target:custom_cluster_15
			}
		}

		event_target:custom_cluster_13 = {
			add_hyperlane = {
				from = event_target:custom_cluster_13
				to = event_target:custom_cluster_17
			}
		}

		event_target:custom_cluster_17 = {
			add_hyperlane = {
				from = event_target:custom_cluster_17
				to = event_target:custom_cluster_18
			}
		}

		event_target:custom_cluster_18 = {
			add_hyperlane = {
				from = event_target:custom_cluster_18
				to = event_target:custom_cluster_19
			}
		}

		event_target:custom_cluster_19 = {
			add_hyperlane = {
				from = event_target:custom_cluster_19
				to = event_target:custom_cluster_20
			}
		}

		event_target:custom_cluster_07 = {
			add_hyperlane = {
				from = event_target:custom_cluster_07
				to = event_target:custom_cluster_18
			}
		}

		event_target:custom_cluster_20 = {
			add_hyperlane = {
				from = event_target:custom_cluster_20
				to = event_target:custom_cluster_21
			}
		}

		event_target:custom_cluster_21 = {
			add_hyperlane = {
				from = event_target:custom_cluster_21
				to = event_target:custom_cluster_22
			}
		}

		event_target:custom_cluster_02 = {
			add_hyperlane = {
				from = event_target:custom_cluster_02
				to = event_target:custom_cluster_22
			}
		}

		event_target:custom_cluster_22 = {
			add_hyperlane = {
				from = event_target:custom_cluster_22
				to = event_target:custom_cluster_23
			}
		}

		event_target:custom_cluster_23 = {
			add_hyperlane = {
				from = event_target:custom_cluster_23
				to = event_target:custom_cluster_10
			}
		}

		event_target:custom_cluster_18 = {
			add_hyperlane = {
				from = event_target:custom_cluster_18
				to = event_target:custom_cluster_24
			}
		}

		event_target:custom_cluster_24 = {
			add_hyperlane = {
				from = event_target:custom_cluster_24
				to = event_target:custom_cluster_25
			}
		}

		event_target:custom_cluster_25 = {
			add_hyperlane = {
				from = event_target:custom_cluster_25
				to = event_target:custom_cluster_26
			}
		}

		event_target:custom_cluster_26 = {
			add_hyperlane = {
				from = event_target:custom_cluster_26
				to = event_target:custom_cluster_12
			}
		}

##################################################wormholes

  		#add wormholes
  		capital_scope.solar_system = {
  		   	event_target:custom_cluster_09 = {
			   	#done this way to ensure we don't spawn "orphan" wormholes (wormholes that aren't linked to anything)
			   	spawn_natural_wormhole = {
			   		bypass_type = wormhole
			   		random_pos = yes
			   		orbit_angle = 360
			   	}
			}

			spawn_natural_wormhole = {
			  	bypass_type = wormhole
			   	random_pos = yes
			   	orbit_angle = 360
			}
			link_wormholes = event_target:custom_cluster_09
  		}
  		set_spawn_system_batch = end

	  	random_planet = {
			limit = { has_planet_flag = custom_homeworld }
			save_global_event_target_as = custom_homeworld
		}

		every_country = {
			limit = {
				is_ai = no
			}
			country_event = {
				id = custom_start.2
			}
		}
	}
}